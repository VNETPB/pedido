function Mm(f,h){for(var g=0;g<h.length;g++){const y=h[g];if(typeof y!="string"&&!Array.isArray(y)){for(const E in y)if(E!=="default"&&!(E in f)){const w=Object.getOwnPropertyDescriptor(y,E);w&&Object.defineProperty(f,E,w.get?w:{enumerable:!0,get:()=>y[E]})}}}return Object.freeze(Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}))}(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))y(E);new MutationObserver(E=>{for(const w of E)if(w.type==="childList")for(const N of w.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&y(N)}).observe(document,{childList:!0,subtree:!0});function g(E){const w={};return E.integrity&&(w.integrity=E.integrity),E.referrerPolicy&&(w.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?w.credentials="include":E.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function y(E){if(E.ep)return;E.ep=!0;const w=g(E);fetch(E.href,w)}})();var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eu(f){return f&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f}var ef={exports:{}},lo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh;function km(){if(Fh)return lo;Fh=1;var f=Symbol.for("react.transitional.element"),h=Symbol.for("react.fragment");function g(y,E,w){var N=null;if(w!==void 0&&(N=""+w),E.key!==void 0&&(N=""+E.key),"key"in E){w={};for(var R in E)R!=="key"&&(w[R]=E[R])}else w=E;return E=w.ref,{$$typeof:f,type:y,key:N,ref:E!==void 0?E:null,props:w}}return lo.Fragment=h,lo.jsx=g,lo.jsxs=g,lo}var Ph;function Bm(){return Ph||(Ph=1,ef.exports=km()),ef.exports}var p=Bm(),tf={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function Lm(){if(Gh)return ot;Gh=1;var f=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),V=Symbol.iterator;function Z(U){return U===null||typeof U!="object"?null:(U=V&&U[V]||U["@@iterator"],typeof U=="function"?U:null)}var ge={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,re={};function z(U,ue,_e){this.props=U,this.context=ue,this.refs=re,this.updater=_e||ge}z.prototype.isReactComponent={},z.prototype.setState=function(U,ue){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ue,"setState")},z.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function H(){}H.prototype=z.prototype;function F(U,ue,_e){this.props=U,this.context=ue,this.refs=re,this.updater=_e||ge}var X=F.prototype=new H;X.constructor=F,ne(X,z.prototype),X.isPureReactComponent=!0;var de=Array.isArray;function W(){}var D={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function K(U,ue,_e){var Be=_e.ref;return{$$typeof:f,type:U,key:ue,ref:Be!==void 0?Be:null,props:_e}}function pe(U,ue){return K(U.type,ue,U.props)}function ce(U){return typeof U=="object"&&U!==null&&U.$$typeof===f}function xe(U){var ue={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(_e){return ue[_e]})}var Ae=/\/+/g;function ve(U,ue){return typeof U=="object"&&U!==null&&U.key!=null?xe(""+U.key):ue.toString(36)}function Q(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(W,W):(U.status="pending",U.then(function(ue){U.status==="pending"&&(U.status="fulfilled",U.value=ue)},function(ue){U.status==="pending"&&(U.status="rejected",U.reason=ue)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function j(U,ue,_e,Be,Ve){var we=typeof U;(we==="undefined"||we==="boolean")&&(U=null);var Ze=!1;if(U===null)Ze=!0;else switch(we){case"bigint":case"string":case"number":Ze=!0;break;case"object":switch(U.$$typeof){case f:case h:Ze=!0;break;case B:return Ze=U._init,j(Ze(U._payload),ue,_e,Be,Ve)}}if(Ze)return Ve=Ve(U),Ze=Be===""?"."+ve(U,0):Be,de(Ve)?(_e="",Ze!=null&&(_e=Ze.replace(Ae,"$&/")+"/"),j(Ve,ue,_e,"",function(at){return at})):Ve!=null&&(ce(Ve)&&(Ve=pe(Ve,_e+(Ve.key==null||U&&U.key===Ve.key?"":(""+Ve.key).replace(Ae,"$&/")+"/")+Ze)),ue.push(Ve)),1;Ze=0;var J=Be===""?".":Be+":";if(de(U))for(var Oe=0;Oe<U.length;Oe++)Be=U[Oe],we=J+ve(Be,Oe),Ze+=j(Be,ue,_e,we,Ve);else if(Oe=Z(U),typeof Oe=="function")for(U=Oe.call(U),Oe=0;!(Be=U.next()).done;)Be=Be.value,we=J+ve(Be,Oe++),Ze+=j(Be,ue,_e,we,Ve);else if(we==="object"){if(typeof U.then=="function")return j(Q(U),ue,_e,Be,Ve);throw ue=String(U),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Ze}function $(U,ue,_e){if(U==null)return U;var Be=[],Ve=0;return j(U,Be,"","",function(we){return ue.call(_e,we,Ve++)}),Be}function Ce(U){if(U._status===-1){var ue=U._result;ue=ue(),ue.then(function(_e){(U._status===0||U._status===-1)&&(U._status=1,U._result=_e)},function(_e){(U._status===0||U._status===-1)&&(U._status=2,U._result=_e)}),U._status===-1&&(U._status=0,U._result=ue)}if(U._status===1)return U._result.default;throw U._result}var Le=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Re={map:$,forEach:function(U,ue,_e){$(U,function(){ue.apply(this,arguments)},_e)},count:function(U){var ue=0;return $(U,function(){ue++}),ue},toArray:function(U){return $(U,function(ue){return ue})||[]},only:function(U){if(!ce(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return ot.Activity=M,ot.Children=Re,ot.Component=z,ot.Fragment=g,ot.Profiler=E,ot.PureComponent=F,ot.StrictMode=y,ot.Suspense=_,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ot.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},ot.cache=function(U){return function(){return U.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(U,ue,_e){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Be=ne({},U.props),Ve=U.key;if(ue!=null)for(we in ue.key!==void 0&&(Ve=""+ue.key),ue)!ee.call(ue,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ue.ref===void 0||(Be[we]=ue[we]);var we=arguments.length-2;if(we===1)Be.children=_e;else if(1<we){for(var Ze=Array(we),J=0;J<we;J++)Ze[J]=arguments[J+2];Be.children=Ze}return K(U.type,Ve,Be)},ot.createContext=function(U){return U={$$typeof:N,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:w,_context:U},U},ot.createElement=function(U,ue,_e){var Be,Ve={},we=null;if(ue!=null)for(Be in ue.key!==void 0&&(we=""+ue.key),ue)ee.call(ue,Be)&&Be!=="key"&&Be!=="__self"&&Be!=="__source"&&(Ve[Be]=ue[Be]);var Ze=arguments.length-2;if(Ze===1)Ve.children=_e;else if(1<Ze){for(var J=Array(Ze),Oe=0;Oe<Ze;Oe++)J[Oe]=arguments[Oe+2];Ve.children=J}if(U&&U.defaultProps)for(Be in Ze=U.defaultProps,Ze)Ve[Be]===void 0&&(Ve[Be]=Ze[Be]);return K(U,we,Ve)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(U){return{$$typeof:R,render:U}},ot.isValidElement=ce,ot.lazy=function(U){return{$$typeof:B,_payload:{_status:-1,_result:U},_init:Ce}},ot.memo=function(U,ue){return{$$typeof:C,type:U,compare:ue===void 0?null:ue}},ot.startTransition=function(U){var ue=D.T,_e={};D.T=_e;try{var Be=U(),Ve=D.S;Ve!==null&&Ve(_e,Be),typeof Be=="object"&&Be!==null&&typeof Be.then=="function"&&Be.then(W,Le)}catch(we){Le(we)}finally{ue!==null&&_e.types!==null&&(ue.types=_e.types),D.T=ue}},ot.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ot.use=function(U){return D.H.use(U)},ot.useActionState=function(U,ue,_e){return D.H.useActionState(U,ue,_e)},ot.useCallback=function(U,ue){return D.H.useCallback(U,ue)},ot.useContext=function(U){return D.H.useContext(U)},ot.useDebugValue=function(){},ot.useDeferredValue=function(U,ue){return D.H.useDeferredValue(U,ue)},ot.useEffect=function(U,ue){return D.H.useEffect(U,ue)},ot.useEffectEvent=function(U){return D.H.useEffectEvent(U)},ot.useId=function(){return D.H.useId()},ot.useImperativeHandle=function(U,ue,_e){return D.H.useImperativeHandle(U,ue,_e)},ot.useInsertionEffect=function(U,ue){return D.H.useInsertionEffect(U,ue)},ot.useLayoutEffect=function(U,ue){return D.H.useLayoutEffect(U,ue)},ot.useMemo=function(U,ue){return D.H.useMemo(U,ue)},ot.useOptimistic=function(U,ue){return D.H.useOptimistic(U,ue)},ot.useReducer=function(U,ue,_e){return D.H.useReducer(U,ue,_e)},ot.useRef=function(U){return D.H.useRef(U)},ot.useState=function(U){return D.H.useState(U)},ot.useSyncExternalStore=function(U,ue,_e){return D.H.useSyncExternalStore(U,ue,_e)},ot.useTransition=function(){return D.H.useTransition()},ot.version="19.2.0",ot}var Vh;function yf(){return Vh||(Vh=1,tf.exports=Lm()),tf.exports}var Te=yf();const ze=eu(Te);var nf={exports:{}},so={},rf={exports:{}},af={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function jm(){return Xh||(Xh=1,(function(f){function h(j,$){var Ce=j.length;j.push($);e:for(;0<Ce;){var Le=Ce-1>>>1,Re=j[Le];if(0<E(Re,$))j[Le]=$,j[Ce]=Re,Ce=Le;else break e}}function g(j){return j.length===0?null:j[0]}function y(j){if(j.length===0)return null;var $=j[0],Ce=j.pop();if(Ce!==$){j[0]=Ce;e:for(var Le=0,Re=j.length,U=Re>>>1;Le<U;){var ue=2*(Le+1)-1,_e=j[ue],Be=ue+1,Ve=j[Be];if(0>E(_e,Ce))Be<Re&&0>E(Ve,_e)?(j[Le]=Ve,j[Be]=Ce,Le=Be):(j[Le]=_e,j[ue]=Ce,Le=ue);else if(Be<Re&&0>E(Ve,Ce))j[Le]=Ve,j[Be]=Ce,Le=Be;else break e}}return $}function E(j,$){var Ce=j.sortIndex-$.sortIndex;return Ce!==0?Ce:j.id-$.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;f.unstable_now=function(){return w.now()}}else{var N=Date,R=N.now();f.unstable_now=function(){return N.now()-R}}var _=[],C=[],B=1,M=null,V=3,Z=!1,ge=!1,ne=!1,re=!1,z=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function X(j){for(var $=g(C);$!==null;){if($.callback===null)y(C);else if($.startTime<=j)y(C),$.sortIndex=$.expirationTime,h(_,$);else break;$=g(C)}}function de(j){if(ne=!1,X(j),!ge)if(g(_)!==null)ge=!0,W||(W=!0,xe());else{var $=g(C);$!==null&&Q(de,$.startTime-j)}}var W=!1,D=-1,ee=5,K=-1;function pe(){return re?!0:!(f.unstable_now()-K<ee)}function ce(){if(re=!1,W){var j=f.unstable_now();K=j;var $=!0;try{e:{ge=!1,ne&&(ne=!1,H(D),D=-1),Z=!0;var Ce=V;try{t:{for(X(j),M=g(_);M!==null&&!(M.expirationTime>j&&pe());){var Le=M.callback;if(typeof Le=="function"){M.callback=null,V=M.priorityLevel;var Re=Le(M.expirationTime<=j);if(j=f.unstable_now(),typeof Re=="function"){M.callback=Re,X(j),$=!0;break t}M===g(_)&&y(_),X(j)}else y(_);M=g(_)}if(M!==null)$=!0;else{var U=g(C);U!==null&&Q(de,U.startTime-j),$=!1}}break e}finally{M=null,V=Ce,Z=!1}$=void 0}}finally{$?xe():W=!1}}}var xe;if(typeof F=="function")xe=function(){F(ce)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,ve=Ae.port2;Ae.port1.onmessage=ce,xe=function(){ve.postMessage(null)}}else xe=function(){z(ce,0)};function Q(j,$){D=z(function(){j(f.unstable_now())},$)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(j){j.callback=null},f.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<j?Math.floor(1e3/j):5},f.unstable_getCurrentPriorityLevel=function(){return V},f.unstable_next=function(j){switch(V){case 1:case 2:case 3:var $=3;break;default:$=V}var Ce=V;V=$;try{return j()}finally{V=Ce}},f.unstable_requestPaint=function(){re=!0},f.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Ce=V;V=j;try{return $()}finally{V=Ce}},f.unstable_scheduleCallback=function(j,$,Ce){var Le=f.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?Le+Ce:Le):Ce=Le,j){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=Ce+Re,j={id:B++,callback:$,priorityLevel:j,startTime:Ce,expirationTime:Re,sortIndex:-1},Ce>Le?(j.sortIndex=Ce,h(C,j),g(_)===null&&j===g(C)&&(ne?(H(D),D=-1):ne=!0,Q(de,Ce-Le))):(j.sortIndex=Re,h(_,j),ge||Z||(ge=!0,W||(W=!0,xe()))),j},f.unstable_shouldYield=pe,f.unstable_wrapCallback=function(j){var $=V;return function(){var Ce=V;V=$;try{return j.apply(this,arguments)}finally{V=Ce}}}})(af)),af}var Yh;function zm(){return Yh||(Yh=1,rf.exports=jm()),rf.exports}var lf={exports:{}},rr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh;function Um(){if(qh)return rr;qh=1;var f=yf();function h(_){var C="https://react.dev/errors/"+_;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var B=2;B<arguments.length;B++)C+="&args[]="+encodeURIComponent(arguments[B])}return"Minified React error #"+_+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(){}var y={d:{f:g,r:function(){throw Error(h(522))},D:g,C:g,L:g,m:g,X:g,S:g,M:g},p:0,findDOMNode:null},E=Symbol.for("react.portal");function w(_,C,B){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:M==null?null:""+M,children:_,containerInfo:C,implementation:B}}var N=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function R(_,C){if(_==="font")return"";if(typeof C=="string")return C==="use-credentials"?C:""}return rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=y,rr.createPortal=function(_,C){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error(h(299));return w(_,C,null,B)},rr.flushSync=function(_){var C=N.T,B=y.p;try{if(N.T=null,y.p=2,_)return _()}finally{N.T=C,y.p=B,y.d.f()}},rr.preconnect=function(_,C){typeof _=="string"&&(C?(C=C.crossOrigin,C=typeof C=="string"?C==="use-credentials"?C:"":void 0):C=null,y.d.C(_,C))},rr.prefetchDNS=function(_){typeof _=="string"&&y.d.D(_)},rr.preinit=function(_,C){if(typeof _=="string"&&C&&typeof C.as=="string"){var B=C.as,M=R(B,C.crossOrigin),V=typeof C.integrity=="string"?C.integrity:void 0,Z=typeof C.fetchPriority=="string"?C.fetchPriority:void 0;B==="style"?y.d.S(_,typeof C.precedence=="string"?C.precedence:void 0,{crossOrigin:M,integrity:V,fetchPriority:Z}):B==="script"&&y.d.X(_,{crossOrigin:M,integrity:V,fetchPriority:Z,nonce:typeof C.nonce=="string"?C.nonce:void 0})}},rr.preinitModule=function(_,C){if(typeof _=="string")if(typeof C=="object"&&C!==null){if(C.as==null||C.as==="script"){var B=R(C.as,C.crossOrigin);y.d.M(_,{crossOrigin:B,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0})}}else C==null&&y.d.M(_)},rr.preload=function(_,C){if(typeof _=="string"&&typeof C=="object"&&C!==null&&typeof C.as=="string"){var B=C.as,M=R(B,C.crossOrigin);y.d.L(_,B,{crossOrigin:M,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0,type:typeof C.type=="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority=="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy=="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet=="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes=="string"?C.imageSizes:void 0,media:typeof C.media=="string"?C.media:void 0})}},rr.preloadModule=function(_,C){if(typeof _=="string")if(C){var B=R(C.as,C.crossOrigin);y.d.m(_,{as:typeof C.as=="string"&&C.as!=="script"?C.as:void 0,crossOrigin:B,integrity:typeof C.integrity=="string"?C.integrity:void 0})}else y.d.m(_)},rr.requestFormReset=function(_){y.d.r(_)},rr.unstable_batchedUpdates=function(_,C){return _(C)},rr.useFormState=function(_,C,B){return N.H.useFormState(_,C,B)},rr.useFormStatus=function(){return N.H.useHostTransitionStatus()},rr.version="19.2.0",rr}var Zh;function kx(){if(Zh)return lf.exports;Zh=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(h){console.error(h)}}return f(),lf.exports=Um(),lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh;function Hm(){if(Wh)return so;Wh=1;var f=zm(),h=yf(),g=kx();function y(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function E(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function N(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function R(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(w(e)!==e)throw Error(y(188))}function C(e){var n=e.alternate;if(!n){if(n=w(e),n===null)throw Error(y(188));return n!==e?null:e}for(var i=e,o=n;;){var d=i.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){i=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===i)return _(d),e;if(m===o)return _(d),n;m=m.sibling}throw Error(y(188))}if(i.return!==o.return)i=d,o=m;else{for(var v=!1,O=d.child;O;){if(O===i){v=!0,i=d,o=m;break}if(O===o){v=!0,o=d,i=m;break}O=O.sibling}if(!v){for(O=m.child;O;){if(O===i){v=!0,i=m,o=d;break}if(O===o){v=!0,o=m,i=d;break}O=O.sibling}if(!v)throw Error(y(189))}}if(i.alternate!==o)throw Error(y(190))}if(i.tag!==3)throw Error(y(188));return i.stateNode.current===i?e:n}function B(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=B(e),n!==null)return n;e=e.sibling}return null}var M=Object.assign,V=Symbol.for("react.element"),Z=Symbol.for("react.transitional.element"),ge=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),F=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function xe(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case z:return"Profiler";case re:return"StrictMode";case de:return"Suspense";case W:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ge:return"Portal";case F:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case X:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:ve(e.type)||"Memo";case ee:n=e._payload,e=e._init;try{return ve(e(n))}catch{}}return null}var Q=Array.isArray,j=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},Le=[],Re=-1;function U(e){return{current:e}}function ue(e){0>Re||(e.current=Le[Re],Le[Re]=null,Re--)}function _e(e,n){Re++,Le[Re]=e.current,e.current=n}var Be=U(null),Ve=U(null),we=U(null),Ze=U(null);function J(e,n){switch(_e(we,n),_e(Ve,e),_e(Be,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?uh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=uh(n),e=dh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ue(Be),_e(Be,e)}function Oe(){ue(Be),ue(Ve),ue(we)}function at(e){e.memoizedState!==null&&_e(Ze,e);var n=Be.current,i=dh(n,e.type);n!==i&&(_e(Ve,e),_e(Be,i))}function $e(e){Ve.current===e&&(ue(Be),ue(Ve)),Ze.current===e&&(ue(Ze),no._currentValue=Ce)}var Ot,lt;function wn(e){if(Ot===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ot=n&&n[1]||"",lt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ot+e+lt}var Lt=!1;function lr(e,n){if(!e||Lt)return"";Lt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ee=function(){throw Error()};if(Object.defineProperty(Ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ee,[])}catch(me){var oe=me}Reflect.construct(e,[],Ee)}else{try{Ee.call()}catch(me){oe=me}e.call(Ee.prototype)}}else{try{throw Error()}catch(me){oe=me}(Ee=e())&&typeof Ee.catch=="function"&&Ee.catch(function(){})}}catch(me){if(me&&oe&&typeof me.stack=="string")return[me.stack,oe.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),v=m[0],O=m[1];if(v&&O){var P=v.split(`
`),se=O.split(`
`);for(d=o=0;o<P.length&&!P[o].includes("DetermineComponentFrameRoot");)o++;for(;d<se.length&&!se[d].includes("DetermineComponentFrameRoot");)d++;if(o===P.length||d===se.length)for(o=P.length-1,d=se.length-1;1<=o&&0<=d&&P[o]!==se[d];)d--;for(;1<=o&&0<=d;o--,d--)if(P[o]!==se[d]){if(o!==1||d!==1)do if(o--,d--,0>d||P[o]!==se[d]){var be=`
`+P[o].replace(" at new "," at ");return e.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",e.displayName)),be}while(1<=o&&0<=d);break}}}finally{Lt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?wn(i):""}function Yt(e,n){switch(e.tag){case 26:case 27:case 5:return wn(e.type);case 16:return wn("Lazy");case 13:return e.child!==n&&n!==null?wn("Suspense Fallback"):wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return wn("Activity");default:return""}}function dt(e){try{var n="",i=null;do n+=Yt(e,i),i=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var rt=Object.prototype.hasOwnProperty,tr=f.unstable_scheduleCallback,Ue=f.unstable_cancelCallback,Sr=f.unstable_shouldYield,Tr=f.unstable_requestPaint,Ft=f.unstable_now,Nr=f.unstable_getCurrentPriorityLevel,Zn=f.unstable_ImmediatePriority,ci=f.unstable_UserBlockingPriority,nr=f.unstable_NormalPriority,Dn=f.unstable_LowPriority,Wi=f.unstable_IdlePriority,ja=f.log,gs=f.unstable_setDisableYieldValue,ln=null,ke=null;function Qt(e){if(typeof ja=="function"&&gs(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(ln,e)}catch{}}var ft=Math.clz32?Math.clz32:ms,gn=Math.log,Qi=Math.LN2;function ms(e){return e>>>=0,e===0?32:31-(gn(e)/Qi|0)|0}var Ki=256,At=262144,Gr=4194304;function wa(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ji(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var d=0,m=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var O=o&134217727;return O!==0?(o=O&~m,o!==0?d=wa(o):(v&=O,v!==0?d=wa(v):i||(i=O&~e,i!==0&&(d=wa(i))))):(O=o&~m,O!==0?d=wa(O):v!==0?d=wa(v):i||(i=o&~e,i!==0&&(d=wa(i)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,i=n&-n,m>=i||m===32&&(i&4194048)!==0)?n:d}function Wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ps(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function Ea(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ca(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vr(e,n,i,o,d,m){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var O=e.entanglements,P=e.expirationTimes,se=e.hiddenUpdates;for(i=v&~i;0<i;){var be=31-ft(i),Ee=1<<be;O[be]=0,P[be]=-1;var oe=se[be];if(oe!==null)for(se[be]=null,be=0;be<oe.length;be++){var me=oe[be];me!==null&&(me.lane&=-536870913)}i&=~Ee}o!==0&&Co(e,o,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(v&~n))}function Co(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ft(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function Aa(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-ft(i),d=1<<o;d&n|e[o]&n&&(e[o]|=n),i&=~d}}function vl(e,n){var i=n&-n;return i=(i&42)!==0?1:Yn(i),(i&(e.suspendedLanes|n))!==0?0:i}function Yn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function aa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sr(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:kh(e.type))}function He(e,n){var i=$.p;try{return $.p=e,n()}finally{$.p=i}}var or=Math.random().toString(36).slice(2),Nn="__reactFiber$"+or,qt="__reactProps$"+or,_r="__reactContainer$"+or,ui="__reactEvents$"+or,Sl="__reactListeners$"+or,Xr="__reactHandles$"+or,Ao="__reactResources$"+or,$i="__reactMarker$"+or;function gr(e){delete e[Nn],delete e[qt],delete e[ui],delete e[Sl],delete e[Xr]}function En(e){var n=e[Nn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[_r]||i[Nn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=bh(e);e!==null;){if(i=e[Nn])return i;e=bh(e)}return n}e=i,i=e.parentNode}return null}function jt(e){if(e=e[Nn]||e[_r]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function di(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(y(33))}function cr(e){var n=e[Ao];return n||(n=e[Ao]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Cn(e){e[$i]=!0}var Se=new Set,vo={};function Pt(e,n){Ir(e,n),Ir(e+"Capture",n)}function Ir(e,n){for(vo[e]=n,e=0;e<n.length;e++)Se.add(n[e])}var lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rt={},It={};function wt(e){return rt.call(It,e)?!0:rt.call(Rt,e)?!1:lu.test(e)?It[e]=!0:(Rt[e]=!0,!1)}function fi(e,n,i){if(wt(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function hi(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Or(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ia(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function su(e,n,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(v){i=""+v,m.call(this,v)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function sn(e){if(!e._valueTracker){var n=ia(e)?"checked":"value";e._valueTracker=su(e,n,""+e[n])}}function la(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=ia(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function Tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xi=/[\n"\\]/g;function yt(e){return e.replace(xi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Mn(e,n,i,o,d,m,v,O){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dt(n)):e.value!==""+Dt(n)&&(e.value=""+Dt(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?k(e,v,Dt(n)):i!=null?k(e,v,Dt(i)):o!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+Dt(O):e.removeAttribute("name")}function ie(e,n,i,o,d,m,v,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){sn(e);return}i=i!=null?""+Dt(i):"",n=n!=null?""+Dt(n):i,O||n===e.value||(e.value=n),e.defaultValue=n}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=O?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),sn(e)}function k(e,n,i){n==="number"&&Tl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Xe(e,n,i,o){if(e=e.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=n.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Dt(i),n=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function _n(e,n,i){if(n!=null&&(n=""+Dt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Dt(i):""}function ur(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(y(92));if(Q(o)){if(1<o.length)throw Error(y(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=Dt(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),sn(e)}function gi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var bs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dr(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||bs.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function We(e,n,i){if(n!=null&&typeof n!="object")throw Error(y(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in n)o=n[d],n.hasOwnProperty(d)&&i[d]!==o&&dr(e,d,o)}else for(var m in n)n.hasOwnProperty(m)&&dr(e,m,n[m])}function tn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ou=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mi(e){return ou.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mr(){}var el=null;function ys(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var on=null,Yr=null;function sa(e){var n=jt(e);if(n&&(e=n.stateNode)){var i=e[qt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Mn(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+yt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var d=o[qt]||null;if(!d)throw Error(y(90));Mn(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&la(o)}break e;case"textarea":_n(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Xe(e,!!i.multiple,n,!1)}}}var Ke=!1;function To(e,n,i){if(Ke)return e(n,i);Ke=!0;try{var o=e(n);return o}finally{if(Ke=!1,(on!==null||Yr!==null)&&(pc(),on&&(n=on,e=Yr,Yr=on=null,sa(n),e)))for(n=0;n<e.length;n++)sa(e[n])}}function it(e,n){var i=e.stateNode;if(i===null)return null;var o=i[qt]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(y(231,n,typeof i));return i}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ws=!1;if(nn)try{var za={};Object.defineProperty(za,"passive",{get:function(){ws=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{ws=!1}var oa=null,ca=null,Nl=null;function pi(){if(Nl)return Nl;var e,n=ca,i=n.length,o,d="value"in oa?oa.value:oa.textContent,m=d.length;for(e=0;e<i&&n[e]===d[e];e++);var v=i-e;for(o=1;o<=v&&n[i-o]===d[m-o];o++);return Nl=d.slice(e,1<o?1-o:void 0)}function va(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Sa(){return!0}function Es(){return!1}function kn(e){function n(i,o,d,m,v){this._reactName=i,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(i=e[O],this[O]=i?i(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Sa:Es,this.isPropagationStopped=Es,this}return M(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Sa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Sa)},persist:function(){},isPersistent:Sa}),n}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fn=kn(Rr),bi=M({},Rr,{view:0,detail:0}),No=kn(bi),_l,Cs,tl,Il=M({},bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tl&&(tl&&e.type==="mousemove"?(_l=e.screenX-tl.screenX,Cs=e.screenY-tl.screenY):Cs=_l=0,tl=e),_l)},movementY:function(e){return"movementY"in e?e.movementY:Cs}}),zt=kn(Il),_o=M({},Il,{dataTransfer:0}),Ol=kn(_o),Ta=M({},bi,{relatedTarget:0}),As=kn(Ta),he=M({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),ht=kn(he),Pn=M({},Rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rl=kn(Pn),Io=M({},Rr,{data:0}),Oo=kn(Io),cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vs[e])?!!n[e]:!1}function nl(){return In}var mn=M({},bi,{key:function(e){if(e.key){var n=cu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=va(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nl,charCode:function(e){return e.type==="keypress"?va(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?va(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dl=kn(mn),Ua=M({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gt=kn(Ua),Je=M({},bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nl}),du=kn(Je),rn=M({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ha=kn(rn),yi=M({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fu=kn(yi),qr=M({},Rr,{newState:0,oldState:0}),Ss=kn(qr),Ro=[9,13,27,32],rl=nn&&"CompositionEvent"in window,wi=null;nn&&"documentMode"in document&&(wi=document.documentMode);var Do=nn&&"TextEvent"in window&&!wi,Mo=nn&&(!rl||wi&&8<wi&&11>=wi),Fa=" ",Ml=!1;function ko(e,n){switch(e){case"keyup":return Ro.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ei(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ci=!1;function Na(e,n){switch(e){case"compositionend":return Ei(n);case"keypress":return n.which!==32?null:(Ml=!0,Fa);case"textInput":return e=n.data,e===Fa&&Ml?null:e;default:return null}}function kl(e,n){if(Ci)return e==="compositionend"||!rl&&ko(e,n)?(e=pi(),Nl=ca=oa=null,Ci=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mo&&n.locale!=="ko"?null:n.data;default:return null}}var pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ts(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!pr[e.type]:n==="textarea"}function Dr(e,n,i,o){on?Yr?Yr.push(o):Yr=[o]:on=o,n=vc(n,"onChange"),0<n.length&&(i=new Fn("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var al=null,Pa=null;function hu(e){ah(e,0)}function il(e){var n=di(e);if(la(n))return e}function Mr(e,n){if(e==="change")return n}var Bo=!1;if(nn){var ll;if(nn){var Ga="oninput"in document;if(!Ga){var vt=document.createElement("div");vt.setAttribute("oninput","return;"),Ga=typeof vt.oninput=="function"}ll=Ga}else ll=!1;Bo=ll&&(!document.documentMode||9<document.documentMode)}function sl(){al&&(al.detachEvent("onpropertychange",S),Pa=al=null)}function S(e){if(e.propertyName==="value"&&il(Pa)){var n=[];Dr(n,Pa,e,ys(e)),To(hu,n)}}function t(e,n,i){e==="focusin"?(sl(),al=n,Pa=i,al.attachEvent("onpropertychange",S)):e==="focusout"&&sl()}function r(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return il(Pa)}function a(e,n){if(e==="click")return il(n)}function l(e,n){if(e==="input"||e==="change")return il(n)}function s(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var c=typeof Object.is=="function"?Object.is:s;function u(e,n){if(c(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var d=i[o];if(!rt.call(n,d)||!c(e[d],n[d]))return!1}return!0}function x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function b(e,n){var i=x(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=x(i)}}function A(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?A(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function T(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Tl(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Tl(e.document)}return n}function I(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var L=nn&&"documentMode"in document&&11>=document.documentMode,G=null,Y=null,ae=null,fe=!1;function Me(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;fe||G==null||G!==Tl(o)||(o=G,"selectionStart"in o&&I(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ae&&u(ae,o)||(ae=o,o=vc(Y,"onSelect"),0<o.length&&(n=new Fn("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=G)))}function De(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Ne={animationend:De("Animation","AnimationEnd"),animationiteration:De("Animation","AnimationIteration"),animationstart:De("Animation","AnimationStart"),transitionrun:De("Transition","TransitionRun"),transitionstart:De("Transition","TransitionStart"),transitioncancel:De("Transition","TransitionCancel"),transitionend:De("Transition","TransitionEnd")},pt={},st={};nn&&(st=document.createElement("div").style,"AnimationEvent"in window||(delete Ne.animationend.animation,delete Ne.animationiteration.animation,delete Ne.animationstart.animation),"TransitionEvent"in window||delete Ne.transitionend.transition);function An(e){if(pt[e])return pt[e];if(!Ne[e])return e;var n=Ne[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in st)return pt[e]=n[i];return e}var br=An("animationend"),Qn=An("animationiteration"),Vt=An("animationstart"),Gn=An("transitionrun"),fr=An("transitionstart"),Ai=An("transitioncancel"),Va=An("transitionend"),Lo=new Map,Ns="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ns.push("scrollEnd");function ua(e,n){Lo.set(e,n),Pt(n,[e])}var jo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zr=[],Bl=0,xu=0;function zo(){for(var e=Bl,n=xu=Bl=0;n<e;){var i=Zr[n];Zr[n++]=null;var o=Zr[n];Zr[n++]=null;var d=Zr[n];Zr[n++]=null;var m=Zr[n];if(Zr[n++]=null,o!==null&&d!==null){var v=o.pending;v===null?d.next=d:(d.next=v.next,v.next=d),o.pending=d}m!==0&&Uf(i,d,m)}}function Uo(e,n,i,o){Zr[Bl++]=e,Zr[Bl++]=n,Zr[Bl++]=i,Zr[Bl++]=o,xu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function gu(e,n,i,o){return Uo(e,n,i,o),Ho(e)}function ol(e,n){return Uo(e,null,null,n),Ho(e)}function Uf(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var d=!1,m=e.return;m!==null;)m.childLanes|=i,o=m.alternate,o!==null&&(o.childLanes|=i),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-ft(i),e=m.hiddenUpdates,o=e[d],o===null?e[d]=[n]:o.push(n),n.lane=i|536870912),m):null}function Ho(e){if(50<Ws)throw Ws=0,vd=null,Error(y(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ll={};function mg(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(e,n,i,o){return new mg(e,n,i,o)}function mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xa(e,n){var i=e.alternate;return i===null?(i=kr(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Hf(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Fo(e,n,i,o,d,m){var v=0;if(o=e,typeof e=="function")mu(e)&&(v=1);else if(typeof e=="string")v=Em(e,i,Be.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=kr(31,i,n,d),e.elementType=K,e.lanes=m,e;case ne:return cl(i.children,d,m,n);case re:v=8,d|=24;break;case z:return e=kr(12,i,n,d|2),e.elementType=z,e.lanes=m,e;case de:return e=kr(13,i,n,d),e.elementType=de,e.lanes=m,e;case W:return e=kr(19,i,n,d),e.elementType=W,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:v=10;break e;case H:v=9;break e;case X:v=11;break e;case D:v=14;break e;case ee:v=16,o=null;break e}v=29,i=Error(y(130,e===null?"null":typeof e,"")),o=null}return n=kr(v,i,n,d),n.elementType=e,n.type=o,n.lanes=m,n}function cl(e,n,i,o){return e=kr(7,e,o,n),e.lanes=i,e}function pu(e,n,i){return e=kr(6,e,null,n),e.lanes=i,e}function Ff(e){var n=kr(18,null,null,0);return n.stateNode=e,n}function bu(e,n,i){return n=kr(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pf=new WeakMap;function Wr(e,n){if(typeof e=="object"&&e!==null){var i=Pf.get(e);return i!==void 0?i:(n={value:e,source:n,stack:dt(n)},Pf.set(e,n),n)}return{value:e,source:n,stack:dt(n)}}var jl=[],zl=0,Po=null,_s=0,Qr=[],Kr=0,vi=null,_a=1,Ia="";function Ya(e,n){jl[zl++]=_s,jl[zl++]=Po,Po=e,_s=n}function Gf(e,n,i){Qr[Kr++]=_a,Qr[Kr++]=Ia,Qr[Kr++]=vi,vi=e;var o=_a;e=Ia;var d=32-ft(o)-1;o&=~(1<<d),i+=1;var m=32-ft(n)+d;if(30<m){var v=d-d%5;m=(o&(1<<v)-1).toString(32),o>>=v,d-=v,_a=1<<32-ft(n)+d|i<<d|o,Ia=m+e}else _a=1<<m|i<<d|o,Ia=e}function yu(e){e.return!==null&&(Ya(e,1),Gf(e,1,0))}function wu(e){for(;e===Po;)Po=jl[--zl],jl[zl]=null,_s=jl[--zl],jl[zl]=null;for(;e===vi;)vi=Qr[--Kr],Qr[Kr]=null,Ia=Qr[--Kr],Qr[Kr]=null,_a=Qr[--Kr],Qr[Kr]=null}function Vf(e,n){Qr[Kr++]=_a,Qr[Kr++]=Ia,Qr[Kr++]=vi,_a=n.id,Ia=n.overflow,vi=e}var Kn=null,cn=null,Nt=!1,Si=null,Jr=!1,Eu=Error(y(519));function Ti(e){var n=Error(y(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Is(Wr(n,e)),Eu}function Xf(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[Nn]=e,n[qt]=o,i){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(i=0;i<Ks.length;i++)Ct(Ks[i],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),ie(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ur(n,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||oh(n.textContent,i)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=mr),n=!0):n=!1,n||Ti(e,!0)}function Yf(e){for(Kn=e.return;Kn;)switch(Kn.tag){case 5:case 31:case 13:Jr=!1;return;case 27:case 3:Jr=!0;return;default:Kn=Kn.return}}function Ul(e){if(e!==Kn)return!1;if(!Nt)return Yf(e),Nt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Ud(e.type,e.memoizedProps)),i=!i),i&&cn&&Ti(e),Yf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));cn=ph(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));cn=ph(e)}else n===27?(n=cn,Hi(e.type)?(e=Vd,Vd=null,cn=e):cn=n):cn=Kn?ea(e.stateNode.nextSibling):null;return!0}function ul(){cn=Kn=null,Nt=!1}function Cu(){var e=Si;return e!==null&&(Cr===null?Cr=e:Cr.push.apply(Cr,e),Si=null),e}function Is(e){Si===null?Si=[e]:Si.push(e)}var Au=U(null),dl=null,qa=null;function Ni(e,n,i){_e(Au,n._currentValue),n._currentValue=i}function Za(e){e._currentValue=Au.current,ue(Au)}function vu(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function Su(e,n,i,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var v=d.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=d;for(var P=0;P<n.length;P++)if(O.context===n[P]){m.lanes|=i,O=m.alternate,O!==null&&(O.lanes|=i),vu(m.return,i,e),o||(v=null);break e}m=O.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(y(341));v.lanes|=i,m=v.alternate,m!==null&&(m.lanes|=i),vu(v,i,e),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===e){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Hl(e,n,i,o){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(y(387));if(v=v.memoizedProps,v!==null){var O=d.type;c(d.pendingProps.value,v.value)||(e!==null?e.push(O):e=[O])}}else if(d===Ze.current){if(v=d.alternate,v===null)throw Error(y(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(no):e=[no])}d=d.return}e!==null&&Su(n,e,i,o),n.flags|=262144}function Go(e){for(e=e.firstContext;e!==null;){if(!c(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fl(e){dl=e,qa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Jn(e){return qf(dl,e)}function Vo(e,n){return dl===null&&fl(e),qf(e,n)}function qf(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},qa===null){if(e===null)throw Error(y(308));qa=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qa=qa.next=n;return i}var pg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},bg=f.unstable_scheduleCallback,yg=f.unstable_NormalPriority,Bn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new pg,data:new Map,refCount:0}}function Os(e){e.refCount--,e.refCount===0&&bg(yg,function(){e.controller.abort()})}var Rs=null,Nu=0,Fl=0,Pl=null;function wg(e,n){if(Rs===null){var i=Rs=[];Nu=0,Fl=Od(),Pl={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Nu++,n.then(Zf,Zf),n}function Zf(){if(--Nu===0&&Rs!==null){Pl!==null&&(Pl.status="fulfilled");var e=Rs;Rs=null,Fl=0,Pl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Eg(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(d){i.push(d)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var d=0;d<i.length;d++)(0,i[d])(n)},function(d){for(o.status="rejected",o.reason=d,d=0;d<i.length;d++)(0,i[d])(void 0)}),o}var Wf=j.S;j.S=function(e,n){D1=Ft(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&wg(e,n),Wf!==null&&Wf(e,n)};var hl=U(null);function _u(){var e=hl.current;return e!==null?e:an.pooledCache}function Xo(e,n){n===null?_e(hl,hl.current):_e(hl,n.pool)}function Qf(){var e=_u();return e===null?null:{parent:Bn._currentValue,pool:e}}var Gl=Error(y(460)),Iu=Error(y(474)),Yo=Error(y(542)),qo={then:function(){}};function Kf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jf(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(mr,mr),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e0(e),e;default:if(typeof n.status=="string")n.then(mr,mr);else{if(e=an,e!==null&&100<e.shellSuspendCounter)throw Error(y(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=o}},function(o){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e0(e),e}throw gl=n,Gl}}function xl(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(gl=i,Gl):i}}var gl=null;function $f(){if(gl===null)throw Error(y(459));var e=gl;return gl=null,e}function e0(e){if(e===Gl||e===Yo)throw Error(y(483))}var Vl=null,Ds=0;function Zo(e){var n=Ds;return Ds+=1,Vl===null&&(Vl=[]),Jf(Vl,e,n)}function Ms(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Wo(e,n){throw n.$$typeof===V?Error(y(525)):(e=Object.prototype.toString.call(n),Error(y(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function t0(e){function n(te,q){if(e){var le=te.deletions;le===null?(te.deletions=[q],te.flags|=16):le.push(q)}}function i(te,q){if(!e)return null;for(;q!==null;)n(te,q),q=q.sibling;return null}function o(te){for(var q=new Map;te!==null;)te.key!==null?q.set(te.key,te):q.set(te.index,te),te=te.sibling;return q}function d(te,q){return te=Xa(te,q),te.index=0,te.sibling=null,te}function m(te,q,le){return te.index=le,e?(le=te.alternate,le!==null?(le=le.index,le<q?(te.flags|=67108866,q):le):(te.flags|=67108866,q)):(te.flags|=1048576,q)}function v(te){return e&&te.alternate===null&&(te.flags|=67108866),te}function O(te,q,le,ye){return q===null||q.tag!==6?(q=pu(le,te.mode,ye),q.return=te,q):(q=d(q,le),q.return=te,q)}function P(te,q,le,ye){var Qe=le.type;return Qe===ne?be(te,q,le.props.children,ye,le.key):q!==null&&(q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ee&&xl(Qe)===q.type)?(q=d(q,le.props),Ms(q,le),q.return=te,q):(q=Fo(le.type,le.key,le.props,null,te.mode,ye),Ms(q,le),q.return=te,q)}function se(te,q,le,ye){return q===null||q.tag!==4||q.stateNode.containerInfo!==le.containerInfo||q.stateNode.implementation!==le.implementation?(q=bu(le,te.mode,ye),q.return=te,q):(q=d(q,le.children||[]),q.return=te,q)}function be(te,q,le,ye,Qe){return q===null||q.tag!==7?(q=cl(le,te.mode,ye,Qe),q.return=te,q):(q=d(q,le),q.return=te,q)}function Ee(te,q,le){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=pu(""+q,te.mode,le),q.return=te,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Z:return le=Fo(q.type,q.key,q.props,null,te.mode,le),Ms(le,q),le.return=te,le;case ge:return q=bu(q,te.mode,le),q.return=te,q;case ee:return q=xl(q),Ee(te,q,le)}if(Q(q)||xe(q))return q=cl(q,te.mode,le,null),q.return=te,q;if(typeof q.then=="function")return Ee(te,Zo(q),le);if(q.$$typeof===F)return Ee(te,Vo(te,q),le);Wo(te,q)}return null}function oe(te,q,le,ye){var Qe=q!==null?q.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Qe!==null?null:O(te,q,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case Z:return le.key===Qe?P(te,q,le,ye):null;case ge:return le.key===Qe?se(te,q,le,ye):null;case ee:return le=xl(le),oe(te,q,le,ye)}if(Q(le)||xe(le))return Qe!==null?null:be(te,q,le,ye,null);if(typeof le.then=="function")return oe(te,q,Zo(le),ye);if(le.$$typeof===F)return oe(te,q,Vo(te,le),ye);Wo(te,le)}return null}function me(te,q,le,ye,Qe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return te=te.get(le)||null,O(q,te,""+ye,Qe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case Z:return te=te.get(ye.key===null?le:ye.key)||null,P(q,te,ye,Qe);case ge:return te=te.get(ye.key===null?le:ye.key)||null,se(q,te,ye,Qe);case ee:return ye=xl(ye),me(te,q,le,ye,Qe)}if(Q(ye)||xe(ye))return te=te.get(le)||null,be(q,te,ye,Qe,null);if(typeof ye.then=="function")return me(te,q,le,Zo(ye),Qe);if(ye.$$typeof===F)return me(te,q,le,Vo(q,ye),Qe);Wo(q,ye)}return null}function Ge(te,q,le,ye){for(var Qe=null,Mt=null,Ye=q,xt=q=0,Tt=null;Ye!==null&&xt<le.length;xt++){Ye.index>xt?(Tt=Ye,Ye=null):Tt=Ye.sibling;var kt=oe(te,Ye,le[xt],ye);if(kt===null){Ye===null&&(Ye=Tt);break}e&&Ye&&kt.alternate===null&&n(te,Ye),q=m(kt,q,xt),Mt===null?Qe=kt:Mt.sibling=kt,Mt=kt,Ye=Tt}if(xt===le.length)return i(te,Ye),Nt&&Ya(te,xt),Qe;if(Ye===null){for(;xt<le.length;xt++)Ye=Ee(te,le[xt],ye),Ye!==null&&(q=m(Ye,q,xt),Mt===null?Qe=Ye:Mt.sibling=Ye,Mt=Ye);return Nt&&Ya(te,xt),Qe}for(Ye=o(Ye);xt<le.length;xt++)Tt=me(Ye,te,xt,le[xt],ye),Tt!==null&&(e&&Tt.alternate!==null&&Ye.delete(Tt.key===null?xt:Tt.key),q=m(Tt,q,xt),Mt===null?Qe=Tt:Mt.sibling=Tt,Mt=Tt);return e&&Ye.forEach(function(Xi){return n(te,Xi)}),Nt&&Ya(te,xt),Qe}function et(te,q,le,ye){if(le==null)throw Error(y(151));for(var Qe=null,Mt=null,Ye=q,xt=q=0,Tt=null,kt=le.next();Ye!==null&&!kt.done;xt++,kt=le.next()){Ye.index>xt?(Tt=Ye,Ye=null):Tt=Ye.sibling;var Xi=oe(te,Ye,kt.value,ye);if(Xi===null){Ye===null&&(Ye=Tt);break}e&&Ye&&Xi.alternate===null&&n(te,Ye),q=m(Xi,q,xt),Mt===null?Qe=Xi:Mt.sibling=Xi,Mt=Xi,Ye=Tt}if(kt.done)return i(te,Ye),Nt&&Ya(te,xt),Qe;if(Ye===null){for(;!kt.done;xt++,kt=le.next())kt=Ee(te,kt.value,ye),kt!==null&&(q=m(kt,q,xt),Mt===null?Qe=kt:Mt.sibling=kt,Mt=kt);return Nt&&Ya(te,xt),Qe}for(Ye=o(Ye);!kt.done;xt++,kt=le.next())kt=me(Ye,te,xt,kt.value,ye),kt!==null&&(e&&kt.alternate!==null&&Ye.delete(kt.key===null?xt:kt.key),q=m(kt,q,xt),Mt===null?Qe=kt:Mt.sibling=kt,Mt=kt);return e&&Ye.forEach(function(Dm){return n(te,Dm)}),Nt&&Ya(te,xt),Qe}function $t(te,q,le,ye){if(typeof le=="object"&&le!==null&&le.type===ne&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case Z:e:{for(var Qe=le.key;q!==null;){if(q.key===Qe){if(Qe=le.type,Qe===ne){if(q.tag===7){i(te,q.sibling),ye=d(q,le.props.children),ye.return=te,te=ye;break e}}else if(q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ee&&xl(Qe)===q.type){i(te,q.sibling),ye=d(q,le.props),Ms(ye,le),ye.return=te,te=ye;break e}i(te,q);break}else n(te,q);q=q.sibling}le.type===ne?(ye=cl(le.props.children,te.mode,ye,le.key),ye.return=te,te=ye):(ye=Fo(le.type,le.key,le.props,null,te.mode,ye),Ms(ye,le),ye.return=te,te=ye)}return v(te);case ge:e:{for(Qe=le.key;q!==null;){if(q.key===Qe)if(q.tag===4&&q.stateNode.containerInfo===le.containerInfo&&q.stateNode.implementation===le.implementation){i(te,q.sibling),ye=d(q,le.children||[]),ye.return=te,te=ye;break e}else{i(te,q);break}else n(te,q);q=q.sibling}ye=bu(le,te.mode,ye),ye.return=te,te=ye}return v(te);case ee:return le=xl(le),$t(te,q,le,ye)}if(Q(le))return Ge(te,q,le,ye);if(xe(le)){if(Qe=xe(le),typeof Qe!="function")throw Error(y(150));return le=Qe.call(le),et(te,q,le,ye)}if(typeof le.then=="function")return $t(te,q,Zo(le),ye);if(le.$$typeof===F)return $t(te,q,Vo(te,le),ye);Wo(te,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,q!==null&&q.tag===6?(i(te,q.sibling),ye=d(q,le),ye.return=te,te=ye):(i(te,q),ye=pu(le,te.mode,ye),ye.return=te,te=ye),v(te)):i(te,q)}return function(te,q,le,ye){try{Ds=0;var Qe=$t(te,q,le,ye);return Vl=null,Qe}catch(Ye){if(Ye===Gl||Ye===Yo)throw Ye;var Mt=kr(29,Ye,null,te.mode);return Mt.lanes=ye,Mt.return=te,Mt}finally{}}}var ml=t0(!0),n0=t0(!1),_i=!1;function Ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ru(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ut&2)!==0){var d=o.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),o.pending=n,n=Ho(e),Uf(e,null,i),n}return Uo(e,o,n,i),Ho(e)}function ks(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Aa(e,i)}}function Du(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var d=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?d=m=v:m=m.next=v,i=i.next}while(i!==null);m===null?d=m=n:m=m.next=n}else d=m=n;i={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Mu=!1;function Bs(){if(Mu){var e=Pl;if(e!==null)throw e}}function Ls(e,n,i,o){Mu=!1;var d=e.updateQueue;_i=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,O=d.shared.pending;if(O!==null){d.shared.pending=null;var P=O,se=P.next;P.next=null,v===null?m=se:v.next=se,v=P;var be=e.alternate;be!==null&&(be=be.updateQueue,O=be.lastBaseUpdate,O!==v&&(O===null?be.firstBaseUpdate=se:O.next=se,be.lastBaseUpdate=P))}if(m!==null){var Ee=d.baseState;v=0,be=se=P=null,O=m;do{var oe=O.lane&-536870913,me=oe!==O.lane;if(me?(St&oe)===oe:(o&oe)===oe){oe!==0&&oe===Fl&&(Mu=!0),be!==null&&(be=be.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ge=e,et=O;oe=n;var $t=i;switch(et.tag){case 1:if(Ge=et.payload,typeof Ge=="function"){Ee=Ge.call($t,Ee,oe);break e}Ee=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=et.payload,oe=typeof Ge=="function"?Ge.call($t,Ee,oe):Ge,oe==null)break e;Ee=M({},Ee,oe);break e;case 2:_i=!0}}oe=O.callback,oe!==null&&(e.flags|=64,me&&(e.flags|=8192),me=d.callbacks,me===null?d.callbacks=[oe]:me.push(oe))}else me={lane:oe,tag:O.tag,payload:O.payload,callback:O.callback,next:null},be===null?(se=be=me,P=Ee):be=be.next=me,v|=oe;if(O=O.next,O===null){if(O=d.shared.pending,O===null)break;me=O,O=me.next,me.next=null,d.lastBaseUpdate=me,d.shared.pending=null}}while(!0);be===null&&(P=Ee),d.baseState=P,d.firstBaseUpdate=se,d.lastBaseUpdate=be,m===null&&(d.shared.lanes=0),Bi|=v,e.lanes=v,e.memoizedState=Ee}}function r0(e,n){if(typeof e!="function")throw Error(y(191,e));e.call(n)}function a0(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)r0(i[e],n)}var Xl=U(null),Qo=U(0);function i0(e,n){e=ri,_e(Qo,e),_e(Xl,n),ri=e|n.baseLanes}function ku(){_e(Qo,ri),_e(Xl,Xl.current)}function Bu(){ri=Qo.current,ue(Xl),ue(Qo)}var Br=U(null),$r=null;function Ri(e){var n=e.alternate;_e(On,On.current&1),_e(Br,e),$r===null&&(n===null||Xl.current!==null||n.memoizedState!==null)&&($r=e)}function Lu(e){_e(On,On.current),_e(Br,e),$r===null&&($r=e)}function l0(e){e.tag===22?(_e(On,On.current),_e(Br,e),$r===null&&($r=e)):Di()}function Di(){_e(On,On.current),_e(Br,Br.current)}function Lr(e){ue(Br),$r===e&&($r=null),ue(On)}var On=U(0);function Ko(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Pd(i)||Gd(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wa=0,ut=null,Kt=null,Ln=null,Jo=!1,Yl=!1,pl=!1,$o=0,js=0,ql=null,Cg=0;function vn(){throw Error(y(321))}function ju(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!c(e[i],n[i]))return!1;return!0}function zu(e,n,i,o,d,m){return Wa=m,ut=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?G0:$u,pl=!1,m=i(o,d),pl=!1,Yl&&(m=o0(n,i,o,d)),s0(e),m}function s0(e){j.H=Hs;var n=Kt!==null&&Kt.next!==null;if(Wa=0,Ln=Kt=ut=null,Jo=!1,js=0,ql=null,n)throw Error(y(300));e===null||jn||(e=e.dependencies,e!==null&&Go(e)&&(jn=!0))}function o0(e,n,i,o){ut=e;var d=0;do{if(Yl&&(ql=null),js=0,Yl=!1,25<=d)throw Error(y(301));if(d+=1,Ln=Kt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}j.H=V0,m=n(i,o)}while(Yl);return m}function Ag(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?zs(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(ut.flags|=1024),n}function Uu(){var e=$o!==0;return $o=0,e}function Hu(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Fu(e){if(Jo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Jo=!1}Wa=0,Ln=Kt=ut=null,Yl=!1,js=$o=0,ql=null}function hr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?ut.memoizedState=Ln=e:Ln=Ln.next=e,Ln}function Rn(){if(Kt===null){var e=ut.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Ln===null?ut.memoizedState:Ln.next;if(n!==null)Ln=n,Kt=e;else{if(e===null)throw ut.alternate===null?Error(y(467)):Error(y(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ln===null?ut.memoizedState=Ln=e:Ln=Ln.next=e}return Ln}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zs(e){var n=js;return js+=1,ql===null&&(ql=[]),e=Jf(ql,e,n),n=ut,(Ln===null?n.memoizedState:Ln.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?G0:$u),e}function tc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zs(e);if(e.$$typeof===F)return Jn(e)}throw Error(y(438,String(e)))}function Pu(e){var n=null,i=ut.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=ut.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=ec(),ut.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=pe;return n.index++,i}function Qa(e,n){return typeof n=="function"?n(e):n}function nc(e){var n=Rn();return Gu(n,Kt,e)}function Gu(e,n,i){var o=e.queue;if(o===null)throw Error(y(311));o.lastRenderedReducer=i;var d=e.baseQueue,m=o.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}n.baseQueue=d=m,o.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var O=v=null,P=null,se=n,be=!1;do{var Ee=se.lane&-536870913;if(Ee!==se.lane?(St&Ee)===Ee:(Wa&Ee)===Ee){var oe=se.revertLane;if(oe===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),Ee===Fl&&(be=!0);else if((Wa&oe)===oe){se=se.next,oe===Fl&&(be=!0);continue}else Ee={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},P===null?(O=P=Ee,v=m):P=P.next=Ee,ut.lanes|=oe,Bi|=oe;Ee=se.action,pl&&i(m,Ee),m=se.hasEagerState?se.eagerState:i(m,Ee)}else oe={lane:Ee,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},P===null?(O=P=oe,v=m):P=P.next=oe,ut.lanes|=Ee,Bi|=Ee;se=se.next}while(se!==null&&se!==n);if(P===null?v=m:P.next=O,!c(m,e.memoizedState)&&(jn=!0,be&&(i=Pl,i!==null)))throw i;e.memoizedState=m,e.baseState=v,e.baseQueue=P,o.lastRenderedState=m}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Vu(e){var n=Rn(),i=n.queue;if(i===null)throw Error(y(311));i.lastRenderedReducer=e;var o=i.dispatch,d=i.pending,m=n.memoizedState;if(d!==null){i.pending=null;var v=d=d.next;do m=e(m,v.action),v=v.next;while(v!==d);c(m,n.memoizedState)||(jn=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,o]}function c0(e,n,i){var o=ut,d=Rn(),m=Nt;if(m){if(i===void 0)throw Error(y(407));i=i()}else i=n();var v=!c((Kt||d).memoizedState,i);if(v&&(d.memoizedState=i,jn=!0),d=d.queue,qu(f0.bind(null,o,d,e),[e]),d.getSnapshot!==n||v||Ln!==null&&Ln.memoizedState.tag&1){if(o.flags|=2048,Zl(9,{destroy:void 0},d0.bind(null,o,d,i,n),null),an===null)throw Error(y(349));m||(Wa&127)!==0||u0(o,n,i)}return i}function u0(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=ut.updateQueue,n===null?(n=ec(),ut.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function d0(e,n,i,o){n.value=i,n.getSnapshot=o,h0(n)&&x0(e)}function f0(e,n,i){return i(function(){h0(n)&&x0(e)})}function h0(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!c(e,i)}catch{return!0}}function x0(e){var n=ol(e,2);n!==null&&Ar(n,e,2)}function Xu(e){var n=hr();if(typeof e=="function"){var i=e;if(e=i(),pl){Qt(!0);try{i()}finally{Qt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:e},n}function g0(e,n,i,o){return e.baseState=i,Gu(e,Kt,typeof o=="function"?o:Qa)}function vg(e,n,i,o,d){if(ic(e))throw Error(y(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};j.T!==null?i(!0):m.isTransition=!1,o(m),i=n.pending,i===null?(m.next=n.pending=m,m0(n,m)):(m.next=i.next,n.pending=i.next=m)}}function m0(e,n){var i=n.action,o=n.payload,d=e.state;if(n.isTransition){var m=j.T,v={};j.T=v;try{var O=i(d,o),P=j.S;P!==null&&P(v,O),p0(e,n,O)}catch(se){Yu(e,n,se)}finally{m!==null&&v.types!==null&&(m.types=v.types),j.T=m}}else try{m=i(d,o),p0(e,n,m)}catch(se){Yu(e,n,se)}}function p0(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){b0(e,n,o)},function(o){return Yu(e,n,o)}):b0(e,n,i)}function b0(e,n,i){n.status="fulfilled",n.value=i,y0(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,m0(e,i)))}function Yu(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,y0(n),n=n.next;while(n!==o)}e.action=null}function y0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function w0(e,n){return n}function E0(e,n){if(Nt){var i=an.formState;if(i!==null){e:{var o=ut;if(Nt){if(cn){t:{for(var d=cn,m=Jr;d.nodeType!==8;){if(!m){d=null;break t}if(d=ea(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){cn=ea(d.nextSibling),o=d.data==="F!";break e}}Ti(o)}o=!1}o&&(n=i[0])}}return i=hr(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w0,lastRenderedState:n},i.queue=o,i=H0.bind(null,ut,o),o.dispatch=i,o=Xu(!1),m=Ju.bind(null,ut,!1,o.queue),o=hr(),d={state:n,dispatch:null,action:e,pending:null},o.queue=d,i=vg.bind(null,ut,d,m,i),d.dispatch=i,o.memoizedState=e,[n,i,!1]}function C0(e){var n=Rn();return A0(n,Kt,e)}function A0(e,n,i){if(n=Gu(e,n,w0)[0],e=nc(Qa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=zs(n)}catch(v){throw v===Gl?Yo:v}else o=n;n=Rn();var d=n.queue,m=d.dispatch;return i!==n.memoizedState&&(ut.flags|=2048,Zl(9,{destroy:void 0},Sg.bind(null,d,i),null)),[o,m,e]}function Sg(e,n){e.action=n}function v0(e){var n=Rn(),i=Kt;if(i!==null)return A0(n,i,e);Rn(),n=n.memoizedState,i=Rn();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function Zl(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=ut.updateQueue,n===null&&(n=ec(),ut.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function S0(){return Rn().memoizedState}function rc(e,n,i,o){var d=hr();ut.flags|=e,d.memoizedState=Zl(1|n,{destroy:void 0},i,o===void 0?null:o)}function ac(e,n,i,o){var d=Rn();o=o===void 0?null:o;var m=d.memoizedState.inst;Kt!==null&&o!==null&&ju(o,Kt.memoizedState.deps)?d.memoizedState=Zl(n,m,i,o):(ut.flags|=e,d.memoizedState=Zl(1|n,m,i,o))}function T0(e,n){rc(8390656,8,e,n)}function qu(e,n){ac(2048,8,e,n)}function Tg(e){ut.flags|=4;var n=ut.updateQueue;if(n===null)n=ec(),ut.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function N0(e){var n=Rn().memoizedState;return Tg({ref:n,nextImpl:e}),function(){if((Ut&2)!==0)throw Error(y(440));return n.impl.apply(void 0,arguments)}}function _0(e,n){return ac(4,2,e,n)}function I0(e,n){return ac(4,4,e,n)}function O0(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function R0(e,n,i){i=i!=null?i.concat([e]):null,ac(4,4,O0.bind(null,n,e),i)}function Zu(){}function D0(e,n){var i=Rn();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&ju(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function M0(e,n){var i=Rn();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&ju(n,o[1]))return o[0];if(o=e(),pl){Qt(!0);try{e()}finally{Qt(!1)}}return i.memoizedState=[o,n],o}function Wu(e,n,i){return i===void 0||(Wa&1073741824)!==0&&(St&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=k1(),ut.lanes|=e,Bi|=e,i)}function k0(e,n,i,o){return c(i,n)?i:Xl.current!==null?(e=Wu(e,i,o),c(e,n)||(jn=!0),e):(Wa&42)===0||(Wa&1073741824)!==0&&(St&261930)===0?(jn=!0,e.memoizedState=i):(e=k1(),ut.lanes|=e,Bi|=e,n)}function B0(e,n,i,o,d){var m=$.p;$.p=m!==0&&8>m?m:8;var v=j.T,O={};j.T=O,Ju(e,!1,n,i);try{var P=d(),se=j.S;if(se!==null&&se(O,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var be=Eg(P,o);Us(e,n,be,Ur(e))}else Us(e,n,o,Ur(e))}catch(Ee){Us(e,n,{then:function(){},status:"rejected",reason:Ee},Ur())}finally{$.p=m,v!==null&&O.types!==null&&(v.types=O.types),j.T=v}}function Ng(){}function Qu(e,n,i,o){if(e.tag!==5)throw Error(y(476));var d=L0(e).queue;B0(e,d,n,Ce,i===null?Ng:function(){return j0(e),i(o)})}function L0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:Ce},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function j0(e){var n=L0(e);n.next===null&&(n=e.alternate.memoizedState),Us(e,n.next.queue,{},Ur())}function Ku(){return Jn(no)}function z0(){return Rn().memoizedState}function U0(){return Rn().memoizedState}function _g(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Ur();e=Ii(i);var o=Oi(n,e,i);o!==null&&(Ar(o,n,i),ks(o,n,i)),n={cache:Tu()},e.payload=n;return}n=n.return}}function Ig(e,n,i){var o=Ur();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ic(e)?F0(n,i):(i=gu(e,n,i,o),i!==null&&(Ar(i,e,o),P0(i,n,o)))}function H0(e,n,i){var o=Ur();Us(e,n,i,o)}function Us(e,n,i,o){var d={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(ic(e))F0(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var v=n.lastRenderedState,O=m(v,i);if(d.hasEagerState=!0,d.eagerState=O,c(O,v))return Uo(e,n,d,0),an===null&&zo(),!1}catch{}finally{}if(i=gu(e,n,d,o),i!==null)return Ar(i,e,o),P0(i,n,o),!0}return!1}function Ju(e,n,i,o){if(o={lane:2,revertLane:Od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ic(e)){if(n)throw Error(y(479))}else n=gu(e,i,o,2),n!==null&&Ar(n,e,2)}function ic(e){var n=e.alternate;return e===ut||n!==null&&n===ut}function F0(e,n){Yl=Jo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function P0(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Aa(e,i)}}var Hs={readContext:Jn,use:tc,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useLayoutEffect:vn,useInsertionEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useSyncExternalStore:vn,useId:vn,useHostTransitionStatus:vn,useFormState:vn,useActionState:vn,useOptimistic:vn,useMemoCache:vn,useCacheRefresh:vn};Hs.useEffectEvent=vn;var G0={readContext:Jn,use:tc,useCallback:function(e,n){return hr().memoizedState=[e,n===void 0?null:n],e},useContext:Jn,useEffect:T0,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,rc(4194308,4,O0.bind(null,n,e),i)},useLayoutEffect:function(e,n){return rc(4194308,4,e,n)},useInsertionEffect:function(e,n){rc(4,2,e,n)},useMemo:function(e,n){var i=hr();n=n===void 0?null:n;var o=e();if(pl){Qt(!0);try{e()}finally{Qt(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=hr();if(i!==void 0){var d=i(n);if(pl){Qt(!0);try{i(n)}finally{Qt(!1)}}}else d=n;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=Ig.bind(null,ut,e),[o.memoizedState,e]},useRef:function(e){var n=hr();return e={current:e},n.memoizedState=e},useState:function(e){e=Xu(e);var n=e.queue,i=H0.bind(null,ut,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Zu,useDeferredValue:function(e,n){var i=hr();return Wu(i,e,n)},useTransition:function(){var e=Xu(!1);return e=B0.bind(null,ut,e.queue,!0,!1),hr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=ut,d=hr();if(Nt){if(i===void 0)throw Error(y(407));i=i()}else{if(i=n(),an===null)throw Error(y(349));(St&127)!==0||u0(o,n,i)}d.memoizedState=i;var m={value:i,getSnapshot:n};return d.queue=m,T0(f0.bind(null,o,m,e),[e]),o.flags|=2048,Zl(9,{destroy:void 0},d0.bind(null,o,m,i,n),null),i},useId:function(){var e=hr(),n=an.identifierPrefix;if(Nt){var i=Ia,o=_a;i=(o&~(1<<32-ft(o)-1)).toString(32)+i,n="_"+n+"R_"+i,i=$o++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=Cg++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ku,useFormState:E0,useActionState:E0,useOptimistic:function(e){var n=hr();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Ju.bind(null,ut,!0,i),i.dispatch=n,[e,n]},useMemoCache:Pu,useCacheRefresh:function(){return hr().memoizedState=_g.bind(null,ut)},useEffectEvent:function(e){var n=hr(),i={impl:e};return n.memoizedState=i,function(){if((Ut&2)!==0)throw Error(y(440));return i.impl.apply(void 0,arguments)}}},$u={readContext:Jn,use:tc,useCallback:D0,useContext:Jn,useEffect:qu,useImperativeHandle:R0,useInsertionEffect:_0,useLayoutEffect:I0,useMemo:M0,useReducer:nc,useRef:S0,useState:function(){return nc(Qa)},useDebugValue:Zu,useDeferredValue:function(e,n){var i=Rn();return k0(i,Kt.memoizedState,e,n)},useTransition:function(){var e=nc(Qa)[0],n=Rn().memoizedState;return[typeof e=="boolean"?e:zs(e),n]},useSyncExternalStore:c0,useId:z0,useHostTransitionStatus:Ku,useFormState:C0,useActionState:C0,useOptimistic:function(e,n){var i=Rn();return g0(i,Kt,e,n)},useMemoCache:Pu,useCacheRefresh:U0};$u.useEffectEvent=N0;var V0={readContext:Jn,use:tc,useCallback:D0,useContext:Jn,useEffect:qu,useImperativeHandle:R0,useInsertionEffect:_0,useLayoutEffect:I0,useMemo:M0,useReducer:Vu,useRef:S0,useState:function(){return Vu(Qa)},useDebugValue:Zu,useDeferredValue:function(e,n){var i=Rn();return Kt===null?Wu(i,e,n):k0(i,Kt.memoizedState,e,n)},useTransition:function(){var e=Vu(Qa)[0],n=Rn().memoizedState;return[typeof e=="boolean"?e:zs(e),n]},useSyncExternalStore:c0,useId:z0,useHostTransitionStatus:Ku,useFormState:v0,useActionState:v0,useOptimistic:function(e,n){var i=Rn();return Kt!==null?g0(i,Kt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Pu,useCacheRefresh:U0};V0.useEffectEvent=N0;function ed(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:M({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var td={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=Ur(),d=Ii(o);d.payload=n,i!=null&&(d.callback=i),n=Oi(e,d,o),n!==null&&(Ar(n,e,o),ks(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=Ur(),d=Ii(o);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Oi(e,d,o),n!==null&&(Ar(n,e,o),ks(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ur(),o=Ii(i);o.tag=2,n!=null&&(o.callback=n),n=Oi(e,o,i),n!==null&&(Ar(n,e,i),ks(n,e,i))}};function X0(e,n,i,o,d,m,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,v):n.prototype&&n.prototype.isPureReactComponent?!u(i,o)||!u(d,m):!0}function Y0(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&td.enqueueReplaceState(n,n.state,null)}function bl(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=M({},i));for(var d in e)i[d]===void 0&&(i[d]=e[d])}return i}function q0(e){jo(e)}function Z0(e){console.error(e)}function W0(e){jo(e)}function lc(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Q0(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function nd(e,n,i){return i=Ii(i),i.tag=3,i.payload={element:null},i.callback=function(){lc(e,n)},i}function K0(e){return e=Ii(e),e.tag=3,e}function J0(e,n,i,o){var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;e.payload=function(){return d(m)},e.callback=function(){Q0(n,i,o)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Q0(n,i,o),typeof d!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var O=o.stack;this.componentDidCatch(o.value,{componentStack:O!==null?O:""})})}function Og(e,n,i,o,d){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&Hl(n,i,d,!0),i=Br.current,i!==null){switch(i.tag){case 31:case 13:return $r===null?bc():i.alternate===null&&Sn===0&&(Sn=3),i.flags&=-257,i.flags|=65536,i.lanes=d,o===qo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),Nd(e,o,d)),!1;case 22:return i.flags|=65536,o===qo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),Nd(e,o,d)),!1}throw Error(y(435,i.tag))}return Nd(e,o,d),bc(),!1}if(Nt)return n=Br.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,o!==Eu&&(e=Error(y(422),{cause:o}),Is(Wr(e,i)))):(o!==Eu&&(n=Error(y(423),{cause:o}),Is(Wr(n,i))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=Wr(o,i),d=nd(e.stateNode,o,d),Du(e,d),Sn!==4&&(Sn=2)),!1;var m=Error(y(520),{cause:o});if(m=Wr(m,i),Zs===null?Zs=[m]:Zs.push(m),Sn!==4&&(Sn=2),n===null)return!0;o=Wr(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=d&-d,i.lanes|=e,e=nd(i.stateNode,o,e),Du(i,e),!1;case 1:if(n=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Li===null||!Li.has(m))))return i.flags|=65536,d&=-d,i.lanes|=d,d=K0(d),J0(d,e,i,o),Du(i,d),!1}i=i.return}while(i!==null);return!1}var rd=Error(y(461)),jn=!1;function $n(e,n,i,o){n.child=e===null?n0(n,null,i,o):ml(n,e.child,i,o)}function $0(e,n,i,o,d){i=i.render;var m=n.ref;if("ref"in o){var v={};for(var O in o)O!=="ref"&&(v[O]=o[O])}else v=o;return fl(n),o=zu(e,n,i,v,m,d),O=Uu(),e!==null&&!jn?(Hu(e,n,d),Ka(e,n,d)):(Nt&&O&&yu(n),n.flags|=1,$n(e,n,o,d),n.child)}function e1(e,n,i,o,d){if(e===null){var m=i.type;return typeof m=="function"&&!mu(m)&&m.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=m,t1(e,n,m,o,d)):(e=Fo(i.type,null,o,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!dd(e,d)){var v=m.memoizedProps;if(i=i.compare,i=i!==null?i:u,i(v,o)&&e.ref===n.ref)return Ka(e,n,d)}return n.flags|=1,e=Xa(m,o),e.ref=n.ref,e.return=n,n.child=e}function t1(e,n,i,o,d){if(e!==null){var m=e.memoizedProps;if(u(m,o)&&e.ref===n.ref)if(jn=!1,n.pendingProps=o=m,dd(e,d))(e.flags&131072)!==0&&(jn=!0);else return n.lanes=e.lanes,Ka(e,n,d)}return ad(e,n,i,o,d)}function n1(e,n,i,o){var d=o.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,e!==null){for(o=n.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~m}else o=0,n.child=null;return r1(e,n,m,i,o)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xo(n,m!==null?m.cachePool:null),m!==null?i0(n,m):ku(),l0(n);else return o=n.lanes=536870912,r1(e,n,m!==null?m.baseLanes|i:i,i,o)}else m!==null?(Xo(n,m.cachePool),i0(n,m),Di(),n.memoizedState=null):(e!==null&&Xo(n,null),ku(),Di());return $n(e,n,d,i),n.child}function Fs(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function r1(e,n,i,o,d){var m=_u();return m=m===null?null:{parent:Bn._currentValue,pool:m},n.memoizedState={baseLanes:i,cachePool:m},e!==null&&Xo(n,null),ku(),l0(n),e!==null&&Hl(e,n,o,!0),n.childLanes=d,null}function sc(e,n){return n=cc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function a1(e,n,i){return ml(n,e.child,null,i),e=sc(n,n.pendingProps),e.flags|=2,Lr(n),n.memoizedState=null,e}function Rg(e,n,i){var o=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Nt){if(o.mode==="hidden")return e=sc(n,o),n.lanes=536870912,Fs(null,e);if(Lu(n),(e=cn)?(e=mh(e,Jr),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vi!==null?{id:_a,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},i=Ff(e),i.return=n,n.child=i,Kn=n,cn=null)):e=null,e===null)throw Ti(n);return n.lanes=536870912,null}return sc(n,o)}var m=e.memoizedState;if(m!==null){var v=m.dehydrated;if(Lu(n),d)if(n.flags&256)n.flags&=-257,n=a1(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(y(558));else if(jn||Hl(e,n,i,!1),d=(i&e.childLanes)!==0,jn||d){if(o=an,o!==null&&(v=vl(o,i),v!==0&&v!==m.retryLane))throw m.retryLane=v,ol(e,v),Ar(o,e,v),rd;bc(),n=a1(e,n,i)}else e=m.treeContext,cn=ea(v.nextSibling),Kn=n,Nt=!0,Si=null,Jr=!1,e!==null&&Vf(n,e),n=sc(n,o),n.flags|=4096;return n}return e=Xa(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function oc(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(y(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function ad(e,n,i,o,d){return fl(n),i=zu(e,n,i,o,void 0,d),o=Uu(),e!==null&&!jn?(Hu(e,n,d),Ka(e,n,d)):(Nt&&o&&yu(n),n.flags|=1,$n(e,n,i,d),n.child)}function i1(e,n,i,o,d,m){return fl(n),n.updateQueue=null,i=o0(n,o,i,d),s0(e),o=Uu(),e!==null&&!jn?(Hu(e,n,m),Ka(e,n,m)):(Nt&&o&&yu(n),n.flags|=1,$n(e,n,i,m),n.child)}function l1(e,n,i,o,d){if(fl(n),n.stateNode===null){var m=Ll,v=i.contextType;typeof v=="object"&&v!==null&&(m=Jn(v)),m=new i(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=td,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Ou(n),v=i.contextType,m.context=typeof v=="object"&&v!==null?Jn(v):Ll,m.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(ed(n,i,v,o),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&td.enqueueReplaceState(m,m.state,null),Ls(n,o,m,d),Bs(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){m=n.stateNode;var O=n.memoizedProps,P=bl(i,O);m.props=P;var se=m.context,be=i.contextType;v=Ll,typeof be=="object"&&be!==null&&(v=Jn(be));var Ee=i.getDerivedStateFromProps;be=typeof Ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=n.pendingProps!==O,be||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||se!==v)&&Y0(n,m,o,v),_i=!1;var oe=n.memoizedState;m.state=oe,Ls(n,o,m,d),Bs(),se=n.memoizedState,O||oe!==se||_i?(typeof Ee=="function"&&(ed(n,i,Ee,o),se=n.memoizedState),(P=_i||X0(n,i,P,o,oe,se,v))?(be||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=se),m.props=o,m.state=se,m.context=v,o=P):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Ru(e,n),v=n.memoizedProps,be=bl(i,v),m.props=be,Ee=n.pendingProps,oe=m.context,se=i.contextType,P=Ll,typeof se=="object"&&se!==null&&(P=Jn(se)),O=i.getDerivedStateFromProps,(se=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==Ee||oe!==P)&&Y0(n,m,o,P),_i=!1,oe=n.memoizedState,m.state=oe,Ls(n,o,m,d),Bs();var me=n.memoizedState;v!==Ee||oe!==me||_i||e!==null&&e.dependencies!==null&&Go(e.dependencies)?(typeof O=="function"&&(ed(n,i,O,o),me=n.memoizedState),(be=_i||X0(n,i,be,o,oe,me,P)||e!==null&&e.dependencies!==null&&Go(e.dependencies))?(se||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,me,P),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,me,P)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&oe===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&oe===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=me),m.props=o,m.state=me,m.context=P,o=be):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&oe===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&oe===e.memoizedState||(n.flags|=1024),o=!1)}return m=o,oc(e,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&o?(n.child=ml(n,e.child,null,d),n.child=ml(n,null,i,d)):$n(e,n,i,d),n.memoizedState=m.state,e=n.child):e=Ka(e,n,d),e}function s1(e,n,i,o){return ul(),n.flags|=256,$n(e,n,i,o),n.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(e){return{baseLanes:e,cachePool:Qf()}}function sd(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=zr),e}function o1(e,n,i){var o=n.pendingProps,d=!1,m=(n.flags&128)!==0,v;if((v=m)||(v=e!==null&&e.memoizedState===null?!1:(On.current&2)!==0),v&&(d=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Nt){if(d?Ri(n):Di(),(e=cn)?(e=mh(e,Jr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vi!==null?{id:_a,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},i=Ff(e),i.return=n,n.child=i,Kn=n,cn=null)):e=null,e===null)throw Ti(n);return Gd(e)?n.lanes=32:n.lanes=536870912,null}var O=o.children;return o=o.fallback,d?(Di(),d=n.mode,O=cc({mode:"hidden",children:O},d),o=cl(o,d,i,null),O.return=n,o.return=n,O.sibling=o,n.child=O,o=n.child,o.memoizedState=ld(i),o.childLanes=sd(e,v,i),n.memoizedState=id,Fs(null,o)):(Ri(n),od(n,O))}var P=e.memoizedState;if(P!==null&&(O=P.dehydrated,O!==null)){if(m)n.flags&256?(Ri(n),n.flags&=-257,n=cd(e,n,i)):n.memoizedState!==null?(Di(),n.child=e.child,n.flags|=128,n=null):(Di(),O=o.fallback,d=n.mode,o=cc({mode:"visible",children:o.children},d),O=cl(O,d,i,null),O.flags|=2,o.return=n,O.return=n,o.sibling=O,n.child=o,ml(n,e.child,null,i),o=n.child,o.memoizedState=ld(i),o.childLanes=sd(e,v,i),n.memoizedState=id,n=Fs(null,o));else if(Ri(n),Gd(O)){if(v=O.nextSibling&&O.nextSibling.dataset,v)var se=v.dgst;v=se,o=Error(y(419)),o.stack="",o.digest=v,Is({value:o,source:null,stack:null}),n=cd(e,n,i)}else if(jn||Hl(e,n,i,!1),v=(i&e.childLanes)!==0,jn||v){if(v=an,v!==null&&(o=vl(v,i),o!==0&&o!==P.retryLane))throw P.retryLane=o,ol(e,o),Ar(v,e,o),rd;Pd(O)||bc(),n=cd(e,n,i)}else Pd(O)?(n.flags|=192,n.child=e.child,n=null):(e=P.treeContext,cn=ea(O.nextSibling),Kn=n,Nt=!0,Si=null,Jr=!1,e!==null&&Vf(n,e),n=od(n,o.children),n.flags|=4096);return n}return d?(Di(),O=o.fallback,d=n.mode,P=e.child,se=P.sibling,o=Xa(P,{mode:"hidden",children:o.children}),o.subtreeFlags=P.subtreeFlags&65011712,se!==null?O=Xa(se,O):(O=cl(O,d,i,null),O.flags|=2),O.return=n,o.return=n,o.sibling=O,n.child=o,Fs(null,o),o=n.child,O=e.child.memoizedState,O===null?O=ld(i):(d=O.cachePool,d!==null?(P=Bn._currentValue,d=d.parent!==P?{parent:P,pool:P}:d):d=Qf(),O={baseLanes:O.baseLanes|i,cachePool:d}),o.memoizedState=O,o.childLanes=sd(e,v,i),n.memoizedState=id,Fs(e.child,o)):(Ri(n),i=e.child,e=i.sibling,i=Xa(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=i,n.memoizedState=null,i)}function od(e,n){return n=cc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function cc(e,n){return e=kr(22,e,null,n),e.lanes=0,e}function cd(e,n,i){return ml(n,e.child,null,i),e=od(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function c1(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),vu(e.return,n,i)}function ud(e,n,i,o,d,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:d,treeForkCount:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=i,v.tailMode=d,v.treeForkCount=m)}function u1(e,n,i){var o=n.pendingProps,d=o.revealOrder,m=o.tail;o=o.children;var v=On.current,O=(v&2)!==0;if(O?(v=v&1|2,n.flags|=128):v&=1,_e(On,v),$n(e,n,o,i),o=Nt?_s:0,!O&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&c1(e,i,n);else if(e.tag===19)c1(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(i=n.child,d=null;i!==null;)e=i.alternate,e!==null&&Ko(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),ud(n,!1,d,i,m,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Ko(e)===null){n.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}ud(n,!0,i,null,m,o);break;case"together":ud(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ka(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Bi|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Hl(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(y(153));if(n.child!==null){for(e=n.child,i=Xa(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Xa(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function dd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Go(e)))}function Dg(e,n,i){switch(n.tag){case 3:J(n,n.stateNode.containerInfo),Ni(n,Bn,e.memoizedState.cache),ul();break;case 27:case 5:at(n);break;case 4:J(n,n.stateNode.containerInfo);break;case 10:Ni(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Lu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ri(n),n.flags|=128,null):(i&n.child.childLanes)!==0?o1(e,n,i):(Ri(n),e=Ka(e,n,i),e!==null?e.sibling:null);Ri(n);break;case 19:var d=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(Hl(e,n,i,!1),o=(i&n.childLanes)!==0),d){if(o)return u1(e,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),_e(On,On.current),o)break;return null;case 22:return n.lanes=0,n1(e,n,i,n.pendingProps);case 24:Ni(n,Bn,e.memoizedState.cache)}return Ka(e,n,i)}function d1(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)jn=!0;else{if(!dd(e,i)&&(n.flags&128)===0)return jn=!1,Dg(e,n,i);jn=(e.flags&131072)!==0}else jn=!1,Nt&&(n.flags&1048576)!==0&&Gf(n,_s,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=xl(n.elementType),n.type=e,typeof e=="function")mu(e)?(o=bl(e,o),n.tag=1,n=l1(null,n,e,o,i)):(n.tag=0,n=ad(null,n,e,o,i));else{if(e!=null){var d=e.$$typeof;if(d===X){n.tag=11,n=$0(null,n,e,o,i);break e}else if(d===D){n.tag=14,n=e1(null,n,e,o,i);break e}}throw n=ve(e)||e,Error(y(306,n,""))}}return n;case 0:return ad(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,d=bl(o,n.pendingProps),l1(e,n,o,d,i);case 3:e:{if(J(n,n.stateNode.containerInfo),e===null)throw Error(y(387));o=n.pendingProps;var m=n.memoizedState;d=m.element,Ru(e,n),Ls(n,o,null,i);var v=n.memoizedState;if(o=v.cache,Ni(n,Bn,o),o!==m.cache&&Su(n,[Bn],i,!0),Bs(),o=v.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=s1(e,n,o,i);break e}else if(o!==d){d=Wr(Error(y(424)),n),Is(d),n=s1(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(cn=ea(e.firstChild),Kn=n,Nt=!0,Si=null,Jr=!0,i=n0(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ul(),o===d){n=Ka(e,n,i);break e}$n(e,n,o,i)}n=n.child}return n;case 26:return oc(e,n),e===null?(i=Ch(n.type,null,n.pendingProps,null))?n.memoizedState=i:Nt||(i=n.type,e=n.pendingProps,o=Sc(we.current).createElement(i),o[Nn]=n,o[qt]=e,er(o,i,e),Cn(o),n.stateNode=o):n.memoizedState=Ch(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return at(n),e===null&&Nt&&(o=n.stateNode=yh(n.type,n.pendingProps,we.current),Kn=n,Jr=!0,d=cn,Hi(n.type)?(Vd=d,cn=ea(o.firstChild)):cn=d),$n(e,n,n.pendingProps.children,i),oc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Nt&&((d=o=cn)&&(o=om(o,n.type,n.pendingProps,Jr),o!==null?(n.stateNode=o,Kn=n,cn=ea(o.firstChild),Jr=!1,d=!0):d=!1),d||Ti(n)),at(n),d=n.type,m=n.pendingProps,v=e!==null?e.memoizedProps:null,o=m.children,Ud(d,m)?o=null:v!==null&&Ud(d,v)&&(n.flags|=32),n.memoizedState!==null&&(d=zu(e,n,Ag,null,null,i),no._currentValue=d),oc(e,n),$n(e,n,o,i),n.child;case 6:return e===null&&Nt&&((e=i=cn)&&(i=cm(i,n.pendingProps,Jr),i!==null?(n.stateNode=i,Kn=n,cn=null,e=!0):e=!1),e||Ti(n)),null;case 13:return o1(e,n,i);case 4:return J(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ml(n,null,o,i):$n(e,n,o,i),n.child;case 11:return $0(e,n,n.type,n.pendingProps,i);case 7:return $n(e,n,n.pendingProps,i),n.child;case 8:return $n(e,n,n.pendingProps.children,i),n.child;case 12:return $n(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Ni(n,n.type,o.value),$n(e,n,o.children,i),n.child;case 9:return d=n.type._context,o=n.pendingProps.children,fl(n),d=Jn(d),o=o(d),n.flags|=1,$n(e,n,o,i),n.child;case 14:return e1(e,n,n.type,n.pendingProps,i);case 15:return t1(e,n,n.type,n.pendingProps,i);case 19:return u1(e,n,i);case 31:return Rg(e,n,i);case 22:return n1(e,n,i,n.pendingProps);case 24:return fl(n),o=Jn(Bn),e===null?(d=_u(),d===null&&(d=an,m=Tu(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=i),d=m),n.memoizedState={parent:o,cache:d},Ou(n),Ni(n,Bn,d)):((e.lanes&i)!==0&&(Ru(e,n),Ls(n,null,null,i),Bs()),d=e.memoizedState,m=n.memoizedState,d.parent!==o?(d={parent:o,cache:o},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Ni(n,Bn,o)):(o=m.cache,Ni(n,Bn,o),o!==d.cache&&Su(n,[Bn],i,!0))),$n(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(y(156,n.tag))}function Ja(e){e.flags|=4}function fd(e,n,i,o,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(z1())e.flags|=8192;else throw gl=qo,Iu}else e.flags&=-16777217}function f1(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Nh(n))if(z1())e.flags|=8192;else throw gl=qo,Iu}function uc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Hn():536870912,e.lanes|=n,Jl|=n)}function Ps(e,n){if(!Nt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function un(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function Mg(e,n,i){var o=n.pendingProps;switch(wu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(n),null;case 1:return un(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Za(Bn),Oe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ul(n)?Ja(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Cu())),un(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(Ja(n),m!==null?(un(n),f1(n,m)):(un(n),fd(n,d,null,o,i))):m?m!==e.memoizedState?(Ja(n),un(n),f1(n,m)):(un(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ja(n),un(n),fd(n,d,e,o,i)),null;case 27:if($e(n),i=we.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ja(n);else{if(!o){if(n.stateNode===null)throw Error(y(166));return un(n),null}e=Be.current,Ul(n)?Xf(n):(e=yh(d,o,i),n.stateNode=e,Ja(n))}return un(n),null;case 5:if($e(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ja(n);else{if(!o){if(n.stateNode===null)throw Error(y(166));return un(n),null}if(m=Be.current,Ul(n))Xf(n);else{var v=Sc(we.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?v.createElement(d,{is:o.is}):v.createElement(d)}}m[Nn]=n,m[qt]=o;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=m;e:switch(er(m,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ja(n)}}return un(n),fd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ja(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(y(166));if(e=we.current,Ul(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,d=Kn,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[Nn]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||oh(e.nodeValue,i)),e||Ti(n,!0)}else e=Sc(e).createTextNode(o),e[Nn]=n,n.stateNode=e}return un(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ul(n),i!==null){if(e===null){if(!o)throw Error(y(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(557));e[Nn]=n}else ul(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;un(n),e=!1}else i=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Lr(n),n):(Lr(n),null);if((n.flags&128)!==0)throw Error(y(558))}return un(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ul(n),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(y(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(y(317));d[Nn]=n}else ul(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;un(n),d=!1}else d=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Lr(n),n):(Lr(n),null)}return Lr(n),(n.flags&128)!==0?(n.lanes=i,n):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=n.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),uc(n,n.updateQueue),un(n),null);case 4:return Oe(),e===null&&kd(n.stateNode.containerInfo),un(n),null;case 10:return Za(n.type),un(n),null;case 19:if(ue(On),o=n.memoizedState,o===null)return un(n),null;if(d=(n.flags&128)!==0,m=o.rendering,m===null)if(d)Ps(o,!1);else{if(Sn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Ko(e),m!==null){for(n.flags|=128,Ps(o,!1),e=m.updateQueue,n.updateQueue=e,uc(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Hf(i,e),i=i.sibling;return _e(On,On.current&1|2),Nt&&Ya(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ft()>gc&&(n.flags|=128,d=!0,Ps(o,!1),n.lanes=4194304)}else{if(!d)if(e=Ko(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,uc(n,e),Ps(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Nt)return un(n),null}else 2*Ft()-o.renderingStartTime>gc&&i!==536870912&&(n.flags|=128,d=!0,Ps(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(e=o.last,e!==null?e.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ft(),e.sibling=null,i=On.current,_e(On,d?i&1|2:i&1),Nt&&Ya(n,o.treeForkCount),e):(un(n),null);case 22:case 23:return Lr(n),Bu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(un(n),n.subtreeFlags&6&&(n.flags|=8192)):un(n),i=n.updateQueue,i!==null&&uc(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&ue(hl),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Za(Bn),un(n),null;case 25:return null;case 30:return null}throw Error(y(156,n.tag))}function kg(e,n){switch(wu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Za(Bn),Oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $e(n),null;case 31:if(n.memoizedState!==null){if(Lr(n),n.alternate===null)throw Error(y(340));ul()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Lr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(y(340));ul()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ue(On),null;case 4:return Oe(),null;case 10:return Za(n.type),null;case 22:case 23:return Lr(n),Bu(),e!==null&&ue(hl),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Za(Bn),null;case 25:return null;default:return null}}function h1(e,n){switch(wu(n),n.tag){case 3:Za(Bn),Oe();break;case 26:case 27:case 5:$e(n);break;case 4:Oe();break;case 31:n.memoizedState!==null&&Lr(n);break;case 13:Lr(n);break;case 19:ue(On);break;case 10:Za(n.type);break;case 22:case 23:Lr(n),Bu(),e!==null&&ue(hl);break;case 24:Za(Bn)}}function Gs(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var d=o.next;i=d;do{if((i.tag&e)===e){o=void 0;var m=i.create,v=i.inst;o=m(),v.destroy=o}i=i.next}while(i!==d)}}catch(O){Wt(n,n.return,O)}}function Mi(e,n,i){try{var o=n.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&e)===e){var v=o.inst,O=v.destroy;if(O!==void 0){v.destroy=void 0,d=n;var P=i,se=O;try{se()}catch(be){Wt(d,P,be)}}}o=o.next}while(o!==m)}}catch(be){Wt(n,n.return,be)}}function x1(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{a0(n,i)}catch(o){Wt(e,e.return,o)}}}function g1(e,n,i){i.props=bl(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Wt(e,n,o)}}function Vs(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(d){Wt(e,n,d)}}function Oa(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(d){Wt(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(d){Wt(e,n,d)}else i.current=null}function m1(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(d){Wt(e,e.return,d)}}function hd(e,n,i){try{var o=e.stateNode;nm(o,e.type,i,n),o[qt]=n}catch(d){Wt(e,e.return,d)}}function p1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hi(e.type)||e.tag===4}function xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||p1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gd(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=mr));else if(o!==4&&(o===27&&Hi(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(gd(e,n,i),e=e.sibling;e!==null;)gd(e,n,i),e=e.sibling}function dc(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&Hi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(dc(e,n,i),e=e.sibling;e!==null;)dc(e,n,i),e=e.sibling}function b1(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);er(n,o,i),n[Nn]=e,n[qt]=i}catch(m){Wt(e,e.return,m)}}var $a=!1,zn=!1,md=!1,y1=typeof WeakSet=="function"?WeakSet:Set,qn=null;function Bg(e,n){if(e=e.containerInfo,jd=Dc,e=T(e),I(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var v=0,O=-1,P=-1,se=0,be=0,Ee=e,oe=null;t:for(;;){for(var me;Ee!==i||d!==0&&Ee.nodeType!==3||(O=v+d),Ee!==m||o!==0&&Ee.nodeType!==3||(P=v+o),Ee.nodeType===3&&(v+=Ee.nodeValue.length),(me=Ee.firstChild)!==null;)oe=Ee,Ee=me;for(;;){if(Ee===e)break t;if(oe===i&&++se===d&&(O=v),oe===m&&++be===o&&(P=v),(me=Ee.nextSibling)!==null)break;Ee=oe,oe=Ee.parentNode}Ee=me}i=O===-1||P===-1?null:{start:O,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(zd={focusedElem:e,selectionRange:i},Dc=!1,qn=n;qn!==null;)if(n=qn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qn=e;else for(;qn!==null;){switch(n=qn,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)d=e[i],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,i=n,d=m.memoizedProps,m=m.memoizedState,o=i.stateNode;try{var Ge=bl(i.type,d);e=o.getSnapshotBeforeUpdate(Ge,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(et){Wt(i,i.return,et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Fd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(y(163))}if(e=n.sibling,e!==null){e.return=n.return,qn=e;break}qn=n.return}}function w1(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:ti(e,i),o&4&&Gs(5,i);break;case 1:if(ti(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(v){Wt(i,i.return,v)}else{var d=bl(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(i,i.return,v)}}o&64&&x1(i),o&512&&Vs(i,i.return);break;case 3:if(ti(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{a0(e,n)}catch(v){Wt(i,i.return,v)}}break;case 27:n===null&&o&4&&b1(i);case 26:case 5:ti(e,i),n===null&&o&4&&m1(i),o&512&&Vs(i,i.return);break;case 12:ti(e,i);break;case 31:ti(e,i),o&4&&A1(e,i);break;case 13:ti(e,i),o&4&&v1(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Vg.bind(null,i),um(e,i))));break;case 22:if(o=i.memoizedState!==null||$a,!o){n=n!==null&&n.memoizedState!==null||zn,d=$a;var m=zn;$a=o,(zn=n)&&!m?ni(e,i,(i.subtreeFlags&8772)!==0):ti(e,i),$a=d,zn=m}break;case 30:break;default:ti(e,i)}}function E1(e){var n=e.alternate;n!==null&&(e.alternate=null,E1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&gr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pn=null,yr=!1;function ei(e,n,i){for(i=i.child;i!==null;)C1(e,n,i),i=i.sibling}function C1(e,n,i){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(ln,i)}catch{}switch(i.tag){case 26:zn||Oa(i,n),ei(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:zn||Oa(i,n);var o=pn,d=yr;Hi(i.type)&&(pn=i.stateNode,yr=!1),ei(e,n,i),$s(i.stateNode),pn=o,yr=d;break;case 5:zn||Oa(i,n);case 6:if(o=pn,d=yr,pn=null,ei(e,n,i),pn=o,yr=d,pn!==null)if(yr)try{(pn.nodeType===9?pn.body:pn.nodeName==="HTML"?pn.ownerDocument.body:pn).removeChild(i.stateNode)}catch(m){Wt(i,n,m)}else try{pn.removeChild(i.stateNode)}catch(m){Wt(i,n,m)}break;case 18:pn!==null&&(yr?(e=pn,xh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ls(e)):xh(pn,i.stateNode));break;case 4:o=pn,d=yr,pn=i.stateNode.containerInfo,yr=!0,ei(e,n,i),pn=o,yr=d;break;case 0:case 11:case 14:case 15:Mi(2,i,n),zn||Mi(4,i,n),ei(e,n,i);break;case 1:zn||(Oa(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&g1(i,n,o)),ei(e,n,i);break;case 21:ei(e,n,i);break;case 22:zn=(o=zn)||i.memoizedState!==null,ei(e,n,i),zn=o;break;default:ei(e,n,i)}}function A1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ls(e)}catch(i){Wt(n,n.return,i)}}}function v1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ls(e)}catch(i){Wt(n,n.return,i)}}function Lg(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new y1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new y1),n;default:throw Error(y(435,e.tag))}}function fc(e,n){var i=Lg(e);n.forEach(function(o){if(!i.has(o)){i.add(o);var d=Xg.bind(null,e,o);o.then(d,d)}})}function wr(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var d=i[o],m=e,v=n,O=v;e:for(;O!==null;){switch(O.tag){case 27:if(Hi(O.type)){pn=O.stateNode,yr=!1;break e}break;case 5:pn=O.stateNode,yr=!1;break e;case 3:case 4:pn=O.stateNode.containerInfo,yr=!0;break e}O=O.return}if(pn===null)throw Error(y(160));C1(m,v,d),pn=null,yr=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)S1(n,e),n=n.sibling}var da=null;function S1(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wr(n,e),Er(e),o&4&&(Mi(3,e,e.return),Gs(3,e),Mi(5,e,e.return));break;case 1:wr(n,e),Er(e),o&512&&(zn||i===null||Oa(i,i.return)),o&64&&$a&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var d=da;if(wr(n,e),Er(e),o&512&&(zn||i===null||Oa(i,i.return)),o&4){var m=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":m=d.getElementsByTagName("title")[0],(!m||m[$i]||m[Nn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(o),d.head.insertBefore(m,d.querySelector("head > title"))),er(m,o,i),m[Nn]=e,Cn(m),o=m;break e;case"link":var v=Sh("link","href",d).get(o+(i.href||""));if(v){for(var O=0;O<v.length;O++)if(m=v[O],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(O,1);break t}}m=d.createElement(o),er(m,o,i),d.head.appendChild(m);break;case"meta":if(v=Sh("meta","content",d).get(o+(i.content||""))){for(O=0;O<v.length;O++)if(m=v[O],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(O,1);break t}}m=d.createElement(o),er(m,o,i),d.head.appendChild(m);break;default:throw Error(y(468,o))}m[Nn]=e,Cn(m),o=m}e.stateNode=o}else Th(d,e.type,e.stateNode);else e.stateNode=vh(d,o,e.memoizedProps);else m!==o?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,o===null?Th(d,e.type,e.stateNode):vh(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&hd(e,e.memoizedProps,i.memoizedProps)}break;case 27:wr(n,e),Er(e),o&512&&(zn||i===null||Oa(i,i.return)),i!==null&&o&4&&hd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(wr(n,e),Er(e),o&512&&(zn||i===null||Oa(i,i.return)),e.flags&32){d=e.stateNode;try{gi(d,"")}catch(Ge){Wt(e,e.return,Ge)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,hd(e,d,i!==null?i.memoizedProps:d)),o&1024&&(md=!0);break;case 6:if(wr(n,e),Er(e),o&4){if(e.stateNode===null)throw Error(y(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(Ge){Wt(e,e.return,Ge)}}break;case 3:if(_c=null,d=da,da=Tc(n.containerInfo),wr(n,e),da=d,Er(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{ls(n.containerInfo)}catch(Ge){Wt(e,e.return,Ge)}md&&(md=!1,T1(e));break;case 4:o=da,da=Tc(e.stateNode.containerInfo),wr(n,e),Er(e),da=o;break;case 12:wr(n,e),Er(e);break;case 31:wr(n,e),Er(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 13:wr(n,e),Er(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(xc=Ft()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 22:d=e.memoizedState!==null;var P=i!==null&&i.memoizedState!==null,se=$a,be=zn;if($a=se||d,zn=be||P,wr(n,e),zn=be,$a=se,Er(e),o&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(i===null||P||$a||zn||yl(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){P=i=n;try{if(m=P.stateNode,d)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{O=P.stateNode;var Ee=P.memoizedProps.style,oe=Ee!=null&&Ee.hasOwnProperty("display")?Ee.display:null;O.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Ge){Wt(P,P.return,Ge)}}}else if(n.tag===6){if(i===null){P=n;try{P.stateNode.nodeValue=d?"":P.memoizedProps}catch(Ge){Wt(P,P.return,Ge)}}}else if(n.tag===18){if(i===null){P=n;try{var me=P.stateNode;d?gh(me,!0):gh(P.stateNode,!1)}catch(Ge){Wt(P,P.return,Ge)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,fc(e,i))));break;case 19:wr(n,e),Er(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,fc(e,o)));break;case 30:break;case 21:break;default:wr(n,e),Er(e)}}function Er(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(p1(o)){i=o;break}o=o.return}if(i==null)throw Error(y(160));switch(i.tag){case 27:var d=i.stateNode,m=xd(e);dc(e,m,d);break;case 5:var v=i.stateNode;i.flags&32&&(gi(v,""),i.flags&=-33);var O=xd(e);dc(e,O,v);break;case 3:case 4:var P=i.stateNode.containerInfo,se=xd(e);gd(e,se,P);break;default:throw Error(y(161))}}catch(be){Wt(e,e.return,be)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function T1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;T1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ti(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)w1(e,n.alternate,n),n=n.sibling}function yl(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Mi(4,n,n.return),yl(n);break;case 1:Oa(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&g1(n,n.return,i),yl(n);break;case 27:$s(n.stateNode);case 26:case 5:Oa(n,n.return),yl(n);break;case 22:n.memoizedState===null&&yl(n);break;case 30:yl(n);break;default:yl(n)}e=e.sibling}}function ni(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,d=e,m=n,v=m.flags;switch(m.tag){case 0:case 11:case 15:ni(d,m,i),Gs(4,m);break;case 1:if(ni(d,m,i),o=m,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(se){Wt(o,o.return,se)}if(o=m,d=o.updateQueue,d!==null){var O=o.stateNode;try{var P=d.shared.hiddenCallbacks;if(P!==null)for(d.shared.hiddenCallbacks=null,d=0;d<P.length;d++)r0(P[d],O)}catch(se){Wt(o,o.return,se)}}i&&v&64&&x1(m),Vs(m,m.return);break;case 27:b1(m);case 26:case 5:ni(d,m,i),i&&o===null&&v&4&&m1(m),Vs(m,m.return);break;case 12:ni(d,m,i);break;case 31:ni(d,m,i),i&&v&4&&A1(d,m);break;case 13:ni(d,m,i),i&&v&4&&v1(d,m);break;case 22:m.memoizedState===null&&ni(d,m,i),Vs(m,m.return);break;case 30:break;default:ni(d,m,i)}n=n.sibling}}function pd(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Os(i))}function bd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Os(e))}function fa(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)N1(e,n,i,o),n=n.sibling}function N1(e,n,i,o){var d=n.flags;switch(n.tag){case 0:case 11:case 15:fa(e,n,i,o),d&2048&&Gs(9,n);break;case 1:fa(e,n,i,o);break;case 3:fa(e,n,i,o),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Os(e)));break;case 12:if(d&2048){fa(e,n,i,o),e=n.stateNode;try{var m=n.memoizedProps,v=m.id,O=m.onPostCommit;typeof O=="function"&&O(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){Wt(n,n.return,P)}}else fa(e,n,i,o);break;case 31:fa(e,n,i,o);break;case 13:fa(e,n,i,o);break;case 23:break;case 22:m=n.stateNode,v=n.alternate,n.memoizedState!==null?m._visibility&2?fa(e,n,i,o):Xs(e,n):m._visibility&2?fa(e,n,i,o):(m._visibility|=2,Wl(e,n,i,o,(n.subtreeFlags&10256)!==0||!1)),d&2048&&pd(v,n);break;case 24:fa(e,n,i,o),d&2048&&bd(n.alternate,n);break;default:fa(e,n,i,o)}}function Wl(e,n,i,o,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,v=n,O=i,P=o,se=v.flags;switch(v.tag){case 0:case 11:case 15:Wl(m,v,O,P,d),Gs(8,v);break;case 23:break;case 22:var be=v.stateNode;v.memoizedState!==null?be._visibility&2?Wl(m,v,O,P,d):Xs(m,v):(be._visibility|=2,Wl(m,v,O,P,d)),d&&se&2048&&pd(v.alternate,v);break;case 24:Wl(m,v,O,P,d),d&&se&2048&&bd(v.alternate,v);break;default:Wl(m,v,O,P,d)}n=n.sibling}}function Xs(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,d=o.flags;switch(o.tag){case 22:Xs(i,o),d&2048&&pd(o.alternate,o);break;case 24:Xs(i,o),d&2048&&bd(o.alternate,o);break;default:Xs(i,o)}n=n.sibling}}var Ys=8192;function Ql(e,n,i){if(e.subtreeFlags&Ys)for(e=e.child;e!==null;)_1(e,n,i),e=e.sibling}function _1(e,n,i){switch(e.tag){case 26:Ql(e,n,i),e.flags&Ys&&e.memoizedState!==null&&Cm(i,da,e.memoizedState,e.memoizedProps);break;case 5:Ql(e,n,i);break;case 3:case 4:var o=da;da=Tc(e.stateNode.containerInfo),Ql(e,n,i),da=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Ys,Ys=16777216,Ql(e,n,i),Ys=o):Ql(e,n,i));break;default:Ql(e,n,i)}}function I1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function qs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];qn=o,R1(o,e)}I1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)O1(e),e=e.sibling}function O1(e){switch(e.tag){case 0:case 11:case 15:qs(e),e.flags&2048&&Mi(9,e,e.return);break;case 3:qs(e);break;case 12:qs(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,hc(e)):qs(e);break;default:qs(e)}}function hc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];qn=o,R1(o,e)}I1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Mi(8,n,n.return),hc(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,hc(n));break;default:hc(n)}e=e.sibling}}function R1(e,n){for(;qn!==null;){var i=qn;switch(i.tag){case 0:case 11:case 15:Mi(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Os(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,qn=o;else e:for(i=e;qn!==null;){o=qn;var d=o.sibling,m=o.return;if(E1(o),o===i){qn=null;break e}if(d!==null){d.return=m,qn=d;break e}qn=m}}}var jg={getCacheForType:function(e){var n=Jn(Bn),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return Jn(Bn).controller.signal}},zg=typeof WeakMap=="function"?WeakMap:Map,Ut=0,an=null,Et=null,St=0,Zt=0,jr=null,ki=!1,Kl=!1,yd=!1,ri=0,Sn=0,Bi=0,wl=0,wd=0,zr=0,Jl=0,Zs=null,Cr=null,Ed=!1,xc=0,D1=0,gc=1/0,mc=null,Li=null,Vn=0,ji=null,$l=null,ai=0,Cd=0,Ad=null,M1=null,Ws=0,vd=null;function Ur(){return(Ut&2)!==0&&St!==0?St&-St:j.T!==null?Od():sr()}function k1(){if(zr===0)if((St&536870912)===0||Nt){var e=At;At<<=1,(At&3932160)===0&&(At=262144),zr=e}else zr=536870912;return e=Br.current,e!==null&&(e.flags|=32),zr}function Ar(e,n,i){(e===an&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(es(e,0),zi(e,St,zr,!1)),Ca(e,i),((Ut&2)===0||e!==an)&&(e===an&&((Ut&2)===0&&(wl|=i),Sn===4&&zi(e,St,zr,!1)),Ra(e))}function B1(e,n,i){if((Ut&6)!==0)throw Error(y(327));var o=!i&&(n&127)===0&&(n&e.expiredLanes)===0||Wn(e,n),d=o?Fg(e,n):Td(e,n,!0),m=o;do{if(d===0){Kl&&!o&&zi(e,n,0,!1);break}else{if(i=e.current.alternate,m&&!Ug(i)){d=Td(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var O=e;d=Zs;var P=O.current.memoizedState.isDehydrated;if(P&&(es(O,v).flags|=256),v=Td(O,v,!1),v!==2){if(yd&&!P){O.errorRecoveryDisabledLanes|=m,wl|=m,d=4;break e}m=Cr,Cr=d,m!==null&&(Cr===null?Cr=m:Cr.push.apply(Cr,m))}d=v}if(m=!1,d!==2)continue}}if(d===1){es(e,0),zi(e,n,0,!0);break}e:{switch(o=e,m=d,m){case 0:case 1:throw Error(y(345));case 4:if((n&4194048)!==n)break;case 6:zi(o,n,zr,!ki);break e;case 2:Cr=null;break;case 3:case 5:break;default:throw Error(y(329))}if((n&62914560)===n&&(d=xc+300-Ft(),10<d)){if(zi(o,n,zr,!ki),Ji(o,0,!0)!==0)break e;ai=n,o.timeoutHandle=fh(L1.bind(null,o,i,Cr,mc,Ed,n,zr,wl,Jl,ki,m,"Throttled",-0,0),d);break e}L1(o,i,Cr,mc,Ed,n,zr,wl,Jl,ki,m,null,-0,0)}}break}while(!0);Ra(e)}function L1(e,n,i,o,d,m,v,O,P,se,be,Ee,oe,me){if(e.timeoutHandle=-1,Ee=n.subtreeFlags,Ee&8192||(Ee&16785408)===16785408){Ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mr},_1(n,m,Ee);var Ge=(m&62914560)===m?xc-Ft():(m&4194048)===m?D1-Ft():0;if(Ge=Am(Ee,Ge),Ge!==null){ai=m,e.cancelPendingCommit=Ge(V1.bind(null,e,n,m,i,o,d,v,O,P,be,Ee,null,oe,me)),zi(e,m,v,!se);return}}V1(e,n,m,i,o,d,v,O,P)}function Ug(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var d=i[o],m=d.getSnapshot;d=d.value;try{if(!c(m(),d))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zi(e,n,i,o){n&=~wd,n&=~wl,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var d=n;0<d;){var m=31-ft(d),v=1<<m;o[m]=-1,d&=~v}i!==0&&Co(e,i,n)}function pc(){return(Ut&6)===0?(Qs(0),!1):!0}function Sd(){if(Et!==null){if(Zt===0)var e=Et.return;else e=Et,qa=dl=null,Fu(e),Vl=null,Ds=0,e=Et;for(;e!==null;)h1(e.alternate,e),e=e.return;Et=null}}function es(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,im(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ai=0,Sd(),an=e,Et=i=Xa(e.current,null),St=n,Zt=0,jr=null,ki=!1,Kl=Wn(e,n),yd=!1,Jl=zr=wd=wl=Bi=Sn=0,Cr=Zs=null,Ed=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var d=31-ft(o),m=1<<d;n|=e[d],o&=~m}return ri=n,zo(),i}function j1(e,n){ut=null,j.H=Hs,n===Gl||n===Yo?(n=$f(),Zt=3):n===Iu?(n=$f(),Zt=4):Zt=n===rd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jr=n,Et===null&&(Sn=1,lc(e,Wr(n,e.current)))}function z1(){var e=Br.current;return e===null?!0:(St&4194048)===St?$r===null:(St&62914560)===St||(St&536870912)!==0?e===$r:!1}function U1(){var e=j.H;return j.H=Hs,e===null?Hs:e}function H1(){var e=j.A;return j.A=jg,e}function bc(){Sn=4,ki||(St&4194048)!==St&&Br.current!==null||(Kl=!0),(Bi&134217727)===0&&(wl&134217727)===0||an===null||zi(an,St,zr,!1)}function Td(e,n,i){var o=Ut;Ut|=2;var d=U1(),m=H1();(an!==e||St!==n)&&(mc=null,es(e,n)),n=!1;var v=Sn;e:do try{if(Zt!==0&&Et!==null){var O=Et,P=jr;switch(Zt){case 8:Sd(),v=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(n=!0);var se=Zt;if(Zt=0,jr=null,ts(e,O,P,se),i&&Kl){v=0;break e}break;default:se=Zt,Zt=0,jr=null,ts(e,O,P,se)}}Hg(),v=Sn;break}catch(be){j1(e,be)}while(!0);return n&&e.shellSuspendCounter++,qa=dl=null,Ut=o,j.H=d,j.A=m,Et===null&&(an=null,St=0,zo()),v}function Hg(){for(;Et!==null;)F1(Et)}function Fg(e,n){var i=Ut;Ut|=2;var o=U1(),d=H1();an!==e||St!==n?(mc=null,gc=Ft()+500,es(e,n)):Kl=Wn(e,n);e:do try{if(Zt!==0&&Et!==null){n=Et;var m=jr;t:switch(Zt){case 1:Zt=0,jr=null,ts(e,n,m,1);break;case 2:case 9:if(Kf(m)){Zt=0,jr=null,P1(n);break}n=function(){Zt!==2&&Zt!==9||an!==e||(Zt=7),Ra(e)},m.then(n,n);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:Kf(m)?(Zt=0,jr=null,P1(n)):(Zt=0,jr=null,ts(e,n,m,7));break;case 5:var v=null;switch(Et.tag){case 26:v=Et.memoizedState;case 5:case 27:var O=Et;if(v?Nh(v):O.stateNode.complete){Zt=0,jr=null;var P=O.sibling;if(P!==null)Et=P;else{var se=O.return;se!==null?(Et=se,yc(se)):Et=null}break t}}Zt=0,jr=null,ts(e,n,m,5);break;case 6:Zt=0,jr=null,ts(e,n,m,6);break;case 8:Sd(),Sn=6;break e;default:throw Error(y(462))}}Pg();break}catch(be){j1(e,be)}while(!0);return qa=dl=null,j.H=o,j.A=d,Ut=i,Et!==null?0:(an=null,St=0,zo(),Sn)}function Pg(){for(;Et!==null&&!Sr();)F1(Et)}function F1(e){var n=d1(e.alternate,e,ri);e.memoizedProps=e.pendingProps,n===null?yc(e):Et=n}function P1(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=i1(i,n,n.pendingProps,n.type,void 0,St);break;case 11:n=i1(i,n,n.pendingProps,n.type.render,n.ref,St);break;case 5:Fu(n);default:h1(i,n),n=Et=Hf(n,ri),n=d1(i,n,ri)}e.memoizedProps=e.pendingProps,n===null?yc(e):Et=n}function ts(e,n,i,o){qa=dl=null,Fu(n),Vl=null,Ds=0;var d=n.return;try{if(Og(e,d,n,i,St)){Sn=1,lc(e,Wr(i,e.current)),Et=null;return}}catch(m){if(d!==null)throw Et=d,m;Sn=1,lc(e,Wr(i,e.current)),Et=null;return}n.flags&32768?(Nt||o===1?e=!0:Kl||(St&536870912)!==0?e=!1:(ki=e=!0,(o===2||o===9||o===3||o===6)&&(o=Br.current,o!==null&&o.tag===13&&(o.flags|=16384))),G1(n,e)):yc(n)}function yc(e){var n=e;do{if((n.flags&32768)!==0){G1(n,ki);return}e=n.return;var i=Mg(n.alternate,n,ri);if(i!==null){Et=i;return}if(n=n.sibling,n!==null){Et=n;return}Et=n=e}while(n!==null);Sn===0&&(Sn=5)}function G1(e,n){do{var i=kg(e.alternate,e);if(i!==null){i.flags&=32767,Et=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Et=e;return}Et=e=i}while(e!==null);Sn=6,Et=null}function V1(e,n,i,o,d,m,v,O,P){e.cancelPendingCommit=null;do wc();while(Vn!==0);if((Ut&6)!==0)throw Error(y(327));if(n!==null){if(n===e.current)throw Error(y(177));if(m=n.lanes|n.childLanes,m|=xu,Vr(e,i,m,v,O,P),e===an&&(Et=an=null,St=0),$l=n,ji=e,ai=i,Cd=m,Ad=d,M1=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yg(nr,function(){return W1(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,d=$.p,$.p=2,v=Ut,Ut|=4;try{Bg(e,n,i)}finally{Ut=v,$.p=d,j.T=o}}Vn=1,X1(),Y1(),q1()}}function X1(){if(Vn===1){Vn=0;var e=ji,n=$l,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=j.T,j.T=null;var o=$.p;$.p=2;var d=Ut;Ut|=4;try{S1(n,e);var m=zd,v=T(e.containerInfo),O=m.focusedElem,P=m.selectionRange;if(v!==O&&O&&O.ownerDocument&&A(O.ownerDocument.documentElement,O)){if(P!==null&&I(O)){var se=P.start,be=P.end;if(be===void 0&&(be=se),"selectionStart"in O)O.selectionStart=se,O.selectionEnd=Math.min(be,O.value.length);else{var Ee=O.ownerDocument||document,oe=Ee&&Ee.defaultView||window;if(oe.getSelection){var me=oe.getSelection(),Ge=O.textContent.length,et=Math.min(P.start,Ge),$t=P.end===void 0?et:Math.min(P.end,Ge);!me.extend&&et>$t&&(v=$t,$t=et,et=v);var te=b(O,et),q=b(O,$t);if(te&&q&&(me.rangeCount!==1||me.anchorNode!==te.node||me.anchorOffset!==te.offset||me.focusNode!==q.node||me.focusOffset!==q.offset)){var le=Ee.createRange();le.setStart(te.node,te.offset),me.removeAllRanges(),et>$t?(me.addRange(le),me.extend(q.node,q.offset)):(le.setEnd(q.node,q.offset),me.addRange(le))}}}}for(Ee=[],me=O;me=me.parentNode;)me.nodeType===1&&Ee.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<Ee.length;O++){var ye=Ee[O];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Dc=!!jd,zd=jd=null}finally{Ut=d,$.p=o,j.T=i}}e.current=n,Vn=2}}function Y1(){if(Vn===2){Vn=0;var e=ji,n=$l,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=j.T,j.T=null;var o=$.p;$.p=2;var d=Ut;Ut|=4;try{w1(e,n.alternate,n)}finally{Ut=d,$.p=o,j.T=i}}Vn=3}}function q1(){if(Vn===4||Vn===3){Vn=0,Tr();var e=ji,n=$l,i=ai,o=M1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vn=5:(Vn=0,$l=ji=null,Z1(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Li=null),aa(i),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,d=$.p,$.p=2,j.T=null;try{for(var m=e.onRecoverableError,v=0;v<o.length;v++){var O=o[v];m(O.value,{componentStack:O.stack})}}finally{j.T=n,$.p=d}}(ai&3)!==0&&wc(),Ra(e),d=e.pendingLanes,(i&261930)!==0&&(d&42)!==0?e===vd?Ws++:(Ws=0,vd=e):Ws=0,Qs(0)}}function Z1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Os(n)))}function wc(){return X1(),Y1(),q1(),W1()}function W1(){if(Vn!==5)return!1;var e=ji,n=Cd;Cd=0;var i=aa(ai),o=j.T,d=$.p;try{$.p=32>i?32:i,j.T=null,i=Ad,Ad=null;var m=ji,v=ai;if(Vn=0,$l=ji=null,ai=0,(Ut&6)!==0)throw Error(y(331));var O=Ut;if(Ut|=4,O1(m.current),N1(m,m.current,v,i),Ut=O,Qs(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(ln,m)}catch{}return!0}finally{$.p=d,j.T=o,Z1(e,n)}}function Q1(e,n,i){n=Wr(i,n),n=nd(e.stateNode,n,2),e=Oi(e,n,2),e!==null&&(Ca(e,2),Ra(e))}function Wt(e,n,i){if(e.tag===3)Q1(e,e,i);else for(;n!==null;){if(n.tag===3){Q1(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Li===null||!Li.has(o))){e=Wr(i,e),i=K0(2),o=Oi(n,i,2),o!==null&&(J0(i,o,n,e),Ca(o,2),Ra(o));break}}n=n.return}}function Nd(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new zg;var d=new Set;o.set(n,d)}else d=o.get(n),d===void 0&&(d=new Set,o.set(n,d));d.has(i)||(yd=!0,d.add(i),e=Gg.bind(null,e,n,i),n.then(e,e))}function Gg(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,an===e&&(St&i)===i&&(Sn===4||Sn===3&&(St&62914560)===St&&300>Ft()-xc?(Ut&2)===0&&es(e,0):wd|=i,Jl===St&&(Jl=0)),Ra(e)}function K1(e,n){n===0&&(n=Hn()),e=ol(e,n),e!==null&&(Ca(e,n),Ra(e))}function Vg(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),K1(e,i)}function Xg(e,n){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(y(314))}o!==null&&o.delete(n),K1(e,i)}function Yg(e,n){return tr(e,n)}var Ec=null,ns=null,_d=!1,Cc=!1,Id=!1,Ui=0;function Ra(e){e!==ns&&e.next===null&&(ns===null?Ec=ns=e:ns=ns.next=e),Cc=!0,_d||(_d=!0,Zg())}function Qs(e,n){if(!Id&&Cc){Id=!0;do for(var i=!1,o=Ec;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var m=0;else{var v=o.suspendedLanes,O=o.pingedLanes;m=(1<<31-ft(42|e)+1)-1,m&=d&~(v&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,th(o,m))}else m=St,m=Ji(o,o===an?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Wn(o,m)||(i=!0,th(o,m));o=o.next}while(i);Id=!1}}function qg(){J1()}function J1(){Cc=_d=!1;var e=0;Ui!==0&&am()&&(e=Ui);for(var n=Ft(),i=null,o=Ec;o!==null;){var d=o.next,m=$1(o,n);m===0?(o.next=null,i===null?Ec=d:i.next=d,d===null&&(ns=i)):(i=o,(e!==0||(m&3)!==0)&&(Cc=!0)),o=d}Vn!==0&&Vn!==5||Qs(e),Ui!==0&&(Ui=0)}function $1(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var v=31-ft(m),O=1<<v,P=d[v];P===-1?((O&i)===0||(O&o)!==0)&&(d[v]=ps(O,n)):P<=n&&(e.expiredLanes|=O),m&=~O}if(n=an,i=St,i=Ji(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ue(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Wn(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&Ue(o),aa(i)){case 2:case 8:i=ci;break;case 32:i=nr;break;case 268435456:i=Wi;break;default:i=nr}return o=eh.bind(null,e),i=tr(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&Ue(o),e.callbackPriority=2,e.callbackNode=null,2}function eh(e,n){if(Vn!==0&&Vn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(wc()&&e.callbackNode!==i)return null;var o=St;return o=Ji(e,e===an?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(B1(e,o,n),$1(e,Ft()),e.callbackNode!=null&&e.callbackNode===i?eh.bind(null,e):null)}function th(e,n){if(wc())return null;B1(e,n,!0)}function Zg(){lm(function(){(Ut&6)!==0?tr(Zn,qg):J1()})}function Od(){if(Ui===0){var e=Fl;e===0&&(e=Ki,Ki<<=1,(Ki&261888)===0&&(Ki=256)),Ui=e}return Ui}function nh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:mi(""+e)}function rh(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function Wg(e,n,i,o,d){if(n==="submit"&&i&&i.stateNode===d){var m=nh((d[qt]||null).action),v=o.submitter;v&&(n=(n=v[qt]||null)?nh(n.formAction):v.getAttribute("formAction"),n!==null&&(m=n,v=null));var O=new Fn("action","action",null,o,d);e.push({event:O,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ui!==0){var P=v?rh(d,v):new FormData(d);Qu(i,{pending:!0,data:P,method:d.method,action:m},null,P)}}else typeof m=="function"&&(O.preventDefault(),P=v?rh(d,v):new FormData(d),Qu(i,{pending:!0,data:P,method:d.method,action:m},m,P))},currentTarget:d}]})}}for(var Rd=0;Rd<Ns.length;Rd++){var Dd=Ns[Rd],Qg=Dd.toLowerCase(),Kg=Dd[0].toUpperCase()+Dd.slice(1);ua(Qg,"on"+Kg)}ua(br,"onAnimationEnd"),ua(Qn,"onAnimationIteration"),ua(Vt,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(Gn,"onTransitionRun"),ua(fr,"onTransitionStart"),ua(Ai,"onTransitionCancel"),ua(Va,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Pt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ks));function ah(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],d=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var v=o.length-1;0<=v;v--){var O=o[v],P=O.instance,se=O.currentTarget;if(O=O.listener,P!==m&&d.isPropagationStopped())break e;m=O,d.currentTarget=se;try{m(d)}catch(be){jo(be)}d.currentTarget=null,m=P}else for(v=0;v<o.length;v++){if(O=o[v],P=O.instance,se=O.currentTarget,O=O.listener,P!==m&&d.isPropagationStopped())break e;m=O,d.currentTarget=se;try{m(d)}catch(be){jo(be)}d.currentTarget=null,m=P}}}}function Ct(e,n){var i=n[ui];i===void 0&&(i=n[ui]=new Set);var o=e+"__bubble";i.has(o)||(ih(n,e,2,!1),i.add(o))}function Md(e,n,i){var o=0;n&&(o|=4),ih(i,e,o,n)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function kd(e){if(!e[Ac]){e[Ac]=!0,Se.forEach(function(i){i!=="selectionchange"&&(Jg.has(i)||Md(i,!1,e),Md(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ac]||(n[Ac]=!0,Md("selectionchange",!1,n))}}function ih(e,n,i,o){switch(kh(n)){case 2:var d=Tm;break;case 8:d=Nm;break;default:d=Wd}i=d.bind(null,n,i,e),d=void 0,!ws||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(n,i,{capture:!0,passive:d}):e.addEventListener(n,i,!0):d!==void 0?e.addEventListener(n,i,{passive:d}):e.addEventListener(n,i,!1)}function Bd(e,n,i,o,d){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var O=o.stateNode.containerInfo;if(O===d)break;if(v===4)for(v=o.return;v!==null;){var P=v.tag;if((P===3||P===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;O!==null;){if(v=En(O),v===null)return;if(P=v.tag,P===5||P===6||P===26||P===27){o=m=v;continue e}O=O.parentNode}}o=o.return}To(function(){var se=m,be=ys(i),Ee=[];e:{var oe=Lo.get(e);if(oe!==void 0){var me=Fn,Ge=e;switch(e){case"keypress":if(va(i)===0)break e;case"keydown":case"keyup":me=Dl;break;case"focusin":Ge="focus",me=As;break;case"focusout":Ge="blur",me=As;break;case"beforeblur":case"afterblur":me=As;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=zt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=du;break;case br:case Qn:case Vt:me=ht;break;case Va:me=Ha;break;case"scroll":case"scrollend":me=No;break;case"wheel":me=fu;break;case"copy":case"cut":case"paste":me=Rl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Gt;break;case"toggle":case"beforetoggle":me=Ss}var et=(n&4)!==0,$t=!et&&(e==="scroll"||e==="scrollend"),te=et?oe!==null?oe+"Capture":null:oe;et=[];for(var q=se,le;q!==null;){var ye=q;if(le=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||le===null||te===null||(ye=it(q,te),ye!=null&&et.push(Js(q,ye,le))),$t)break;q=q.return}0<et.length&&(oe=new me(oe,Ge,null,i,be),Ee.push({event:oe,listeners:et}))}}if((n&7)===0){e:{if(oe=e==="mouseover"||e==="pointerover",me=e==="mouseout"||e==="pointerout",oe&&i!==el&&(Ge=i.relatedTarget||i.fromElement)&&(En(Ge)||Ge[_r]))break e;if((me||oe)&&(oe=be.window===be?be:(oe=be.ownerDocument)?oe.defaultView||oe.parentWindow:window,me?(Ge=i.relatedTarget||i.toElement,me=se,Ge=Ge?En(Ge):null,Ge!==null&&($t=w(Ge),et=Ge.tag,Ge!==$t||et!==5&&et!==27&&et!==6)&&(Ge=null)):(me=null,Ge=se),me!==Ge)){if(et=zt,ye="onMouseLeave",te="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&(et=Gt,ye="onPointerLeave",te="onPointerEnter",q="pointer"),$t=me==null?oe:di(me),le=Ge==null?oe:di(Ge),oe=new et(ye,q+"leave",me,i,be),oe.target=$t,oe.relatedTarget=le,ye=null,En(be)===se&&(et=new et(te,q+"enter",Ge,i,be),et.target=le,et.relatedTarget=$t,ye=et),$t=ye,me&&Ge)t:{for(et=$g,te=me,q=Ge,le=0,ye=te;ye;ye=et(ye))le++;ye=0;for(var Qe=q;Qe;Qe=et(Qe))ye++;for(;0<le-ye;)te=et(te),le--;for(;0<ye-le;)q=et(q),ye--;for(;le--;){if(te===q||q!==null&&te===q.alternate){et=te;break t}te=et(te),q=et(q)}et=null}else et=null;me!==null&&lh(Ee,oe,me,et,!1),Ge!==null&&$t!==null&&lh(Ee,$t,Ge,et,!0)}}e:{if(oe=se?di(se):window,me=oe.nodeName&&oe.nodeName.toLowerCase(),me==="select"||me==="input"&&oe.type==="file")var Mt=Mr;else if(Ts(oe))if(Bo)Mt=l;else{Mt=r;var Ye=t}else me=oe.nodeName,!me||me.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?se&&tn(se.elementType)&&(Mt=Mr):Mt=a;if(Mt&&(Mt=Mt(e,se))){Dr(Ee,Mt,i,be);break e}Ye&&Ye(e,oe,se),e==="focusout"&&se&&oe.type==="number"&&se.memoizedProps.value!=null&&k(oe,"number",oe.value)}switch(Ye=se?di(se):window,e){case"focusin":(Ts(Ye)||Ye.contentEditable==="true")&&(G=Ye,Y=se,ae=null);break;case"focusout":ae=Y=G=null;break;case"mousedown":fe=!0;break;case"contextmenu":case"mouseup":case"dragend":fe=!1,Me(Ee,i,be);break;case"selectionchange":if(L)break;case"keydown":case"keyup":Me(Ee,i,be)}var xt;if(rl)e:{switch(e){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Ci?ko(e,i)&&(Tt="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Tt="onCompositionStart");Tt&&(Mo&&i.locale!=="ko"&&(Ci||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ci&&(xt=pi()):(oa=be,ca="value"in oa?oa.value:oa.textContent,Ci=!0)),Ye=vc(se,Tt),0<Ye.length&&(Tt=new Oo(Tt,e,null,i,be),Ee.push({event:Tt,listeners:Ye}),xt?Tt.data=xt:(xt=Ei(i),xt!==null&&(Tt.data=xt)))),(xt=Do?Na(e,i):kl(e,i))&&(Tt=vc(se,"onBeforeInput"),0<Tt.length&&(Ye=new Oo("onBeforeInput","beforeinput",null,i,be),Ee.push({event:Ye,listeners:Tt}),Ye.data=xt)),Wg(Ee,e,se,i,be)}ah(Ee,n)})}function Js(e,n,i){return{instance:e,listener:n,currentTarget:i}}function vc(e,n){for(var i=n+"Capture",o=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=it(e,i),d!=null&&o.unshift(Js(e,d,m)),d=it(e,n),d!=null&&o.push(Js(e,d,m))),e.tag===3)return o;e=e.return}return[]}function $g(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lh(e,n,i,o,d){for(var m=n._reactName,v=[];i!==null&&i!==o;){var O=i,P=O.alternate,se=O.stateNode;if(O=O.tag,P!==null&&P===o)break;O!==5&&O!==26&&O!==27||se===null||(P=se,d?(se=it(i,m),se!=null&&v.unshift(Js(i,se,P))):d||(se=it(i,m),se!=null&&v.push(Js(i,se,P)))),i=i.return}v.length!==0&&e.push({event:n,listeners:v})}var em=/\r\n?/g,tm=/\u0000|\uFFFD/g;function sh(e){return(typeof e=="string"?e:""+e).replace(em,`
`).replace(tm,"")}function oh(e,n){return n=sh(n),sh(e)===n}function Jt(e,n,i,o,d,m){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gi(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gi(e,""+o);break;case"className":hi(e,"class",o);break;case"tabIndex":hi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(e,i,o);break;case"style":We(e,o,m);break;case"data":if(n!=="object"){hi(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=mi(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(n!=="input"&&Jt(e,n,"name",d.name,d,null),Jt(e,n,"formEncType",d.formEncType,d,null),Jt(e,n,"formMethod",d.formMethod,d,null),Jt(e,n,"formTarget",d.formTarget,d,null)):(Jt(e,n,"encType",d.encType,d,null),Jt(e,n,"method",d.method,d,null),Jt(e,n,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=mi(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=mr);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(y(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(y(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=mi(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),fi(e,"popover",o);break;case"xlinkActuate":Or(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Or(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Or(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Or(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Or(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Or(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Or(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Or(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Or(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=So.get(i)||i,fi(e,i,o))}}function Ld(e,n,i,o,d,m){switch(i){case"style":We(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(y(61));if(i=o.__html,i!=null){if(d.children!=null)throw Error(y(60));e.innerHTML=i}}break;case"children":typeof o=="string"?gi(e,o):(typeof o=="number"||typeof o=="bigint")&&gi(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vo.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(d=i.endsWith("Capture"),n=i.slice(2,d?i.length-7:void 0),m=e[qt]||null,m=m!=null?m[i]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof o=="function")){typeof m!="function"&&m!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,d);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):fi(e,i,o)}}}function er(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,d=!1,m;for(m in i)if(i.hasOwnProperty(m)){var v=i[m];if(v!=null)switch(m){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(y(137,n));default:Jt(e,n,m,v,i,null)}}d&&Jt(e,n,"srcSet",i.srcSet,i,null),o&&Jt(e,n,"src",i.src,i,null);return;case"input":Ct("invalid",e);var O=m=v=d=null,P=null,se=null;for(o in i)if(i.hasOwnProperty(o)){var be=i[o];if(be!=null)switch(o){case"name":d=be;break;case"type":v=be;break;case"checked":P=be;break;case"defaultChecked":se=be;break;case"value":m=be;break;case"defaultValue":O=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(y(137,n));break;default:Jt(e,n,o,be,i,null)}}ie(e,m,O,P,se,v,d,!1);return;case"select":Ct("invalid",e),o=v=m=null;for(d in i)if(i.hasOwnProperty(d)&&(O=i[d],O!=null))switch(d){case"value":m=O;break;case"defaultValue":v=O;break;case"multiple":o=O;default:Jt(e,n,d,O,i,null)}n=m,i=v,e.multiple=!!o,n!=null?Xe(e,!!o,n,!1):i!=null&&Xe(e,!!o,i,!0);return;case"textarea":Ct("invalid",e),m=d=o=null;for(v in i)if(i.hasOwnProperty(v)&&(O=i[v],O!=null))switch(v){case"value":o=O;break;case"defaultValue":d=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(y(91));break;default:Jt(e,n,v,O,i,null)}ur(e,o,d,m);return;case"option":for(P in i)if(i.hasOwnProperty(P)&&(o=i[P],o!=null))switch(P){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,P,o,i,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<Ks.length;o++)Ct(Ks[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in i)if(i.hasOwnProperty(se)&&(o=i[se],o!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(y(137,n));default:Jt(e,n,se,o,i,null)}return;default:if(tn(n)){for(be in i)i.hasOwnProperty(be)&&(o=i[be],o!==void 0&&Ld(e,n,be,o,i,void 0));return}}for(O in i)i.hasOwnProperty(O)&&(o=i[O],o!=null&&Jt(e,n,O,o,i,null))}function nm(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,v=null,O=null,P=null,se=null,be=null;for(me in i){var Ee=i[me];if(i.hasOwnProperty(me)&&Ee!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":P=Ee;default:o.hasOwnProperty(me)||Jt(e,n,me,null,o,Ee)}}for(var oe in o){var me=o[oe];if(Ee=i[oe],o.hasOwnProperty(oe)&&(me!=null||Ee!=null))switch(oe){case"type":m=me;break;case"name":d=me;break;case"checked":se=me;break;case"defaultChecked":be=me;break;case"value":v=me;break;case"defaultValue":O=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(y(137,n));break;default:me!==Ee&&Jt(e,n,oe,me,o,Ee)}}Mn(e,v,O,P,se,be,m,d);return;case"select":me=v=O=oe=null;for(m in i)if(P=i[m],i.hasOwnProperty(m)&&P!=null)switch(m){case"value":break;case"multiple":me=P;default:o.hasOwnProperty(m)||Jt(e,n,m,null,o,P)}for(d in o)if(m=o[d],P=i[d],o.hasOwnProperty(d)&&(m!=null||P!=null))switch(d){case"value":oe=m;break;case"defaultValue":O=m;break;case"multiple":v=m;default:m!==P&&Jt(e,n,d,m,o,P)}n=O,i=v,o=me,oe!=null?Xe(e,!!i,oe,!1):!!o!=!!i&&(n!=null?Xe(e,!!i,n,!0):Xe(e,!!i,i?[]:"",!1));return;case"textarea":me=oe=null;for(O in i)if(d=i[O],i.hasOwnProperty(O)&&d!=null&&!o.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Jt(e,n,O,null,o,d)}for(v in o)if(d=o[v],m=i[v],o.hasOwnProperty(v)&&(d!=null||m!=null))switch(v){case"value":oe=d;break;case"defaultValue":me=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(y(91));break;default:d!==m&&Jt(e,n,v,d,o,m)}_n(e,oe,me);return;case"option":for(var Ge in i)if(oe=i[Ge],i.hasOwnProperty(Ge)&&oe!=null&&!o.hasOwnProperty(Ge))switch(Ge){case"selected":e.selected=!1;break;default:Jt(e,n,Ge,null,o,oe)}for(P in o)if(oe=o[P],me=i[P],o.hasOwnProperty(P)&&oe!==me&&(oe!=null||me!=null))switch(P){case"selected":e.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Jt(e,n,P,oe,o,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in i)oe=i[et],i.hasOwnProperty(et)&&oe!=null&&!o.hasOwnProperty(et)&&Jt(e,n,et,null,o,oe);for(se in o)if(oe=o[se],me=i[se],o.hasOwnProperty(se)&&oe!==me&&(oe!=null||me!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(y(137,n));break;default:Jt(e,n,se,oe,o,me)}return;default:if(tn(n)){for(var $t in i)oe=i[$t],i.hasOwnProperty($t)&&oe!==void 0&&!o.hasOwnProperty($t)&&Ld(e,n,$t,void 0,o,oe);for(be in o)oe=o[be],me=i[be],!o.hasOwnProperty(be)||oe===me||oe===void 0&&me===void 0||Ld(e,n,be,oe,o,me);return}}for(var te in i)oe=i[te],i.hasOwnProperty(te)&&oe!=null&&!o.hasOwnProperty(te)&&Jt(e,n,te,null,o,oe);for(Ee in o)oe=o[Ee],me=i[Ee],!o.hasOwnProperty(Ee)||oe===me||oe==null&&me==null||Jt(e,n,Ee,oe,o,me)}function ch(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rm(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var d=i[o],m=d.transferSize,v=d.initiatorType,O=d.duration;if(m&&O&&ch(v)){for(v=0,O=d.responseEnd,o+=1;o<i.length;o++){var P=i[o],se=P.startTime;if(se>O)break;var be=P.transferSize,Ee=P.initiatorType;be&&ch(Ee)&&(P=P.responseEnd,v+=be*(P<O?1:(O-se)/(P-se)))}if(--o,n+=8*(m+v)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var jd=null,zd=null;function Sc(e){return e.nodeType===9?e:e.ownerDocument}function uh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ud(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hd=null;function am(){var e=window.event;return e&&e.type==="popstate"?e===Hd?!1:(Hd=e,!0):(Hd=null,!1)}var fh=typeof setTimeout=="function"?setTimeout:void 0,im=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,lm=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(e){return hh.resolve(null).then(e).catch(sm)}:fh;function sm(e){setTimeout(function(){throw e})}function Hi(e){return e==="head"}function xh(e,n){var i=n,o=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(d),ls(n);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")$s(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,$s(i);for(var m=i.firstChild;m;){var v=m.nextSibling,O=m.nodeName;m[$i]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=v}}else i==="body"&&$s(e.ownerDocument.body);i=d}while(i);ls(n)}function gh(e,n){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function Fd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Fd(i),gr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function om(e,n,i,o){for(;e.nodeType===1;){var d=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[$i])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=ea(e.nextSibling),e===null)break}return null}function cm(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ea(e.nextSibling),e===null))return null;return e}function mh(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ea(e.nextSibling),e===null))return null;return e}function Pd(e){return e.data==="$?"||e.data==="$~"}function Gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function um(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ea(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Vd=null;function ph(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return ea(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function bh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function yh(e,n,i){switch(n=Sc(i),e){case"html":if(e=n.documentElement,!e)throw Error(y(452));return e;case"head":if(e=n.head,!e)throw Error(y(453));return e;case"body":if(e=n.body,!e)throw Error(y(454));return e;default:throw Error(y(451))}}function $s(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);gr(e)}var ta=new Map,wh=new Set;function Tc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ii=$.d;$.d={f:dm,r:fm,D:hm,C:xm,L:gm,m:mm,X:bm,S:pm,M:ym};function dm(){var e=ii.f(),n=pc();return e||n}function fm(e){var n=jt(e);n!==null&&n.tag===5&&n.type==="form"?j0(n):ii.r(e)}var rs=typeof document>"u"?null:document;function Eh(e,n,i){var o=rs;if(o&&typeof n=="string"&&n){var d=yt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof i=="string"&&(d+='[crossorigin="'+i+'"]'),wh.has(d)||(wh.add(d),e={rel:e,crossOrigin:i,href:n},o.querySelector(d)===null&&(n=o.createElement("link"),er(n,"link",e),Cn(n),o.head.appendChild(n)))}}function hm(e){ii.D(e),Eh("dns-prefetch",e,null)}function xm(e,n){ii.C(e,n),Eh("preconnect",e,n)}function gm(e,n,i){ii.L(e,n,i);var o=rs;if(o&&e&&n){var d='link[rel="preload"][as="'+yt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(d+='[imagesrcset="'+yt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(d+='[imagesizes="'+yt(i.imageSizes)+'"]')):d+='[href="'+yt(e)+'"]';var m=d;switch(n){case"style":m=as(e);break;case"script":m=is(e)}ta.has(m)||(e=M({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),ta.set(m,e),o.querySelector(d)!==null||n==="style"&&o.querySelector(eo(m))||n==="script"&&o.querySelector(to(m))||(n=o.createElement("link"),er(n,"link",e),Cn(n),o.head.appendChild(n)))}}function mm(e,n){ii.m(e,n);var i=rs;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+yt(o)+'"][href="'+yt(e)+'"]',m=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=is(e)}if(!ta.has(m)&&(e=M({rel:"modulepreload",href:e},n),ta.set(m,e),i.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(to(m)))return}o=i.createElement("link"),er(o,"link",e),Cn(o),i.head.appendChild(o)}}}function pm(e,n,i){ii.S(e,n,i);var o=rs;if(o&&e){var d=cr(o).hoistableStyles,m=as(e);n=n||"default";var v=d.get(m);if(!v){var O={loading:0,preload:null};if(v=o.querySelector(eo(m)))O.loading=5;else{e=M({rel:"stylesheet",href:e,"data-precedence":n},i),(i=ta.get(m))&&Xd(e,i);var P=v=o.createElement("link");Cn(P),er(P,"link",e),P._p=new Promise(function(se,be){P.onload=se,P.onerror=be}),P.addEventListener("load",function(){O.loading|=1}),P.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Nc(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:O},d.set(m,v)}}}function bm(e,n){ii.X(e,n);var i=rs;if(i&&e){var o=cr(i).hoistableScripts,d=is(e),m=o.get(d);m||(m=i.querySelector(to(d)),m||(e=M({src:e,async:!0},n),(n=ta.get(d))&&Yd(e,n),m=i.createElement("script"),Cn(m),er(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function ym(e,n){ii.M(e,n);var i=rs;if(i&&e){var o=cr(i).hoistableScripts,d=is(e),m=o.get(d);m||(m=i.querySelector(to(d)),m||(e=M({src:e,async:!0,type:"module"},n),(n=ta.get(d))&&Yd(e,n),m=i.createElement("script"),Cn(m),er(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function Ch(e,n,i,o){var d=(d=we.current)?Tc(d):null;if(!d)throw Error(y(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=as(i.href),i=cr(d).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=as(i.href);var m=cr(d).hoistableStyles,v=m.get(e);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,v),(m=d.querySelector(eo(e)))&&!m._p&&(v.instance=m,v.state.loading=5),ta.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ta.set(e,i),m||wm(d,e,i,v.state))),n&&o===null)throw Error(y(528,""));return v}if(n&&o!==null)throw Error(y(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=is(i),i=cr(d).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(y(444,e))}}function as(e){return'href="'+yt(e)+'"'}function eo(e){return'link[rel="stylesheet"]['+e+"]"}function Ah(e){return M({},e,{"data-precedence":e.precedence,precedence:null})}function wm(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),er(n,"link",i),Cn(n),e.head.appendChild(n))}function is(e){return'[src="'+yt(e)+'"]'}function to(e){return"script[async]"+e}function vh(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+yt(i.href)+'"]');if(o)return n.instance=o,Cn(o),o;var d=M({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Cn(o),er(o,"style",d),Nc(o,i.precedence,e),n.instance=o;case"stylesheet":d=as(i.href);var m=e.querySelector(eo(d));if(m)return n.state.loading|=4,n.instance=m,Cn(m),m;o=Ah(i),(d=ta.get(d))&&Xd(o,d),m=(e.ownerDocument||e).createElement("link"),Cn(m);var v=m;return v._p=new Promise(function(O,P){v.onload=O,v.onerror=P}),er(m,"link",o),n.state.loading|=4,Nc(m,i.precedence,e),n.instance=m;case"script":return m=is(i.src),(d=e.querySelector(to(m)))?(n.instance=d,Cn(d),d):(o=i,(d=ta.get(m))&&(o=M({},i),Yd(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),Cn(d),er(d,"link",o),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(y(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nc(o,i.precedence,e));return n.instance}function Nc(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,m=d,v=0;v<o.length;v++){var O=o[v];if(O.dataset.precedence===n)m=O;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function Sh(e,n,i){if(_c===null){var o=new Map,d=_c=new Map;d.set(i,o)}else d=_c,o=d.get(i),o||(o=new Map,d.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),d=0;d<i.length;d++){var m=i[d];if(!(m[$i]||m[Nn]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(n)||"";v=e+v;var O=o.get(v);O?O.push(m):o.set(v,[m])}}return o}function Th(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Em(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Nh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Cm(e,n,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=as(o.href),m=n.querySelector(eo(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ic.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=m,Cn(m);return}m=n.ownerDocument||n,o=Ah(o),(d=ta.get(d))&&Xd(o,d),m=m.createElement("link"),Cn(m);var v=m;v._p=new Promise(function(O,P){v.onload=O,v.onerror=P}),er(m,"link",o),i.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Ic.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var qd=0;function Am(e,n){return e.stylesheets&&e.count===0&&Rc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&qd===0&&(qd=62500*rm());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>qd?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function Ic(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Oc=null;function Rc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Oc=new Map,n.forEach(vm,e),Oc=null,Ic.call(e))}function vm(e,n){if(!(n.state.loading&4)){var i=Oc.get(e);if(i)var o=i.get(null);else{i=new Map,Oc.set(e,i);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var v=d[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),o=v)}o&&i.set(null,o)}d=n.instance,v=d.getAttribute("data-precedence"),m=i.get(v)||o,m===o&&i.set(null,d),i.set(v,d),this.count++,o=Ic.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var no={$$typeof:F,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function Sm(e,n,i,o,d,m,v,O,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function _h(e,n,i,o,d,m,v,O,P,se,be,Ee){return e=new Sm(e,n,i,v,P,se,be,Ee,O),n=1,m===!0&&(n|=24),m=kr(3,null,null,n),e.current=m,m.stateNode=e,n=Tu(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:i,cache:n},Ou(m),e}function Ih(e){return e?(e=Ll,e):Ll}function Oh(e,n,i,o,d,m){d=Ih(d),o.context===null?o.context=d:o.pendingContext=d,o=Ii(n),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=Oi(e,o,n),i!==null&&(Ar(i,e,n),ks(i,e,n))}function Rh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Zd(e,n){Rh(e,n),(e=e.alternate)&&Rh(e,n)}function Dh(e){if(e.tag===13||e.tag===31){var n=ol(e,67108864);n!==null&&Ar(n,e,67108864),Zd(e,67108864)}}function Mh(e){if(e.tag===13||e.tag===31){var n=Ur();n=Yn(n);var i=ol(e,n);i!==null&&Ar(i,e,n),Zd(e,n)}}var Dc=!0;function Tm(e,n,i,o){var d=j.T;j.T=null;var m=$.p;try{$.p=2,Wd(e,n,i,o)}finally{$.p=m,j.T=d}}function Nm(e,n,i,o){var d=j.T;j.T=null;var m=$.p;try{$.p=8,Wd(e,n,i,o)}finally{$.p=m,j.T=d}}function Wd(e,n,i,o){if(Dc){var d=Qd(o);if(d===null)Bd(e,n,o,Mc,i),Bh(e,o);else if(Im(d,e,n,i,o))o.stopPropagation();else if(Bh(e,o),n&4&&-1<_m.indexOf(e)){for(;d!==null;){var m=jt(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=wa(m.pendingLanes);if(v!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;v;){var P=1<<31-ft(v);O.entanglements[1]|=P,v&=~P}Ra(m),(Ut&6)===0&&(gc=Ft()+500,Qs(0))}}break;case 31:case 13:O=ol(m,2),O!==null&&Ar(O,m,2),pc(),Zd(m,2)}if(m=Qd(o),m===null&&Bd(e,n,o,Mc,i),m===d)break;d=m}d!==null&&o.stopPropagation()}else Bd(e,n,o,null,i)}}function Qd(e){return e=ys(e),Kd(e)}var Mc=null;function Kd(e){if(Mc=null,e=En(e),e!==null){var n=w(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=N(n),e!==null)return e;e=null}else if(i===31){if(e=R(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Mc=e,null}function kh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nr()){case Zn:return 2;case ci:return 8;case nr:case Dn:return 32;case Wi:return 268435456;default:return 32}default:return 32}}var Jd=!1,Fi=null,Pi=null,Gi=null,ro=new Map,ao=new Map,Vi=[],_m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bh(e,n){switch(e){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(n.pointerId)}}function io(e,n,i,o,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},n!==null&&(n=jt(n),n!==null&&Dh(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Im(e,n,i,o,d){switch(n){case"focusin":return Fi=io(Fi,e,n,i,o,d),!0;case"dragenter":return Pi=io(Pi,e,n,i,o,d),!0;case"mouseover":return Gi=io(Gi,e,n,i,o,d),!0;case"pointerover":var m=d.pointerId;return ro.set(m,io(ro.get(m)||null,e,n,i,o,d)),!0;case"gotpointercapture":return m=d.pointerId,ao.set(m,io(ao.get(m)||null,e,n,i,o,d)),!0}return!1}function Lh(e){var n=En(e.target);if(n!==null){var i=w(n);if(i!==null){if(n=i.tag,n===13){if(n=N(i),n!==null){e.blockedOn=n,He(e.priority,function(){Mh(i)});return}}else if(n===31){if(n=R(i),n!==null){e.blockedOn=n,He(e.priority,function(){Mh(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Qd(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);el=o,i.target.dispatchEvent(o),el=null}else return n=jt(i),n!==null&&Dh(n),e.blockedOn=i,!1;n.shift()}return!0}function jh(e,n,i){kc(e)&&i.delete(n)}function Om(){Jd=!1,Fi!==null&&kc(Fi)&&(Fi=null),Pi!==null&&kc(Pi)&&(Pi=null),Gi!==null&&kc(Gi)&&(Gi=null),ro.forEach(jh),ao.forEach(jh)}function Bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Jd||(Jd=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,Om)))}var Lc=null;function zh(e){Lc!==e&&(Lc=e,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){Lc===e&&(Lc=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],d=e[n+2];if(typeof o!="function"){if(Kd(o||i)===null)continue;break}var m=jt(i);m!==null&&(e.splice(n,3),n-=3,Qu(m,{pending:!0,data:d,method:i.method,action:o},o,d))}}))}function ls(e){function n(P){return Bc(P,e)}Fi!==null&&Bc(Fi,e),Pi!==null&&Bc(Pi,e),Gi!==null&&Bc(Gi,e),ro.forEach(n),ao.forEach(n);for(var i=0;i<Vi.length;i++){var o=Vi[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vi.length&&(i=Vi[0],i.blockedOn===null);)Lh(i),i.blockedOn===null&&Vi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var d=i[o],m=i[o+1],v=d[qt]||null;if(typeof m=="function")v||zh(i);else if(v){var O=null;if(m&&m.hasAttribute("formAction")){if(d=m,v=m[qt]||null)O=v.formAction;else if(Kd(d)!==null)continue}else O=v.action;typeof O=="function"?i[o+1]=O:(i.splice(o,3),o-=3),zh(i)}}}function Uh(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function $d(e){this._internalRoot=e}jc.prototype.render=$d.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(y(409));var i=n.current,o=Ur();Oh(i,o,e,n,null,null)},jc.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Oh(e.current,2,null,e,null,null),pc(),n[_r]=null}};function jc(e){this._internalRoot=e}jc.prototype.unstable_scheduleHydration=function(e){if(e){var n=sr();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Vi.length&&n!==0&&n<Vi[i].priority;i++);Vi.splice(i,0,e),i===0&&Lh(e)}};var Hh=h.version;if(Hh!=="19.2.0")throw Error(y(527,Hh,"19.2.0"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(y(188)):(e=Object.keys(e).join(","),Error(y(268,e)));return e=C(n),e=e!==null?B(e):null,e=e===null?null:e.stateNode,e};var Rm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{ln=zc.inject(Rm),ke=zc}catch{}}return so.createRoot=function(e,n){if(!E(e))throw Error(y(299));var i=!1,o="",d=q0,m=Z0,v=W0;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=_h(e,1,!1,null,null,i,o,null,d,m,v,Uh),e[_r]=n.current,kd(e),new $d(n)},so.hydrateRoot=function(e,n,i){if(!E(e))throw Error(y(299));var o=!1,d="",m=q0,v=Z0,O=W0,P=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(O=i.onRecoverableError),i.formState!==void 0&&(P=i.formState)),n=_h(e,1,!0,n,i??null,o,d,P,m,v,O,Uh),n.context=Ih(null),i=n.current,o=Ur(),o=Yn(o),d=Ii(o),d.callback=null,Oi(i,d,o),i=o,n.current.lanes=i,Ca(n,i),Ra(n),e[_r]=n.current,kd(e),new jc(n)},so.version="19.2.0",so}var Qh;function Fm(){if(Qh)return nf.exports;Qh=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(h){console.error(h)}}return f(),nf.exports=Hm(),nf.exports}var Pm=Fm();const Gm=eu(Pm),Vm="modulepreload",Xm=function(f){return"/pedido/"+f},Kh={},co=function(h,g,y){let E=Promise.resolve();if(g&&g.length>0){let N=function(C){return Promise.all(C.map(B=>Promise.resolve(B).then(M=>({status:"fulfilled",value:M}),M=>({status:"rejected",reason:M}))))};document.getElementsByTagName("link");const R=document.querySelector("meta[property=csp-nonce]"),_=(R==null?void 0:R.nonce)||(R==null?void 0:R.getAttribute("nonce"));E=N(g.map(C=>{if(C=Xm(C),C in Kh)return;Kh[C]=!0;const B=C.endsWith(".css"),M=B?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${M}`))return;const V=document.createElement("link");if(V.rel=B?"stylesheet":Vm,B||(V.as="script"),V.crossOrigin="",V.href=C,_&&V.setAttribute("nonce",_),document.head.appendChild(V),B)return new Promise((Z,ge)=>{V.addEventListener("load",Z),V.addEventListener("error",()=>ge(new Error(`Unable to preload CSS for ${C}`)))})}))}function w(N){const R=new Event("vite:preloadError",{cancelable:!0});if(R.payload=N,window.dispatchEvent(R),!R.defaultPrevented)throw N}return E.then(N=>{for(const R of N||[])R.status==="rejected"&&w(R.reason);return h().catch(w)})};async function Bx(f,h){const y=(await ds()).transaction(f,"readwrite"),E=y.objectStore(f);return h.forEach(w=>E.put(w)),new Promise((w,N)=>{y.oncomplete=()=>w(),y.onerror=()=>N(y.error)})}function ds(){return new Promise((f,h)=>{const g=window.indexedDB.open("falcon_db",4);g.onupgradeneeded=()=>{const y=g.result;["falcon_products_db","falcon_orders_db","falcon_users_db","falcon_user","falcon_user_logged","falcon_order_items_db","falcon_inbox_db","PedidosExcluidos","ProdutosExcluidosPedidos"].forEach(w=>{y.objectStoreNames.contains(w)||y.createObjectStore(w,{keyPath:"id",autoIncrement:!1})})},g.onsuccess=()=>f(g.result),g.onerror=()=>h(g.error)})}async function ir(f,h){const y=(await ds()).transaction(f,"readwrite");return y.objectStore(f).put(h),new Promise((E,w)=>{y.oncomplete=()=>E(),y.onerror=()=>w(y.error)})}async function Ht(f){const y=(await ds()).transaction(f,"readonly").objectStore(f);return new Promise(E=>{const w=y.getAll();w.onsuccess=()=>E(w.result)})}async function os(f,h){const y=(await ds()).transaction(f,"readwrite");return y.objectStore(f).delete(h),new Promise((E,w)=>{y.oncomplete=()=>E(),y.onerror=()=>w(y.error)})}async function cs(f){const g=(await ds()).transaction(f,"readwrite");return g.objectStore(f).clear(),new Promise((y,E)=>{g.oncomplete=()=>y(),g.onerror=()=>E(g.error)})}const Yc=Object.freeze(Object.defineProperty({__proto__:null,clearStore:cs,getAll:Ht,openDB:ds,removeItem:os,saveItem:ir,saveItems:Bx},Symbol.toStringTag,{value:"Module"})),oi=({isOpen:f,onClose:h,title:g,children:y,footer:E})=>f?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:p.jsxs("div",{className:"bg-white dark:bg-[#1E1E1E] rounded-xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-gray-100 dark:border-gray-700",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:g}),p.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:p.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),p.jsx("div",{className:"p-6 text-slate-600 dark:text-gray-300 max-h-[50vh] overflow-y-auto",children:y}),E&&p.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-[#252525] flex justify-end gap-3 border-t border-gray-100 dark:border-gray-700",children:E})]})}):null,Jh=({isOpen:f,setIsOpen:h,onNavigate:g,currentScreen:y,theme:E,setTheme:w})=>{const N=R=>`flex items-center gap-3 p-2 rounded-lg transition-colors cursor-pointer ${y===R?"bg-primary/10 text-primary dark:text-primary":"text-text-secondary-light dark:text-text-secondary-dark hover:bg-gray-100 dark:hover:bg-gray-800"}`;return p.jsxs(p.Fragment,{children:[f&&p.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 transition-opacity lg:hidden",onClick:()=>h(!1)}),p.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 transform bg-surface-light dark:bg-background-dark p-4 shadow-xl transition-transform duration-300 ease-in-out lg:translate-x-0 ${f?"translate-x-0":"-translate-x-full"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 mb-8 cursor-pointer",onClick:()=>g("productList"),children:[p.jsx("div",{className:"bg-primary p-2 rounded-lg",children:p.jsx("span",{className:"material-symbols-outlined text-white",children:"shopping_cart"})}),p.jsx("span",{className:"text-xl font-bold font-display",children:"VNET"}),p.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"v1.1.3"})]}),p.jsxs("nav",{className:"flex flex-col h-[calc(100%-4rem)] overflow-y-auto no-scrollbar",children:[p.jsxs("ul",{className:"space-y-1",children:[p.jsx("li",{children:p.jsxs("div",{className:N("productList"),onClick:()=>g("productList"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"dashboard"}),p.jsx("span",{className:"font-medium",children:"Menu Principal"})]})}),p.jsx("li",{className:"pt-4 text-xs font-semibold uppercase text-gray-400 dark:text-gray-500 px-2 pb-2",children:"Opes"}),p.jsx("li",{hidden:!0,children:p.jsxs("div",{className:N("inbox"),onClick:()=>g("inbox"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"mail"}),p.jsx("span",{className:"font-medium",children:"Caixa de Entrada"})]})}),p.jsx("li",{children:p.jsxs("div",{className:N("sync"),onClick:()=>g("sync"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"sync"}),p.jsx("span",{className:"font-medium",children:"Sincronizar Dados"})]})}),p.jsx("li",{children:p.jsxs("div",{className:N("productTable"),onClick:()=>g("productTable"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"inventory_2"}),p.jsx("span",{className:"font-medium",children:"Produtos"})]})}),p.jsx("li",{children:p.jsxs("div",{className:N("orderList"),onClick:()=>g("orderList"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"orders"}),p.jsx("span",{className:"font-medium",children:"Pedidos"})]})}),p.jsx("li",{children:p.jsxs("div",{className:N("shop"),onClick:()=>g("shop"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"}),p.jsx("span",{className:"font-medium",children:"Novo Pedido"})]})}),p.jsx("li",{children:p.jsxs("div",{className:N("addProduct"),onClick:()=>g("addProduct"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"add_circle"}),p.jsx("span",{className:"font-medium",children:"Adicionar Produto"})]})}),p.jsx("li",{children:p.jsxs("div",{className:N("config"),onClick:()=>g("config"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"settings"}),p.jsx("span",{className:"font-medium",children:"Configuraes"})]})}),p.jsx("li",{children:p.jsxs("div",{className:N("profile"),onClick:()=>g("profile"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"person"}),p.jsx("span",{className:"font-medium",children:"Perfil"})]})}),p.jsx("li",{hidden:!0,children:p.jsxs("a",{href:"#",className:"flex items-center gap-3 p-2 rounded-lg text-text-secondary-light dark:text-text-secondary-dark hover:bg-gray-100 dark:hover:bg-gray-800",children:[p.jsx("span",{className:"material-symbols-outlined",children:"calendar_today"}),p.jsx("span",{className:"font-medium",children:"Calendrio"})]})}),p.jsx("li",{hidden:!0,children:p.jsxs("a",{href:"#",className:"flex items-center gap-3 p-2 rounded-lg text-text-secondary-light dark:text-text-secondary-dark hover:bg-gray-100 dark:hover:bg-gray-800",children:[p.jsx("span",{className:"material-symbols-outlined",children:"chat_bubble"}),p.jsx("span",{className:"font-medium",children:"Chat"})]})})]}),p.jsxs("div",{className:"mt-auto pt-4 border-t border-border-light dark:border-border-dark",children:[p.jsxs("button",{onClick:()=>w(E==="dark"?"light":"dark"),className:"w-full flex items-center gap-3 p-2 rounded-lg text-primary hover:bg-primary/10 dark:hover:bg-primary/20 mb-2",children:[p.jsx("span",{className:"material-symbols-outlined",children:E==="dark"?"light_mode":"dark_mode"}),p.jsx("span",{className:"font-medium",children:E==="dark"?"Modo Claro":"Modo Escuro"})]}),p.jsxs("button",{onClick:()=>g("login"),className:"w-full flex items-center gap-3 p-2 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:[p.jsx("span",{className:"material-symbols-outlined",children:"logout"}),p.jsx("span",{className:"font-medium",children:"Sair"})]})]})]})]})]})},Ym=({currentScreen:f,onNavigate:h})=>{const g=y=>`flex flex-col items-center justify-center gap-1 w-1/5 ${f===y?"text-primary":"text-text-secondary-light dark:text-text-secondary-dark hover:text-primary dark:hover:text-white"}`;return p.jsx("nav",{className:"fixed bottom-0 left-0 w-full z-30 border-t border-border-light dark:border-border-dark bg-surface-light dark:bg-background-dark pb-safe",children:p.jsxs("div",{className:"flex h-16 items-center justify-around px-2",children:[p.jsxs("button",{className:g("productList"),onClick:()=>h("productList"),children:[p.jsx("span",{className:"material-symbols-outlined text-2xl",children:"home"}),p.jsx("span",{className:"text-[10px] font-medium",children:"Incio"})]}),p.jsxs("button",{className:g("productTable"),onClick:()=>h("productTable"),children:[p.jsx("span",{className:"material-symbols-outlined text-2xl",children:"inventory_2"}),p.jsx("span",{className:"text-[10px] font-medium",children:"Produtos"})]}),p.jsxs("button",{className:g("addProduct"),onClick:()=>h("addProduct"),children:[p.jsx("span",{className:"material-symbols-outlined text-2xl",children:"add_circle"}),p.jsx("span",{className:"text-[10px] font-medium",children:"Adicionar"})]}),p.jsxs("button",{className:g("shop"),onClick:()=>h("shop"),children:[p.jsx("span",{className:"material-symbols-outlined text-2xl",children:"shopping_cart"}),p.jsx("span",{className:"text-[10px] font-medium",children:"Novo Pedido"})]}),p.jsxs("button",{className:g("profile"),onClick:()=>h("profile"),children:[p.jsx("span",{className:"material-symbols-outlined text-2xl",children:"person"}),p.jsx("span",{className:"text-[10px] font-medium",children:"Perfil"})]})]})})},Da=({children:f,title:h,showBottomNav:g=!0,isSidebarOpen:y,setIsSidebarOpen:E,onNavigate:w,currentScreen:N,theme:R,setTheme:_})=>p.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-sans overflow-x-hidden",children:[p.jsx("div",{className:"hidden lg:block",children:p.jsx(Jh,{isOpen:!0,setIsOpen:()=>{},onNavigate:w,currentScreen:N,theme:R,setTheme:_})}),p.jsx("div",{className:"lg:hidden",children:p.jsx(Jh,{isOpen:y,setIsOpen:E,onNavigate:w,currentScreen:N,theme:R,setTheme:_})}),p.jsxs("main",{className:`transition-all duration-300 ${["login","register"].includes(N)?"":"lg:ml-64"} flex flex-col min-h-screen`,children:[f,g&&p.jsx("div",{className:"lg:hidden mt-auto",children:p.jsx(Ym,{currentScreen:N,onNavigate:w})})]})]}),$h=({onNavigate:f})=>{const[h,g]=Te.useState(""),[y,E]=Te.useState(""),[w,N]=Te.useState(""),R=()=>{Ht("falcon_users_db").then(_=>{if(!Array.isArray(_)||_.length===0){N("Usurio no encontrado.");return}const C=_.find(B=>(B.Email===h||B.Nome===h)&&B.password===y);if(!C){N("E-mail ou senha incorretos.");return}N(""),ir("falcon_user_logged",C).then(()=>{f("productList")})})};return p.jsx("div",{className:"relative flex min-h-screen w-full flex-col bg-background-dark font-display text-white overflow-hidden",children:p.jsxs("div",{className:"flex flex-col flex-grow justify-center px-6 pt-12 pb-8 max-w-md mx-auto w-full",children:[p.jsxs("div",{className:"text-center mb-10",children:[p.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white mb-2",children:"Bem-vindo de volta"}),p.jsx("p",{className:"text-text-secondary-dark",children:"Faa login para continuar"})]}),p.jsxs("div",{className:"flex flex-col gap-5",children:[p.jsxs("label",{className:"flex flex-col flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Usurio ou E-mail"}),p.jsx("input",{className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"ex: seu.nome@exemplo.com",value:h,onChange:_=>g(_.target.value)})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("label",{className:"flex flex-col flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Senha"}),p.jsx("input",{type:"password",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite sua senha",value:y,onChange:_=>E(_.target.value)})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{className:"text-sm font-medium text-primary hover:text-blue-400 transition-colors",children:"Esqueceu a senha?"})})]})]}),p.jsxs("div",{className:"mt-8",children:[w&&p.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:w}),p.jsx("button",{onClick:R,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95",children:"Entrar"})]}),p.jsx("div",{className:"mt-auto pt-8 text-center",children:p.jsxs("p",{className:"text-text-secondary-dark",children:["No tem uma conta?"," ",p.jsx("button",{onClick:()=>f("register"),className:"font-semibold text-primary hover:text-blue-400 transition-colors",children:"Criar Conta"})]})})]})})},qm=({onNavigate:f})=>{const[h,g]=Te.useState(""),[y,E]=Te.useState(""),[w,N]=Te.useState(""),[R,_]=Te.useState(""),[C,B]=Te.useState(""),M=()=>{if(!h||!y||!w||!R){B("Preencha todos os campos.");return}if(w!==R){B("As senhas no conferem.");return}const V={id:Date.now().toString(),Nome:h,Email:y,password:w,Avatar:"",Bio:"",Telefone:""};ir("falcon_user",V).then(()=>{ir("falcon_users_db",V).then(()=>{B(""),f("login")}).catch(Z=>{B("Erro ao salvar em falcon_users_db: "+((Z==null?void 0:Z.message)||Z))})}).catch(Z=>{B("Erro ao salvar em falcon_user: "+((Z==null?void 0:Z.message)||Z))})};return p.jsxs("div",{className:"relative flex min-h-screen w-full flex-col bg-background-dark font-display text-white overflow-hidden",children:[p.jsx("div",{className:"flex items-center p-4",children:p.jsx("h1",{className:"text-white text-3xl font-bold leading-tight",children:"Criar Conta"})}),p.jsx("main",{className:"flex-grow px-4 max-w-md mx-auto w-full",children:p.jsxs("div",{className:"flex flex-col gap-4 py-3",children:[p.jsxs("label",{className:"flex flex-col flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Nome"}),p.jsx("input",{className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite seu nome completo",value:h,onChange:V=>g(V.target.value)})]}),p.jsxs("label",{className:"flex flex-col flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium pb-2",children:"E-mail"}),p.jsx("input",{type:"email",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite seu e-mail",value:y,onChange:V=>E(V.target.value)})]}),p.jsxs("label",{className:"flex flex-col flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Senha"}),p.jsx("input",{type:"password",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite sua senha",value:w,onChange:V=>N(V.target.value)})]}),p.jsxs("label",{className:"flex flex-col flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Confirmar Senha"}),p.jsx("input",{type:"password",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Confirme sua senha",value:R,onChange:V=>_(V.target.value)})]})]})}),p.jsxs("footer",{className:"mt-auto p-4 pb-6 max-w-md mx-auto w-full",children:[C&&p.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:C}),p.jsx("button",{onClick:M,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95 mb-4",children:"Criar Conta"}),p.jsxs("p",{className:"text-center text-sm text-text-secondary-dark",children:["J tem uma conta?"," ",p.jsx("button",{onClick:()=>f("login"),className:"font-semibold text-primary hover:underline",children:"Entrar"})]})]})]})};var Zm=kx();const Wm=eu(Zm),tu=0,Yi=1,fs=2,Lx=4;function ex(f){return()=>f}function Qm(f){f()}function ho(f,h){return g=>f(h(g))}function tx(f,h){return()=>f(h)}function Km(f,h){return g=>f(h,g)}function wf(f){return f!==void 0}function Jm(...f){return()=>{f.map(Qm)}}function hs(){}function nu(f,h){return h(f),f}function $m(f,h){return h(f)}function xn(...f){return f}function Xt(f,h){return f(Yi,h)}function mt(f,h){f(tu,h)}function Ef(f){f(fs)}function yn(f){return f(Lx)}function qe(f,h){return Xt(f,Km(h,tu))}function ma(f,h){const g=f(Yi,y=>{g(),h(y)});return g}function nx(f){let h,g;return y=>E=>{h=E,g&&clearTimeout(g),g=setTimeout(()=>{y(h)},f)}}function jx(f,h){return f===h}function fn(f=jx){let h;return g=>y=>{f(h,y)||(h=y,g(y))}}function tt(f){return h=>g=>{f(g)&&h(g)}}function Pe(f){return h=>ho(h,f)}function Ma(f){return h=>()=>{h(f)}}function Ie(f,...h){const g=e2(...h);return(y,E)=>{switch(y){case fs:Ef(f);return;case Yi:return Xt(f,g(E))}}}function ka(f,h){return g=>y=>{g(h=f(h,y))}}function Cl(f){return h=>g=>{f>0?f--:h(g)}}function si(f){let h=null,g;return y=>E=>{h=E,!g&&(g=setTimeout(()=>{g=void 0,y(h)},f))}}function bt(...f){const h=new Array(f.length);let g=0,y=null;const E=Math.pow(2,f.length)-1;return f.forEach((w,N)=>{const R=Math.pow(2,N);Xt(w,_=>{const C=g;g=g|R,h[N]=_,C!==E&&g===E&&y&&(y(),y=null)})}),w=>N=>{const R=()=>{w([N].concat(h))};g===E?R():y=R}}function e2(...f){return h=>f.reduceRight($m,h)}function t2(f){let h,g;const y=()=>h==null?void 0:h();return function(E,w){switch(E){case Yi:return w?g===w?void 0:(y(),g=w,h=Xt(f,w),h):(y(),hs);case fs:y(),g=null;return}}}function je(f){let h=f;const g=_t();return(y,E)=>{switch(y){case tu:h=E;break;case Yi:{E(h);break}case Lx:return h}return g(y,E)}}function ar(f,h){return nu(je(h),g=>qe(f,g))}function _t(){const f=[];return(h,g)=>{switch(h){case tu:f.slice().forEach(y=>{y(g)});return;case fs:f.splice(0,f.length);return;case Yi:return f.push(g),()=>{const y=f.indexOf(g);y>-1&&f.splice(y,1)}}}}function Pr(f){return nu(_t(),h=>qe(f,h))}function Bt(f,h=[],{singleton:g}={singleton:!0}){return{constructor:f,dependencies:h,id:n2(),singleton:g}}const n2=()=>Symbol();function r2(f){const h=new Map,g=({constructor:y,dependencies:E,id:w,singleton:N})=>{if(N&&h.has(w))return h.get(w);const R=y(E.map(_=>g(_)));return N&&h.set(w,R),R};return g(f)}function Un(...f){const h=_t(),g=new Array(f.length);let y=0;const E=Math.pow(2,f.length)-1;return f.forEach((w,N)=>{const R=Math.pow(2,N);Xt(w,_=>{g[N]=_,y=y|R,y===E&&mt(h,g)})}),function(w,N){switch(w){case fs:{Ef(h);return}case Yi:return y===E&&N(g),Xt(h,N)}}}function nt(f,h=jx){return Ie(f,fn(h))}function ff(...f){return function(h,g){switch(h){case fs:return;case Yi:return Jm(...f.map(y=>Xt(y,g)))}}}var vr=(f=>(f[f.DEBUG=0]="DEBUG",f[f.INFO=1]="INFO",f[f.WARN=2]="WARN",f[f.ERROR=3]="ERROR",f))(vr||{});const a2={0:"debug",3:"error",1:"log",2:"warn"},i2=()=>typeof globalThis>"u"?window:globalThis,qi=Bt(()=>{const f=je(3);return{log:je((h,g,y=1)=>{var E;const w=(E=i2().VIRTUOSO_LOG_LEVEL)!=null?E:yn(f);y>=w&&console[a2[y]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",h,g)}),logLevel:f}},[],{singleton:!0});function Ba(f,h,g){return Cf(f,h,g).callbackRef}function Cf(f,h,g){const y=ze.useRef(null);let E=N=>{};const w=ze.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(N=>{const R=()=>{const _=N[0].target;_.offsetParent!==null&&f(_)};g?R():requestAnimationFrame(R)}):null,[f,g]);return E=N=>{N&&h?(w==null||w.observe(N),y.current=N):(y.current&&(w==null||w.unobserve(y.current)),y.current=null)},{callbackRef:E,ref:y}}function zx(f,h,g,y,E,w,N,R,_){const C=ze.useCallback(B=>{const M=l2(B.children,h,R?"offsetWidth":"offsetHeight",E);let V=B.parentElement;for(;!V.dataset.virtuosoScroller;)V=V.parentElement;const Z=V.lastElementChild.dataset.viewportType==="window";let ge;Z&&(ge=V.ownerDocument.defaultView);const ne=N?R?N.scrollLeft:N.scrollTop:Z?R?ge.scrollX||ge.document.documentElement.scrollLeft:ge.scrollY||ge.document.documentElement.scrollTop:R?V.scrollLeft:V.scrollTop,re=N?R?N.scrollWidth:N.scrollHeight:Z?R?ge.document.documentElement.scrollWidth:ge.document.documentElement.scrollHeight:R?V.scrollWidth:V.scrollHeight,z=N?R?N.offsetWidth:N.offsetHeight:Z?R?ge.innerWidth:ge.innerHeight:R?V.offsetWidth:V.offsetHeight;y({scrollHeight:re,scrollTop:Math.max(ne,0),viewportHeight:z}),w==null||w(R?rx("column-gap",getComputedStyle(B).columnGap,E):rx("row-gap",getComputedStyle(B).rowGap,E)),M!==null&&f(M)},[f,h,E,w,N,y,R]);return Cf(C,g,_)}function l2(f,h,g,y){const E=f.length;if(E===0)return null;const w=[];for(let N=0;N<E;N++){const R=f.item(N);if(R.dataset.index===void 0)continue;const _=parseInt(R.dataset.index),C=parseFloat(R.dataset.knownSize),B=h(R,g);if(B===0&&y("Zero-sized element, this should not happen",{child:R},vr.ERROR),B===C)continue;const M=w[w.length-1];w.length===0||M.size!==B||M.endIndex!==_-1?w.push({endIndex:_,size:B,startIndex:_}):w[w.length-1].endIndex++}return w}function rx(f,h,g){return h!=="normal"&&!(h!=null&&h.endsWith("px"))&&g(`${f} was not resolved to pixel value correctly`,h,vr.WARN),h==="normal"?0:parseInt(h??"0",10)}function Af(f,h,g){const y=ze.useRef(null),E=ze.useCallback(_=>{if(!(_!=null&&_.offsetParent))return;const C=_.getBoundingClientRect(),B=C.width;let M,V;if(h){const Z=h.getBoundingClientRect(),ge=C.top-Z.top;V=Z.height-Math.max(0,ge),M=ge+h.scrollTop}else{const Z=N.current.ownerDocument.defaultView;V=Z.innerHeight-Math.max(0,C.top),M=C.top+Z.scrollY}y.current={offsetTop:M,visibleHeight:V,visibleWidth:B},f(y.current)},[f,h]),{callbackRef:w,ref:N}=Cf(E,!0,g),R=ze.useCallback(()=>{E(N.current)},[E,N]);return ze.useEffect(()=>{var _;if(h){h.addEventListener("scroll",R);const C=new ResizeObserver(()=>{requestAnimationFrame(R)});return C.observe(h),()=>{h.removeEventListener("scroll",R),C.unobserve(h)}}else{const C=(_=N.current)==null?void 0:_.ownerDocument.defaultView;return C==null||C.addEventListener("scroll",R),C==null||C.addEventListener("resize",R),()=>{C==null||C.removeEventListener("scroll",R),C==null||C.removeEventListener("resize",R)}}},[R,h,N]),w}const xr=Bt(()=>{const f=_t(),h=_t(),g=je(0),y=_t(),E=je(0),w=_t(),N=_t(),R=je(0),_=je(0),C=je(0),B=je(0),M=_t(),V=_t(),Z=je(!1),ge=je(!1),ne=je(!1);return qe(Ie(f,Pe(({scrollTop:re})=>re)),h),qe(Ie(f,Pe(({scrollHeight:re})=>re)),N),qe(h,E),{deviation:g,fixedFooterHeight:C,fixedHeaderHeight:_,footerHeight:B,headerHeight:R,horizontalDirection:ge,scrollBy:V,scrollContainerState:f,scrollHeight:N,scrollingInProgress:Z,scrollTo:M,scrollTop:h,skipAnimationFrameInResizeObserver:ne,smoothScrollTargetReached:y,statefulScrollTop:E,viewportHeight:w}},[],{singleton:!0}),xo={lvl:0};function Ux(f,h){const g=f.length;if(g===0)return[];let{index:y,value:E}=h(f[0]);const w=[];for(let N=1;N<g;N++){const{index:R,value:_}=h(f[N]);w.push({end:R-1,start:y,value:E}),y=R,E=_}return w.push({end:1/0,start:y,value:E}),w}function en(f){return f===xo}function go(f,h){if(!en(f))return h===f.k?f.v:h<f.k?go(f.l,h):go(f.r,h)}function ba(f,h,g="k"){if(en(f))return[-1/0,void 0];if(Number(f[g])===h)return[f.k,f.v];if(Number(f[g])<h){const y=ba(f.r,h,g);return y[0]===-1/0?[f.k,f.v]:y}return ba(f.l,h,g)}function Fr(f,h,g){return en(f)?Px(h,g,1):h===f.k?Xn(f,{k:h,v:g}):h<f.k?ax(Xn(f,{l:Fr(f.l,h,g)})):ax(Xn(f,{r:Fr(f.r,h,g)}))}function us(){return xo}function ru(f,h,g){if(en(f))return[];const y=ba(f,h)[0];return s2(xf(f,y,g))}function hf(f,h){if(en(f))return xo;const{k:g,l:y,r:E}=f;if(h===g){if(en(y))return E;if(en(E))return y;{const[w,N]=Fx(y);return Vc(Xn(f,{k:w,l:Hx(y),v:N}))}}else return h<g?Vc(Xn(f,{l:hf(y,h)})):Vc(Xn(f,{r:hf(E,h)}))}function El(f){return en(f)?[]:[...El(f.l),{k:f.k,v:f.v},...El(f.r)]}function xf(f,h,g){if(en(f))return[];const{k:y,l:E,r:w,v:N}=f;let R=[];return y>h&&(R=R.concat(xf(E,h,g))),y>=h&&y<=g&&R.push({k:y,v:N}),y<=g&&(R=R.concat(xf(w,h,g))),R}function Vc(f){const{l:h,lvl:g,r:y}=f;if(y.lvl>=g-1&&h.lvl>=g-1)return f;if(g>y.lvl+1){if(sf(h))return Gx(Xn(f,{lvl:g-1}));if(!en(h)&&!en(h.r))return Xn(h.r,{l:Xn(h,{r:h.r.l}),lvl:g,r:Xn(f,{l:h.r.r,lvl:g-1})});throw new Error("Unexpected empty nodes")}else{if(sf(f))return gf(Xn(f,{lvl:g-1}));if(!en(y)&&!en(y.l)){const E=y.l,w=sf(E)?y.lvl-1:y.lvl;return Xn(E,{l:Xn(f,{lvl:g-1,r:E.l}),lvl:E.lvl+1,r:gf(Xn(y,{l:E.r,lvl:w}))})}else throw new Error("Unexpected empty nodes")}}function Xn(f,h){return Px(h.k!==void 0?h.k:f.k,h.v!==void 0?h.v:f.v,h.lvl!==void 0?h.lvl:f.lvl,h.l!==void 0?h.l:f.l,h.r!==void 0?h.r:f.r)}function Hx(f){return en(f.r)?f.l:Vc(Xn(f,{r:Hx(f.r)}))}function sf(f){return en(f)||f.lvl>f.r.lvl}function Fx(f){return en(f.r)?[f.k,f.v]:Fx(f.r)}function Px(f,h,g,y=xo,E=xo){return{k:f,l:y,lvl:g,r:E,v:h}}function ax(f){return gf(Gx(f))}function Gx(f){const{l:h}=f;return!en(h)&&h.lvl===f.lvl?Xn(h,{r:Xn(f,{l:h.r})}):f}function gf(f){const{lvl:h,r:g}=f;return!en(g)&&!en(g.r)&&g.lvl===h&&g.r.lvl===h?Xn(g,{l:Xn(f,{r:g.l}),lvl:h+1}):f}function s2(f){return Ux(f,({k:h,v:g})=>({index:h,value:g}))}function Vx(f,h){return!!(f&&f.startIndex===h.startIndex&&f.endIndex===h.endIndex)}function mo(f,h){return!!(f&&f[0]===h[0]&&f[1]===h[1])}const vf=Bt(()=>({recalcInProgress:je(!1)}),[],{singleton:!0});function Xx(f,h,g){return f[qc(f,h,g)]}function qc(f,h,g,y=0){let E=f.length-1;for(;y<=E;){const w=Math.floor((y+E)/2),N=f[w],R=g(N,h);if(R===0)return w;if(R===-1){if(E-y<2)return w-1;E=w-1}else{if(E===y)return w;y=w+1}}throw new Error(`Failed binary finding record in array - ${f.join(",")}, searched for ${h}`)}function o2(f,h,g,y){const E=qc(f,h,y),w=qc(f,g,y,E);return f.slice(E,w+1)}function ya(f,h){return Math.round(f.getBoundingClientRect()[h])}function au(f){return!en(f.groupOffsetTree)}function Sf({index:f},h){return h===f?0:h<f?-1:1}function c2(){return{groupIndices:[],groupOffsetTree:us(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:us()}}function u2(f,h){let g=en(f)?0:1/0;for(const y of h){const{endIndex:E,size:w,startIndex:N}=y;if(g=Math.min(g,N),en(f)){f=Fr(f,0,w);continue}const R=ru(f,N-1,E+1);if(R.some(p2(y)))continue;let _=!1,C=!1;for(const{end:B,start:M,value:V}of R)_?(E>=M||w===V)&&(f=hf(f,M)):(C=V!==w,_=!0),B>E&&E>=M&&V!==w&&(f=Fr(f,E+1,V));C&&(f=Fr(f,N,w))}return[f,g]}function d2(f){return typeof f.groupIndex<"u"}function f2({offset:f},h){return h===f?0:h<f?-1:1}function po(f,h,g){if(h.length===0)return 0;const{index:y,offset:E,size:w}=Xx(h,f,Sf),N=f-y,R=w*N+(N-1)*g+E;return R>0?R+g:R}function Yx(f,h){if(!au(h))return f;let g=0;for(;h.groupIndices[g]<=f+g;)g++;return f+g}function qx(f,h,g){if(d2(f))return h.groupIndices[f.groupIndex]+1;{const y=f.index==="LAST"?g:f.index;let E=Yx(y,h);return E=Math.max(0,E,Math.min(g,E)),E}}function h2(f,h,g,y=0){return y>0&&(h=Math.max(h,Xx(f,y,Sf).offset)),Ux(o2(f,h,g,f2),m2)}function x2(f,[h,g,y,E]){h.length>0&&y("received item sizes",h,vr.DEBUG);const w=f.sizeTree;let N=w,R=0;if(g.length>0&&en(w)&&h.length===2){const V=h[0].size,Z=h[1].size;N=g.reduce((ge,ne)=>Fr(Fr(ge,ne,V),ne+1,Z),N)}else[N,R]=u2(N,h);if(N===w)return f;const{lastIndex:_,lastOffset:C,lastSize:B,offsetTree:M}=mf(f.offsetTree,R,N,E);return{groupIndices:g,groupOffsetTree:g.reduce((V,Z)=>Fr(V,Z,po(Z,M,E)),us()),lastIndex:_,lastOffset:C,lastSize:B,offsetTree:M,sizeTree:N}}function g2(f){return El(f).map(({k:h,v:g},y,E)=>{const w=E[y+1];return{endIndex:w?w.k-1:1/0,size:g,startIndex:h}})}function ix(f,h){let g=0,y=0;for(;g<f;)g+=h[y+1]-h[y]-1,y++;return y-(g===f?0:1)}function mf(f,h,g,y){let E=f,w=0,N=0,R=0,_=0;if(h!==0){_=qc(E,h-1,Sf),R=E[_].offset;const C=ba(g,h-1);w=C[0],N=C[1],E.length&&E[_].size===ba(g,h)[1]&&(_-=1),E=E.slice(0,_+1)}else E=[];for(const{start:C,value:B}of ru(g,h,1/0)){const M=C-w,V=M*N+R+M*y;E.push({index:C,offset:V,size:B}),w=C,R=V,N=B}return{lastIndex:w,lastOffset:R,lastSize:N,offsetTree:E}}function m2(f){return{index:f.index,value:f}}function p2(f){const{endIndex:h,size:g,startIndex:y}=f;return E=>E.start===y&&(E.end===h||E.end===1/0)&&E.value===g}const b2={offsetHeight:"height",offsetWidth:"width"},La=Bt(([{log:f},{recalcInProgress:h}])=>{const g=_t(),y=_t(),E=ar(y,0),w=_t(),N=_t(),R=je(0),_=je([]),C=je(void 0),B=je(void 0),M=je(void 0),V=je(void 0),Z=je((D,ee)=>ya(D,b2[ee])),ge=je(void 0),ne=je(0),re=c2(),z=ar(Ie(g,bt(_,f,ne),ka(x2,re),fn()),re),H=ar(Ie(_,fn(),ka((D,ee)=>({current:ee,prev:D.current}),{current:[],prev:[]}),Pe(({prev:D})=>D)),[]);qe(Ie(_,tt(D=>D.length>0),bt(z,ne),Pe(([D,ee,K])=>{const pe=D.reduce((ce,xe,Ae)=>Fr(ce,xe,po(xe,ee.offsetTree,K)||Ae),us());return{...ee,groupIndices:D,groupOffsetTree:pe}})),z),qe(Ie(y,bt(z),tt(([D,{lastIndex:ee}])=>D<ee),Pe(([D,{lastIndex:ee,lastSize:K}])=>[{endIndex:ee,size:K,startIndex:D}])),g),qe(C,B);const F=ar(Ie(C,Pe(D=>D===void 0)),!0);qe(Ie(B,tt(D=>D!==void 0&&en(yn(z).sizeTree)),Pe(D=>{const ee=yn(M),K=yn(_).length>0;return ee?K?[{endIndex:0,size:ee,startIndex:0},{endIndex:1,size:D,startIndex:1}]:[]:[{endIndex:0,size:D,startIndex:0}]})),g),qe(Ie(V,tt(D=>D!==void 0&&D.length>0&&en(yn(z).sizeTree)),Pe(D=>{const ee=[];let K=D[0],pe=0;for(let ce=1;ce<D.length;ce++){const xe=D[ce];xe!==K&&(ee.push({endIndex:ce-1,size:K,startIndex:pe}),K=xe,pe=ce)}return ee.push({endIndex:D.length-1,size:K,startIndex:pe}),ee})),g),qe(Ie(_,bt(M,B),tt(([,D,ee])=>D!==void 0&&ee!==void 0),Pe(([D,ee,K])=>{const pe=[];for(let ce=0;ce<D.length;ce++){const xe=D[ce],Ae=D[ce+1];pe.push({startIndex:xe,endIndex:xe,size:ee}),Ae!==void 0&&pe.push({startIndex:xe+1,endIndex:Ae-1,size:K})}return pe})),g);const X=Pr(Ie(g,bt(z),ka(({sizes:D},[ee,K])=>({changed:K!==D,sizes:K}),{changed:!1,sizes:re}),Pe(D=>D.changed)));Xt(Ie(R,ka((D,ee)=>({diff:D.prev-ee,prev:ee}),{diff:0,prev:0}),Pe(D=>D.diff)),D=>{const{groupIndices:ee}=yn(z);if(D>0)mt(h,!0),mt(w,D+ix(D,ee));else if(D<0){const K=yn(H);K.length>0&&(D-=ix(-D,K)),mt(N,D)}}),Xt(Ie(R,bt(f)),([D,ee])=>{D<0&&ee("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:R},vr.ERROR)});const de=Pr(w);qe(Ie(w,bt(z),Pe(([D,ee])=>{const K=ee.groupIndices.length>0,pe=[],ce=ee.lastSize;if(K){const xe=go(ee.sizeTree,0);let Ae=0,ve=0;for(;Ae<D;){const j=ee.groupIndices[ve],$=ee.groupIndices.length===ve+1?1/0:ee.groupIndices[ve+1]-j-1;pe.push({endIndex:j,size:xe,startIndex:j}),pe.push({endIndex:j+1+$-1,size:ce,startIndex:j+1}),ve++,Ae+=$+1}const Q=El(ee.sizeTree);return Ae!==D&&Q.shift(),Q.reduce((j,{k:$,v:Ce})=>{let Le=j.ranges;return j.prevSize!==0&&(Le=[...j.ranges,{endIndex:$+D-1,size:j.prevSize,startIndex:j.prevIndex}]),{prevIndex:$+D,prevSize:Ce,ranges:Le}},{prevIndex:D,prevSize:0,ranges:pe}).ranges}return El(ee.sizeTree).reduce((xe,{k:Ae,v:ve})=>({prevIndex:Ae+D,prevSize:ve,ranges:[...xe.ranges,{endIndex:Ae+D-1,size:xe.prevSize,startIndex:xe.prevIndex}]}),{prevIndex:0,prevSize:ce,ranges:[]}).ranges})),g);const W=Pr(Ie(N,bt(z,ne),Pe(([D,{offsetTree:ee},K])=>{const pe=-D;return po(pe,ee,K)})));return qe(Ie(N,bt(z,ne),Pe(([D,ee,K])=>{if(ee.groupIndices.length>0){if(en(ee.sizeTree))return ee;let pe=us();const ce=yn(H);let xe=0,Ae=0,ve=0;for(;xe<-D;){ve=ce[Ae];const Q=ce[Ae+1]-ve-1;Ae++,xe+=Q+1}if(pe=El(ee.sizeTree).reduce((Q,{k:j,v:$})=>Fr(Q,Math.max(0,j+D),$),pe),xe!==-D){const Q=go(ee.sizeTree,ve);pe=Fr(pe,0,Q);const j=ba(ee.sizeTree,-D+1)[1];pe=Fr(pe,1,j)}return{...ee,sizeTree:pe,...mf(ee.offsetTree,0,pe,K)}}else{const pe=El(ee.sizeTree).reduce((ce,{k:xe,v:Ae})=>Fr(ce,Math.max(0,xe+D),Ae),us());return{...ee,sizeTree:pe,...mf(ee.offsetTree,0,pe,K)}}})),z),{beforeUnshiftWith:de,data:ge,defaultItemSize:B,firstItemIndex:R,fixedItemSize:C,fixedGroupSize:M,gap:ne,groupIndices:_,heightEstimates:V,itemSize:Z,listRefresh:X,shiftWith:N,shiftWithOffset:W,sizeRanges:g,sizes:z,statefulTotalCount:E,totalCount:y,trackItemSizes:F,unshiftWith:w}},xn(qi,vf),{singleton:!0});function y2(f){return f.reduce((h,g)=>(h.groupIndices.push(h.totalCount),h.totalCount+=g+1,h),{groupIndices:[],totalCount:0})}const Zx=Bt(([{groupIndices:f,sizes:h,totalCount:g},{headerHeight:y,scrollTop:E}])=>{const w=_t(),N=_t(),R=Pr(Ie(w,Pe(y2)));return qe(Ie(R,Pe(_=>_.totalCount)),g),qe(Ie(R,Pe(_=>_.groupIndices)),f),qe(Ie(Un(E,h,y),tt(([_,C])=>au(C)),Pe(([_,C,B])=>ba(C.groupOffsetTree,Math.max(_-B,0),"v")[0]),fn(),Pe(_=>[_])),N),{groupCounts:w,topItemsIndexes:N}},xn(La,xr)),Zi=Bt(([{log:f}])=>{const h=je(!1),g=Pr(Ie(h,tt(y=>y),fn()));return Xt(h,y=>{y&&yn(f)("props updated",{},vr.DEBUG)}),{didMount:g,propsReady:h}},xn(qi),{singleton:!0}),w2=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Wx(f){const h=typeof f=="number"?{index:f}:f;return h.align||(h.align="start"),(!h.behavior||!w2)&&(h.behavior="auto"),h.offset||(h.offset=0),h}const yo=Bt(([{gap:f,listRefresh:h,sizes:g,totalCount:y},{fixedFooterHeight:E,fixedHeaderHeight:w,footerHeight:N,headerHeight:R,scrollingInProgress:_,scrollTo:C,smoothScrollTargetReached:B,viewportHeight:M},{log:V}])=>{const Z=_t(),ge=_t(),ne=je(0);let re=null,z=null,H=null;function F(){re&&(re(),re=null),H&&(H(),H=null),z&&(clearTimeout(z),z=null),mt(_,!1)}return qe(Ie(Z,bt(g,M,y,ne,R,N,V),bt(f,w,E),Pe(([[X,de,W,D,ee,K,pe,ce],xe,Ae,ve])=>{const Q=Wx(X),{align:j,behavior:$,offset:Ce}=Q,Le=D-1,Re=qx(Q,de,Le);let U=po(Re,de.offsetTree,xe)+K;j==="end"?(U+=Ae+ba(de.sizeTree,Re)[1]-W+ve,Re===Le&&(U+=pe)):j==="center"?U+=(Ae+ba(de.sizeTree,Re)[1]-W+ve)/2:U-=ee,Ce&&(U+=Ce);const ue=_e=>{F(),_e?(ce("retrying to scroll to",{location:X},vr.DEBUG),mt(Z,X)):(mt(ge,!0),ce("list did not change, scroll successful",{},vr.DEBUG))};if(F(),$==="smooth"){let _e=!1;H=Xt(h,Be=>{_e=_e||Be}),re=ma(B,()=>{ue(_e)})}else re=ma(Ie(h,E2(150)),ue);return z=setTimeout(()=>{F()},1200),mt(_,!0),ce("scrolling from index to",{behavior:$,index:Re,top:U},vr.DEBUG),{behavior:$,top:U}})),C),{scrollTargetReached:ge,scrollToIndex:Z,topListHeight:ne}},xn(La,xr,qi),{singleton:!0});function E2(f){return h=>{const g=setTimeout(()=>{h(!1)},f);return y=>{y&&(h(!0),clearTimeout(g))}}}function Tf(f,h){f==0?h():requestAnimationFrame(()=>{Tf(f-1,h)})}function Nf(f,h){const g=h-1;return typeof f=="number"?f:f.index==="LAST"?g:f.index}const wo=Bt(([{defaultItemSize:f,listRefresh:h,sizes:g},{scrollTop:y},{scrollTargetReached:E,scrollToIndex:w},{didMount:N}])=>{const R=je(!0),_=je(0),C=je(!0);return qe(Ie(N,bt(_),tt(([B,M])=>!!M),Ma(!1)),R),qe(Ie(N,bt(_),tt(([B,M])=>!!M),Ma(!1)),C),Xt(Ie(Un(h,N),bt(R,g,f,C),tt(([[,B],M,{sizeTree:V},Z,ge])=>B&&(!en(V)||wf(Z))&&!M&&!ge),bt(_)),([,B])=>{ma(E,()=>{mt(C,!0)}),Tf(4,()=>{ma(y,()=>{mt(R,!0)}),mt(w,B)})}),{initialItemFinalLocationReached:C,initialTopMostItemIndex:_,scrolledToInitialItem:R}},xn(La,xr,yo,Zi),{singleton:!0});function Qx(f,h){return Math.abs(f-h)<1.01}const bo="up",uo="down",C2="none",A2={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},v2=0,Eo=Bt(([{footerHeight:f,headerHeight:h,scrollBy:g,scrollContainerState:y,scrollTop:E,viewportHeight:w}])=>{const N=je(!1),R=je(!0),_=_t(),C=_t(),B=je(4),M=je(v2),V=ar(Ie(ff(Ie(nt(E),Cl(1),Ma(!0)),Ie(nt(E),Cl(1),Ma(!1),nx(100))),fn()),!1),Z=ar(Ie(ff(Ie(g,Ma(!0)),Ie(g,Ma(!1),nx(200))),fn()),!1);qe(Ie(Un(nt(E),nt(M)),Pe(([H,F])=>H<=F),fn()),R),qe(Ie(R,si(50)),C);const ge=Pr(Ie(Un(y,nt(w),nt(h),nt(f),nt(B)),ka((H,[{scrollHeight:F,scrollTop:X},de,W,D,ee])=>{const K=X+de-F>-ee,pe={scrollHeight:F,scrollTop:X,viewportHeight:de};if(K){let xe,Ae;return X>H.state.scrollTop?(xe="SCROLLED_DOWN",Ae=H.state.scrollTop-X):(xe="SIZE_DECREASED",Ae=H.state.scrollTop-X||H.scrollTopDelta),{atBottom:!0,atBottomBecause:xe,scrollTopDelta:Ae,state:pe}}let ce;return pe.scrollHeight>H.state.scrollHeight?ce="SIZE_INCREASED":de<H.state.viewportHeight?ce="VIEWPORT_HEIGHT_DECREASING":X<H.state.scrollTop?ce="SCROLLING_UPWARDS":ce="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:ce,state:pe}},A2),fn((H,F)=>H&&H.atBottom===F.atBottom))),ne=ar(Ie(y,ka((H,{scrollHeight:F,scrollTop:X,viewportHeight:de})=>{if(Qx(H.scrollHeight,F))return{changed:!1,jump:0,scrollHeight:F,scrollTop:X};{const W=F-(X+de)<1;return H.scrollTop!==X&&W?{changed:!0,jump:H.scrollTop-X,scrollHeight:F,scrollTop:X}:{changed:!0,jump:0,scrollHeight:F,scrollTop:X}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),tt(H=>H.changed),Pe(H=>H.jump)),0);qe(Ie(ge,Pe(H=>H.atBottom)),N),qe(Ie(N,si(50)),_);const re=je(uo);qe(Ie(y,Pe(({scrollTop:H})=>H),fn(),ka((H,F)=>yn(Z)?{direction:H.direction,prevScrollTop:F}:{direction:F<H.prevScrollTop?bo:uo,prevScrollTop:F},{direction:uo,prevScrollTop:0}),Pe(H=>H.direction)),re),qe(Ie(y,si(50),Ma(C2)),re);const z=je(0);return qe(Ie(V,tt(H=>!H),Ma(0)),z),qe(Ie(E,si(100),bt(V),tt(([H,F])=>!!F),ka(([H,F],[X])=>[F,X],[0,0]),Pe(([H,F])=>F-H)),z),{atBottomState:ge,atBottomStateChange:_,atBottomThreshold:B,atTopStateChange:C,atTopThreshold:M,isAtBottom:N,isAtTop:R,isScrolling:V,lastJumpDueToItemResize:ne,scrollDirection:re,scrollVelocity:z}},xn(xr)),Zc="top",Wc="bottom",lx="none";function sx(f,h,g){return typeof f=="number"?g===bo&&h===Zc||g===uo&&h===Wc?f:0:g===bo?h===Zc?f.main:f.reverse:h===Wc?f.main:f.reverse}function ox(f,h){var g;return typeof f=="number"?f:(g=f[h])!=null?g:0}const _f=Bt(([{deviation:f,fixedHeaderHeight:h,headerHeight:g,scrollTop:y,viewportHeight:E}])=>{const w=_t(),N=je(0),R=je(0),_=je(0),C=ar(Ie(Un(nt(y),nt(E),nt(g),nt(w,mo),nt(_),nt(N),nt(h),nt(f),nt(R)),Pe(([B,M,V,[Z,ge],ne,re,z,H,F])=>{const X=B-H,de=re+z,W=Math.max(V-X,0);let D=lx;const ee=ox(F,Zc),K=ox(F,Wc);return Z-=H,Z+=V+z,ge+=V+z,ge-=H,Z>B+de-ee&&(D=bo),ge<B-W+M+K&&(D=uo),D!==lx?[Math.max(X-V-sx(ne,Zc,D)-ee,0),X-W-z+M+sx(ne,Wc,D)+K]:null}),tt(B=>B!=null),fn(mo)),[0,0]);return{increaseViewportBy:R,listBoundary:w,overscan:_,topListHeight:N,visibleRange:C}},xn(xr),{singleton:!0});function S2(f,h,g){if(au(h)){const y=Yx(f,h);return[{index:ba(h.groupOffsetTree,y)[0],offset:0,size:0},{data:g==null?void 0:g[0],index:y,offset:0,size:0}]}return[{data:g==null?void 0:g[0],index:f,offset:0,size:0}]}const of={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function Xc(f,h,g,y,E,w){const{lastIndex:N,lastOffset:R,lastSize:_}=E;let C=0,B=0;if(f.length>0){C=f[0].offset;const ne=f[f.length-1];B=ne.offset+ne.size}const M=g-N,V=R+M*_+(M-1)*y,Z=C,ge=V-B;return{bottom:B,firstItemIndex:w,items:cx(f,E,w),offsetBottom:ge,offsetTop:C,top:Z,topItems:cx(h,E,w),topListHeight:h.reduce((ne,re)=>re.size+ne,0),totalCount:g}}function Kx(f,h,g,y,E,w){let N=0;if(g.groupIndices.length>0)for(const B of g.groupIndices){if(B-N>=f)break;N++}const R=f+N,_=Nf(h,R),C=Array.from({length:R}).map((B,M)=>({data:w[M+_],index:M+_,offset:0,size:0}));return Xc(C,[],R,E,g,y)}function cx(f,h,g){if(f.length===0)return[];if(!au(h))return f.map(C=>({...C,index:C.index+g,originalIndex:C.index}));const y=f[0].index,E=f[f.length-1].index,w=[],N=ru(h.groupOffsetTree,y,E);let R,_=0;for(const C of f){(!R||R.end<C.index)&&(R=N.shift(),_=h.groupIndices.indexOf(R.start));let B;C.index===R.start?B={index:_,type:"group"}:B={groupIndex:_,index:C.index-(_+1)+g},w.push({...B,data:C.data,offset:C.offset,originalIndex:C.index,size:C.size})}return w}const Al=Bt(([{data:f,firstItemIndex:h,gap:g,sizes:y,totalCount:E},w,{listBoundary:N,topListHeight:R,visibleRange:_},{initialTopMostItemIndex:C,scrolledToInitialItem:B},{topListHeight:M},V,{didMount:Z},{recalcInProgress:ge}])=>{const ne=je([]),re=je(0),z=_t();qe(w.topItemsIndexes,ne);const H=ar(Ie(Un(Z,ge,nt(_,mo),nt(E),nt(y),nt(C),B,nt(ne),nt(h),nt(g),f),tt(([W,D,,ee,,,,,,,K])=>{const pe=K&&K.length!==ee;return W&&!D&&!pe}),Pe(([,,[W,D],ee,K,pe,ce,xe,Ae,ve,Q])=>{const j=K,{offsetTree:$,sizeTree:Ce}=j,Le=yn(re);if(ee===0)return{...of,totalCount:ee};if(W===0&&D===0)return Le===0?{...of,totalCount:ee}:Kx(Le,pe,K,Ae,ve,Q||[]);if(en(Ce))return Le>0?null:Xc(S2(Nf(pe,ee),j,Q),[],ee,ve,j,Ae);const Re=[];if(xe.length>0){const Ve=xe[0],we=xe[xe.length-1];let Ze=0;for(const J of ru(Ce,Ve,we)){const Oe=J.value,at=Math.max(J.start,Ve),$e=Math.min(J.end,we);for(let Ot=at;Ot<=$e;Ot++)Re.push({data:Q==null?void 0:Q[Ot],index:Ot,offset:Ze,size:Oe}),Ze+=Oe}}if(!ce)return Xc([],Re,ee,ve,j,Ae);const U=xe.length>0?xe[xe.length-1]+1:0,ue=h2($,W,D,U);if(ue.length===0)return null;const _e=ee-1,Be=nu([],Ve=>{for(const we of ue){const Ze=we.value;let J=Ze.offset,Oe=we.start;const at=Ze.size;if(Ze.offset<W){Oe+=Math.floor((W-Ze.offset+ve)/(at+ve));const Ot=Oe-we.start;J+=Ot*at+Ot*ve}Oe<U&&(J+=(U-Oe)*at,Oe=U);const $e=Math.min(we.end,_e);for(let Ot=Oe;Ot<=$e&&!(J>=D);Ot++)Ve.push({data:Q==null?void 0:Q[Ot],index:Ot,offset:J,size:at}),J+=at+ve}});return Xc(Be,Re,ee,ve,j,Ae)}),tt(W=>W!==null),fn()),of);qe(Ie(f,tt(wf),Pe(W=>W==null?void 0:W.length)),E),qe(Ie(H,Pe(W=>W.topListHeight)),M),qe(M,R),qe(Ie(H,Pe(W=>[W.top,W.bottom])),N),qe(Ie(H,Pe(W=>W.items)),z);const F=Pr(Ie(H,tt(({items:W})=>W.length>0),bt(E,f),tt(([{items:W},D])=>W[W.length-1].originalIndex===D-1),Pe(([,W,D])=>[W-1,D]),fn(mo),Pe(([W])=>W))),X=Pr(Ie(H,si(200),tt(({items:W,topItems:D})=>W.length>0&&W[0].originalIndex===D.length),Pe(({items:W})=>W[0].index),fn())),de=Pr(Ie(H,tt(({items:W})=>W.length>0),Pe(({items:W})=>{let D=0,ee=W.length-1;for(;W[D].type==="group"&&D<ee;)D++;for(;W[ee].type==="group"&&ee>D;)ee--;return{endIndex:W[ee].index,startIndex:W[D].index}}),fn(Vx)));return{endReached:F,initialItemCount:re,itemsRendered:z,listState:H,rangeChanged:de,startReached:X,topItemsIndexes:ne,...V}},xn(La,Zx,_f,wo,yo,Eo,Zi,vf),{singleton:!0}),Jx=Bt(([{fixedFooterHeight:f,fixedHeaderHeight:h,footerHeight:g,headerHeight:y},{listState:E}])=>{const w=_t(),N=ar(Ie(Un(g,f,y,h,E),Pe(([R,_,C,B,M])=>R+_+C+B+M.offsetBottom+M.bottom)),0);return qe(nt(N),w),{totalListHeight:N,totalListHeightChanged:w}},xn(xr,Al),{singleton:!0}),T2=Bt(([{viewportHeight:f},{totalListHeight:h}])=>{const g=je(!1),y=ar(Ie(Un(g,f,h),tt(([E])=>E),Pe(([,E,w])=>Math.max(0,E-w)),si(0),fn()),0);return{alignToBottom:g,paddingTopAddition:y}},xn(xr,Jx),{singleton:!0}),$x=Bt(()=>({context:je(null)})),N2=({itemBottom:f,itemTop:h,locationParams:{align:g,behavior:y,...E},viewportBottom:w,viewportTop:N})=>h<N?{...E,align:g??"start",behavior:y}:f>w?{...E,align:g??"end",behavior:y}:null,eg=Bt(([{gap:f,sizes:h,totalCount:g},{fixedFooterHeight:y,fixedHeaderHeight:E,headerHeight:w,scrollingInProgress:N,scrollTop:R,viewportHeight:_},{scrollToIndex:C}])=>{const B=_t();return qe(Ie(B,bt(h,_,g,w,E,y,R),bt(f),Pe(([[M,V,Z,ge,ne,re,z,H],F])=>{const{align:X,behavior:de,calculateViewLocation:W=N2,done:D,...ee}=M,K=qx(M,V,ge-1),pe=po(K,V.offsetTree,F)+ne+re,ce=pe+ba(V.sizeTree,K)[1],xe=H+re,Ae=H+Z-z,ve=W({itemBottom:ce,itemTop:pe,locationParams:{align:X,behavior:de,...ee},viewportBottom:Ae,viewportTop:xe});return ve?D&&ma(Ie(N,tt(Q=>!Q),Cl(yn(N)?1:2)),D):D&&D(),ve}),tt(M=>M!==null)),C),{scrollIntoView:B}},xn(La,xr,yo,Al,qi),{singleton:!0});function ux(f){return f?f==="smooth"?"smooth":"auto":!1}const _2=(f,h)=>typeof f=="function"?ux(f(h)):h&&ux(f),I2=Bt(([{listRefresh:f,totalCount:h,fixedItemSize:g,data:y},{atBottomState:E,isAtBottom:w},{scrollToIndex:N},{scrolledToInitialItem:R},{didMount:_,propsReady:C},{log:B},{scrollingInProgress:M},{context:V},{scrollIntoView:Z}])=>{const ge=je(!1),ne=_t();let re=null;function z(de){mt(N,{align:"end",behavior:de,index:"LAST"})}Xt(Ie(Un(Ie(nt(h),Cl(1)),_),bt(nt(ge),w,R,M),Pe(([[de,W],D,ee,K,pe])=>{let ce=W&&K,xe="auto";return ce&&(xe=_2(D,ee||pe),ce=ce&&!!xe),{followOutputBehavior:xe,shouldFollow:ce,totalCount:de}}),tt(({shouldFollow:de})=>de)),({followOutputBehavior:de,totalCount:W})=>{re&&(re(),re=null),yn(g)?requestAnimationFrame(()=>{yn(B)("following output to ",{totalCount:W},vr.DEBUG),z(de)}):re=ma(f,()=>{yn(B)("following output to ",{totalCount:W},vr.DEBUG),z(de),re=null})});function H(de){const W=ma(E,D=>{de&&!D.atBottom&&D.notAtBottomBecause==="SIZE_INCREASED"&&!re&&(yn(B)("scrolling to bottom due to increased size",{},vr.DEBUG),z("auto"))});setTimeout(W,100)}Xt(Ie(Un(nt(ge),h,C),tt(([de,,W])=>de&&W),ka(({value:de},[,W])=>({refreshed:de===W,value:W}),{refreshed:!1,value:0}),tt(({refreshed:de})=>de),bt(ge,h)),([,de])=>{yn(R)&&H(de!==!1)}),Xt(ne,()=>{H(yn(ge)!==!1)}),Xt(Un(nt(ge),E),([de,W])=>{de&&!W.atBottom&&W.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&z("auto")});const F=je(null),X=_t();return qe(ff(Ie(nt(y),Pe(de=>{var W;return(W=de==null?void 0:de.length)!=null?W:0})),Ie(nt(h))),X),Xt(Ie(Un(Ie(X,Cl(1)),_),bt(nt(F),R,M,V),Pe(([[de,W],D,ee,K,pe])=>W&&ee&&(D==null?void 0:D({context:pe,totalCount:de,scrollingInProgress:K}))),tt(de=>!!de),si(0)),de=>{re&&(re(),re=null),yn(g)?requestAnimationFrame(()=>{yn(B)("scrolling into view",{}),mt(Z,de)}):re=ma(f,()=>{yn(B)("scrolling into view",{}),mt(Z,de),re=null})}),{autoscrollToBottom:ne,followOutput:ge,scrollIntoViewOnChange:F}},xn(La,Eo,yo,wo,Zi,qi,xr,$x,eg)),O2=Bt(([{data:f,firstItemIndex:h,gap:g,sizes:y},{initialTopMostItemIndex:E},{initialItemCount:w,listState:N},{didMount:R}])=>(qe(Ie(R,bt(w),tt(([,_])=>_!==0),bt(E,y,h,g,f),Pe(([[,_],C,B,M,V,Z=[]])=>Kx(_,C,B,M,V,Z))),N),{}),xn(La,wo,Al,Zi),{singleton:!0}),R2=Bt(([{didMount:f},{scrollTo:h},{listState:g}])=>{const y=je(0);return Xt(Ie(f,bt(y),tt(([,E])=>E!==0),Pe(([,E])=>({top:E}))),E=>{ma(Ie(g,Cl(1),tt(w=>w.items.length>1)),()=>{requestAnimationFrame(()=>{mt(h,E)})})}),{initialScrollTop:y}},xn(Zi,xr,Al),{singleton:!0}),tg=Bt(([{scrollVelocity:f}])=>{const h=je(!1),g=_t(),y=je(!1);return qe(Ie(f,bt(y,h,g),tt(([E,w])=>!!w),Pe(([E,w,N,R])=>{const{enter:_,exit:C}=w;if(N){if(C(E,R))return!1}else if(_(E,R))return!0;return N}),fn()),h),Xt(Ie(Un(h,f,g),bt(y)),([[E,w,N],R])=>{E&&R&&R.change&&R.change(w,N)}),{isSeeking:h,scrollSeekConfiguration:y,scrollSeekRangeChanged:g,scrollVelocity:f}},xn(Eo),{singleton:!0}),If=Bt(([{scrollContainerState:f,scrollTo:h}])=>{const g=_t(),y=_t(),E=_t(),w=je(!1),N=je(void 0);return qe(Ie(Un(g,y),Pe(([{scrollHeight:R,scrollTop:_,viewportHeight:C},{offsetTop:B}])=>({scrollHeight:R,scrollTop:Math.max(0,_-B),viewportHeight:C}))),f),qe(Ie(h,bt(y),Pe(([R,{offsetTop:_}])=>({...R,top:R.top+_}))),E),{customScrollParent:N,useWindowScroll:w,windowScrollContainerState:g,windowScrollTo:E,windowViewportRect:y}},xn(xr)),D2=Bt(([{sizeRanges:f,sizes:h},{headerHeight:g,scrollTop:y},{initialTopMostItemIndex:E},{didMount:w},{useWindowScroll:N,windowScrollContainerState:R,windowViewportRect:_}])=>{const C=_t(),B=je(void 0),M=je(null),V=je(null);return qe(R,M),qe(_,V),Xt(Ie(C,bt(h,y,N,M,V,g)),([Z,ge,ne,re,z,H,F])=>{const X=g2(ge.sizeTree);re&&z!==null&&H!==null&&(ne=z.scrollTop-H.offsetTop),ne-=F,Z({ranges:X,scrollTop:ne})}),qe(Ie(B,tt(wf),Pe(M2)),E),qe(Ie(w,bt(B),tt(([,Z])=>Z!==void 0),fn(),Pe(([,Z])=>Z.ranges)),f),{getState:C,restoreStateFrom:B}},xn(La,xr,wo,Zi,If));function M2(f){return{align:"start",index:0,offset:f.scrollTop}}const k2=Bt(([{topItemsIndexes:f}])=>{const h=je(0);return qe(Ie(h,tt(g=>g>=0),Pe(g=>Array.from({length:g}).map((y,E)=>E))),f),{topItemCount:h}},xn(Al));function ng(f){let h=!1,g;return()=>(h||(h=!0,g=f()),g)}const B2=ng(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),L2=Bt(([{deviation:f,scrollBy:h,scrollingInProgress:g,scrollTop:y},{isAtBottom:E,isScrolling:w,lastJumpDueToItemResize:N,scrollDirection:R},{listState:_},{beforeUnshiftWith:C,gap:B,shiftWithOffset:M,sizes:V},{log:Z},{recalcInProgress:ge}])=>{const ne=Pr(Ie(_,bt(N),ka(([,z,H,F],[{bottom:X,items:de,offsetBottom:W,totalCount:D},ee])=>{const K=X+W;let pe=0;return H===D&&z.length>0&&de.length>0&&(de[0].originalIndex===0&&z[0].originalIndex===0||(pe=K-F,pe!==0&&(pe+=ee))),[pe,de,D,K]},[0,[],0,0]),tt(([z])=>z!==0),bt(y,R,g,E,Z,ge),tt(([,z,H,F,,,X])=>!X&&!F&&z!==0&&H===bo),Pe(([[z],,,,,H])=>(H("Upward scrolling compensation",{amount:z},vr.DEBUG),z))));function re(z){z>0?(mt(h,{behavior:"auto",top:-z}),mt(f,0)):(mt(f,0),mt(h,{behavior:"auto",top:-z}))}return Xt(Ie(ne,bt(f,w)),([z,H,F])=>{F&&B2()?mt(f,H-z):re(-z)}),Xt(Ie(Un(ar(w,!1),f,ge),tt(([z,H,F])=>!z&&!F&&H!==0),Pe(([z,H])=>H),si(1)),re),qe(Ie(M,Pe(z=>({top:-z}))),h),Xt(Ie(C,bt(V,B),Pe(([z,{groupIndices:H,lastSize:F,sizeTree:X},de])=>{function W(D){return D*(F+de)}if(H.length===0)return W(z);{let D=0;const ee=go(X,0);let K=0,pe=0;for(;K<z;){K++,D+=ee;let ce=H.length===pe+1?1/0:H[pe+1]-H[pe]-1;K+ce>z&&(D-=ee,ce=z-K+1),K+=ce,D+=W(ce),pe++}return D}})),z=>{mt(f,z),requestAnimationFrame(()=>{mt(h,{top:z}),requestAnimationFrame(()=>{mt(f,0),mt(ge,!1)})})}),{deviation:f}},xn(xr,Eo,Al,La,qi,vf)),j2=Bt(([f,h,g,y,E,w,N,R,_,C,B])=>({...f,...h,...g,...y,...E,...w,...N,...R,..._,...C,...B}),xn(_f,O2,Zi,tg,Jx,R2,T2,If,eg,qi,$x)),rg=Bt(([{data:f,defaultItemSize:h,firstItemIndex:g,fixedItemSize:y,fixedGroupSize:E,gap:w,groupIndices:N,heightEstimates:R,itemSize:_,sizeRanges:C,sizes:B,statefulTotalCount:M,totalCount:V,trackItemSizes:Z},{initialItemFinalLocationReached:ge,initialTopMostItemIndex:ne,scrolledToInitialItem:re},z,H,F,{listState:X,topItemsIndexes:de,...W},{scrollToIndex:D},ee,{topItemCount:K},{groupCounts:pe},ce])=>(qe(W.rangeChanged,ce.scrollSeekRangeChanged),qe(Ie(ce.windowViewportRect,Pe(xe=>xe.visibleHeight)),z.viewportHeight),{data:f,defaultItemHeight:h,firstItemIndex:g,fixedItemHeight:y,fixedGroupHeight:E,gap:w,groupCounts:pe,heightEstimates:R,initialItemFinalLocationReached:ge,initialTopMostItemIndex:ne,scrolledToInitialItem:re,sizeRanges:C,topItemCount:K,topItemsIndexes:de,totalCount:V,...F,groupIndices:N,itemSize:_,listState:X,scrollToIndex:D,statefulTotalCount:M,trackItemSizes:Z,...W,...ce,...z,sizes:B,...H}),xn(La,wo,xr,D2,I2,Al,yo,L2,k2,Zx,j2));function z2(f,h){const g={},y={};let E=0;const w=f.length;for(;E<w;)y[f[E]]=1,E+=1;for(const N in h)Object.hasOwn(y,N)||(g[N]=h[N]);return g}const Hc=typeof document<"u"?ze.useLayoutEffect:ze.useEffect;function Of(f,h,g){const y=Object.keys(h.required||{}),E=Object.keys(h.optional||{}),w=Object.keys(h.methods||{}),N=Object.keys(h.events||{}),R=ze.createContext({});function _(re,z){re.propsReady&&mt(re.propsReady,!1);for(const H of y){const F=re[h.required[H]];mt(F,z[H])}for(const H of E)if(H in z){const F=re[h.optional[H]];mt(F,z[H])}re.propsReady&&mt(re.propsReady,!0)}function C(re){return w.reduce((z,H)=>(z[H]=F=>{const X=re[h.methods[H]];mt(X,F)},z),{})}function B(re){return N.reduce((z,H)=>(z[H]=t2(re[h.events[H]]),z),{})}const M=ze.forwardRef((re,z)=>{const{children:H,...F}=re,[X]=ze.useState(()=>nu(r2(f),D=>{_(D,F)})),[de]=ze.useState(tx(B,X));Hc(()=>{for(const D of N)D in F&&Xt(de[D],F[D]);return()=>{Object.values(de).map(Ef)}},[F,de,X]),Hc(()=>{_(X,F)}),ze.useImperativeHandle(z,ex(C(X)));const W=g;return p.jsx(R.Provider,{value:X,children:g?p.jsx(W,{...z2([...y,...E,...N],F),children:H}):H})}),V=re=>{const z=ze.useContext(R);return ze.useCallback(H=>{mt(z[re],H)},[z,re])},Z=re=>{const z=ze.useContext(R)[re],H=ze.useCallback(F=>Xt(z,F),[z]);return ze.useSyncExternalStore(H,()=>yn(z),()=>yn(z))},ge=re=>{const z=ze.useContext(R)[re],[H,F]=ze.useState(tx(yn,z));return Hc(()=>Xt(z,X=>{X!==H&&F(ex(X))}),[z,H]),H},ne=ze.version.startsWith("18")?Z:ge;return{Component:M,useEmitter:(re,z)=>{const H=ze.useContext(R)[re];Hc(()=>Xt(H,z),[z,H])},useEmitterValue:ne,usePublisher:V}}const iu=ze.createContext(void 0),ag=ze.createContext(void 0),ig=typeof document<"u"?ze.useLayoutEffect:ze.useEffect;function cf(f){return"self"in f}function U2(f){return"body"in f}function lg(f,h,g,y=hs,E,w){const N=ze.useRef(null),R=ze.useRef(null),_=ze.useRef(null),C=ze.useCallback(V=>{let Z,ge,ne;const re=V.target;if(U2(re)||cf(re)){const H=cf(re)?re:re.defaultView;ne=w?H.scrollX:H.scrollY,Z=w?H.document.documentElement.scrollWidth:H.document.documentElement.scrollHeight,ge=w?H.innerWidth:H.innerHeight}else ne=w?re.scrollLeft:re.scrollTop,Z=w?re.scrollWidth:re.scrollHeight,ge=w?re.offsetWidth:re.offsetHeight;const z=()=>{f({scrollHeight:Z,scrollTop:Math.max(ne,0),viewportHeight:ge})};V.suppressFlushSync?z():Wm.flushSync(z),R.current!==null&&(ne===R.current||ne<=0||ne===Z-ge)&&(R.current=null,h(!0),_.current&&(clearTimeout(_.current),_.current=null))},[f,h,w]);ze.useEffect(()=>{const V=E||N.current;return y(E||N.current),C({suppressFlushSync:!0,target:V}),V.addEventListener("scroll",C,{passive:!0}),()=>{y(null),V.removeEventListener("scroll",C)}},[N,C,g,y,E]);function B(V){const Z=N.current;if(!Z||(w?"offsetWidth"in Z&&Z.offsetWidth===0:"offsetHeight"in Z&&Z.offsetHeight===0))return;const ge=V.behavior==="smooth";let ne,re,z;cf(Z)?(re=Math.max(ya(Z.document.documentElement,w?"width":"height"),w?Z.document.documentElement.scrollWidth:Z.document.documentElement.scrollHeight),ne=w?Z.innerWidth:Z.innerHeight,z=w?window.scrollX:window.scrollY):(re=Z[w?"scrollWidth":"scrollHeight"],ne=ya(Z,w?"width":"height"),z=Z[w?"scrollLeft":"scrollTop"]);const H=re-ne;if(V.top=Math.ceil(Math.max(Math.min(H,V.top),0)),Qx(ne,re)||V.top===z){f({scrollHeight:re,scrollTop:z,viewportHeight:ne}),ge&&h(!0);return}ge?(R.current=V.top,_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{_.current=null,R.current=null,h(!0)},1e3)):R.current=null,w&&(V={behavior:V.behavior,left:V.top}),Z.scrollTo(V)}function M(V){w&&(V={behavior:V.behavior,left:V.top}),N.current.scrollBy(V)}return{scrollByCallback:M,scrollerRef:N,scrollToCallback:B}}const uf="-webkit-sticky",dx="sticky",Rf=ng(()=>{if(typeof document>"u")return dx;const f=document.createElement("div");return f.style.position=uf,f.style.position===uf?uf:dx});function Df(f){return f}const H2=Bt(()=>{const f=je(R=>`Item ${R}`),h=je(R=>`Group ${R}`),g=je({}),y=je(Df),E=je("div"),w=je(hs),N=(R,_=null)=>ar(Ie(g,Pe(C=>C[R]),fn()),_);return{components:g,computeItemKey:y,EmptyPlaceholder:N("EmptyPlaceholder"),FooterComponent:N("Footer"),GroupComponent:N("Group","div"),groupContent:h,HeaderComponent:N("Header"),HeaderFooterTag:E,ItemComponent:N("Item","div"),itemContent:f,ListComponent:N("List","div"),ScrollerComponent:N("Scroller","div"),scrollerRef:w,ScrollSeekPlaceholder:N("ScrollSeekPlaceholder"),TopItemListComponent:N("TopItemList")}}),F2=Bt(([f,h])=>({...f,...h}),xn(rg,H2)),P2=({height:f})=>p.jsx("div",{style:{height:f}}),G2={overflowAnchor:"none",position:Rf(),zIndex:1},sg={overflowAnchor:"none"},V2={...sg,display:"inline-block",height:"100%"},fx=ze.memo(function({showTopList:f=!1}){const h=ct("listState"),g=na("sizeRanges"),y=ct("useWindowScroll"),E=ct("customScrollParent"),w=na("windowScrollContainerState"),N=na("scrollContainerState"),R=E||y?w:N,_=ct("itemContent"),C=ct("context"),B=ct("groupContent"),M=ct("trackItemSizes"),V=ct("itemSize"),Z=ct("log"),ge=na("gap"),ne=ct("horizontalDirection"),{callbackRef:re}=zx(g,V,M,f?hs:R,Z,ge,E,ne,ct("skipAnimationFrameInResizeObserver")),[z,H]=ze.useState(0);Bf("deviation",ve=>{z!==ve&&H(ve)});const F=ct("EmptyPlaceholder"),X=ct("ScrollSeekPlaceholder")||P2,de=ct("ListComponent"),W=ct("ItemComponent"),D=ct("GroupComponent"),ee=ct("computeItemKey"),K=ct("isSeeking"),pe=ct("groupIndices").length>0,ce=ct("alignToBottom"),xe=ct("initialItemFinalLocationReached"),Ae=f?{}:{boxSizing:"border-box",...ne?{display:"inline-block",height:"100%",marginLeft:z!==0?z:ce?"auto":0,paddingLeft:h.offsetTop,paddingRight:h.offsetBottom,whiteSpace:"nowrap"}:{marginTop:z!==0?z:ce?"auto":0,paddingBottom:h.offsetBottom,paddingTop:h.offsetTop},...xe?{}:{visibility:"hidden"}};return!f&&h.totalCount===0&&F?p.jsx(F,{...hn(F,C)}):p.jsx(de,{...hn(de,C),"data-testid":f?"virtuoso-top-item-list":"virtuoso-item-list",ref:re,style:Ae,children:(f?h.topItems:h.items).map(ve=>{const Q=ve.originalIndex,j=ee(Q+h.firstItemIndex,ve.data,C);return K?Te.createElement(X,{...hn(X,C),height:ve.size,index:ve.index,key:j,type:ve.type||"item",...ve.type==="group"?{}:{groupIndex:ve.groupIndex}}):ve.type==="group"?Te.createElement(D,{...hn(D,C),"data-index":Q,"data-item-index":ve.index,"data-known-size":ve.size,key:j,style:G2},B(ve.index,C)):Te.createElement(W,{...hn(W,C),...og(W,ve.data),"data-index":Q,"data-item-group-index":ve.groupIndex,"data-item-index":ve.index,"data-known-size":ve.size,key:j,style:ne?V2:sg},pe?_(ve.index,ve.groupIndex,ve.data,C):_(ve.index,ve.data,C))})})}),X2={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Y2={outline:"none",overflowX:"auto",position:"relative"},xs=f=>({height:"100%",position:"absolute",top:0,width:"100%",...f?{display:"flex",flexDirection:"column"}:{}}),q2={position:Rf(),top:0,width:"100%",zIndex:1};function hn(f,h){if(typeof f!="string")return{context:h}}function og(f,h){return{item:typeof f=="string"?void 0:h}}const Z2=ze.memo(function(){const f=ct("HeaderComponent"),h=na("headerHeight"),g=ct("HeaderFooterTag"),y=Ba(ze.useMemo(()=>w=>{h(ya(w,"height"))},[h]),!0,ct("skipAnimationFrameInResizeObserver")),E=ct("context");return f?p.jsx(g,{ref:y,children:p.jsx(f,{...hn(f,E)})}):null}),W2=ze.memo(function(){const f=ct("FooterComponent"),h=na("footerHeight"),g=ct("HeaderFooterTag"),y=Ba(ze.useMemo(()=>w=>{h(ya(w,"height"))},[h]),!0,ct("skipAnimationFrameInResizeObserver")),E=ct("context");return f?p.jsx(g,{ref:y,children:p.jsx(f,{...hn(f,E)})}):null});function Mf({useEmitter:f,useEmitterValue:h,usePublisher:g}){return ze.memo(function({children:y,style:E,context:w,...N}){const R=g("scrollContainerState"),_=h("ScrollerComponent"),C=g("smoothScrollTargetReached"),B=h("scrollerRef"),M=h("horizontalDirection")||!1,{scrollByCallback:V,scrollerRef:Z,scrollToCallback:ge}=lg(R,C,_,B,void 0,M);return f("scrollTo",ge),f("scrollBy",V),p.jsx(_,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:Z,style:{...M?Y2:X2,...E},tabIndex:0,...N,...hn(_,w),children:y})})}function kf({useEmitter:f,useEmitterValue:h,usePublisher:g}){return ze.memo(function({children:y,style:E,context:w,...N}){const R=g("windowScrollContainerState"),_=h("ScrollerComponent"),C=g("smoothScrollTargetReached"),B=h("totalListHeight"),M=h("deviation"),V=h("customScrollParent"),Z=ze.useRef(null),ge=h("scrollerRef"),{scrollByCallback:ne,scrollerRef:re,scrollToCallback:z}=lg(R,C,_,ge,V);return ig(()=>{var H;return re.current=V||((H=Z.current)==null?void 0:H.ownerDocument.defaultView),()=>{re.current=null}},[re,V]),f("windowScrollTo",z),f("scrollBy",ne),p.jsx(_,{ref:Z,"data-virtuoso-scroller":!0,style:{position:"relative",...E,...B!==0?{height:B+M}:{}},...N,...hn(_,w),children:y})})}const Q2=({children:f})=>{const h=ze.useContext(iu),g=na("viewportHeight"),y=na("fixedItemHeight"),E=ct("alignToBottom"),w=ct("horizontalDirection"),N=ze.useMemo(()=>ho(g,_=>ya(_,w?"width":"height")),[g,w]),R=Ba(N,!0,ct("skipAnimationFrameInResizeObserver"));return ze.useEffect(()=>{h&&(g(h.viewportHeight),y(h.itemHeight))},[h,g,y]),p.jsx("div",{"data-viewport-type":"element",ref:R,style:xs(E),children:f})},K2=({children:f})=>{const h=ze.useContext(iu),g=na("windowViewportRect"),y=na("fixedItemHeight"),E=ct("customScrollParent"),w=Af(g,E,ct("skipAnimationFrameInResizeObserver")),N=ct("alignToBottom");return ze.useEffect(()=>{h&&(y(h.itemHeight),g({offsetTop:0,visibleHeight:h.viewportHeight,visibleWidth:100}))},[h,g,y]),p.jsx("div",{"data-viewport-type":"window",ref:w,style:xs(N),children:f})},J2=({children:f})=>{const h=ct("TopItemListComponent")||"div",g=ct("headerHeight"),y={...q2,marginTop:`${g}px`},E=ct("context");return p.jsx(h,{style:y,...hn(h,E),children:f})},$2=ze.memo(function(f){const h=ct("useWindowScroll"),g=ct("topItemsIndexes").length>0,y=ct("customScrollParent"),E=ct("context");return p.jsxs(y||h?np:tp,{...f,context:E,children:[g&&p.jsx(J2,{children:p.jsx(fx,{showTopList:!0})}),p.jsxs(y||h?K2:Q2,{children:[p.jsx(Z2,{}),p.jsx(fx,{}),p.jsx(W2,{})]})]})}),{Component:ep,useEmitter:Bf,useEmitterValue:ct,usePublisher:na}=Of(F2,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},$2),tp=Mf({useEmitter:Bf,useEmitterValue:ct,usePublisher:na}),np=kf({useEmitter:Bf,useEmitterValue:ct,usePublisher:na}),rp=ep,ap=Bt(()=>{const f=je(C=>p.jsxs("td",{children:["Item $",C]})),h=je(null),g=je(C=>p.jsxs("td",{colSpan:1e3,children:["Group ",C]})),y=je(null),E=je(null),w=je({}),N=je(Df),R=je(hs),_=(C,B=null)=>ar(Ie(w,Pe(M=>M[C]),fn()),B);return{components:w,computeItemKey:N,context:h,EmptyPlaceholder:_("EmptyPlaceholder"),FillerRow:_("FillerRow"),fixedFooterContent:E,fixedHeaderContent:y,itemContent:f,groupContent:g,ScrollerComponent:_("Scroller","div"),scrollerRef:R,ScrollSeekPlaceholder:_("ScrollSeekPlaceholder"),TableBodyComponent:_("TableBody","tbody"),TableComponent:_("Table","table"),TableFooterComponent:_("TableFoot","tfoot"),TableHeadComponent:_("TableHead","thead"),TableRowComponent:_("TableRow","tr"),GroupComponent:_("Group","tr")}}),ip=Bt(([f,h])=>({...f,...h}),xn(rg,ap)),lp=({height:f})=>p.jsx("tr",{children:p.jsx("td",{style:{height:f}})}),sp=({height:f})=>p.jsx("tr",{children:p.jsx("td",{style:{border:0,height:f,padding:0}})}),op={overflowAnchor:"none"},hx={position:Rf(),zIndex:2,overflowAnchor:"none"},xx=ze.memo(function({showTopList:f=!1}){const h=gt("listState"),g=gt("computeItemKey"),y=gt("firstItemIndex"),E=gt("context"),w=gt("isSeeking"),N=gt("fixedHeaderHeight"),R=gt("groupIndices").length>0,_=gt("itemContent"),C=gt("groupContent"),B=gt("ScrollSeekPlaceholder")||lp,M=gt("GroupComponent"),V=gt("TableRowComponent"),Z=(f?h.topItems:[]).reduce((ne,re,z)=>(z===0?ne.push(re.size):ne.push(ne[z-1]+re.size),ne),[]),ge=(f?h.topItems:h.items).map(ne=>{const re=ne.originalIndex,z=g(re+y,ne.data,E),H=f?re===0?0:Z[re-1]:0;return w?Te.createElement(B,{...hn(B,E),height:ne.size,index:ne.index,key:z,type:ne.type||"item"}):ne.type==="group"?Te.createElement(M,{...hn(M,E),"data-index":re,"data-item-index":ne.index,"data-known-size":ne.size,key:z,style:{...hx,top:N}},C(ne.index,E)):Te.createElement(V,{...hn(V,E),...og(V,ne.data),"data-index":re,"data-item-index":ne.index,"data-known-size":ne.size,"data-item-group-index":ne.groupIndex,key:z,style:f?{...hx,top:N+H}:op},R?_(ne.index,ne.groupIndex,ne.data,E):_(ne.index,ne.data,E))});return p.jsx(p.Fragment,{children:ge})}),cp=ze.memo(function(){const f=gt("listState"),h=gt("topItemsIndexes").length>0,g=pa("sizeRanges"),y=gt("useWindowScroll"),E=gt("customScrollParent"),w=pa("windowScrollContainerState"),N=pa("scrollContainerState"),R=E||y?w:N,_=gt("trackItemSizes"),C=gt("itemSize"),B=gt("log"),{callbackRef:M,ref:V}=zx(g,C,_,R,B,void 0,E,!1,gt("skipAnimationFrameInResizeObserver")),[Z,ge]=ze.useState(0);Lf("deviation",pe=>{Z!==pe&&(V.current.style.marginTop=`${pe}px`,ge(pe))});const ne=gt("EmptyPlaceholder"),re=gt("FillerRow")||sp,z=gt("TableBodyComponent"),H=gt("paddingTopAddition"),F=gt("statefulTotalCount"),X=gt("context");if(F===0&&ne)return p.jsx(ne,{...hn(ne,X)});const de=(h?f.topItems:[]).reduce((pe,ce)=>pe+ce.size,0),W=f.offsetTop+H+Z-de,D=f.offsetBottom,ee=W>0?p.jsx(re,{context:X,height:W},"padding-top"):null,K=D>0?p.jsx(re,{context:X,height:D},"padding-bottom"):null;return p.jsxs(z,{"data-testid":"virtuoso-item-list",ref:M,...hn(z,X),children:[ee,h&&p.jsx(xx,{showTopList:!0}),p.jsx(xx,{}),K]})}),up=({children:f})=>{const h=ze.useContext(iu),g=pa("viewportHeight"),y=pa("fixedItemHeight"),E=Ba(ze.useMemo(()=>ho(g,w=>ya(w,"height")),[g]),!0,gt("skipAnimationFrameInResizeObserver"));return ze.useEffect(()=>{h&&(g(h.viewportHeight),y(h.itemHeight))},[h,g,y]),p.jsx("div",{"data-viewport-type":"element",ref:E,style:xs(!1),children:f})},dp=({children:f})=>{const h=ze.useContext(iu),g=pa("windowViewportRect"),y=pa("fixedItemHeight"),E=gt("customScrollParent"),w=Af(g,E,gt("skipAnimationFrameInResizeObserver"));return ze.useEffect(()=>{h&&(y(h.itemHeight),g({offsetTop:0,visibleHeight:h.viewportHeight,visibleWidth:100}))},[h,g,y]),p.jsx("div",{"data-viewport-type":"window",ref:w,style:xs(!1),children:f})},fp=ze.memo(function(f){const h=gt("useWindowScroll"),g=gt("customScrollParent"),y=pa("fixedHeaderHeight"),E=pa("fixedFooterHeight"),w=gt("fixedHeaderContent"),N=gt("fixedFooterContent"),R=gt("context"),_=Ba(ze.useMemo(()=>ho(y,z=>ya(z,"height")),[y]),!0,gt("skipAnimationFrameInResizeObserver")),C=Ba(ze.useMemo(()=>ho(E,z=>ya(z,"height")),[E]),!0,gt("skipAnimationFrameInResizeObserver")),B=g||h?gp:xp,M=g||h?dp:up,V=gt("TableComponent"),Z=gt("TableHeadComponent"),ge=gt("TableFooterComponent"),ne=w?p.jsx(Z,{ref:_,style:{position:"sticky",top:0,zIndex:2},...hn(Z,R),children:w()},"TableHead"):null,re=N?p.jsx(ge,{ref:C,style:{bottom:0,position:"sticky",zIndex:1},...hn(ge,R),children:N()},"TableFoot"):null;return p.jsx(B,{...f,...hn(B,R),children:p.jsx(M,{children:p.jsxs(V,{style:{borderSpacing:0,overflowAnchor:"none"},...hn(V,R),children:[ne,p.jsx(cp,{},"TableBody"),re]})})})}),{Component:hp,useEmitter:Lf,useEmitterValue:gt,usePublisher:pa}=Of(ip,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},fp),xp=Mf({useEmitter:Lf,useEmitterValue:gt,usePublisher:pa}),gp=kf({useEmitter:Lf,useEmitterValue:gt,usePublisher:pa}),mp=hp,gx={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},pp={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:mx,floor:Qc,max:fo,min:df,round:px}=Math;function bx(f,h,g){return Array.from({length:h-f+1}).map((y,E)=>({data:g===null?null:g[E+f],index:E+f}))}function bp(f){return{...pp,items:f}}function Fc(f,h){return f&&f.width===h.width&&f.height===h.height}function yp(f,h){return f&&f.column===h.column&&f.row===h.row}const wp=Bt(([{increaseViewportBy:f,listBoundary:h,overscan:g,visibleRange:y},{footerHeight:E,headerHeight:w,scrollBy:N,scrollContainerState:R,scrollTo:_,scrollTop:C,smoothScrollTargetReached:B,viewportHeight:M},V,Z,{didMount:ge,propsReady:ne},{customScrollParent:re,useWindowScroll:z,windowScrollContainerState:H,windowScrollTo:F,windowViewportRect:X},de])=>{const W=je(0),D=je(0),ee=je(gx),K=je({height:0,width:0}),pe=je({height:0,width:0}),ce=_t(),xe=_t(),Ae=je(0),ve=je(null),Q=je({column:0,row:0}),j=_t(),$=_t(),Ce=je(!1),Le=je(0),Re=je(!0),U=je(!1),ue=je(!1);Xt(Ie(ge,bt(Le),tt(([J,Oe])=>!!Oe)),()=>{mt(Re,!1)}),Xt(Ie(Un(ge,Re,pe,K,Le,U),tt(([J,Oe,at,$e,,Ot])=>J&&!Oe&&at.height!==0&&$e.height!==0&&!Ot)),([,,,,J])=>{mt(U,!0),Tf(1,()=>{mt(ce,J)}),ma(Ie(C),()=>{mt(h,[0,0]),mt(Re,!0)})}),qe(Ie($,tt(J=>J!=null&&J.scrollTop>0),Ma(0)),D),Xt(Ie(ge,bt($),tt(([,J])=>J!=null)),([,J])=>{J&&(mt(K,J.viewport),mt(pe,J.item),mt(Q,J.gap),J.scrollTop>0&&(mt(Ce,!0),ma(Ie(C,Cl(1)),Oe=>{mt(Ce,!1)}),mt(_,{top:J.scrollTop})))}),qe(Ie(K,Pe(({height:J})=>J)),M),qe(Ie(Un(nt(K,Fc),nt(pe,Fc),nt(Q,(J,Oe)=>J&&J.column===Oe.column&&J.row===Oe.row),nt(C)),Pe(([J,Oe,at,$e])=>({gap:at,item:Oe,scrollTop:$e,viewport:J}))),j),qe(Ie(Un(nt(W),y,nt(Q,yp),nt(pe,Fc),nt(K,Fc),nt(ve),nt(D),nt(Ce),nt(Re),nt(Le)),tt(([,,,,,,,J])=>!J),Pe(([J,[Oe,at],$e,Ot,lt,wn,Lt,,lr,Yt])=>{const{column:dt,row:rt}=$e,{height:tr,width:Ue}=Ot,{width:Sr}=lt;if(Lt===0&&(J===0||Sr===0))return gx;if(Ue===0){const ja=Nf(Yt,J),gs=ja+Math.max(Lt-1,0);return bp(bx(ja,gs,wn))}const Tr=cg(Sr,Ue,dt);let Ft,Nr;lr?Oe===0&&at===0&&Lt>0?(Ft=0,Nr=Lt-1):(Ft=Tr*Qc((Oe+rt)/(tr+rt)),Nr=Tr*mx((at+rt)/(tr+rt))-1,Nr=df(J-1,fo(Nr,Tr-1)),Ft=df(Nr,fo(0,Ft))):(Ft=0,Nr=-1);const Zn=bx(Ft,Nr,wn),{bottom:ci,top:nr}=yx(lt,$e,Ot,Zn),Dn=mx(J/Tr),Wi=Dn*tr+(Dn-1)*rt-ci;return{bottom:ci,itemHeight:tr,items:Zn,itemWidth:Ue,offsetBottom:Wi,offsetTop:nr,top:nr}})),ee),qe(Ie(ve,tt(J=>J!==null),Pe(J=>J.length)),W),qe(Ie(Un(K,pe,ee,Q),tt(([J,Oe,{items:at}])=>at.length>0&&Oe.height!==0&&J.height!==0),Pe(([J,Oe,{items:at},$e])=>{const{bottom:Ot,top:lt}=yx(J,$e,Oe,at);return[lt,Ot]}),fn(mo)),h);const _e=je(!1);qe(Ie(C,bt(_e),Pe(([J,Oe])=>Oe||J!==0)),_e);const Be=Pr(Ie(Un(ee,W),tt(([{items:J}])=>J.length>0),bt(_e),tt(([[J,Oe],at])=>{const $e=J.items[J.items.length-1].index===Oe-1;return(at||J.bottom>0&&J.itemHeight>0&&J.offsetBottom===0&&J.items.length===Oe)&&$e}),Pe(([[,J]])=>J-1),fn())),Ve=Pr(Ie(nt(ee),tt(({items:J})=>J.length>0&&J[0].index===0),Ma(0),fn())),we=Pr(Ie(nt(ee),bt(Ce),tt(([{items:J},Oe])=>J.length>0&&!Oe),Pe(([{items:J}])=>({endIndex:J[J.length-1].index,startIndex:J[0].index})),fn(Vx),si(0)));qe(we,Z.scrollSeekRangeChanged),qe(Ie(ce,bt(K,pe,W,Q),Pe(([J,Oe,at,$e,Ot])=>{const lt=Wx(J),{align:wn,behavior:Lt,offset:lr}=lt;let Yt=lt.index;Yt==="LAST"&&(Yt=$e-1),Yt=fo(0,Yt,df($e-1,Yt));let dt=pf(Oe,Ot,at,Yt);return wn==="end"?dt=px(dt-Oe.height+at.height):wn==="center"&&(dt=px(dt-Oe.height/2+at.height/2)),lr&&(dt+=lr),{behavior:Lt,top:dt}})),_);const Ze=ar(Ie(ee,Pe(J=>J.offsetBottom+J.bottom)),0);return qe(Ie(X,Pe(J=>({height:J.visibleHeight,width:J.visibleWidth}))),K),{customScrollParent:re,data:ve,deviation:Ae,footerHeight:E,gap:Q,headerHeight:w,increaseViewportBy:f,initialItemCount:D,itemDimensions:pe,overscan:g,restoreStateFrom:$,scrollBy:N,scrollContainerState:R,scrollHeight:xe,scrollTo:_,scrollToIndex:ce,scrollTop:C,smoothScrollTargetReached:B,totalCount:W,useWindowScroll:z,viewportDimensions:K,windowScrollContainerState:H,windowScrollTo:F,windowViewportRect:X,...Z,gridState:ee,horizontalDirection:ue,initialTopMostItemIndex:Le,totalListHeight:Ze,...V,endReached:Be,propsReady:ne,rangeChanged:we,startReached:Ve,stateChanged:j,stateRestoreInProgress:Ce,...de}},xn(_f,xr,Eo,tg,Zi,If,qi));function cg(f,h,g){return fo(1,Qc((f+g)/(Qc(h)+g)))}function yx(f,h,g,y){const{height:E}=g;if(E===void 0||y.length===0)return{bottom:0,top:0};const w=pf(f,h,g,y[0].index);return{bottom:pf(f,h,g,y[y.length-1].index)+E,top:w}}function pf(f,h,g,y){const E=cg(f.width,g.width,h.column),w=Qc(y/E),N=w*g.height+fo(0,w-1)*h.row;return N>0?N+h.row:N}const Ep=Bt(()=>{const f=je(M=>`Item ${M}`),h=je({}),g=je(null),y=je("virtuoso-grid-item"),E=je("virtuoso-grid-list"),w=je(Df),N=je("div"),R=je(hs),_=(M,V=null)=>ar(Ie(h,Pe(Z=>Z[M]),fn()),V),C=je(!1),B=je(!1);return qe(nt(B),C),{components:h,computeItemKey:w,context:g,FooterComponent:_("Footer"),HeaderComponent:_("Header"),headerFooterTag:N,itemClassName:y,ItemComponent:_("Item","div"),itemContent:f,listClassName:E,ListComponent:_("List","div"),readyStateChanged:C,reportReadyState:B,ScrollerComponent:_("Scroller","div"),scrollerRef:R,ScrollSeekPlaceholder:_("ScrollSeekPlaceholder","div")}}),Cp=Bt(([f,h])=>({...f,...h}),xn(wp,Ep)),Ap=ze.memo(function(){const f=bn("gridState"),h=bn("listClassName"),g=bn("itemClassName"),y=bn("itemContent"),E=bn("computeItemKey"),w=bn("isSeeking"),N=ra("scrollHeight"),R=bn("ItemComponent"),_=bn("ListComponent"),C=bn("ScrollSeekPlaceholder"),B=bn("context"),M=ra("itemDimensions"),V=ra("gap"),Z=bn("log"),ge=bn("stateRestoreInProgress"),ne=ra("reportReadyState"),re=Ba(ze.useMemo(()=>z=>{const H=z.parentElement.parentElement.scrollHeight;N(H);const F=z.firstChild;if(F){const{height:X,width:de}=F.getBoundingClientRect();M({height:X,width:de})}V({column:wx("column-gap",getComputedStyle(z).columnGap,Z),row:wx("row-gap",getComputedStyle(z).rowGap,Z)})},[N,M,V,Z]),!0,!1);return ig(()=>{f.itemHeight>0&&f.itemWidth>0&&ne(!0)},[f]),ge?null:p.jsx(_,{className:h,ref:re,...hn(_,B),"data-testid":"virtuoso-item-list",style:{paddingBottom:f.offsetBottom,paddingTop:f.offsetTop},children:f.items.map(z=>{const H=E(z.index,z.data,B);return w?p.jsx(C,{...hn(C,B),height:f.itemHeight,index:z.index,width:f.itemWidth},H):Te.createElement(R,{...hn(R,B),className:g,"data-index":z.index,key:H},y(z.index,z.data,B))})})}),vp=ze.memo(function(){const f=bn("HeaderComponent"),h=ra("headerHeight"),g=bn("headerFooterTag"),y=Ba(ze.useMemo(()=>w=>{h(ya(w,"height"))},[h]),!0,!1),E=bn("context");return f?p.jsx(g,{ref:y,children:p.jsx(f,{...hn(f,E)})}):null}),Sp=ze.memo(function(){const f=bn("FooterComponent"),h=ra("footerHeight"),g=bn("headerFooterTag"),y=Ba(ze.useMemo(()=>w=>{h(ya(w,"height"))},[h]),!0,!1),E=bn("context");return f?p.jsx(g,{ref:y,children:p.jsx(f,{...hn(f,E)})}):null}),Tp=({children:f})=>{const h=ze.useContext(ag),g=ra("itemDimensions"),y=ra("viewportDimensions"),E=Ba(ze.useMemo(()=>w=>{y(w.getBoundingClientRect())},[y]),!0,!1);return ze.useEffect(()=>{h&&(y({height:h.viewportHeight,width:h.viewportWidth}),g({height:h.itemHeight,width:h.itemWidth}))},[h,y,g]),p.jsx("div",{ref:E,style:xs(!1),children:f})},Np=({children:f})=>{const h=ze.useContext(ag),g=ra("windowViewportRect"),y=ra("itemDimensions"),E=bn("customScrollParent"),w=Af(g,E,!1);return ze.useEffect(()=>{h&&(y({height:h.itemHeight,width:h.itemWidth}),g({offsetTop:0,visibleHeight:h.viewportHeight,visibleWidth:h.viewportWidth}))},[h,g,y]),p.jsx("div",{ref:w,style:xs(!1),children:f})},_p=ze.memo(function({...f}){const h=bn("useWindowScroll"),g=bn("customScrollParent"),y=g||h?Op:Ip,E=g||h?Np:Tp,w=bn("context");return p.jsx(y,{...f,...hn(y,w),children:p.jsxs(E,{children:[p.jsx(vp,{}),p.jsx(Ap,{}),p.jsx(Sp,{})]})})}),{useEmitter:ug,useEmitterValue:bn,usePublisher:ra}=Of(Cp,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},_p),Ip=Mf({useEmitter:ug,useEmitterValue:bn,usePublisher:ra}),Op=kf({useEmitter:ug,useEmitterValue:bn,usePublisher:ra});function wx(f,h,g){return h!=="normal"&&!(h!=null&&h.endsWith("px"))&&g(`${f} was not resolved to pixel value correctly`,h,vr.WARN),h==="normal"?0:parseInt(h??"0",10)}var Fe;(function(f){f[f.QR_CODE=0]="QR_CODE",f[f.AZTEC=1]="AZTEC",f[f.CODABAR=2]="CODABAR",f[f.CODE_39=3]="CODE_39",f[f.CODE_93=4]="CODE_93",f[f.CODE_128=5]="CODE_128",f[f.DATA_MATRIX=6]="DATA_MATRIX",f[f.MAXICODE=7]="MAXICODE",f[f.ITF=8]="ITF",f[f.EAN_13=9]="EAN_13",f[f.EAN_8=10]="EAN_8",f[f.PDF_417=11]="PDF_417",f[f.RSS_14=12]="RSS_14",f[f.RSS_EXPANDED=13]="RSS_EXPANDED",f[f.UPC_A=14]="UPC_A",f[f.UPC_E=15]="UPC_E",f[f.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Fe||(Fe={}));var Ex=new Map([[Fe.QR_CODE,"QR_CODE"],[Fe.AZTEC,"AZTEC"],[Fe.CODABAR,"CODABAR"],[Fe.CODE_39,"CODE_39"],[Fe.CODE_93,"CODE_93"],[Fe.CODE_128,"CODE_128"],[Fe.DATA_MATRIX,"DATA_MATRIX"],[Fe.MAXICODE,"MAXICODE"],[Fe.ITF,"ITF"],[Fe.EAN_13,"EAN_13"],[Fe.EAN_8,"EAN_8"],[Fe.PDF_417,"PDF_417"],[Fe.RSS_14,"RSS_14"],[Fe.RSS_EXPANDED,"RSS_EXPANDED"],[Fe.UPC_A,"UPC_A"],[Fe.UPC_E,"UPC_E"],[Fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Cx;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.URL=1]="URL"})(Cx||(Cx={}));function Rp(f){return Object.values(Fe).includes(f)}var Kc;(function(f){f[f.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",f[f.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Kc||(Kc={}));var Dp=(function(){function f(){}return f.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",f.SCAN_DEFAULT_FPS=2,f.DEFAULT_DISABLE_FLIP=!1,f.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,f.DEFAULT_SUPPORTED_SCAN_TYPE=[Kc.SCAN_TYPE_CAMERA,Kc.SCAN_TYPE_FILE],f})(),dg=(function(){function f(h,g){this.format=h,this.formatName=g}return f.prototype.toString=function(){return this.formatName},f.create=function(h){if(!Ex.has(h))throw"".concat(h," not in html5QrcodeSupportedFormatsTextMap");return new f(h,Ex.get(h))},f})(),Ax=(function(){function f(){}return f.createFromText=function(h){var g={text:h};return{decodedText:h,result:g}},f.createFromQrcodeResult=function(h){return{decodedText:h.text,result:h}},f})(),bf;(function(f){f[f.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",f[f.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",f[f.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(bf||(bf={}));var Mp=(function(){function f(){}return f.createFrom=function(h){return{errorMessage:h,type:bf.UNKWOWN_ERROR}},f})(),kp=(function(){function f(h){this.verbose=h}return f.prototype.log=function(h){this.verbose&&console.log(h)},f.prototype.warn=function(h){this.verbose&&console.warn(h)},f.prototype.logError=function(h,g){(this.verbose||g===!0)&&console.error(h)},f.prototype.logErrors=function(h){if(h.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(h)},f})();function li(f){return typeof f>"u"||f===null}var ss=(function(){function f(){}return f.codeParseError=function(h){return"QR code parse error, error = ".concat(h)},f.errorGettingUserMedia=function(h){return"Error getting userMedia, error = ".concat(h)},f.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},f.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},f.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},f.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},f.scannerPaused=function(){return"Scanner paused"},f})(),fg=(function(){function f(){}return f.isMediaStreamConstraintsValid=function(h,g){if(typeof h!="object"){var y=typeof h;return g.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(y,"."),!0),!1}for(var E=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],w=new Set(E),N=Object.keys(h),R=0,_=N;R<_.length;R++){var C=_[R];if(w.has(C))return g.logError("".concat(C," is not supported videoConstaints."),!0),!1}return!0},f})(),oo={exports:{}},Bp=oo.exports,vx;function Lp(){return vx||(vx=1,(function(f,h){(function(g,y){y(h)})(Bp,(function(g){function y(S){return S==null}var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,t){S.__proto__=t}||function(S,t){for(var r in t)t.hasOwnProperty(r)&&(S[r]=t[r])};function w(S,t){E(S,t);function r(){this.constructor=S}S.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function N(S,t){var r=Object.setPrototypeOf;r?r(S,t):S.__proto__=t}function R(S,t){t===void 0&&(t=S.constructor);var r=Error.captureStackTrace;r&&r(S,t)}var _=(function(S){w(t,S);function t(r){var a=this.constructor,l=S.call(this,r)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1}),N(l,a.prototype),R(l),l}return t})(Error);class C extends _{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}C.kind="Exception";class B extends C{}B.kind="ArgumentException";class M extends C{}M.kind="IllegalArgumentException";class V{constructor(t){if(this.binarizer=t,t===null)throw new M("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,a,l){const s=this.binarizer.getLuminanceSource().crop(t,r,a,l);return new V(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new V(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new V(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class Z extends C{static getChecksumInstance(){return new Z}}Z.kind="ChecksumException";class ge{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class ne{static arraycopy(t,r,a,l,s){for(;s--;)a[l++]=t[r++]}static currentTimeMillis(){return Date.now()}}class re extends C{}re.kind="IndexOutOfBoundsException";class z extends re{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}z.kind="ArrayIndexOutOfBoundsException";class H{static fill(t,r){for(let a=0,l=t.length;a<l;a++)t[a]=r}static fillWithin(t,r,a,l){H.rangeCheck(t.length,r,a);for(let s=r;s<a;s++)t[s]=l}static rangeCheck(t,r,a){if(r>a)throw new M("fromIndex("+r+") > toIndex("+a+")");if(r<0)throw new z(r);if(a>t)throw new z(a)}static asList(...t){return t}static create(t,r,a){return Array.from({length:t}).map(s=>Array.from({length:r}).fill(a))}static createInt32Array(t,r,a){return Array.from({length:t}).map(s=>Int32Array.from({length:r}).fill(a))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let a=0,l=t.length;a<l;a++)if(t[a]!==r[a])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const a of t)r=31*r+a;return r}static fillUint8Array(t,r){for(let a=0;a!==t.length;a++)t[a]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const a=new Uint8Array(r);return a.set(t),a}return t.slice(0,r)}static copyOfRange(t,r,a){const l=a-r,s=new Int32Array(l);return ne.arraycopy(t,r,s,0,l),s}static binarySearch(t,r,a){a===void 0&&(a=H.numberComparator);let l=0,s=t.length-1;for(;l<=s;){const c=s+l>>1,u=a(r,t[c]);if(u>0)l=c+1;else if(u<0)s=c-1;else return c}return-l-1}static numberComparator(t,r){return t-r}}class F{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let a=31;return r=t<<16,r!==0&&(a-=16,t=r),r=t<<8,r!==0&&(a-=8,t=r),r=t<<4,r!==0&&(a-=4,t=r),r=t<<2,r!==0&&(a-=2,t=r),a-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}F.MIN_VALUE_32_BITS=-2147483648,F.MAX_VALUE=Number.MAX_SAFE_INTEGER;class X{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=X.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=X.makeArray(t);ne.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const a=this.bits;let l=Math.floor(t/32),s=a[l];s&=~((1<<(t&31))-1);const c=a.length;for(;s===0;){if(++l===c)return r;s=a[l]}const u=l*32+F.numberOfTrailingZeros(s);return u>r?r:u}getNextUnset(t){const r=this.size;if(t>=r)return r;const a=this.bits;let l=Math.floor(t/32),s=~a[l];s&=~((1<<(t&31))-1);const c=a.length;for(;s===0;){if(++l===c)return r;s=~a[l]}const u=l*32+F.numberOfTrailingZeros(s);return u>r?r:u}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new M;if(r===t)return;r--;const a=Math.floor(t/32),l=Math.floor(r/32),s=this.bits;for(let c=a;c<=l;c++){const u=c>a?0:t&31,b=(2<<(c<l?31:r&31))-(1<<u);s[c]|=b}}clear(){const t=this.bits.length,r=this.bits;for(let a=0;a<t;a++)r[a]=0}isRange(t,r,a){if(r<t||t<0||r>this.size)throw new M;if(r===t)return!0;r--;const l=Math.floor(t/32),s=Math.floor(r/32),c=this.bits;for(let u=l;u<=s;u++){const x=u>l?0:t&31,A=(2<<(u<s?31:r&31))-(1<<x)&4294967295;if((c[u]&A)!==(a?A:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new M("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let a=r;a>0;a--)this.appendBit((t>>a-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let a=0;a<r;a++)this.appendBit(t.get(a))}xor(t){if(this.size!==t.size)throw new M("Sizes don't match");const r=this.bits;for(let a=0,l=r.length;a<l;a++)r[a]^=t.bits[a]}toBytes(t,r,a,l){for(let s=0;s<l;s++){let c=0;for(let u=0;u<8;u++)this.get(t)&&(c|=1<<7-u),t++;r[a+s]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),a=r+1,l=this.bits;for(let s=0;s<a;s++){let c=l[s];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[r-s]=c}if(this.size!==a*32){const s=a*32-this.size;let c=t[0]>>>s;for(let u=1;u<a;u++){const x=t[u];c|=x<<32-s,t[u-1]=c,c=x>>>s}t[a-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof X))return!1;const r=t;return this.size===r.size&&H.equals(this.bits,r.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let t="";for(let r=0,a=this.size;r<a;r++)(r&7)===0&&(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new X(this.size,this.bits.slice())}}var de;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(de||(de={}));var W=de;class D extends C{static getFormatInstance(){return new D}}D.kind="FormatException";var ee;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(ee||(ee={}));class K{constructor(t,r,a,...l){this.valueIdentifier=t,this.name=a,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=l,K.VALUE_IDENTIFIER_TO_ECI.set(t,this),K.NAME_TO_ECI.set(a,this);const s=this.values;for(let c=0,u=s.length;c!==u;c++){const x=s[c];K.VALUES_TO_ECI.set(x,this)}for(const c of l)K.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new D("incorect value");const r=K.VALUES_TO_ECI.get(t);if(r===void 0)throw new D("incorect value");return r}static getCharacterSetECIByName(t){const r=K.NAME_TO_ECI.get(t);if(r===void 0)throw new D("incorect value");return r}equals(t){if(!(t instanceof K))return!1;const r=t;return this.getName()===r.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(ee.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(ee.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(ee.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(ee.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(ee.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(ee.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(ee.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(ee.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(ee.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(ee.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(ee.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(ee.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(ee.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(ee.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(ee.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(ee.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(ee.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(ee.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(ee.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(ee.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(ee.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(ee.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(ee.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(ee.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(ee.Big5,28,"Big5"),K.GB18030=new K(ee.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(ee.EUC_KR,30,"EUC_KR","EUC-KR");class pe extends C{}pe.kind="UnsupportedOperationException";class ce{static decode(t,r){const a=this.encodingName(r);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)}static shouldDecodeOnFallback(t){return!ce.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const a=this.encodingName(r);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof K?t:K.getCharacterSetECIByName(t)}static decodeFallback(t,r){const a=this.encodingCharacterSet(r);if(ce.isDecodeFallbackSupported(a)){let l="";for(let s=0,c=t.length;s<c;s++){let u=t[s].toString(16);u.length<2&&(u="0"+u),l+="%"+u}return decodeURIComponent(l)}if(a.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new pe(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(K.UTF8)||t.equals(K.ISO8859_1)||t.equals(K.ASCII)}static encodeFallback(t){const a=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let s=0;s<a.length;s++)l.push(a[s].charCodeAt(0));return new Uint8Array(l)}}class xe{static castAsNonUtf8Char(t,r=null){const a=r?r.getName():this.ISO88591;return ce.decode(new Uint8Array([t]),a)}static guessEncoding(t,r){if(r!=null&&r.get(W.CHARACTER_SET)!==void 0)return r.get(W.CHARACTER_SET).toString();const a=t.length;let l=!0,s=!0,c=!0,u=0,x=0,b=0,A=0,T=0,I=0,L=0,G=0,Y=0,ae=0,fe=0;const Me=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let De=0;De<a&&(l||s||c);De++){const Ne=t[De]&255;c&&(u>0?(Ne&128)===0?c=!1:u--:(Ne&128)!==0&&((Ne&64)===0?c=!1:(u++,(Ne&32)===0?x++:(u++,(Ne&16)===0?b++:(u++,(Ne&8)===0?A++:c=!1))))),l&&(Ne>127&&Ne<160?l=!1:Ne>159&&(Ne<192||Ne===215||Ne===247)&&fe++),s&&(T>0?Ne<64||Ne===127||Ne>252?s=!1:T--:Ne===128||Ne===160||Ne>239?s=!1:Ne>160&&Ne<224?(I++,G=0,L++,L>Y&&(Y=L)):Ne>127?(T++,L=0,G++,G>ae&&(ae=G)):(L=0,G=0))}return c&&u>0&&(c=!1),s&&T>0&&(s=!1),c&&(Me||x+b+A>0)?xe.UTF8:s&&(xe.ASSUME_SHIFT_JIS||Y>=3||ae>=3)?xe.SHIFT_JIS:l&&s?Y===2&&I===2||fe*10>=a?xe.SHIFT_JIS:xe.ISO88591:l?xe.ISO88591:s?xe.SHIFT_JIS:c?xe.UTF8:xe.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let a=-1;function l(c,u,x,b,A,T){if(c==="%%")return"%";if(r[++a]===void 0)return;c=b?parseInt(b.substr(1)):void 0;let I=A?parseInt(A.substr(1)):void 0,L;switch(T){case"s":L=r[a];break;case"c":L=r[a][0];break;case"f":L=parseFloat(r[a]).toFixed(c);break;case"p":L=parseFloat(r[a]).toPrecision(c);break;case"e":L=parseFloat(r[a]).toExponential(c);break;case"x":L=parseInt(r[a]).toString(I||16);break;case"d":L=parseFloat(parseInt(r[a],I||10).toPrecision(c)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let G=parseInt(x),Y=x&&x[0]+""=="0"?"0":" ";for(;L.length<G;)L=u!==void 0?L+Y:Y+L;return L}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}static getBytes(t,r){return ce.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}xe.SHIFT_JIS=K.SJIS.getName(),xe.GB2312="GB2312",xe.ISO88591=K.ISO8859_1.getName(),xe.EUC_JP="EUC_JP",xe.UTF8=K.UTF8.getName(),xe.PLATFORM_DEFAULT_ENCODING=xe.UTF8,xe.ASSUME_SHIFT_JIS=!1;class Ae{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=xe.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,a){for(let l=r;r<r+a;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class ve{constructor(t,r,a,l){if(this.width=t,this.height=r,this.rowSize=a,this.bits=l,r==null&&(r=t),this.height=r,t<1||r<1)throw new M("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,a=t[0].length,l=new ve(a,r);for(let s=0;s<r;s++){const c=t[s];for(let u=0;u<a;u++)c[u]&&l.set(u,s)}return l}static parseFromString(t,r,a){if(t===null)throw new M("stringRepresentation cannot be null");const l=new Array(t.length);let s=0,c=0,u=-1,x=0,b=0;for(;b<t.length;)if(t.charAt(b)===`
`||t.charAt(b)==="\r"){if(s>c){if(u===-1)u=s-c;else if(s-c!==u)throw new M("row lengths do not match");c=s,x++}b++}else if(t.substring(b,b+r.length)===r)b+=r.length,l[s]=!0,s++;else if(t.substring(b,b+a.length)===a)b+=a.length,l[s]=!1,s++;else throw new M("illegal character encountered: "+t.substring(b));if(s>c){if(u===-1)u=s-c;else if(s-c!==u)throw new M("row lengths do not match");x++}const A=new ve(u,x);for(let T=0;T<s;T++)l[T]&&A.set(Math.floor(T%u),Math.floor(T/u));return A}get(t,r){const a=r*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0}set(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295}unset(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)}flip(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new M("input matrix dimensions do not match");const r=new X(Math.floor(this.width/32)+1),a=this.rowSize,l=this.bits;for(let s=0,c=this.height;s<c;s++){const u=s*a,x=t.getRow(s,r).getBitArray();for(let b=0;b<a;b++)l[u+b]^=x[b]}}clear(){const t=this.bits,r=t.length;for(let a=0;a<r;a++)t[a]=0}setRegion(t,r,a,l){if(r<0||t<0)throw new M("Left and top must be nonnegative");if(l<1||a<1)throw new M("Height and width must be at least 1");const s=t+a,c=r+l;if(c>this.height||s>this.width)throw new M("The region must fit inside the matrix");const u=this.rowSize,x=this.bits;for(let b=r;b<c;b++){const A=b*u;for(let T=t;T<s;T++)x[A+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new X(this.width):r.clear();const a=this.rowSize,l=this.bits,s=t*a;for(let c=0;c<a;c++)r.setBulk(c*32,l[s+c]);return r}setRow(t,r){ne.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let a=new X(t),l=new X(t);for(let s=0,c=Math.floor((r+1)/2);s<c;s++)a=this.getRow(s,a),l=this.getRow(r-1-s,l),a.reverse(),l.reverse(),this.setRow(s,l),this.setRow(r-1-s,a)}getEnclosingRectangle(){const t=this.width,r=this.height,a=this.rowSize,l=this.bits;let s=t,c=r,u=-1,x=-1;for(let b=0;b<r;b++)for(let A=0;A<a;A++){const T=l[b*a+A];if(T!==0){if(b<c&&(c=b),b>x&&(x=b),A*32<s){let I=0;for(;(T<<31-I&4294967295)===0;)I++;A*32+I<s&&(s=A*32+I)}if(A*32+31>u){let I=31;for(;!(T>>>I);)I--;A*32+I>u&&(u=A*32+I)}}}return u<s||x<c?null:Int32Array.from([s,c,u-s+1,x-c+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let a=0;for(;a<r.length&&r[a]===0;)a++;if(a===r.length)return null;const l=a/t;let s=a%t*32;const c=r[a];let u=0;for(;(c<<31-u&4294967295)===0;)u++;return s+=u,Int32Array.from([s,l])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let a=r.length-1;for(;a>=0&&r[a]===0;)a--;if(a<0)return null;const l=Math.floor(a/t);let s=Math.floor(a%t)*32;const c=r[a];let u=31;for(;!(c>>>u);)u--;return s+=u,Int32Array.from([s,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof ve))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&H.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+H.hashCode(this.bits),t}toString(t="X ",r="  ",a=`
`){return this.buildToString(t,r,a)}buildToString(t,r,a){let l=new Ae;for(let s=0,c=this.height;s<c;s++){for(let u=0,x=this.width;u<x;u++)l.append(this.get(u,s)?t:r);l.append(a)}return l.toString()}clone(){return new ve(this.width,this.height,this.rowSize,this.bits.slice())}}class Q extends C{static getNotFoundInstance(){return new Q}}Q.kind="NotFoundException";class j extends ge{constructor(t){super(t),this.luminances=j.EMPTY,this.buckets=new Int32Array(j.LUMINANCE_BUCKETS)}getBlackRow(t,r){const a=this.getLuminanceSource(),l=a.getWidth();r==null||r.getSize()<l?r=new X(l):r.clear(),this.initArrays(l);const s=a.getRow(t,this.luminances),c=this.buckets;for(let x=0;x<l;x++)c[(s[x]&255)>>j.LUMINANCE_SHIFT]++;const u=j.estimateBlackPoint(c);if(l<3)for(let x=0;x<l;x++)(s[x]&255)<u&&r.set(x);else{let x=s[0]&255,b=s[1]&255;for(let A=1;A<l-1;A++){const T=s[A+1]&255;(b*4-x-T)/2<u&&r.set(A),x=b,b=T}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),a=t.getHeight(),l=new ve(r,a);this.initArrays(r);const s=this.buckets;for(let x=1;x<5;x++){const b=Math.floor(a*x/5),A=t.getRow(b,this.luminances),T=Math.floor(r*4/5);for(let I=Math.floor(r/5);I<T;I++){const L=A[I]&255;s[L>>j.LUMINANCE_SHIFT]++}}const c=j.estimateBlackPoint(s),u=t.getMatrix();for(let x=0;x<a;x++){const b=x*r;for(let A=0;A<r;A++)(u[b+A]&255)<c&&l.set(A,x)}return l}createBinarizer(t){return new j(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let a=0;a<j.LUMINANCE_BUCKETS;a++)r[a]=0}static estimateBlackPoint(t){const r=t.length;let a=0,l=0,s=0;for(let A=0;A<r;A++)t[A]>s&&(l=A,s=t[A]),t[A]>a&&(a=t[A]);let c=0,u=0;for(let A=0;A<r;A++){const T=A-l,I=t[A]*T*T;I>u&&(c=A,u=I)}if(l>c){const A=l;l=c,c=A}if(c-l<=r/16)throw new Q;let x=c-1,b=-1;for(let A=c-1;A>l;A--){const T=A-l,I=T*T*(c-A)*(a-t[A]);I>b&&(x=A,b=I)}return x<<j.LUMINANCE_SHIFT}}j.LUMINANCE_BITS=5,j.LUMINANCE_SHIFT=8-j.LUMINANCE_BITS,j.LUMINANCE_BUCKETS=1<<j.LUMINANCE_BITS,j.EMPTY=Uint8ClampedArray.from([0]);class $ extends j{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),a=t.getHeight();if(r>=$.MINIMUM_DIMENSION&&a>=$.MINIMUM_DIMENSION){const l=t.getMatrix();let s=r>>$.BLOCK_SIZE_POWER;(r&$.BLOCK_SIZE_MASK)!==0&&s++;let c=a>>$.BLOCK_SIZE_POWER;(a&$.BLOCK_SIZE_MASK)!==0&&c++;const u=$.calculateBlackPoints(l,s,c,r,a),x=new ve(r,a);$.calculateThresholdForBlock(l,s,c,r,a,u,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new $(t)}static calculateThresholdForBlock(t,r,a,l,s,c,u){const x=s-$.BLOCK_SIZE,b=l-$.BLOCK_SIZE;for(let A=0;A<a;A++){let T=A<<$.BLOCK_SIZE_POWER;T>x&&(T=x);const I=$.cap(A,2,a-3);for(let L=0;L<r;L++){let G=L<<$.BLOCK_SIZE_POWER;G>b&&(G=b);const Y=$.cap(L,2,r-3);let ae=0;for(let Me=-2;Me<=2;Me++){const De=c[I+Me];ae+=De[Y-2]+De[Y-1]+De[Y]+De[Y+1]+De[Y+2]}const fe=ae/25;$.thresholdBlock(t,G,T,fe,l,u)}}}static cap(t,r,a){return t<r?r:t>a?a:t}static thresholdBlock(t,r,a,l,s,c){for(let u=0,x=a*s+r;u<$.BLOCK_SIZE;u++,x+=s)for(let b=0;b<$.BLOCK_SIZE;b++)(t[x+b]&255)<=l&&c.set(r+b,a+u)}static calculateBlackPoints(t,r,a,l,s){const c=s-$.BLOCK_SIZE,u=l-$.BLOCK_SIZE,x=new Array(a);for(let b=0;b<a;b++){x[b]=new Int32Array(r);let A=b<<$.BLOCK_SIZE_POWER;A>c&&(A=c);for(let T=0;T<r;T++){let I=T<<$.BLOCK_SIZE_POWER;I>u&&(I=u);let L=0,G=255,Y=0;for(let fe=0,Me=A*l+I;fe<$.BLOCK_SIZE;fe++,Me+=l){for(let De=0;De<$.BLOCK_SIZE;De++){const Ne=t[Me+De]&255;L+=Ne,Ne<G&&(G=Ne),Ne>Y&&(Y=Ne)}if(Y-G>$.MIN_DYNAMIC_RANGE)for(fe++,Me+=l;fe<$.BLOCK_SIZE;fe++,Me+=l)for(let De=0;De<$.BLOCK_SIZE;De++)L+=t[Me+De]&255}let ae=L>>$.BLOCK_SIZE_POWER*2;if(Y-G<=$.MIN_DYNAMIC_RANGE&&(ae=G/2,b>0&&T>0)){const fe=(x[b-1][T]+2*x[b][T-1]+x[b-1][T-1])/4;G<fe&&(ae=fe)}x[b][T]=ae}}return x}}$.BLOCK_SIZE_POWER=3,$.BLOCK_SIZE=1<<$.BLOCK_SIZE_POWER,$.BLOCK_SIZE_MASK=$.BLOCK_SIZE-1,$.MINIMUM_DIMENSION=$.BLOCK_SIZE*5,$.MIN_DYNAMIC_RANGE=24;class Ce{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,a,l){throw new pe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new pe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new pe("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Ae;for(let a=0;a<this.height;a++){const l=this.getRow(a,t);for(let s=0;s<this.width;s++){const c=l[s]&255;let u;c<64?u="#":c<128?u="+":c<192?u=".":u=" ",r.append(u)}r.append(`
`)}return r.toString()}}class Le extends Ce{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const a=this.delegate.getRow(t,r),l=this.getWidth();for(let s=0;s<l;s++)a[s]=255-(a[s]&255);return a}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r);for(let l=0;l<r;l++)a[l]=255-(t[l]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,a,l){return new Le(this.delegate.crop(t,r,a,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Le(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Le(this.delegate.rotateCounterClockwise45())}}class Re extends Ce{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Re.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return Re.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,a){const l=new Uint8ClampedArray(r*a);for(let s=0,c=0,u=t.length;s<u;s+=4,c++){let x;if(t[s+3]===0)x=255;else{const A=t[s],T=t[s+1],I=t[s+2];x=306*A+601*T+117*I+512>>10}l[c]=x}return l}getRow(t,r){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const a=this.getWidth(),l=t*a;return r===null?r=this.buffer.slice(l,l+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(l,l+a))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,a,l){return super.crop(t,r,a,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),a=r.getContext("2d"),l=t*Re.DEGREE_TO_RADIANS,s=this.canvas.width,c=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(l))*s+Math.abs(Math.sin(l))*c),x=Math.ceil(Math.abs(Math.sin(l))*s+Math.abs(Math.cos(l))*c);return r.width=u,r.height=x,a.translate(u/2,x/2),a.rotate(l),a.drawImage(this.canvas,s/-2,c/-2),this.buffer=Re.makeBufferFromCanvasImageData(r),this}invert(){return new Le(this)}}Re.DEGREE_TO_RADIANS=Math.PI/180;class U{constructor(t,r,a){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ue=(globalThis||Uc||self||window||void 0)&&(globalThis||Uc||self||window||void 0).__awaiter||function(S,t,r,a){function l(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function u(A){try{b(a.next(A))}catch(T){c(T)}}function x(A){try{b(a.throw(A))}catch(T){c(T)}}function b(A){A.done?s(A.value):l(A.value).then(u,x)}b((a=a.apply(S,t||[])).next())})};class _e{constructor(t,r=500,a){this.reader=t,this.timeBetweenScansMillis=r,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const a of t){const l=a.kind==="video"?"videoinput":a.kind;if(l!=="videoinput")continue;const s=a.deviceId||a.id,c=a.label||`Video device ${r.length+1}`,u=a.groupId,x={deviceId:s,label:c,kind:l,groupId:u};r.push(x)}return r})}getVideoInputDevices(){return ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new U(r.deviceId,r.label))})}findDeviceById(t){return ue(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(a=>a.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return ue(this,void 0,void 0,function*(){this.reset();let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeOnceFromConstraints(l,r)})}decodeOnceFromConstraints(t,r){return ue(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(a,r)})}decodeOnceFromStream(t,r){return ue(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(t,r,a){return ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,a)})}decodeFromVideoDevice(t,r,a){return ue(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const s={video:l};return yield this.decodeFromConstraints(s,r,a)})}decodeFromConstraints(t,r,a){return ue(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,r,a)})}decodeFromStream(t,r,a){return ue(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(l,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return ue(this,void 0,void 0,function*(){const a=this.prepareVideoElement(r);return this.addVideoSource(a,t),this.videoElement=a,this.stream=t,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(t){return new Promise((r,a)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const a=document.getElementById(t);if(!a)throw new B(`element with id '${t}' not found`);if(a.nodeName.toLowerCase()!==r.toLowerCase())throw new B(`element with id '${t}' must be an ${r} element`);return a}decodeFromImage(t,r){if(!t&&!r)throw new B("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new B("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,a){if(t===void 0&&r===void 0)throw new B("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,a):this.decodeFromVideoElementContinuously(t,a)}decodeFromImageElement(t){if(!t)throw new B("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let a;return this.isImageLoaded(r)?a=this.decodeOnce(r,!1,!0):a=this._decodeOnLoadImage(r),a}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,r)}_decodeFromVideoElementSetup(t){if(!t)throw new B("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new B("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const a=this._decodeOnLoadImage(r);return r.src=t,a}decodeFromVideoUrl(t){if(!t)throw new B("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),a=this.decodeFromVideoElement(r);return r.src=t,a}decodeFromVideoUrlContinuously(t,r){if(!t)throw new B("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(a,r);return a.src=t,l}_decodeOnLoadImage(t){return new Promise((r,a)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,a),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,a=!0){this._stopAsyncDecode=!1;const l=(s,c)=>{if(this._stopAsyncDecode){c(new Q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(t);s(u)}catch(u){const x=r&&u instanceof Q,A=(u instanceof Z||u instanceof D)&&a;if(x||A)return setTimeout(l,this._timeBetweenDecodingAttempts,s,c);c(u)}};return new Promise((s,c)=>l(s,c))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);r(l,null),setTimeout(a,this.timeBetweenScansMillis)}catch(l){r(null,l);const s=l instanceof Z||l instanceof D,c=l instanceof Q;(s||c)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,a){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,a=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),a=new Re(r),l=new $(a);return new V(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let a,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),r.style.width=a+"px",r.style.height=l+"px",r.width=a,r.height=l,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Be{constructor(t,r,a=r==null?0:8*r.length,l,s,c=ne.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=a,this.resultPoints=l,this.format=s,this.timestamp=c,this.text=t,this.rawBytes=r,a==null?this.numBits=r==null?0:8*r.length:this.numBits=a,this.resultPoints=l,this.format=s,this.resultMetadata=null,c==null?this.timestamp=ne.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const a=new Array(r.length+t.length);ne.arraycopy(r,0,a,0,r.length),ne.arraycopy(t,0,a,r.length,t.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ve;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ve||(Ve={}));var we=Ve,Ze;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ze||(Ze={}));var J=Ze;class Oe{constructor(t,r,a,l,s=-1,c=-1){this.rawBytes=t,this.text=r,this.byteSegments=a,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class at{exp(t){return this.expTable[t]}log(t){if(t===0)throw new M;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class $e{constructor(t,r){if(r.length===0)throw new M;this.field=t;const a=r.length;if(a>1&&r[0]===0){let l=1;for(;l<a&&r[l]===0;)l++;l===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-l),ne.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let a;if(t===1){a=0;for(let c=0,u=r.length;c!==u;c++){const x=r[c];a=at.addOrSubtract(a,x)}return a}a=r[0];const l=r.length,s=this.field;for(let c=1;c<l;c++)a=at.addOrSubtract(s.multiply(t,a),r[c]);return a}addOrSubtract(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,a=t.coefficients;if(r.length>a.length){const c=r;r=a,a=c}let l=new Int32Array(a.length);const s=a.length-r.length;ne.arraycopy(a,0,l,0,s);for(let c=s;c<a.length;c++)l[c]=at.addOrSubtract(r[c-s],a[c]);return new $e(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,a=r.length,l=t.coefficients,s=l.length,c=new Int32Array(a+s-1),u=this.field;for(let x=0;x<a;x++){const b=r[x];for(let A=0;A<s;A++)c[x+A]=at.addOrSubtract(c[x+A],u.multiply(b,l[A]))}return new $e(u,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,a=this.field,l=new Int32Array(r),s=this.coefficients;for(let c=0;c<r;c++)l[c]=a.multiply(s[c],t);return new $e(a,l)}multiplyByMonomial(t,r){if(t<0)throw new M;if(r===0)return this.field.getZero();const a=this.coefficients,l=a.length,s=new Int32Array(l+t),c=this.field;for(let u=0;u<l;u++)s[u]=c.multiply(a[u],r);return new $e(c,s)}divide(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new M("Divide by 0");const r=this.field;let a=r.getZero(),l=this;const s=t.getCoefficient(t.getDegree()),c=r.inverse(s);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const u=l.getDegree()-t.getDegree(),x=r.multiply(l.getCoefficient(l.getDegree()),c),b=t.multiplyByMonomial(u,x),A=r.buildMonomial(u,x);a=a.addOrSubtract(A),l=l.addOrSubtract(b)}return[a,l]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),r===0||a!==1){const l=this.field.log(a);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class Ot extends C{}Ot.kind="ArithmeticException";class lt extends at{constructor(t,r,a){super(),this.primitive=t,this.size=r,this.generatorBase=a;const l=new Int32Array(r);let s=1;for(let u=0;u<r;u++)l[u]=s,s*=2,s>=r&&(s^=t,s&=r-1);this.expTable=l;const c=new Int32Array(r);for(let u=0;u<r-1;u++)c[l[u]]=u;this.logTable=c,this.zero=new $e(this,Int32Array.from([0])),this.one=new $e(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new M;if(r===0)return this.zero;const a=new Int32Array(t+1);return a[0]=r,new $e(this,a)}inverse(t){if(t===0)throw new Ot;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+F.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}lt.AZTEC_DATA_12=new lt(4201,4096,1),lt.AZTEC_DATA_10=new lt(1033,1024,1),lt.AZTEC_DATA_6=new lt(67,64,1),lt.AZTEC_PARAM=new lt(19,16,1),lt.QR_CODE_FIELD_256=new lt(285,256,0),lt.DATA_MATRIX_FIELD_256=new lt(301,256,1),lt.AZTEC_DATA_8=lt.DATA_MATRIX_FIELD_256,lt.MAXICODE_FIELD_64=lt.AZTEC_DATA_6;class wn extends C{}wn.kind="ReedSolomonException";class Lt extends C{}Lt.kind="IllegalStateException";class lr{constructor(t){this.field=t}decode(t,r){const a=this.field,l=new $e(a,t),s=new Int32Array(r);let c=!0;for(let L=0;L<r;L++){const G=l.evaluateAt(a.exp(L+a.getGeneratorBase()));s[s.length-1-L]=G,G!==0&&(c=!1)}if(c)return;const u=new $e(a,s),x=this.runEuclideanAlgorithm(a.buildMonomial(r,1),u,r),b=x[0],A=x[1],T=this.findErrorLocations(b),I=this.findErrorMagnitudes(A,T);for(let L=0;L<T.length;L++){const G=t.length-1-a.log(T[L]);if(G<0)throw new wn("Bad error location");t[G]=lt.addOrSubtract(t[G],I[L])}}runEuclideanAlgorithm(t,r,a){if(t.getDegree()<r.getDegree()){const L=t;t=r,r=L}const l=this.field;let s=t,c=r,u=l.getZero(),x=l.getOne();for(;c.getDegree()>=(a/2|0);){let L=s,G=u;if(s=c,u=x,s.isZero())throw new wn("r_{i-1} was zero");c=L;let Y=l.getZero();const ae=s.getCoefficient(s.getDegree()),fe=l.inverse(ae);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const Me=c.getDegree()-s.getDegree(),De=l.multiply(c.getCoefficient(c.getDegree()),fe);Y=Y.addOrSubtract(l.buildMonomial(Me,De)),c=c.addOrSubtract(s.multiplyByMonomial(Me,De))}if(x=Y.multiply(u).addOrSubtract(G),c.getDegree()>=s.getDegree())throw new Lt("Division algorithm failed to reduce polynomial?")}const b=x.getCoefficient(0);if(b===0)throw new wn("sigmaTilde(0) was zero");const A=l.inverse(b),T=x.multiplyScalar(A),I=c.multiplyScalar(A);return[T,I]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const a=new Int32Array(r);let l=0;const s=this.field;for(let c=1;c<s.getSize()&&l<r;c++)t.evaluateAt(c)===0&&(a[l]=s.inverse(c),l++);if(l!==r)throw new wn("Error locator degree does not match number of roots");return a}findErrorMagnitudes(t,r){const a=r.length,l=new Int32Array(a),s=this.field;for(let c=0;c<a;c++){const u=s.inverse(r[c]);let x=1;for(let b=0;b<a;b++)if(c!==b){const A=s.multiply(r[b],u),T=(A&1)===0?A|1:A&-2;x=s.multiply(x,T)}l[c]=s.multiply(t.evaluateAt(u),s.inverse(x)),s.getGeneratorBase()!==0&&(l[c]=s.multiply(l[c],u))}return l}}var Yt;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(Yt||(Yt={}));class dt{decode(t){this.ddata=t;let r=t.getBits(),a=this.extractBits(r),l=this.correctBits(a),s=dt.convertBoolArrayToByteArray(l),c=dt.getEncodedData(l),u=new Oe(s,c,null,null);return u.setNumBits(l.length),u}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,a=Yt.UPPER,l=Yt.UPPER,s="",c=0;for(;c<r;)if(l===Yt.BINARY){if(r-c<5)break;let u=dt.readCode(t,c,5);if(c+=5,u===0){if(r-c<11)break;u=dt.readCode(t,c,11)+31,c+=11}for(let x=0;x<u;x++){if(r-c<8){c=r;break}const b=dt.readCode(t,c,8);s+=xe.castAsNonUtf8Char(b),c+=8}l=a}else{let u=l===Yt.DIGIT?4:5;if(r-c<u)break;let x=dt.readCode(t,c,u);c+=u;let b=dt.getCharacter(l,x);b.startsWith("CTRL_")?(a=l,l=dt.getTable(b.charAt(5)),b.charAt(6)==="L"&&(a=l)):(s+=b,l=a)}return s}static getTable(t){switch(t){case"L":return Yt.LOWER;case"P":return Yt.PUNCT;case"M":return Yt.MIXED;case"D":return Yt.DIGIT;case"B":return Yt.BINARY;case"U":default:return Yt.UPPER}}static getCharacter(t,r){switch(t){case Yt.UPPER:return dt.UPPER_TABLE[r];case Yt.LOWER:return dt.LOWER_TABLE[r];case Yt.MIXED:return dt.MIXED_TABLE[r];case Yt.PUNCT:return dt.PUNCT_TABLE[r];case Yt.DIGIT:return dt.DIGIT_TABLE[r];default:throw new Lt("Bad table")}}correctBits(t){let r,a;this.ddata.getNbLayers()<=2?(a=6,r=lt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,r=lt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,r=lt.AZTEC_DATA_10):(a=12,r=lt.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),s=t.length/a;if(s<l)throw new D;let c=t.length%a,u=new Int32Array(s);for(let I=0;I<s;I++,c+=a)u[I]=dt.readCode(t,c,a);try{new lr(r).decode(u,s-l)}catch(I){throw new D(I)}let x=(1<<a)-1,b=0;for(let I=0;I<l;I++){let L=u[I];if(L===0||L===x)throw new D;(L===1||L===x-1)&&b++}let A=new Array(l*a-b),T=0;for(let I=0;I<l;I++){let L=u[I];if(L===1||L===x-1)A.fill(L>1,T,T+a-1),T+=a-1;else for(let G=a-1;G>=0;--G)A[T++]=(L&1<<G)!==0}return A}extractBits(t){let r=this.ddata.isCompact(),a=this.ddata.getNbLayers(),l=(r?11:14)+a*4,s=new Int32Array(l),c=new Array(this.totalBitsInLayer(a,r));if(r)for(let u=0;u<s.length;u++)s[u]=u;else{let u=l+1+2*F.truncDivision(F.truncDivision(l,2)-1,15),x=l/2,b=F.truncDivision(u,2);for(let A=0;A<x;A++){let T=A+F.truncDivision(A,15);s[x-A-1]=b-T-1,s[x+A]=b+T+1}}for(let u=0,x=0;u<a;u++){let b=(a-u)*4+(r?9:12),A=u*2,T=l-1-A;for(let I=0;I<b;I++){let L=I*2;for(let G=0;G<2;G++)c[x+L+G]=t.get(s[A+G],s[A+I]),c[x+2*b+L+G]=t.get(s[A+I],s[T-G]),c[x+4*b+L+G]=t.get(s[T-G],s[T-I]),c[x+6*b+L+G]=t.get(s[T-I],s[A+G])}x+=b*8}return c}static readCode(t,r,a){let l=0;for(let s=r;s<r+a;s++)l<<=1,t[s]&&(l|=1);return l}static readByte(t,r){let a=t.length-r;return a>=8?dt.readCode(t,r,8):dt.readCode(t,r,a)<<8-a}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let a=0;a<r.length;a++)r[a]=dt.readByte(t,8*a);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}dt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],dt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],dt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],dt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],dt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,a,l){const s=t-a,c=r-l;return Math.sqrt(s*s+c*c)}static sum(t){let r=0;for(let a=0,l=t.length;a!==l;a++){const s=t[a];r+=s}return r}}class tr{static floatToIntBits(t){return t}}tr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ue{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Ue){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*tr.floatToIntBits(this.x)+tr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let s,c,u;if(a>=r&&a>=l?(c=t[0],s=t[1],u=t[2]):l>=a&&l>=r?(c=t[1],s=t[0],u=t[2]):(c=t[2],s=t[0],u=t[1]),this.crossProductZ(s,c,u)<0){const x=s;s=u,u=x}t[0]=s,t[1]=c,t[2]=u}static distance(t,r){return rt.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,a){const l=r.x,s=r.y;return(a.x-l)*(t.y-s)-(a.y-s)*(t.x-l)}}class Sr{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Tr extends Sr{constructor(t,r,a,l,s){super(t,r),this.compact=a,this.nbDatablocks=l,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ft{constructor(t,r,a,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Ft.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const s=r/2|0;if(this.leftInit=a-s,this.rightInit=a+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Q}detect(){let t=this.leftInit,r=this.rightInit,a=this.upInit,l=this.downInit,s=!1,c=!0,u=!1,x=!1,b=!1,A=!1,T=!1;const I=this.width,L=this.height;for(;c;){c=!1;let G=!0;for(;(G||!x)&&r<I;)G=this.containsBlackPoint(a,l,r,!1),G?(r++,c=!0,x=!0):x||r++;if(r>=I){s=!0;break}let Y=!0;for(;(Y||!b)&&l<L;)Y=this.containsBlackPoint(t,r,l,!0),Y?(l++,c=!0,b=!0):b||l++;if(l>=L){s=!0;break}let ae=!0;for(;(ae||!A)&&t>=0;)ae=this.containsBlackPoint(a,l,t,!1),ae?(t--,c=!0,A=!0):A||t--;if(t<0){s=!0;break}let fe=!0;for(;(fe||!T)&&a>=0;)fe=this.containsBlackPoint(t,r,a,!0),fe?(a--,c=!0,T=!0):T||a--;if(a<0){s=!0;break}c&&(u=!0)}if(!s&&u){const G=r-t;let Y=null;for(let De=1;Y===null&&De<G;De++)Y=this.getBlackPointOnSegment(t,l-De,t+De,l);if(Y==null)throw new Q;let ae=null;for(let De=1;ae===null&&De<G;De++)ae=this.getBlackPointOnSegment(t,a+De,t+De,a);if(ae==null)throw new Q;let fe=null;for(let De=1;fe===null&&De<G;De++)fe=this.getBlackPointOnSegment(r,a+De,r-De,a);if(fe==null)throw new Q;let Me=null;for(let De=1;Me===null&&De<G;De++)Me=this.getBlackPointOnSegment(r,l-De,r-De,l);if(Me==null)throw new Q;return this.centerEdges(Me,Y,fe,ae)}else throw new Q}getBlackPointOnSegment(t,r,a,l){const s=rt.round(rt.distance(t,r,a,l)),c=(a-t)/s,u=(l-r)/s,x=this.image;for(let b=0;b<s;b++){const A=rt.round(t+b*c),T=rt.round(r+b*u);if(x.get(A,T))return new Ue(A,T)}return null}centerEdges(t,r,a,l){const s=t.getX(),c=t.getY(),u=r.getX(),x=r.getY(),b=a.getX(),A=a.getY(),T=l.getX(),I=l.getY(),L=Ft.CORR;return s<this.width/2?[new Ue(T-L,I+L),new Ue(u+L,x+L),new Ue(b-L,A-L),new Ue(s+L,c-L)]:[new Ue(T+L,I+L),new Ue(u+L,x-L),new Ue(b-L,A+L),new Ue(s-L,c-L)]}containsBlackPoint(t,r,a,l){const s=this.image;if(l){for(let c=t;c<=r;c++)if(s.get(c,a))return!0}else for(let c=t;c<=r;c++)if(s.get(a,c))return!0;return!1}}Ft.INIT_SIZE=10,Ft.CORR=1;class Nr{static checkAndNudgePoints(t,r){const a=t.getWidth(),l=t.getHeight();let s=!0;for(let c=0;c<r.length&&s;c+=2){const u=Math.floor(r[c]),x=Math.floor(r[c+1]);if(u<-1||u>a||x<-1||x>l)throw new Q;s=!1,u===-1?(r[c]=0,s=!0):u===a&&(r[c]=a-1,s=!0),x===-1?(r[c+1]=0,s=!0):x===l&&(r[c+1]=l-1,s=!0)}s=!0;for(let c=r.length-2;c>=0&&s;c-=2){const u=Math.floor(r[c]),x=Math.floor(r[c+1]);if(u<-1||u>a||x<-1||x>l)throw new Q;s=!1,u===-1?(r[c]=0,s=!0):u===a&&(r[c]=a-1,s=!0),x===-1?(r[c+1]=0,s=!0):x===l&&(r[c+1]=l-1,s=!0)}}}class Zn{constructor(t,r,a,l,s,c,u,x,b){this.a11=t,this.a21=r,this.a31=a,this.a12=l,this.a22=s,this.a32=c,this.a13=u,this.a23=x,this.a33=b}static quadrilateralToQuadrilateral(t,r,a,l,s,c,u,x,b,A,T,I,L,G,Y,ae){const fe=Zn.quadrilateralToSquare(t,r,a,l,s,c,u,x);return Zn.squareToQuadrilateral(b,A,T,I,L,G,Y,ae).times(fe)}transformPoints(t){const r=t.length,a=this.a11,l=this.a12,s=this.a13,c=this.a21,u=this.a22,x=this.a23,b=this.a31,A=this.a32,T=this.a33;for(let I=0;I<r;I+=2){const L=t[I],G=t[I+1],Y=s*L+x*G+T;t[I]=(a*L+c*G+b)/Y,t[I+1]=(l*L+u*G+A)/Y}}transformPointsWithValues(t,r){const a=this.a11,l=this.a12,s=this.a13,c=this.a21,u=this.a22,x=this.a23,b=this.a31,A=this.a32,T=this.a33,I=t.length;for(let L=0;L<I;L++){const G=t[L],Y=r[L],ae=s*G+x*Y+T;t[L]=(a*G+c*Y+b)/ae,r[L]=(l*G+u*Y+A)/ae}}static squareToQuadrilateral(t,r,a,l,s,c,u,x){const b=t-a+s-u,A=r-l+c-x;if(b===0&&A===0)return new Zn(a-t,s-a,t,l-r,c-l,r,0,0,1);{const T=a-s,I=u-s,L=l-c,G=x-c,Y=T*G-I*L,ae=(b*G-I*A)/Y,fe=(T*A-b*L)/Y;return new Zn(a-t+ae*a,u-t+fe*u,t,l-r+ae*l,x-r+fe*x,r,ae,fe,1)}}static quadrilateralToSquare(t,r,a,l,s,c,u,x){return Zn.squareToQuadrilateral(t,r,a,l,s,c,u,x).buildAdjoint()}buildAdjoint(){return new Zn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Zn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class ci extends Nr{sampleGrid(t,r,a,l,s,c,u,x,b,A,T,I,L,G,Y,ae,fe,Me,De){const Ne=Zn.quadrilateralToQuadrilateral(l,s,c,u,x,b,A,T,I,L,G,Y,ae,fe,Me,De);return this.sampleGridWithTransform(t,r,a,Ne)}sampleGridWithTransform(t,r,a,l){if(r<=0||a<=0)throw new Q;const s=new ve(r,a),c=new Float32Array(2*r);for(let u=0;u<a;u++){const x=c.length,b=u+.5;for(let A=0;A<x;A+=2)c[A]=A/2+.5,c[A+1]=b;l.transformPoints(c),Nr.checkAndNudgePoints(t,c);try{for(let A=0;A<x;A+=2)t.get(Math.floor(c[A]),Math.floor(c[A+1]))&&s.set(A/2,u)}catch{throw new Q}}return s}}class nr{static setGridSampler(t){nr.gridSampler=t}static getInstance(){return nr.gridSampler}}nr.gridSampler=new ci;class Dn{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new Ue(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Wi{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),a=this.getBullsEyeCorners(r);if(t){let c=a[0];a[0]=a[2],a[2]=c}this.extractParameters(a);let l=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),s=this.getMatrixCornerPoints(a);return new Tr(l,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Q;let r=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(a,r);let l=0;for(let c=0;c<4;c++){let u=a[(this.shift+c)%4];this.compact?(l<<=7,l+=u>>1&127):(l<<=10,l+=(u>>2&992)+(u>>1&31))}let s=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(t,r){let a=0;t.forEach((l,s,c)=>{let u=(l>>r-2<<1)+(l&1);a=(a<<3)+u}),a=((a&1)<<11)+(a>>1);for(let l=0;l<4;l++)if(F.bitCount(a^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new Q}getCorrectedParameterData(t,r){let a,l;r?(a=7,l=2):(a=10,l=4);let s=a-l,c=new Int32Array(a);for(let x=a-1;x>=0;--x)c[x]=t&15,t>>=4;try{new lr(lt.AZTEC_PARAM).decode(c,s)}catch{throw new Q}let u=0;for(let x=0;x<l;x++)u=(u<<4)+c[x];return u}getBullsEyeCorners(t){let r=t,a=t,l=t,s=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(r,c,1,-1),I=this.getFirstDifferent(a,c,1,1),L=this.getFirstDifferent(l,c,-1,1),G=this.getFirstDifferent(s,c,-1,-1);if(this.nbCenterLayers>2){let Y=this.distancePoint(G,T)*this.nbCenterLayers/(this.distancePoint(s,r)*(this.nbCenterLayers+2));if(Y<.75||Y>1.25||!this.isWhiteOrBlackRectangle(T,I,L,G))break}r=T,a=I,l=L,s=G,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Q;this.compact=this.nbCenterLayers===5;let u=new Ue(r.getX()+.5,r.getY()-.5),x=new Ue(a.getX()+.5,a.getY()+.5),b=new Ue(l.getX()-.5,l.getY()+.5),A=new Ue(s.getX()-.5,s.getY()-.5);return this.expandSquare([u,x,b,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,a,l;try{let u=new Ft(this.image).detect();t=u[0],r=u[1],a=u[2],l=u[3]}catch{let x=this.image.getWidth()/2,b=this.image.getHeight()/2;t=this.getFirstDifferent(new Dn(x+7,b-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Dn(x+7,b+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Dn(x-7,b+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Dn(x-7,b-7),!1,-1,-1).toResultPoint()}let s=rt.round((t.getX()+l.getX()+r.getX()+a.getX())/4),c=rt.round((t.getY()+l.getY()+r.getY()+a.getY())/4);try{let u=new Ft(this.image,15,s,c).detect();t=u[0],r=u[1],a=u[2],l=u[3]}catch{t=this.getFirstDifferent(new Dn(s+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Dn(s+7,c+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Dn(s-7,c+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Dn(s-7,c-7),!1,-1,-1).toResultPoint()}return s=rt.round((t.getX()+l.getX()+r.getX()+a.getX())/4),c=rt.round((t.getY()+l.getY()+r.getY()+a.getY())/4),new Dn(s,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,a,l,s){let c=nr.getInstance(),u=this.getDimension(),x=u/2-this.nbCenterLayers,b=u/2+this.nbCenterLayers;return c.sampleGrid(t,u,u,x,x,b,x,b,b,x,b,r.getX(),r.getY(),a.getX(),a.getY(),l.getX(),l.getY(),s.getX(),s.getY())}sampleLine(t,r,a){let l=0,s=this.distanceResultPoint(t,r),c=s/a,u=t.getX(),x=t.getY(),b=c*(r.getX()-t.getX())/s,A=c*(r.getY()-t.getY())/s;for(let T=0;T<a;T++)this.image.get(rt.round(u+T*b),rt.round(x+T*A))&&(l|=1<<a-T-1);return l}isWhiteOrBlackRectangle(t,r,a,l){let s=3;t=new Dn(t.getX()-s,t.getY()+s),r=new Dn(r.getX()-s,r.getY()-s),a=new Dn(a.getX()+s,a.getY()-s),l=new Dn(l.getX()+s,l.getY()+s);let c=this.getColor(l,t);if(c===0)return!1;let u=this.getColor(t,r);return u!==c||(u=this.getColor(r,a),u!==c)?!1:(u=this.getColor(a,l),u===c)}getColor(t,r){let a=this.distancePoint(t,r),l=(r.getX()-t.getX())/a,s=(r.getY()-t.getY())/a,c=0,u=t.getX(),x=t.getY(),b=this.image.get(t.getX(),t.getY()),A=Math.ceil(a);for(let I=0;I<A;I++)u+=l,x+=s,this.image.get(rt.round(u),rt.round(x))!==b&&c++;let T=c/a;return T>.1&&T<.9?0:T<=.1===b?1:-1}getFirstDifferent(t,r,a,l){let s=t.getX()+a,c=t.getY()+l;for(;this.isValid(s,c)&&this.image.get(s,c)===r;)s+=a,c+=l;for(s-=a,c-=l;this.isValid(s,c)&&this.image.get(s,c)===r;)s+=a;for(s-=a;this.isValid(s,c)&&this.image.get(s,c)===r;)c+=l;return c-=l,new Dn(s,c)}expandSquare(t,r,a){let l=a/(2*r),s=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),u=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,b=new Ue(u+l*s,x+l*c),A=new Ue(u-l*s,x-l*c);s=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),u=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let T=new Ue(u+l*s,x+l*c),I=new Ue(u-l*s,x-l*c);return[b,T,A,I]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=rt.round(t.getX()),a=rt.round(t.getY());return this.isValid(r,a)}distancePoint(t,r){return rt.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return rt.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(F.truncDivision(this.nbLayers-4,8)+1)+15}}class ja{decode(t,r=null){let a=null,l=new Wi(t.getBlackMatrix()),s=null,c=null;try{let A=l.detectMirror(!1);s=A.getPoints(),this.reportFoundResultPoints(r,s),c=new dt().decode(A)}catch(A){a=A}if(c==null)try{let A=l.detectMirror(!0);s=A.getPoints(),this.reportFoundResultPoints(r,s),c=new dt().decode(A)}catch(A){throw a??A}let u=new Be(c.getText(),c.getRawBytes(),c.getNumBits(),s,we.AZTEC,ne.currentTimeMillis()),x=c.getByteSegments();x!=null&&u.putMetadata(J.BYTE_SEGMENTS,x);let b=c.getECLevel();return b!=null&&u.putMetadata(J.ERROR_CORRECTION_LEVEL,b),u}reportFoundResultPoints(t,r){if(t!=null){let a=t.get(W.NEED_RESULT_POINT_CALLBACK);a!=null&&r.forEach((l,s,c)=>{a.foundPossibleResultPoint(l)})}}reset(){}}class gs extends _e{constructor(t=500){super(new ja,t)}}class ln{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(W.TRY_HARDER)===!0&&t.isRotateSupported()){const s=t.rotateCounterClockwise(),c=this.doDecode(s,r),u=c.getResultMetadata();let x=270;u!==null&&u.get(J.ORIENTATION)===!0&&(x=x+u.get(J.ORIENTATION)%360),c.putMetadata(J.ORIENTATION,x);const b=c.getResultPoints();if(b!==null){const A=s.getHeight();for(let T=0;T<b.length;T++)b[T]=new Ue(A-b[T].getY()-1,b[T].getX())}return c}else throw new Q}}reset(){}doDecode(t,r){const a=t.getWidth(),l=t.getHeight();let s=new X(a);const c=r&&r.get(W.TRY_HARDER)===!0,u=Math.max(1,l>>(c?8:5));let x;c?x=l:x=15;const b=Math.trunc(l/2);for(let A=0;A<x;A++){const T=Math.trunc((A+1)/2),I=(A&1)===0,L=b+u*(I?T:-T);if(L<0||L>=l)break;try{s=t.getBlackRow(L,s)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(s.reverse(),r&&r.get(W.NEED_RESULT_POINT_CALLBACK)===!0)){const Y=new Map;r.forEach((ae,fe)=>Y.set(fe,ae)),Y.delete(W.NEED_RESULT_POINT_CALLBACK),r=Y}try{const Y=this.decodeRow(L,s,r);if(G===1){Y.putMetadata(J.ORIENTATION,180);const ae=Y.getResultPoints();ae!==null&&(ae[0]=new Ue(a-ae[0].getX()-1,ae[0].getY()),ae[1]=new Ue(a-ae[1].getX()-1,ae[1].getY()))}return Y}catch{}}}throw new Q}static recordPattern(t,r,a){const l=a.length;for(let b=0;b<l;b++)a[b]=0;const s=t.getSize();if(r>=s)throw new Q;let c=!t.get(r),u=0,x=r;for(;x<s;){if(t.get(x)!==c)a[u]++;else{if(++u===l)break;a[u]=1,c=!c}x++}if(!(u===l||u===l-1&&x===s))throw new Q}static recordPatternInReverse(t,r,a){let l=a.length,s=t.get(r);for(;r>0&&l>=0;)t.get(--r)!==s&&(l--,s=!s);if(l>=0)throw new Q;ln.recordPattern(t,r+1,a)}static patternMatchVariance(t,r,a){const l=t.length;let s=0,c=0;for(let b=0;b<l;b++)s+=t[b],c+=r[b];if(s<c)return Number.POSITIVE_INFINITY;const u=s/c;a*=u;let x=0;for(let b=0;b<l;b++){const A=t[b],T=r[b]*u,I=A>T?A-T:T-A;if(I>a)return Number.POSITIVE_INFINITY;x+=I}return x/s}}class ke extends ln{static findStartPattern(t){const r=t.getSize(),a=t.getNextSet(0);let l=0,s=Int32Array.from([0,0,0,0,0,0]),c=a,u=!1;const x=6;for(let b=a;b<r;b++)if(t.get(b)!==u)s[l]++;else{if(l===x-1){let A=ke.MAX_AVG_VARIANCE,T=-1;for(let I=ke.CODE_START_A;I<=ke.CODE_START_C;I++){const L=ln.patternMatchVariance(s,ke.CODE_PATTERNS[I],ke.MAX_INDIVIDUAL_VARIANCE);L<A&&(A=L,T=I)}if(T>=0&&t.isRange(Math.max(0,c-(b-c)/2),c,!1))return Int32Array.from([c,b,T]);c+=s[0]+s[1],s=s.slice(2,s.length-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,u=!u}throw new Q}static decodeCode(t,r,a){ln.recordPattern(t,a,r);let l=ke.MAX_AVG_VARIANCE,s=-1;for(let c=0;c<ke.CODE_PATTERNS.length;c++){const u=ke.CODE_PATTERNS[c],x=this.patternMatchVariance(r,u,ke.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,s=c)}if(s>=0)return s;throw new Q}decodeRow(t,r,a){const l=a&&a.get(W.ASSUME_GS1)===!0,s=ke.findStartPattern(r),c=s[2];let u=0;const x=new Uint8Array(20);x[u++]=c;let b;switch(c){case ke.CODE_START_A:b=ke.CODE_CODE_A;break;case ke.CODE_START_B:b=ke.CODE_CODE_B;break;case ke.CODE_START_C:b=ke.CODE_CODE_C;break;default:throw new D}let A=!1,T=!1,I="",L=s[0],G=s[1];const Y=Int32Array.from([0,0,0,0,0,0]);let ae=0,fe=0,Me=c,De=0,Ne=!0,pt=!1,st=!1;for(;!A;){const Va=T;switch(T=!1,ae=fe,fe=ke.decodeCode(r,Y,G),x[u++]=fe,fe!==ke.CODE_STOP&&(Ne=!0),fe!==ke.CODE_STOP&&(De++,Me+=De*fe),L=G,G+=Y.reduce((Lo,Ns)=>Lo+Ns,0),fe){case ke.CODE_START_A:case ke.CODE_START_B:case ke.CODE_START_C:throw new D}switch(b){case ke.CODE_CODE_A:if(fe<64)st===pt?I+=String.fromCharCode(32+fe):I+=String.fromCharCode(32+fe+128),st=!1;else if(fe<96)st===pt?I+=String.fromCharCode(fe-64):I+=String.fromCharCode(fe+64),st=!1;else switch(fe!==ke.CODE_STOP&&(Ne=!1),fe){case ke.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case ke.CODE_FNC_2:case ke.CODE_FNC_3:break;case ke.CODE_FNC_4_A:!pt&&st?(pt=!0,st=!1):pt&&st?(pt=!1,st=!1):st=!0;break;case ke.CODE_SHIFT:T=!0,b=ke.CODE_CODE_B;break;case ke.CODE_CODE_B:b=ke.CODE_CODE_B;break;case ke.CODE_CODE_C:b=ke.CODE_CODE_C;break;case ke.CODE_STOP:A=!0;break}break;case ke.CODE_CODE_B:if(fe<96)st===pt?I+=String.fromCharCode(32+fe):I+=String.fromCharCode(32+fe+128),st=!1;else switch(fe!==ke.CODE_STOP&&(Ne=!1),fe){case ke.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case ke.CODE_FNC_2:case ke.CODE_FNC_3:break;case ke.CODE_FNC_4_B:!pt&&st?(pt=!0,st=!1):pt&&st?(pt=!1,st=!1):st=!0;break;case ke.CODE_SHIFT:T=!0,b=ke.CODE_CODE_A;break;case ke.CODE_CODE_A:b=ke.CODE_CODE_A;break;case ke.CODE_CODE_C:b=ke.CODE_CODE_C;break;case ke.CODE_STOP:A=!0;break}break;case ke.CODE_CODE_C:if(fe<100)fe<10&&(I+="0"),I+=fe;else switch(fe!==ke.CODE_STOP&&(Ne=!1),fe){case ke.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case ke.CODE_CODE_A:b=ke.CODE_CODE_A;break;case ke.CODE_CODE_B:b=ke.CODE_CODE_B;break;case ke.CODE_STOP:A=!0;break}break}Va&&(b=b===ke.CODE_CODE_A?ke.CODE_CODE_B:ke.CODE_CODE_A)}const An=G-L;if(G=r.getNextUnset(G),!r.isRange(G,Math.min(r.getSize(),G+(G-L)/2),!1))throw new Q;if(Me-=De*ae,Me%103!==ae)throw new Z;const br=I.length;if(br===0)throw new Q;br>0&&Ne&&(b===ke.CODE_CODE_C?I=I.substring(0,br-2):I=I.substring(0,br-1));const Qn=(s[1]+s[0])/2,Vt=L+An/2,Gn=x.length,fr=new Uint8Array(Gn);for(let Va=0;Va<Gn;Va++)fr[Va]=x[Va];const Ai=[new Ue(Qn,t),new Ue(Vt,t)];return new Be(I,fr,0,Ai,we.CODE_128,new Date().getTime())}}ke.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ke.MAX_AVG_VARIANCE=.25,ke.MAX_INDIVIDUAL_VARIANCE=.7,ke.CODE_SHIFT=98,ke.CODE_CODE_C=99,ke.CODE_CODE_B=100,ke.CODE_CODE_A=101,ke.CODE_FNC_1=102,ke.CODE_FNC_2=97,ke.CODE_FNC_3=96,ke.CODE_FNC_4_A=101,ke.CODE_FNC_4_B=100,ke.CODE_START_A=103,ke.CODE_START_B=104,ke.CODE_START_C=105,ke.CODE_STOP=106;class Qt extends ln{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,a){let l=this.counters;l.fill(0),this.decodeRowResult="";let s=Qt.findAsteriskPattern(r,l),c=r.getNextSet(s[1]),u=r.getSize(),x,b;do{Qt.recordPattern(r,c,l);let Y=Qt.toNarrowWidePattern(l);if(Y<0)throw new Q;x=Qt.patternToChar(Y),this.decodeRowResult+=x,b=c;for(let ae of l)c+=ae;c=r.getNextSet(c)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let Y of l)A+=Y;let T=c-b-A;if(c!==u&&T*2<A)throw new Q;if(this.usingCheckDigit){let Y=this.decodeRowResult.length-1,ae=0;for(let fe=0;fe<Y;fe++)ae+=Qt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(fe));if(this.decodeRowResult.charAt(Y)!==Qt.ALPHABET_STRING.charAt(ae%43))throw new Z;this.decodeRowResult=this.decodeRowResult.substring(0,Y)}if(this.decodeRowResult.length===0)throw new Q;let I;this.extendedMode?I=Qt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let L=(s[1]+s[0])/2,G=b+A/2;return new Be(I,null,0,[new Ue(L,t),new Ue(G,t)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let a=t.getSize(),l=t.getNextSet(0),s=0,c=l,u=!1,x=r.length;for(let b=l;b<a;b++)if(t.get(b)!==u)r[s]++;else{if(s===x-1){if(this.toNarrowWidePattern(r)===Qt.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((b-c)/2)),c,!1))return[c,b];c+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,u=!u}throw new Q}static toNarrowWidePattern(t){let r=t.length,a=0,l;do{let s=2147483647;for(let x of t)x<s&&x>a&&(s=x);a=s,l=0;let c=0,u=0;for(let x=0;x<r;x++){let b=t[x];b>a&&(u|=1<<r-1-x,l++,c+=b)}if(l===3){for(let x=0;x<r&&l>0;x++){let b=t[x];if(b>a&&(l--,b*2>=c))return-1}return u}}while(l>3);return-1}static patternToChar(t){for(let r=0;r<Qt.CHARACTER_ENCODINGS.length;r++)if(Qt.CHARACTER_ENCODINGS[r]===t)return Qt.ALPHABET_STRING.charAt(r);if(t===Qt.ASTERISK_ENCODING)return"*";throw new Q}static decodeExtended(t){let r=t.length,a="";for(let l=0;l<r;l++){let s=t.charAt(l);if(s==="+"||s==="$"||s==="%"||s==="/"){let c=t.charAt(l+1),u="\0";switch(s){case"+":if(c>="A"&&c<="Z")u=String.fromCharCode(c.charCodeAt(0)+32);else throw new D;break;case"$":if(c>="A"&&c<="Z")u=String.fromCharCode(c.charCodeAt(0)-64);else throw new D;break;case"%":if(c>="A"&&c<="E")u=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")u=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")u=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")u=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")u="\0";else if(c==="V")u="@";else if(c==="W")u="`";else if(c==="X"||c==="Y"||c==="Z")u="";else throw new D;break;case"/":if(c>="A"&&c<="O")u=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")u=":";else throw new D;break}a+=u,l++}else a+=s}return a}}Qt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Qt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Qt.ASTERISK_ENCODING=148;class ft extends ln{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,a){let l=this.decodeStart(r),s=this.decodeEnd(r),c=new Ae;ft.decodeMiddle(r,l[1],s[0],c);let u=c.toString(),x=null;a!=null&&(x=a.get(W.ALLOWED_LENGTHS)),x==null&&(x=ft.DEFAULT_ALLOWED_LENGTHS);let b=u.length,A=!1,T=0;for(let G of x){if(b===G){A=!0;break}G>T&&(T=G)}if(!A&&b>T&&(A=!0),!A)throw new D;const I=[new Ue(l[1],t),new Ue(s[0],t)];return new Be(u,null,0,I,we.ITF,new Date().getTime())}static decodeMiddle(t,r,a,l){let s=new Int32Array(10),c=new Int32Array(5),u=new Int32Array(5);for(s.fill(0),c.fill(0),u.fill(0);r<a;){ln.recordPattern(t,r,s);for(let b=0;b<5;b++){let A=2*b;c[b]=s[A],u[b]=s[A+1]}let x=ft.decodeDigit(c);l.append(x.toString()),x=this.decodeDigit(u),l.append(x.toString()),s.forEach(function(b){r+=b})}}decodeStart(t){let r=ft.skipWhiteSpace(t),a=ft.findGuardPattern(t,r,ft.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a}validateQuietZone(t,r){let a=this.narrowLineWidth*10;a=a<r?a:r;for(let l=r-1;a>0&&l>=0&&!t.get(l);l--)a--;if(a!==0)throw new Q}static skipWhiteSpace(t){const r=t.getSize(),a=t.getNextSet(0);if(a===r)throw new Q;return a}decodeEnd(t){t.reverse();try{let r=ft.skipWhiteSpace(t),a;try{a=ft.findGuardPattern(t,r,ft.END_PATTERN_REVERSED[0])}catch(s){s instanceof Q&&(a=ft.findGuardPattern(t,r,ft.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);let l=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-l,a}finally{t.reverse()}}static findGuardPattern(t,r,a){let l=a.length,s=new Int32Array(l),c=t.getSize(),u=!1,x=0,b=r;s.fill(0);for(let A=r;A<c;A++)if(t.get(A)!==u)s[x]++;else{if(x===l-1){if(ln.patternMatchVariance(s,a,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return[b,A];b+=s[0]+s[1],ne.arraycopy(s,2,s,0,x-1),s[x-1]=0,s[x]=0,x--}else x++;s[x]=1,u=!u}throw new Q}static decodeDigit(t){let r=ft.MAX_AVG_VARIANCE,a=-1,l=ft.PATTERNS.length;for(let s=0;s<l;s++){let c=ft.PATTERNS[s],u=ln.patternMatchVariance(t,c,ft.MAX_INDIVIDUAL_VARIANCE);u<r?(r=u,a=s):u===r&&(a=-1)}if(a>=0)return a%10;throw new Q}}ft.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ft.MAX_AVG_VARIANCE=.38,ft.MAX_INDIVIDUAL_VARIANCE=.5,ft.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ft.START_PATTERN=Int32Array.from([1,1,1,1]),ft.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class gn extends ln{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,a,l=0,s=Int32Array.from([0,0,0]);for(;!r;){s=Int32Array.from([0,0,0]),a=gn.findGuardPattern(t,l,!1,this.START_END_PATTERN,s);let c=a[0];l=a[1];let u=c-(l-c);u>=0&&(r=t.isRange(u,c,!1))}return a}static checkChecksum(t){return gn.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let a=parseInt(t.charAt(r-1),10);return gn.getStandardUPCEANChecksum(t.substring(0,r-1))===a}static getStandardUPCEANChecksum(t){let r=t.length,a=0;for(let l=r-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new D;a+=s}a*=3;for(let l=r-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new D;a+=s}return(1e3-a)%10}static decodeEnd(t,r){return gn.findGuardPattern(t,r,!1,gn.START_END_PATTERN,new Int32Array(gn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,a,l){return this.findGuardPattern(t,r,a,l,new Int32Array(l.length))}static findGuardPattern(t,r,a,l,s){let c=t.getSize();r=a?t.getNextUnset(r):t.getNextSet(r);let u=0,x=r,b=l.length,A=a;for(let T=r;T<c;T++)if(t.get(T)!==A)s[u]++;else{if(u===b-1){if(ln.patternMatchVariance(s,l,gn.MAX_INDIVIDUAL_VARIANCE)<gn.MAX_AVG_VARIANCE)return Int32Array.from([x,T]);x+=s[0]+s[1];let I=s.slice(2,s.length-1);for(let L=0;L<u-1;L++)s[L]=I[L];s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,A=!A}throw new Q}static decodeDigit(t,r,a,l){this.recordPattern(t,a,r);let s=this.MAX_AVG_VARIANCE,c=-1,u=l.length;for(let x=0;x<u;x++){let b=l[x],A=ln.patternMatchVariance(r,b,gn.MAX_INDIVIDUAL_VARIANCE);A<s&&(s=A,c=x)}if(c>=0)return c;throw new Q}}gn.MAX_AVG_VARIANCE=.48,gn.MAX_INDIVIDUAL_VARIANCE=.7,gn.START_END_PATTERN=Int32Array.from([1,1,1]),gn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),gn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),gn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Qi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(r,a,l),c=l.toString(),u=Qi.parseExtensionString(c),x=[new Ue((a[0]+a[1])/2,t),new Ue(s,t)],b=new Be(c,null,0,x,we.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&b.putAllMetadata(u),b}decodeMiddle(t,r,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=r[1],u=0;for(let b=0;b<5&&c<s;b++){let A=gn.decodeDigit(t,l,c,gn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+A%10);for(let T of l)c+=T;A>=10&&(u|=1<<4-b),b!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(a.length!==5)throw new Q;let x=this.determineCheckDigit(u);if(Qi.extensionChecksum(a.toString())!==x)throw new Q;return c}static extensionChecksum(t){let r=t.length,a=0;for(let l=r-2;l>=0;l-=2)a+=t.charAt(l).charCodeAt(0)-48;a*=3;for(let l=r-1;l>=0;l-=2)a+=t.charAt(l).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Q}static parseExtensionString(t){if(t.length!==5)return null;let r=Qi.parseExtension5String(t);return r==null?null:new Map([[J.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let a=parseInt(t.substring(1)),l=(a/100).toString(),s=a%100,c=s<10?"0"+s:s.toString();return r+l+"."+c}}class ms{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(r,a,l),c=l.toString(),u=ms.parseExtensionString(c),x=[new Ue((a[0]+a[1])/2,t),new Ue(s,t)],b=new Be(c,null,0,x,we.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&b.putAllMetadata(u),b}decodeMiddle(t,r,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=r[1],u=0;for(let x=0;x<2&&c<s;x++){let b=gn.decodeDigit(t,l,c,gn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+b%10);for(let A of l)c+=A;b>=10&&(u|=1<<1-x),x!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(a.length!==2)throw new Q;if(parseInt(a.toString())%4!==u)throw new Q;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[J.ISSUE_NUMBER,parseInt(t)]])}}class Ki{static decodeRow(t,r,a){let l=gn.findGuardPattern(r,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Qi().decodeRow(t,r,l)}catch{return new ms().decodeRow(t,r,l)}}}Ki.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class At extends gn{constructor(){super(),this.decodeRowStringBuffer="",At.L_AND_G_PATTERNS=At.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=At.L_PATTERNS[t-10],a=new Int32Array(r.length);for(let l=0;l<r.length;l++)a[l]=r[r.length-l-1];At.L_AND_G_PATTERNS[t]=a}}decodeRow(t,r,a){let l=At.findStartGuardPattern(r),s=a==null?null:a.get(W.NEED_RESULT_POINT_CALLBACK);if(s!=null){const Ne=new Ue((l[0]+l[1])/2,t);s.foundPossibleResultPoint(Ne)}let c=this.decodeMiddle(r,l,this.decodeRowStringBuffer),u=c.rowOffset,x=c.resultString;if(s!=null){const Ne=new Ue(u,t);s.foundPossibleResultPoint(Ne)}let b=this.decodeEnd(r,u);if(s!=null){const Ne=new Ue((b[0]+b[1])/2,t);s.foundPossibleResultPoint(Ne)}let A=b[1],T=A+(A-b[0]);if(T>=r.getSize()||!r.isRange(A,T,!1))throw new Q;let I=x.toString();if(I.length<8)throw new D;if(!At.checkChecksum(I))throw new Z;let L=(l[1]+l[0])/2,G=(b[1]+b[0])/2,Y=this.getBarcodeFormat(),ae=[new Ue(L,t),new Ue(G,t)],fe=new Be(I,null,0,ae,Y,new Date().getTime()),Me=0;try{let Ne=Ki.decodeRow(t,r,b[1]);fe.putMetadata(J.UPC_EAN_EXTENSION,Ne.getText()),fe.putAllMetadata(Ne.getResultMetadata()),fe.addResultPoints(Ne.getResultPoints()),Me=Ne.getText().length}catch{}let De=a==null?null:a.get(W.ALLOWED_EAN_EXTENSIONS);if(De!=null){let Ne=!1;for(let pt in De)if(Me.toString()===pt){Ne=!0;break}if(!Ne)throw new Q}return fe}decodeEnd(t,r){return At.findGuardPattern(t,r,!1,At.START_END_PATTERN,new Int32Array(At.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return At.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let a=parseInt(t.charAt(r-1),10);return At.getStandardUPCEANChecksum(t.substring(0,r-1))===a}static getStandardUPCEANChecksum(t){let r=t.length,a=0;for(let l=r-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new D;a+=s}a*=3;for(let l=r-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new D;a+=s}return(1e3-a)%10}}class Gr extends At{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=r[1],u=0;for(let b=0;b<6&&c<s;b++){let A=At.decodeDigit(t,l,c,At.L_AND_G_PATTERNS);a+=String.fromCharCode(48+A%10);for(let T of l)c+=T;A>=10&&(u|=1<<5-b)}a=Gr.determineFirstDigit(a,u),c=At.findGuardPattern(t,c,!0,At.MIDDLE_PATTERN,new Int32Array(At.MIDDLE_PATTERN.length).fill(0))[1];for(let b=0;b<6&&c<s;b++){let A=At.decodeDigit(t,l,c,At.L_PATTERNS);a+=String.fromCharCode(48+A);for(let T of l)c+=T}return{rowOffset:c,resultString:a}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(t,r){for(let a=0;a<10;a++)if(r===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new Q}}Gr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class wa extends At{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,a){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=r[1];for(let x=0;x<4&&c<s;x++){let b=At.decodeDigit(t,l,c,At.L_PATTERNS);a+=String.fromCharCode(48+b);for(let A of l)c+=A}c=At.findGuardPattern(t,c,!0,At.MIDDLE_PATTERN,new Int32Array(At.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&c<s;x++){let b=At.decodeDigit(t,l,c,At.L_PATTERNS);a+=String.fromCharCode(48+b);for(let A of l)c+=A}return{rowOffset:c,resultString:a}}getBarcodeFormat(){return we.EAN_8}}class Ji extends At{constructor(){super(...arguments),this.ean13Reader=new Gr}getBarcodeFormat(){return we.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,a))}decodeMiddle(t,r,a){return this.ean13Reader.decodeMiddle(t,r,a)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let a=new Be(r.substring(1),null,null,t.getResultPoints(),we.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new Q}reset(){this.ean13Reader.reset()}}class Wn extends At{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,a){const l=this.decodeMiddleCounters.map(b=>b);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const s=t.getSize();let c=r[1],u=0;for(let b=0;b<6&&c<s;b++){const A=Wn.decodeDigit(t,l,c,Wn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+A%10);for(let T of l)c+=T;A>=10&&(u|=1<<5-b)}let x=Wn.determineNumSysAndCheckDigit(a,u);return{rowOffset:c,resultString:x}}decodeEnd(t,r){return Wn.findGuardPatternWithoutCounters(t,r,!0,Wn.MIDDLE_END_PATTERN)}checkChecksum(t){return At.checkChecksum(Wn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let a=0;a<=1;a++)for(let l=0;l<10;l++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][l]){let s=String.fromCharCode(48+a),c=String.fromCharCode(48+l);return s+t+c}throw Q.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(s=>s.charCodeAt(0)),a=new Ae;a.append(t.charAt(0));let l=r[5];switch(l){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(l),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(l);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()}}Wn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Wn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ps extends ln{constructor(t){super();let r=t==null?null:t.get(W.POSSIBLE_FORMATS),a=[];y(r)?(a.push(new Gr),a.push(new Ji),a.push(new wa),a.push(new Wn)):(r.indexOf(we.EAN_13)>-1&&a.push(new Gr),r.indexOf(we.UPC_A)>-1&&a.push(new Ji),r.indexOf(we.EAN_8)>-1&&a.push(new wa),r.indexOf(we.UPC_E)>-1&&a.push(new Wn)),this.readers=a}decodeRow(t,r,a){for(let l of this.readers)try{const s=l.decodeRow(t,r,a),c=s.getBarcodeFormat()===we.EAN_13&&s.getText().charAt(0)==="0",u=a==null?null:a.get(W.POSSIBLE_FORMATS),x=u==null||u.includes(we.UPC_A);if(c&&x){const b=s.getRawBytes(),A=new Be(s.getText().substring(1),b,b?b.length:null,s.getResultPoints(),we.UPC_A);return A.putAllMetadata(s.getResultMetadata()),A}return s}catch{}throw new Q}reset(){for(let t of this.readers)t.reset()}}class Hn extends ln{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let a=0;a<r.length;a++)if(ln.patternMatchVariance(t,r[a],Hn.MAX_INDIVIDUAL_VARIANCE)<Hn.MAX_AVG_VARIANCE)return a;throw new Q}static count(t){return rt.sum(new Int32Array(t))}static increment(t,r){let a=0,l=r[0];for(let s=1;s<t.length;s++)r[s]>l&&(l=r[s],a=s);t[a]++}static decrement(t,r){let a=0,l=r[0];for(let s=1;s<t.length;s++)r[s]<l&&(l=r[s],a=s);t[a]--}static isFinderPattern(t){let r=t[0]+t[1],a=r+t[2]+t[3],l=r/a;if(l>=Hn.MIN_FINDER_PATTERN_RATIO&&l<=Hn.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let u of t)u>c&&(c=u),u<s&&(s=u);return c<10*s}return!1}}Hn.MAX_AVG_VARIANCE=.2,Hn.MAX_INDIVIDUAL_VARIANCE=.45,Hn.MIN_FINDER_PATTERN_RATIO=9.5/12,Hn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ea{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Ea))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ca{constructor(t,r,a,l,s){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ue(a,s)),this.resultPoints.push(new Ue(l,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Ca))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Vr{constructor(){}static getRSSvalue(t,r,a){let l=0;for(let x of t)l+=x;let s=0,c=0,u=t.length;for(let x=0;x<u-1;x++){let b;for(b=1,c|=1<<x;b<t[x];b++,c&=~(1<<x)){let A=Vr.combins(l-b-1,u-x-2);if(a&&c===0&&l-b-(u-x-1)>=u-x-1&&(A-=Vr.combins(l-b-(u-x),u-x-2)),u-x-1>1){let T=0;for(let I=l-b-(u-x-2);I>r;I--)T+=Vr.combins(l-b-I-1,u-x-3);A-=T*(u-1-x)}else l-b>r&&A--;s+=A}l-=b}return s}static combins(t,r){let a,l;t-r>r?(l=r,a=t-r):(l=t-r,a=r);let s=1,c=1;for(let u=t;u>a;u--)s*=u,c<=l&&(s/=c,c++);for(;c<=l;)s/=c,c++;return s}}class Co{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let a=12*r,l=new X(a),s=0,u=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)(u&1<<x)!=0&&l.set(s),s++;for(let x=1;x<t.length;++x){let b=t[x],A=b.getLeftChar().getValue();for(let T=11;T>=0;--T)(A&1<<T)!=0&&l.set(s),s++;if(b.getRightChar()!=null){let T=b.getRightChar().getValue();for(let I=11;I>=0;--I)(T&1<<I)!=0&&l.set(s),s++}}return l}}class Aa{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class vl{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Yn extends vl{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Yn.FNC1}}Yn.FNC1="$";class aa extends vl{constructor(t,r,a){super(t),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class sr extends vl{constructor(t,r,a){if(super(t),r<0||r>10||a<0||a>10)throw new D;this.firstDigit=r,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===sr.FNC1}isSecondDigitFNC1(){return this.secondDigit===sr.FNC1}isAnyFNC1(){return this.firstDigit===sr.FNC1||this.secondDigit===sr.FNC1}}sr.FNC1=10;class He{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new Q;let r=t.substring(0,2);for(let s of He.TWO_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===He.VARIABLE_LENGTH?He.processVariableAI(2,s[2],t):He.processFixedAI(2,s[1],t);if(t.length<3)throw new Q;let a=t.substring(0,3);for(let s of He.THREE_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===He.VARIABLE_LENGTH?He.processVariableAI(3,s[2],t):He.processFixedAI(3,s[1],t);for(let s of He.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===He.VARIABLE_LENGTH?He.processVariableAI(4,s[2],t):He.processFixedAI(4,s[1],t);if(t.length<4)throw new Q;let l=t.substring(0,4);for(let s of He.FOUR_DIGIT_DATA_LENGTH)if(s[0]===l)return s[1]===He.VARIABLE_LENGTH?He.processVariableAI(4,s[2],t):He.processFixedAI(4,s[1],t);throw new Q}static processFixedAI(t,r,a){if(a.length<t)throw new Q;let l=a.substring(0,t);if(a.length<t+r)throw new Q;let s=a.substring(t,t+r),c=a.substring(t+r),u="("+l+")"+s,x=He.parseFieldsInGeneralPurpose(c);return x==null?u:u+x}static processVariableAI(t,r,a){let l=a.substring(0,t),s;a.length<t+r?s=a.length:s=t+r;let c=a.substring(t,s),u=a.substring(s),x="("+l+")"+c,b=He.parseFieldsInGeneralPurpose(u);return b==null?x:x+b}}He.VARIABLE_LENGTH=[],He.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",He.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",He.VARIABLE_LENGTH,20],["22",He.VARIABLE_LENGTH,29],["30",He.VARIABLE_LENGTH,8],["37",He.VARIABLE_LENGTH,8],["90",He.VARIABLE_LENGTH,30],["91",He.VARIABLE_LENGTH,30],["92",He.VARIABLE_LENGTH,30],["93",He.VARIABLE_LENGTH,30],["94",He.VARIABLE_LENGTH,30],["95",He.VARIABLE_LENGTH,30],["96",He.VARIABLE_LENGTH,30],["97",He.VARIABLE_LENGTH,3],["98",He.VARIABLE_LENGTH,30],["99",He.VARIABLE_LENGTH,30]],He.THREE_DIGIT_DATA_LENGTH=[["240",He.VARIABLE_LENGTH,30],["241",He.VARIABLE_LENGTH,30],["242",He.VARIABLE_LENGTH,6],["250",He.VARIABLE_LENGTH,30],["251",He.VARIABLE_LENGTH,30],["253",He.VARIABLE_LENGTH,17],["254",He.VARIABLE_LENGTH,20],["400",He.VARIABLE_LENGTH,30],["401",He.VARIABLE_LENGTH,30],["402",17],["403",He.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",He.VARIABLE_LENGTH,20],["421",He.VARIABLE_LENGTH,15],["422",3],["423",He.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],He.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",He.VARIABLE_LENGTH,15],["391",He.VARIABLE_LENGTH,18],["392",He.VARIABLE_LENGTH,15],["393",He.VARIABLE_LENGTH,18],["703",He.VARIABLE_LENGTH,30]],He.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",He.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",He.VARIABLE_LENGTH,20],["8003",He.VARIABLE_LENGTH,30],["8004",He.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",He.VARIABLE_LENGTH,30],["8008",He.VARIABLE_LENGTH,12],["8018",18],["8020",He.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",He.VARIABLE_LENGTH,70],["8200",He.VARIABLE_LENGTH,70]];class or{constructor(t){this.buffer=new Ae,this.information=t}decodeAllCodes(t,r){let a=r,l=null;do{let s=this.decodeGeneralPurposeField(a,l),c=He.parseFieldsInGeneralPurpose(s.getNewString());if(c!=null&&t.append(c),s.isRemaining()?l=""+s.getRemainingValue():l=null,a===s.getNewPosition())break;a=s.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(t,4);return s===0?new sr(this.information.getSize(),sr.FNC1,sr.FNC1):new sr(this.information.getSize(),s-1,sr.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),a=(r-8)/11,l=(r-8)%11;return new sr(t+7,a,l)}extractNumericValueFromBitArray(t,r){return or.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,a){let l=0;for(let s=0;s<a;++s)t.get(r+s)&&(l|=1<<a-s-1);return l}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new aa(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new aa(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let a=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(a!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new aa(this.current.getPosition(),this.buffer.toString()):r=new aa(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Aa(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new aa(this.current.getPosition(),this.buffer.toString());return new Aa(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Aa(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new aa(this.current.getPosition(),this.buffer.toString());return new Aa(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Aa(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new aa(this.current.getPosition(),this.buffer.toString());return new Aa(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Aa(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Yn(t+5,Yn.FNC1);if(r>=5&&r<15)return new Yn(t+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new Yn(t+7,""+(a+1));if(a>=90&&a<116)return new Yn(t+7,""+(a+7));let l=this.extractNumericValueFromBitArray(t,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new D}return new Yn(t+8,s)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Yn(t+5,Yn.FNC1);if(r>=5&&r<15)return new Yn(t+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new Yn(t+6,""+(a+33));let l;switch(a){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Lt("Decoding invalid alphanumeric value: "+a)}return new Yn(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Nn{constructor(t){this.information=t,this.generalDecoder=new or(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class qt extends Nn{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,a)}encodeCompressedGtinWithoutAI(t,r,a){for(let l=0;l<4;++l){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*l,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}qt.appendCheckDigit(t,a)}static appendCheckDigit(t,r){let a=0;for(let l=0;l<13;l++){let s=t.charAt(l+r).charCodeAt(0)-48;a+=(l&1)===0?3*s:s}a=10-a%10,a===10&&(a=0),t.append(a)}}qt.GTIN_SIZE=40;class _r extends qt{constructor(t){super(t)}parseInformation(){let t=new Ae;t.append("(01)");let r=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(_r.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,_r.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,_r.HEADER_SIZE+44)}}_r.HEADER_SIZE=4;class ui extends Nn{constructor(t){super(t)}parseInformation(){let t=new Ae;return this.getGeneralDecoder().decodeAllCodes(t,ui.HEADER_SIZE)}}ui.HEADER_SIZE=5;class Sl extends qt{constructor(t){super(t)}encodeCompressedWeight(t,r,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(t,l);let s=this.checkWeight(l),c=1e5;for(let u=0;u<5;++u)s/c===0&&t.append("0"),c/=10;t.append(s)}}class Xr extends Sl{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Xr.HEADER_SIZE+Sl.GTIN_SIZE+Xr.WEIGHT_SIZE)throw new Q;let t=new Ae;return this.encodeCompressedGtin(t,Xr.HEADER_SIZE),this.encodeCompressedWeight(t,Xr.HEADER_SIZE+Sl.GTIN_SIZE,Xr.WEIGHT_SIZE),t.toString()}}Xr.HEADER_SIZE=5,Xr.WEIGHT_SIZE=15;class Ao extends Xr{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class $i extends Xr{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class gr extends qt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<gr.HEADER_SIZE+qt.GTIN_SIZE)throw new Q;let t=new Ae;this.encodeCompressedGtin(t,gr.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(gr.HEADER_SIZE+qt.GTIN_SIZE,gr.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(gr.HEADER_SIZE+qt.GTIN_SIZE+gr.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()}}gr.HEADER_SIZE=8,gr.LAST_DIGIT_SIZE=2;class En extends qt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<En.HEADER_SIZE+qt.GTIN_SIZE)throw new Q;let t=new Ae;this.encodeCompressedGtin(t,En.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(En.HEADER_SIZE+qt.GTIN_SIZE,En.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(En.HEADER_SIZE+qt.GTIN_SIZE+En.LAST_DIGIT_SIZE,En.FIRST_THREE_DIGITS_SIZE);a/100==0&&t.append("0"),a/10==0&&t.append("0"),t.append(a);let l=this.getGeneralDecoder().decodeGeneralPurposeField(En.HEADER_SIZE+qt.GTIN_SIZE+En.LAST_DIGIT_SIZE+En.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}En.HEADER_SIZE=8,En.LAST_DIGIT_SIZE=2,En.FIRST_THREE_DIGITS_SIZE=10;class jt extends Sl{constructor(t,r,a){super(t),this.dateCode=a,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=jt.HEADER_SIZE+jt.GTIN_SIZE+jt.WEIGHT_SIZE+jt.DATE_SIZE)throw new Q;let t=new Ae;return this.encodeCompressedGtin(t,jt.HEADER_SIZE),this.encodeCompressedWeight(t,jt.HEADER_SIZE+jt.GTIN_SIZE,jt.WEIGHT_SIZE),this.encodeCompressedDate(t,jt.HEADER_SIZE+jt.GTIN_SIZE+jt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,jt.DATE_SIZE);if(a==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=a%32;a/=32;let s=a%12+1;a/=12;let c=a;c/10==0&&t.append("0"),t.append(c),s/10==0&&t.append("0"),t.append(s),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}jt.HEADER_SIZE=8,jt.WEIGHT_SIZE=20,jt.DATE_SIZE=16;function di(S){try{if(S.get(1))return new _r(S);if(!S.get(2))return new ui(S);switch(or.extractNumericValueFromBitArray(S,1,4)){case 4:return new Ao(S);case 5:return new $i(S)}switch(or.extractNumericValueFromBitArray(S,1,5)){case 12:return new gr(S);case 13:return new En(S)}switch(or.extractNumericValueFromBitArray(S,1,7)){case 56:return new jt(S,"310","11");case 57:return new jt(S,"320","11");case 58:return new jt(S,"310","13");case 59:return new jt(S,"320","13");case 60:return new jt(S,"310","15");case 61:return new jt(S,"320","15");case 62:return new jt(S,"310","17");case 63:return new jt(S,"320","17")}}catch(t){throw console.log(t),new Lt("unknown decoder: "+S)}}class cr{constructor(t,r,a,l){this.leftchar=t,this.rightchar=r,this.finderpattern=a,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof cr?cr.equalsOrNull(t.leftchar,r.leftchar)&&cr.equalsOrNull(t.rightchar,r.rightchar)&&cr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:cr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Cn{constructor(t,r,a){this.pairs=t,this.rowNumber=r,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Cn?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let a;return t.forEach((l,s)=>{r.forEach(c=>{l.getLeftChar().getValue()===c.getLeftChar().getValue()&&l.getRightChar().getValue()===c.getRightChar().getValue()&&l.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(a=!0)})}),a}}class Se extends Hn{constructor(t){super(...arguments),this.pairs=new Array(Se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,a){this.pairs.length=0,this.startFromEven=!1;try{return Se.constructResult(this.decodeRow2pairs(t,r))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,Se.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(s){if(s instanceof Q){if(!this.pairs.length)throw new Q;a=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new Q}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let a=r;a<this.rows.length;a++){let l=this.rows[a];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(l.getPairs()),!Se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(t);s.push(l);try{return this.checkRows(s,a+1)}catch(c){this.verbose&&console.log(c)}}throw new Q}static isValidSequence(t){for(let r of Se.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let a=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=r[l]){a=!1;break}if(a)return!0}return!1}storeRow(t,r){let a=0,l=!1,s=!1;for(;a<this.rows.length;){let c=this.rows[a];if(c.getRowNumber()>t){s=c.isEquivalent(this.pairs);break}l=c.isEquivalent(this.pairs),a++}s||l||Se.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Cn(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let a of r)if(a.getPairs().length!==t.length){for(let l of a.getPairs())for(let s of t)if(cr.equals(l,s))break}}static isPartialRow(t,r){for(let a of r){let l=!0;for(let s of t){let c=!1;for(let u of a.getPairs())if(s.equals(u)){c=!0;break}if(!c){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=Co.buildBitArray(t),l=di(r).parseInformation(),s=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),u=[s[0],s[1],c[0],c[1]];return new Be(l,null,null,u,we.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),a=t.getRightChar();if(a==null)return!1;let l=a.getChecksumPortion(),s=2;for(let u=1;u<this.pairs.size();++u){let x=this.pairs.get(u);l+=x.getLeftChar().getChecksumPortion(),s++;let b=x.getRightChar();b!=null&&(l+=b.getChecksumPortion(),s++)}return l%=211,211*(s-4)+l==r.getValue()}static getNextSecondBar(t,r){let a;return t.get(r)?(a=t.getNextUnset(r),a=t.getNextSet(a)):(a=t.getNextSet(r),a=t.getNextUnset(a)),a}retrieveNextPair(t,r,a){let l=r.length%2==0;this.startFromEven&&(l=!l);let s,c=!0,u=-1;do this.findNextPair(t,r,u),s=this.parseFoundFinderPattern(t,a,l),s==null?u=Se.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let x=this.decodeDataCharacter(t,s,l,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Q;let b;try{b=this.decodeDataCharacter(t,s,l,!1)}catch(A){b=null,this.verbose&&console.log(A)}return new cr(x,b,s,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c;a>=0?c=a:this.isEmptyPair(r)?c=0:c=r[r.length-1].getFinderPattern().getStartEnd()[1];let u=r.length%2!=0;this.startFromEven&&(u=!u);let x=!1;for(;c<s&&(x=!t.get(c),!!x);)c++;let b=0,A=c;for(let T=c;T<s;T++)if(t.get(T)!=x)l[b]++;else{if(b==3){if(u&&Se.reverseCounters(l),Se.isFinderPattern(l)){this.startEnd[0]=A,this.startEnd[1]=T;return}u&&Se.reverseCounters(l),A+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,b--}else b++;l[b]=1,x=!x}throw new Q}static reverseCounters(t){let r=t.length;for(let a=0;a<r/2;++a){let l=t[a];t[a]=t[r-a-1],t[r-a-1]=l}}parseFoundFinderPattern(t,r,a){let l,s,c;if(a){let b=this.startEnd[0]-1;for(;b>=0&&!t.get(b);)b--;b++,l=this.startEnd[0]-b,s=b,c=this.startEnd[1]}else s=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),l=c-this.startEnd[1];let u=this.getDecodeFinderCounters();ne.arraycopy(u,0,u,1,u.length-1),u[0]=l;let x;try{x=this.parseFinderValue(u,Se.FINDER_PATTERNS)}catch{return null}return new Ca(x,[s,c],s,c,r)}decodeDataCharacter(t,r,a,l){let s=this.getDataCharacterCounters();for(let Vt=0;Vt<s.length;Vt++)s[Vt]=0;if(l)Se.recordPatternInReverse(t,r.getStartEnd()[0],s);else{Se.recordPattern(t,r.getStartEnd()[1],s);for(let Vt=0,Gn=s.length-1;Vt<Gn;Vt++,Gn--){let fr=s[Vt];s[Vt]=s[Gn],s[Gn]=fr}}let c=17,u=rt.sum(new Int32Array(s))/c,x=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(u-x)/x>.3)throw new Q;let b=this.getOddCounts(),A=this.getEvenCounts(),T=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Vt=0;Vt<s.length;Vt++){let Gn=1*s[Vt]/u,fr=Gn+.5;if(fr<1){if(Gn<.3)throw new Q;fr=1}else if(fr>8){if(Gn>8.7)throw new Q;fr=8}let Ai=Vt/2;(Vt&1)==0?(b[Ai]=fr,T[Ai]=Gn-fr):(A[Ai]=fr,I[Ai]=Gn-fr)}this.adjustOddEvenCounts(c);let L=4*r.getValue()+(a?0:2)+(l?0:1)-1,G=0,Y=0;for(let Vt=b.length-1;Vt>=0;Vt--){if(Se.isNotA1left(r,a,l)){let Gn=Se.WEIGHTS[L][2*Vt];Y+=b[Vt]*Gn}G+=b[Vt]}let ae=0;for(let Vt=A.length-1;Vt>=0;Vt--)if(Se.isNotA1left(r,a,l)){let Gn=Se.WEIGHTS[L][2*Vt+1];ae+=A[Vt]*Gn}let fe=Y+ae;if((G&1)!=0||G>13||G<4)throw new Q;let Me=(13-G)/2,De=Se.SYMBOL_WIDEST[Me],Ne=9-De,pt=Vr.getRSSvalue(b,De,!0),st=Vr.getRSSvalue(A,Ne,!1),An=Se.EVEN_TOTAL_SUBSET[Me],br=Se.GSUM[Me],Qn=pt*An+st+br;return new Ea(Qn,fe)}static isNotA1left(t,r,a){return!(t.getValue()==0&&r&&a)}adjustOddEvenCounts(t){let r=rt.sum(new Int32Array(this.getOddCounts())),a=rt.sum(new Int32Array(this.getEvenCounts())),l=!1,s=!1;r>13?s=!0:r<4&&(l=!0);let c=!1,u=!1;a>13?u=!0:a<4&&(c=!0);let x=r+a-t,b=(r&1)==1,A=(a&1)==0;if(x==1)if(b){if(A)throw new Q;s=!0}else{if(!A)throw new Q;u=!0}else if(x==-1)if(b){if(A)throw new Q;l=!0}else{if(!A)throw new Q;c=!0}else if(x==0){if(b){if(!A)throw new Q;r<a?(l=!0,u=!0):(s=!0,c=!0)}else if(A)throw new Q}else throw new Q;if(l){if(s)throw new Q;Se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new Q;Se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Se.SYMBOL_WIDEST=[7,5,4,3,1],Se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Se.GSUM=[0,348,1388,2948,3988],Se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Se.FINDER_PAT_A=0,Se.FINDER_PAT_B=1,Se.FINDER_PAT_C=2,Se.FINDER_PAT_D=3,Se.FINDER_PAT_E=4,Se.FINDER_PAT_F=5,Se.FINDER_PATTERN_SEQUENCES=[[Se.FINDER_PAT_A,Se.FINDER_PAT_A],[Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B],[Se.FINDER_PAT_A,Se.FINDER_PAT_C,Se.FINDER_PAT_B,Se.FINDER_PAT_D],[Se.FINDER_PAT_A,Se.FINDER_PAT_E,Se.FINDER_PAT_B,Se.FINDER_PAT_D,Se.FINDER_PAT_C],[Se.FINDER_PAT_A,Se.FINDER_PAT_E,Se.FINDER_PAT_B,Se.FINDER_PAT_D,Se.FINDER_PAT_D,Se.FINDER_PAT_F],[Se.FINDER_PAT_A,Se.FINDER_PAT_E,Se.FINDER_PAT_B,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_F,Se.FINDER_PAT_F],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_D],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_E],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_F,Se.FINDER_PAT_F],[Se.FINDER_PAT_A,Se.FINDER_PAT_A,Se.FINDER_PAT_B,Se.FINDER_PAT_B,Se.FINDER_PAT_C,Se.FINDER_PAT_D,Se.FINDER_PAT_D,Se.FINDER_PAT_E,Se.FINDER_PAT_E,Se.FINDER_PAT_F,Se.FINDER_PAT_F]],Se.MAX_PAIRS=11;class vo extends Ea{constructor(t,r,a){super(t,r),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Pt extends Hn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,a){const l=this.decodePair(r,!1,t,a);Pt.addOrTally(this.possibleLeftPairs,l),r.reverse();let s=this.decodePair(r,!0,t,a);Pt.addOrTally(this.possibleRightPairs,s),r.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&Pt.checkChecksum(c,u))return Pt.constructResult(c,u)}throw new Q}static addOrTally(t,r){if(r==null)return;let a=!1;for(let l of t)if(l.getValue()===r.getValue()){l.incrementCount(),a=!0;break}a||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let a=4537077*t.getValue()+r.getValue(),l=new String(a).toString(),s=new Ae;for(let b=13-l.length;b>0;b--)s.append("0");s.append(l);let c=0;for(let b=0;b<13;b++){let A=s.charAt(b).charCodeAt(0)-48;c+=(b&1)===0?3*A:A}c=10-c%10,c===10&&(c=0),s.append(c.toString());let u=t.getFinderPattern().getResultPoints(),x=r.getFinderPattern().getResultPoints();return new Be(s.toString(),null,0,[u[0],u[1],x[0],x[1]],we.RSS_14,new Date().getTime())}static checkChecksum(t,r){let a=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,a===l}decodePair(t,r,a,l){try{let s=this.findFinderPattern(t,r),c=this.parseFoundFinderPattern(t,a,r,s),u=l==null?null:l.get(W.NEED_RESULT_POINT_CALLBACK);if(u!=null){let A=(s[0]+s[1])/2;r&&(A=t.getSize()-1-A),u.foundPossibleResultPoint(new Ue(A,a))}let x=this.decodeDataCharacter(t,c,!0),b=this.decodeDataCharacter(t,c,!1);return new vo(1597*x.getValue()+b.getValue(),x.getChecksumPortion()+4*b.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,r,a){let l=this.getDataCharacterCounters();for(let ae=0;ae<l.length;ae++)l[ae]=0;if(a)ln.recordPatternInReverse(t,r.getStartEnd()[0],l);else{ln.recordPattern(t,r.getStartEnd()[1]+1,l);for(let ae=0,fe=l.length-1;ae<fe;ae++,fe--){let Me=l[ae];l[ae]=l[fe],l[fe]=Me}}let s=a?16:15,c=rt.sum(new Int32Array(l))/s,u=this.getOddCounts(),x=this.getEvenCounts(),b=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let ae=0;ae<l.length;ae++){let fe=l[ae]/c,Me=Math.floor(fe+.5);Me<1?Me=1:Me>8&&(Me=8);let De=Math.floor(ae/2);(ae&1)===0?(u[De]=Me,b[De]=fe-Me):(x[De]=Me,A[De]=fe-Me)}this.adjustOddEvenCounts(a,s);let T=0,I=0;for(let ae=u.length-1;ae>=0;ae--)I*=9,I+=u[ae],T+=u[ae];let L=0,G=0;for(let ae=x.length-1;ae>=0;ae--)L*=9,L+=x[ae],G+=x[ae];let Y=I+3*L;if(a){if((T&1)!==0||T>12||T<4)throw new Q;let ae=(12-T)/2,fe=Pt.OUTSIDE_ODD_WIDEST[ae],Me=9-fe,De=Vr.getRSSvalue(u,fe,!1),Ne=Vr.getRSSvalue(x,Me,!0),pt=Pt.OUTSIDE_EVEN_TOTAL_SUBSET[ae],st=Pt.OUTSIDE_GSUM[ae];return new Ea(De*pt+Ne+st,Y)}else{if((G&1)!==0||G>10||G<4)throw new Q;let ae=(10-G)/2,fe=Pt.INSIDE_ODD_WIDEST[ae],Me=9-fe,De=Vr.getRSSvalue(u,fe,!0),Ne=Vr.getRSSvalue(x,Me,!1),pt=Pt.INSIDE_ODD_TOTAL_SUBSET[ae],st=Pt.INSIDE_GSUM[ae];return new Ea(Ne*pt+De+st,Y)}}findFinderPattern(t,r){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),s=!1,c=0;for(;c<l&&(s=!t.get(c),r!==s);)c++;let u=0,x=c;for(let b=c;b<l;b++)if(t.get(b)!==s)a[u]++;else{if(u===3){if(Hn.isFinderPattern(a))return[x,b];x+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,u--}else u++;a[u]=1,s=!s}throw new Q}parseFoundFinderPattern(t,r,a,l){let s=t.get(l[0]),c=l[0]-1;for(;c>=0&&s!==t.get(c);)c--;c++;const u=l[0]-c,x=this.getDecodeFinderCounters(),b=new Int32Array(x.length);ne.arraycopy(x,0,b,1,x.length-1),b[0]=u;const A=this.parseFinderValue(b,Pt.FINDER_PATTERNS);let T=c,I=l[1];return a&&(T=t.getSize()-1-T,I=t.getSize()-1-I),new Ca(A,[c,l[1]],T,I,r)}adjustOddEvenCounts(t,r){let a=rt.sum(new Int32Array(this.getOddCounts())),l=rt.sum(new Int32Array(this.getEvenCounts())),s=!1,c=!1,u=!1,x=!1;t?(a>12?c=!0:a<4&&(s=!0),l>12?x=!0:l<4&&(u=!0)):(a>11?c=!0:a<5&&(s=!0),l>10?x=!0:l<4&&(u=!0));let b=a+l-r,A=(a&1)===(t?1:0),T=(l&1)===1;if(b===1)if(A){if(T)throw new Q;c=!0}else{if(!T)throw new Q;x=!0}else if(b===-1)if(A){if(T)throw new Q;s=!0}else{if(!T)throw new Q;u=!0}else if(b===0){if(A){if(!T)throw new Q;a<l?(s=!0,x=!0):(c=!0,u=!0)}else if(T)throw new Q}else throw new Q;if(s){if(c)throw new Q;Hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(x)throw new Q;Hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Pt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Pt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Pt.OUTSIDE_GSUM=[0,161,961,2015,2715],Pt.INSIDE_GSUM=[0,336,1036,1516],Pt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Pt.INSIDE_ODD_WIDEST=[2,4,6,8],Pt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ir extends ln{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const a=t?t.get(W.POSSIBLE_FORMATS):null,l=t&&t.get(W.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(we.EAN_13)||a.includes(we.UPC_A)||a.includes(we.EAN_8)||a.includes(we.UPC_E))&&this.readers.push(new ps(t)),a.includes(we.CODE_39)&&this.readers.push(new Qt(l)),a.includes(we.CODE_128)&&this.readers.push(new ke),a.includes(we.ITF)&&this.readers.push(new ft),a.includes(we.RSS_14)&&this.readers.push(new Pt),a.includes(we.RSS_EXPANDED)&&this.readers.push(new Se(this.verbose))):(this.readers.push(new ps(t)),this.readers.push(new Qt),this.readers.push(new ps(t)),this.readers.push(new ke),this.readers.push(new ft),this.readers.push(new Pt),this.readers.push(new Se(this.verbose)))}decodeRow(t,r,a){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,r,a)}catch{}throw new Q}reset(){this.readers.forEach(t=>t.reset())}}class lu extends _e{constructor(t=500,r){super(new Ir(r),t,r)}}class Rt{constructor(t,r,a){this.ecCodewords=t,this.ecBlocks=[r],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class It{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class wt{constructor(t,r,a,l,s,c){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=a,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=c;let u=0;const x=c.getECCodewords(),b=c.getECBlocks();for(let A of b)u+=A.getCount()*(A.getDataCodewords()+x);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if((t&1)!==0||(r&1)!==0)throw new D;for(let a of wt.VERSIONS)if(a.symbolSizeRows===t&&a.symbolSizeColumns===r)return a;throw new D}toString(){return""+this.versionNumber}static buildVersions(){return[new wt(1,10,10,8,8,new Rt(5,new It(1,3))),new wt(2,12,12,10,10,new Rt(7,new It(1,5))),new wt(3,14,14,12,12,new Rt(10,new It(1,8))),new wt(4,16,16,14,14,new Rt(12,new It(1,12))),new wt(5,18,18,16,16,new Rt(14,new It(1,18))),new wt(6,20,20,18,18,new Rt(18,new It(1,22))),new wt(7,22,22,20,20,new Rt(20,new It(1,30))),new wt(8,24,24,22,22,new Rt(24,new It(1,36))),new wt(9,26,26,24,24,new Rt(28,new It(1,44))),new wt(10,32,32,14,14,new Rt(36,new It(1,62))),new wt(11,36,36,16,16,new Rt(42,new It(1,86))),new wt(12,40,40,18,18,new Rt(48,new It(1,114))),new wt(13,44,44,20,20,new Rt(56,new It(1,144))),new wt(14,48,48,22,22,new Rt(68,new It(1,174))),new wt(15,52,52,24,24,new Rt(42,new It(2,102))),new wt(16,64,64,14,14,new Rt(56,new It(2,140))),new wt(17,72,72,16,16,new Rt(36,new It(4,92))),new wt(18,80,80,18,18,new Rt(48,new It(4,114))),new wt(19,88,88,20,20,new Rt(56,new It(4,144))),new wt(20,96,96,22,22,new Rt(68,new It(4,174))),new wt(21,104,104,24,24,new Rt(56,new It(6,136))),new wt(22,120,120,18,18,new Rt(68,new It(6,175))),new wt(23,132,132,20,20,new Rt(62,new It(8,163))),new wt(24,144,144,22,22,new Rt(62,new It(8,156),new It(2,155))),new wt(25,8,18,6,16,new Rt(7,new It(1,5))),new wt(26,8,32,6,14,new Rt(11,new It(1,10))),new wt(27,12,26,10,24,new Rt(14,new It(1,16))),new wt(28,12,36,10,16,new Rt(18,new It(1,22))),new wt(29,16,36,14,16,new Rt(24,new It(1,32))),new wt(30,16,48,14,22,new Rt(28,new It(1,49)))]}}wt.VERSIONS=wt.buildVersions();class fi{constructor(t){const r=t.getHeight();if(r<8||r>144||(r&1)!==0)throw new D;this.version=fi.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new ve(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),a=t.getWidth();return wt.getVersionForDimensions(r,a)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,a=4,l=0;const s=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let u=!1,x=!1,b=!1,A=!1;do if(a===s&&l===0&&!u)t[r++]=this.readCorner1(s,c)&255,a-=2,l+=2,u=!0;else if(a===s-2&&l===0&&(c&3)!==0&&!x)t[r++]=this.readCorner2(s,c)&255,a-=2,l+=2,x=!0;else if(a===s+4&&l===2&&(c&7)===0&&!b)t[r++]=this.readCorner3(s,c)&255,a-=2,l+=2,b=!0;else if(a===s-2&&l===0&&(c&7)===4&&!A)t[r++]=this.readCorner4(s,c)&255,a-=2,l+=2,A=!0;else{do a<s&&l>=0&&!this.readMappingMatrix.get(l,a)&&(t[r++]=this.readUtah(a,l,s,c)&255),a-=2,l+=2;while(a>=0&&l<c);a+=1,l+=3;do a>=0&&l<c&&!this.readMappingMatrix.get(l,a)&&(t[r++]=this.readUtah(a,l,s,c)&255),a+=2,l-=2;while(a<s&&l>=0);a+=3,l+=1}while(a<s||l<c);if(r!==this.version.getTotalCodewords())throw new D;return t}readModule(t,r,a,l){return t<0&&(t+=a,r+=4-(a+4&7)),r<0&&(r+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,a,l){let s=0;return this.readModule(t-2,r-2,a,l)&&(s|=1),s<<=1,this.readModule(t-2,r-1,a,l)&&(s|=1),s<<=1,this.readModule(t-1,r-2,a,l)&&(s|=1),s<<=1,this.readModule(t-1,r-1,a,l)&&(s|=1),s<<=1,this.readModule(t-1,r,a,l)&&(s|=1),s<<=1,this.readModule(t,r-2,a,l)&&(s|=1),s<<=1,this.readModule(t,r-1,a,l)&&(s|=1),s<<=1,this.readModule(t,r,a,l)&&(s|=1),s}readCorner1(t,r){let a=0;return this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,1,t,r)&&(a|=1),a<<=1,this.readModule(t-1,2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(2,r-1,t,r)&&(a|=1),a<<=1,this.readModule(3,r-1,t,r)&&(a|=1),a}readCorner2(t,r){let a=0;return this.readModule(t-3,0,t,r)&&(a|=1),a<<=1,this.readModule(t-2,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(0,r-4,t,r)&&(a|=1),a<<=1,this.readModule(0,r-3,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a}readCorner3(t,r){let a=0;return this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(0,r-3,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-3,t,r)&&(a|=1),a<<=1,this.readModule(1,r-2,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a}readCorner4(t,r){let a=0;return this.readModule(t-3,0,t,r)&&(a|=1),a<<=1,this.readModule(t-2,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(2,r-1,t,r)&&(a|=1),a<<=1,this.readModule(3,r-1,t,r)&&(a|=1),a}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new M("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),c=r/l|0,u=a/s|0,x=c*l,b=u*s,A=new ve(b,x);for(let T=0;T<c;++T){const I=T*l;for(let L=0;L<u;++L){const G=L*s;for(let Y=0;Y<l;++Y){const ae=T*(l+2)+1+Y,fe=I+Y;for(let Me=0;Me<s;++Me){const De=L*(s+2)+1+Me;if(t.get(De,ae)){const Ne=G+Me;A.set(Ne,fe)}}}}}return A}}class hi{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const a=r.getECBlocks();let l=0;const s=a.getECBlocks();for(let Y of s)l+=Y.getCount();const c=new Array(l);let u=0;for(let Y of s)for(let ae=0;ae<Y.getCount();ae++){const fe=Y.getDataCodewords(),Me=a.getECCodewords()+fe;c[u++]=new hi(fe,new Uint8Array(Me))}const b=c[0].codewords.length-a.getECCodewords(),A=b-1;let T=0;for(let Y=0;Y<A;Y++)for(let ae=0;ae<u;ae++)c[ae].codewords[Y]=t[T++];const I=r.getVersionNumber()===24,L=I?8:u;for(let Y=0;Y<L;Y++)c[Y].codewords[b-1]=t[T++];const G=c[0].codewords.length;for(let Y=b;Y<G;Y++)for(let ae=0;ae<u;ae++){const fe=I?(ae+8)%u:ae,Me=I&&fe>7?Y-1:Y;c[fe].codewords[Me]=t[T++]}if(T!==t.length)throw new M;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Or{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new M(""+t);let r=0,a=this.bitOffset,l=this.byteOffset;const s=this.bytes;if(a>0){const c=8-a,u=t<c?t:c,x=c-u,b=255>>8-u<<x;r=(s[l]&b)>>x,t-=u,a+=u,a===8&&(a=0,l++)}if(t>0){for(;t>=8;)r=r<<8|s[l]&255,l++,t-=8;if(t>0){const c=8-t,u=255>>c<<c;r=r<<t|(s[l]&u)>>c,a+=t}}return this.bitOffset=a,this.byteOffset=l,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Dt;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(Dt||(Dt={}));class ia{static decode(t){const r=new Or(t),a=new Ae,l=new Ae,s=new Array;let c=Dt.ASCII_ENCODE;do if(c===Dt.ASCII_ENCODE)c=this.decodeAsciiSegment(r,a,l);else{switch(c){case Dt.C40_ENCODE:this.decodeC40Segment(r,a);break;case Dt.TEXT_ENCODE:this.decodeTextSegment(r,a);break;case Dt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,a);break;case Dt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,a);break;case Dt.BASE256_ENCODE:this.decodeBase256Segment(r,a,s);break;default:throw new D}c=Dt.ASCII_ENCODE}while(c!==Dt.PAD_ENCODE&&r.available()>0);return l.length()>0&&a.append(l.toString()),new Oe(t,a.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(t,r,a){let l=!1;do{let s=t.readBits(8);if(s===0)throw new D;if(s<=128)return l&&(s+=128),r.append(String.fromCharCode(s-1)),Dt.ASCII_ENCODE;if(s===129)return Dt.PAD_ENCODE;if(s<=229){const c=s-130;c<10&&r.append("0"),r.append(""+c)}else switch(s){case 230:return Dt.C40_ENCODE;case 231:return Dt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:r.append("[)>05"),a.insert(0,"");break;case 237:r.append("[)>06"),a.insert(0,"");break;case 238:return Dt.ANSIX12_ENCODE;case 239:return Dt.TEXT_ENCODE;case 240:return Dt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||t.available()!==0)throw new D;break}}while(t.available()>0);return Dt.ASCII_ENCODE}static decodeC40Segment(t,r){let a=!1;const l=[];let s=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),l);for(let u=0;u<3;u++){const x=l[u];switch(s){case 0:if(x<3)s=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const b=this.C40_BASIC_SET_CHARS[x];a?(r.append(String.fromCharCode(b.charCodeAt(0)+128)),a=!1):r.append(b)}else throw new D;break;case 1:a?(r.append(String.fromCharCode(x+128)),a=!1):r.append(String.fromCharCode(x)),s=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const b=this.C40_SHIFT2_SET_CHARS[x];a?(r.append(String.fromCharCode(b.charCodeAt(0)+128)),a=!1):r.append(b)}else switch(x){case 27:r.append("");break;case 30:a=!0;break;default:throw new D}s=0;break;case 3:a?(r.append(String.fromCharCode(x+224)),a=!1):r.append(String.fromCharCode(x+96)),s=0;break;default:throw new D}}}while(t.available()>0)}static decodeTextSegment(t,r){let a=!1,l=[],s=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),l);for(let u=0;u<3;u++){const x=l[u];switch(s){case 0:if(x<3)s=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const b=this.TEXT_BASIC_SET_CHARS[x];a?(r.append(String.fromCharCode(b.charCodeAt(0)+128)),a=!1):r.append(b)}else throw new D;break;case 1:a?(r.append(String.fromCharCode(x+128)),a=!1):r.append(String.fromCharCode(x)),s=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const b=this.TEXT_SHIFT2_SET_CHARS[x];a?(r.append(String.fromCharCode(b.charCodeAt(0)+128)),a=!1):r.append(b)}else switch(x){case 27:r.append("");break;case 30:a=!0;break;default:throw new D}s=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const b=this.TEXT_SHIFT3_SET_CHARS[x];a?(r.append(String.fromCharCode(b.charCodeAt(0)+128)),a=!1):r.append(b),s=0}else throw new D;break;default:throw new D}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const a=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),a);for(let s=0;s<3;s++){const c=a[s];switch(c){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(c<14)r.append(String.fromCharCode(c+44));else if(c<40)r.append(String.fromCharCode(c+51));else throw new D;break}}}while(t.available()>0)}static parseTwoBytes(t,r,a){let l=(t<<8)+r-1,s=Math.floor(l/1600);a[0]=s,l-=s*1600,s=Math.floor(l/40),a[1]=s,a[2]=l-s*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let a=0;a<4;a++){let l=t.readBits(6);if(l===31){const s=8-t.getBitOffset();s!==8&&t.readBits(s);return}(l&32)===0&&(l|=64),r.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,r,a){let l=1+t.getByteOffset();const s=this.unrandomize255State(t.readBits(8),l++);let c;if(s===0?c=t.available()/8|0:s<250?c=s:c=250*(s-249)+this.unrandomize255State(t.readBits(8),l++),c<0)throw new D;const u=new Uint8Array(c);for(let x=0;x<c;x++){if(t.available()<8)throw new D;u[x]=this.unrandomize255State(t.readBits(8),l++)}a.push(u);try{r.append(ce.decode(u,xe.ISO88591))}catch(x){throw new Lt("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,r){const a=149*r%255+1,l=t-a;return l>=0?l:l+256}}ia.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ia.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ia.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ia.TEXT_SHIFT2_SET_CHARS=ia.C40_SHIFT2_SET_CHARS,ia.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class su{constructor(){this.rsDecoder=new lr(lt.DATA_MATRIX_FIELD_256)}decode(t){const r=new fi(t),a=r.getVersion(),l=r.readCodewords(),s=hi.getDataBlocks(l,a);let c=0;for(let b of s)c+=b.getNumDataCodewords();const u=new Uint8Array(c),x=s.length;for(let b=0;b<x;b++){const A=s[b],T=A.getCodewords(),I=A.getNumDataCodewords();this.correctErrors(T,I);for(let L=0;L<I;L++)u[L*x+b]=T[L]}return ia.decode(u)}correctErrors(t,r){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-r)}catch{throw new Z}for(let l=0;l<r;l++)t[l]=a[l]}}class sn{constructor(t){this.image=t,this.rectangleDetector=new Ft(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Q;r=this.shiftToModuleCenter(r);const a=r[0],l=r[1],s=r[2],c=r[3];let u=this.transitionsBetween(a,c)+1,x=this.transitionsBetween(s,c)+1;(u&1)===1&&(u+=1),(x&1)===1&&(x+=1),4*u<7*x&&4*x<7*u&&(u=x=Math.max(u,x));let b=sn.sampleGrid(this.image,a,l,s,c,u,x);return new Sr(b,[a,l,s,c])}static shiftPoint(t,r,a){let l=(r.getX()-t.getX())/(a+1),s=(r.getY()-t.getY())/(a+1);return new Ue(t.getX()+l,t.getY()+s)}static moveAway(t,r,a){let l=t.getX(),s=t.getY();return l<r?l-=1:l+=1,s<a?s-=1:s+=1,new Ue(l,s)}detectSolid1(t){let r=t[0],a=t[1],l=t[3],s=t[2],c=this.transitionsBetween(r,a),u=this.transitionsBetween(a,l),x=this.transitionsBetween(l,s),b=this.transitionsBetween(s,r),A=c,T=[s,r,a,l];return A>u&&(A=u,T[0]=r,T[1]=a,T[2]=l,T[3]=s),A>x&&(A=x,T[0]=a,T[1]=l,T[2]=s,T[3]=r),A>b&&(T[0]=l,T[1]=s,T[2]=r,T[3]=a),T}detectSolid2(t){let r=t[0],a=t[1],l=t[2],s=t[3],c=this.transitionsBetween(r,s),u=sn.shiftPoint(a,l,(c+1)*4),x=sn.shiftPoint(l,a,(c+1)*4),b=this.transitionsBetween(u,r),A=this.transitionsBetween(x,s);return b<A?(t[0]=r,t[1]=a,t[2]=l,t[3]=s):(t[0]=a,t[1]=l,t[2]=s,t[3]=r),t}correctTopRight(t){let r=t[0],a=t[1],l=t[2],s=t[3],c=this.transitionsBetween(r,s),u=this.transitionsBetween(a,s),x=sn.shiftPoint(r,a,(u+1)*4),b=sn.shiftPoint(l,a,(c+1)*4);c=this.transitionsBetween(x,s),u=this.transitionsBetween(b,s);let A=new Ue(s.getX()+(l.getX()-a.getX())/(c+1),s.getY()+(l.getY()-a.getY())/(c+1)),T=new Ue(s.getX()+(r.getX()-a.getX())/(u+1),s.getY()+(r.getY()-a.getY())/(u+1));if(!this.isValid(A))return this.isValid(T)?T:null;if(!this.isValid(T))return A;let I=this.transitionsBetween(x,A)+this.transitionsBetween(b,A),L=this.transitionsBetween(x,T)+this.transitionsBetween(b,T);return I>L?A:T}shiftToModuleCenter(t){let r=t[0],a=t[1],l=t[2],s=t[3],c=this.transitionsBetween(r,s)+1,u=this.transitionsBetween(l,s)+1,x=sn.shiftPoint(r,a,u*4),b=sn.shiftPoint(l,a,c*4);c=this.transitionsBetween(x,s)+1,u=this.transitionsBetween(b,s)+1,(c&1)===1&&(c+=1),(u&1)===1&&(u+=1);let A=(r.getX()+a.getX()+l.getX()+s.getX())/4,T=(r.getY()+a.getY()+l.getY()+s.getY())/4;r=sn.moveAway(r,A,T),a=sn.moveAway(a,A,T),l=sn.moveAway(l,A,T),s=sn.moveAway(s,A,T);let I,L;return x=sn.shiftPoint(r,a,u*4),x=sn.shiftPoint(x,s,c*4),I=sn.shiftPoint(a,r,u*4),I=sn.shiftPoint(I,l,c*4),b=sn.shiftPoint(l,s,u*4),b=sn.shiftPoint(b,a,c*4),L=sn.shiftPoint(s,l,u*4),L=sn.shiftPoint(L,r,c*4),[x,I,b,L]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,a,l,s,c,u){return nr.getInstance().sampleGrid(t,c,u,.5,.5,c-.5,.5,c-.5,u-.5,.5,u-.5,r.getX(),r.getY(),s.getX(),s.getY(),l.getX(),l.getY(),a.getX(),a.getY())}transitionsBetween(t,r){let a=Math.trunc(t.getX()),l=Math.trunc(t.getY()),s=Math.trunc(r.getX()),c=Math.trunc(r.getY()),u=Math.abs(c-l)>Math.abs(s-a);if(u){let Y=a;a=l,l=Y,Y=s,s=c,c=Y}let x=Math.abs(s-a),b=Math.abs(c-l),A=-x/2,T=l<c?1:-1,I=a<s?1:-1,L=0,G=this.image.get(u?l:a,u?a:l);for(let Y=a,ae=l;Y!==s;Y+=I){let fe=this.image.get(u?ae:Y,u?Y:ae);if(fe!==G&&(L++,G=fe),A+=b,A>0){if(ae===c)break;ae+=T,A-=x}}return L}}class la{constructor(){this.decoder=new su}decode(t,r=null){let a,l;if(r!=null&&r.has(W.PURE_BARCODE)){const b=la.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(b),l=la.NO_POINTS}else{const b=new sn(t.getBlackMatrix()).detect();a=this.decoder.decode(b.getBits()),l=b.getPoints()}const s=a.getRawBytes(),c=new Be(a.getText(),s,8*s.length,l,we.DATA_MATRIX,ne.currentTimeMillis()),u=a.getByteSegments();u!=null&&c.putMetadata(J.BYTE_SEGMENTS,u);const x=a.getECLevel();return x!=null&&c.putMetadata(J.ERROR_CORRECTION_LEVEL,x),c}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(r==null||a==null)throw new Q;const l=this.moduleSize(r,t);let s=r[1];const c=a[1];let u=r[0];const b=(a[0]-u+1)/l,A=(c-s+1)/l;if(b<=0||A<=0)throw new Q;const T=l/2;s+=T,u+=T;const I=new ve(b,A);for(let L=0;L<A;L++){const G=s+L*l;for(let Y=0;Y<b;Y++)t.get(u+Y*l,G)&&I.set(Y,L)}return I}static moduleSize(t,r){const a=r.getWidth();let l=t[0];const s=t[1];for(;l<a&&r.get(l,s);)l++;if(l===a)throw new Q;const c=l-t[0];if(c===0)throw new Q;return c}}la.NO_POINTS=[];class Tl extends _e{constructor(t=500){super(new la,t)}}var xi;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(xi||(xi={}));class yt{constructor(t,r,a){this.value=t,this.stringValue=r,this.bits=a,yt.FOR_BITS.set(a,this),yt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return yt.L;case"M":return yt.M;case"Q":return yt.Q;case"H":return yt.H;default:throw new B(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof yt))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=yt.FOR_BITS.size)throw new M;return yt.FOR_BITS.get(t)}}yt.FOR_BITS=new Map,yt.FOR_VALUE=new Map,yt.L=new yt(xi.L,"L",1),yt.M=new yt(xi.M,"M",0),yt.Q=new yt(xi.Q,"Q",3),yt.H=new yt(xi.H,"H",2);class Mn{constructor(t){this.errorCorrectionLevel=yt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return F.bitCount(t^r)}static decodeFormatInformation(t,r){const a=Mn.doDecodeFormatInformation(t,r);return a!==null?a:Mn.doDecodeFormatInformation(t^Mn.FORMAT_INFO_MASK_QR,r^Mn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let a=Number.MAX_SAFE_INTEGER,l=0;for(const s of Mn.FORMAT_INFO_DECODE_LOOKUP){const c=s[0];if(c===t||c===r)return new Mn(s[1]);let u=Mn.numBitsDiffering(t,c);u<a&&(l=s[1],a=u),t!==r&&(u=Mn.numBitsDiffering(r,c),u<a&&(l=s[1],a=u))}return a<=3?new Mn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Mn))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Mn.FORMAT_INFO_MASK_QR=21522,Mn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ie{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const a of r)t+=a.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Xe{constructor(t,r,...a){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=a;let l=0;const s=a[0].getECCodewordsPerBlock(),c=a[0].getECBlocks();for(const u of c)l+=u.getCount()*(u.getDataCodewords()+s);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new D;try{return this.getVersionForNumber((t-17)/4)}catch{throw new D}}static getVersionForNumber(t){if(t<1||t>40)throw new M;return Xe.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,a=0;for(let l=0;l<Xe.VERSION_DECODE_INFO.length;l++){const s=Xe.VERSION_DECODE_INFO[l];if(s===t)return Xe.getVersionForNumber(l+7);const c=Mn.numBitsDiffering(t,s);c<r&&(a=l+7,r=c)}return r<=3?Xe.getVersionForNumber(a):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new ve(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const a=this.alignmentPatternCenters.length;for(let l=0;l<a;l++){const s=this.alignmentPatternCenters[l]-2;for(let c=0;c<a;c++)l===0&&(c===0||c===a-1)||l===a-1&&c===0||r.setRegion(this.alignmentPatternCenters[c]-2,s,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}Xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Xe.VERSIONS=[new Xe(1,new Int32Array(0),new ie(7,new k(1,19)),new ie(10,new k(1,16)),new ie(13,new k(1,13)),new ie(17,new k(1,9))),new Xe(2,Int32Array.from([6,18]),new ie(10,new k(1,34)),new ie(16,new k(1,28)),new ie(22,new k(1,22)),new ie(28,new k(1,16))),new Xe(3,Int32Array.from([6,22]),new ie(15,new k(1,55)),new ie(26,new k(1,44)),new ie(18,new k(2,17)),new ie(22,new k(2,13))),new Xe(4,Int32Array.from([6,26]),new ie(20,new k(1,80)),new ie(18,new k(2,32)),new ie(26,new k(2,24)),new ie(16,new k(4,9))),new Xe(5,Int32Array.from([6,30]),new ie(26,new k(1,108)),new ie(24,new k(2,43)),new ie(18,new k(2,15),new k(2,16)),new ie(22,new k(2,11),new k(2,12))),new Xe(6,Int32Array.from([6,34]),new ie(18,new k(2,68)),new ie(16,new k(4,27)),new ie(24,new k(4,19)),new ie(28,new k(4,15))),new Xe(7,Int32Array.from([6,22,38]),new ie(20,new k(2,78)),new ie(18,new k(4,31)),new ie(18,new k(2,14),new k(4,15)),new ie(26,new k(4,13),new k(1,14))),new Xe(8,Int32Array.from([6,24,42]),new ie(24,new k(2,97)),new ie(22,new k(2,38),new k(2,39)),new ie(22,new k(4,18),new k(2,19)),new ie(26,new k(4,14),new k(2,15))),new Xe(9,Int32Array.from([6,26,46]),new ie(30,new k(2,116)),new ie(22,new k(3,36),new k(2,37)),new ie(20,new k(4,16),new k(4,17)),new ie(24,new k(4,12),new k(4,13))),new Xe(10,Int32Array.from([6,28,50]),new ie(18,new k(2,68),new k(2,69)),new ie(26,new k(4,43),new k(1,44)),new ie(24,new k(6,19),new k(2,20)),new ie(28,new k(6,15),new k(2,16))),new Xe(11,Int32Array.from([6,30,54]),new ie(20,new k(4,81)),new ie(30,new k(1,50),new k(4,51)),new ie(28,new k(4,22),new k(4,23)),new ie(24,new k(3,12),new k(8,13))),new Xe(12,Int32Array.from([6,32,58]),new ie(24,new k(2,92),new k(2,93)),new ie(22,new k(6,36),new k(2,37)),new ie(26,new k(4,20),new k(6,21)),new ie(28,new k(7,14),new k(4,15))),new Xe(13,Int32Array.from([6,34,62]),new ie(26,new k(4,107)),new ie(22,new k(8,37),new k(1,38)),new ie(24,new k(8,20),new k(4,21)),new ie(22,new k(12,11),new k(4,12))),new Xe(14,Int32Array.from([6,26,46,66]),new ie(30,new k(3,115),new k(1,116)),new ie(24,new k(4,40),new k(5,41)),new ie(20,new k(11,16),new k(5,17)),new ie(24,new k(11,12),new k(5,13))),new Xe(15,Int32Array.from([6,26,48,70]),new ie(22,new k(5,87),new k(1,88)),new ie(24,new k(5,41),new k(5,42)),new ie(30,new k(5,24),new k(7,25)),new ie(24,new k(11,12),new k(7,13))),new Xe(16,Int32Array.from([6,26,50,74]),new ie(24,new k(5,98),new k(1,99)),new ie(28,new k(7,45),new k(3,46)),new ie(24,new k(15,19),new k(2,20)),new ie(30,new k(3,15),new k(13,16))),new Xe(17,Int32Array.from([6,30,54,78]),new ie(28,new k(1,107),new k(5,108)),new ie(28,new k(10,46),new k(1,47)),new ie(28,new k(1,22),new k(15,23)),new ie(28,new k(2,14),new k(17,15))),new Xe(18,Int32Array.from([6,30,56,82]),new ie(30,new k(5,120),new k(1,121)),new ie(26,new k(9,43),new k(4,44)),new ie(28,new k(17,22),new k(1,23)),new ie(28,new k(2,14),new k(19,15))),new Xe(19,Int32Array.from([6,30,58,86]),new ie(28,new k(3,113),new k(4,114)),new ie(26,new k(3,44),new k(11,45)),new ie(26,new k(17,21),new k(4,22)),new ie(26,new k(9,13),new k(16,14))),new Xe(20,Int32Array.from([6,34,62,90]),new ie(28,new k(3,107),new k(5,108)),new ie(26,new k(3,41),new k(13,42)),new ie(30,new k(15,24),new k(5,25)),new ie(28,new k(15,15),new k(10,16))),new Xe(21,Int32Array.from([6,28,50,72,94]),new ie(28,new k(4,116),new k(4,117)),new ie(26,new k(17,42)),new ie(28,new k(17,22),new k(6,23)),new ie(30,new k(19,16),new k(6,17))),new Xe(22,Int32Array.from([6,26,50,74,98]),new ie(28,new k(2,111),new k(7,112)),new ie(28,new k(17,46)),new ie(30,new k(7,24),new k(16,25)),new ie(24,new k(34,13))),new Xe(23,Int32Array.from([6,30,54,78,102]),new ie(30,new k(4,121),new k(5,122)),new ie(28,new k(4,47),new k(14,48)),new ie(30,new k(11,24),new k(14,25)),new ie(30,new k(16,15),new k(14,16))),new Xe(24,Int32Array.from([6,28,54,80,106]),new ie(30,new k(6,117),new k(4,118)),new ie(28,new k(6,45),new k(14,46)),new ie(30,new k(11,24),new k(16,25)),new ie(30,new k(30,16),new k(2,17))),new Xe(25,Int32Array.from([6,32,58,84,110]),new ie(26,new k(8,106),new k(4,107)),new ie(28,new k(8,47),new k(13,48)),new ie(30,new k(7,24),new k(22,25)),new ie(30,new k(22,15),new k(13,16))),new Xe(26,Int32Array.from([6,30,58,86,114]),new ie(28,new k(10,114),new k(2,115)),new ie(28,new k(19,46),new k(4,47)),new ie(28,new k(28,22),new k(6,23)),new ie(30,new k(33,16),new k(4,17))),new Xe(27,Int32Array.from([6,34,62,90,118]),new ie(30,new k(8,122),new k(4,123)),new ie(28,new k(22,45),new k(3,46)),new ie(30,new k(8,23),new k(26,24)),new ie(30,new k(12,15),new k(28,16))),new Xe(28,Int32Array.from([6,26,50,74,98,122]),new ie(30,new k(3,117),new k(10,118)),new ie(28,new k(3,45),new k(23,46)),new ie(30,new k(4,24),new k(31,25)),new ie(30,new k(11,15),new k(31,16))),new Xe(29,Int32Array.from([6,30,54,78,102,126]),new ie(30,new k(7,116),new k(7,117)),new ie(28,new k(21,45),new k(7,46)),new ie(30,new k(1,23),new k(37,24)),new ie(30,new k(19,15),new k(26,16))),new Xe(30,Int32Array.from([6,26,52,78,104,130]),new ie(30,new k(5,115),new k(10,116)),new ie(28,new k(19,47),new k(10,48)),new ie(30,new k(15,24),new k(25,25)),new ie(30,new k(23,15),new k(25,16))),new Xe(31,Int32Array.from([6,30,56,82,108,134]),new ie(30,new k(13,115),new k(3,116)),new ie(28,new k(2,46),new k(29,47)),new ie(30,new k(42,24),new k(1,25)),new ie(30,new k(23,15),new k(28,16))),new Xe(32,Int32Array.from([6,34,60,86,112,138]),new ie(30,new k(17,115)),new ie(28,new k(10,46),new k(23,47)),new ie(30,new k(10,24),new k(35,25)),new ie(30,new k(19,15),new k(35,16))),new Xe(33,Int32Array.from([6,30,58,86,114,142]),new ie(30,new k(17,115),new k(1,116)),new ie(28,new k(14,46),new k(21,47)),new ie(30,new k(29,24),new k(19,25)),new ie(30,new k(11,15),new k(46,16))),new Xe(34,Int32Array.from([6,34,62,90,118,146]),new ie(30,new k(13,115),new k(6,116)),new ie(28,new k(14,46),new k(23,47)),new ie(30,new k(44,24),new k(7,25)),new ie(30,new k(59,16),new k(1,17))),new Xe(35,Int32Array.from([6,30,54,78,102,126,150]),new ie(30,new k(12,121),new k(7,122)),new ie(28,new k(12,47),new k(26,48)),new ie(30,new k(39,24),new k(14,25)),new ie(30,new k(22,15),new k(41,16))),new Xe(36,Int32Array.from([6,24,50,76,102,128,154]),new ie(30,new k(6,121),new k(14,122)),new ie(28,new k(6,47),new k(34,48)),new ie(30,new k(46,24),new k(10,25)),new ie(30,new k(2,15),new k(64,16))),new Xe(37,Int32Array.from([6,28,54,80,106,132,158]),new ie(30,new k(17,122),new k(4,123)),new ie(28,new k(29,46),new k(14,47)),new ie(30,new k(49,24),new k(10,25)),new ie(30,new k(24,15),new k(46,16))),new Xe(38,Int32Array.from([6,32,58,84,110,136,162]),new ie(30,new k(4,122),new k(18,123)),new ie(28,new k(13,46),new k(32,47)),new ie(30,new k(48,24),new k(14,25)),new ie(30,new k(42,15),new k(32,16))),new Xe(39,Int32Array.from([6,26,54,82,110,138,166]),new ie(30,new k(20,117),new k(4,118)),new ie(28,new k(40,47),new k(7,48)),new ie(30,new k(43,24),new k(22,25)),new ie(30,new k(10,15),new k(67,16))),new Xe(40,Int32Array.from([6,30,58,86,114,142,170]),new ie(30,new k(19,118),new k(6,119)),new ie(28,new k(18,47),new k(31,48)),new ie(30,new k(34,24),new k(34,25)),new ie(30,new k(20,15),new k(61,16)))];var _n;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(_n||(_n={}));class ur{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let a=0;a<r;a++)for(let l=0;l<r;l++)this.isMasked(a,l)&&t.flip(l,a)}}ur.values=new Map([[_n.DATA_MASK_000,new ur(_n.DATA_MASK_000,(S,t)=>(S+t&1)===0)],[_n.DATA_MASK_001,new ur(_n.DATA_MASK_001,(S,t)=>(S&1)===0)],[_n.DATA_MASK_010,new ur(_n.DATA_MASK_010,(S,t)=>t%3===0)],[_n.DATA_MASK_011,new ur(_n.DATA_MASK_011,(S,t)=>(S+t)%3===0)],[_n.DATA_MASK_100,new ur(_n.DATA_MASK_100,(S,t)=>(Math.floor(S/2)+Math.floor(t/3)&1)===0)],[_n.DATA_MASK_101,new ur(_n.DATA_MASK_101,(S,t)=>S*t%6===0)],[_n.DATA_MASK_110,new ur(_n.DATA_MASK_110,(S,t)=>S*t%6<3)],[_n.DATA_MASK_111,new ur(_n.DATA_MASK_111,(S,t)=>(S+t+S*t%3&1)===0)]]);class gi{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new D;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let s=0;s<6;s++)t=this.copyBit(s,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let s=5;s>=0;s--)t=this.copyBit(8,s,t);const r=this.bitMatrix.getHeight();let a=0;const l=r-7;for(let s=r-1;s>=l;s--)a=this.copyBit(8,s,a);for(let s=r-8;s<r;s++)a=this.copyBit(s,8,a);if(this.parsedFormatInfo=Mn.decodeFormatInformation(t,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new D}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return Xe.getVersionForNumber(r);let a=0;const l=t-11;for(let c=5;c>=0;c--)for(let u=t-9;u>=l;u--)a=this.copyBit(u,c,a);let s=Xe.decodeVersionInformation(a);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;a=0;for(let c=5;c>=0;c--)for(let u=t-9;u>=l;u--)a=this.copyBit(c,u,a);if(s=Xe.decodeVersionInformation(a),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new D}copyBit(t,r,a){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?a<<1|1:a<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),a=ur.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l);const s=r.buildFunctionPattern();let c=!0;const u=new Uint8Array(r.getTotalCodewords());let x=0,b=0,A=0;for(let T=l-1;T>0;T-=2){T===6&&T--;for(let I=0;I<l;I++){const L=c?l-1-I:I;for(let G=0;G<2;G++)s.get(T-G,L)||(A++,b<<=1,this.bitMatrix.get(T-G,L)&&(b|=1),A===8&&(u[x++]=b,A=0,b=0))}c=!c}if(x!==r.getTotalCodewords())throw new D;return u}remask(){if(this.parsedFormatInfo===null)return;const t=ur.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,a=t.getWidth();r<a;r++)for(let l=r+1,s=t.getHeight();l<s;l++)t.get(r,l)!==t.get(l,r)&&(t.flip(l,r),t.flip(r,l))}}class bs{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,a){if(t.length!==r.getTotalCodewords())throw new M;const l=r.getECBlocksForLevel(a);let s=0;const c=l.getECBlocks();for(const G of c)s+=G.getCount();const u=new Array(s);let x=0;for(const G of c)for(let Y=0;Y<G.getCount();Y++){const ae=G.getDataCodewords(),fe=l.getECCodewordsPerBlock()+ae;u[x++]=new bs(ae,new Uint8Array(fe))}const b=u[0].codewords.length;let A=u.length-1;for(;A>=0&&u[A].codewords.length!==b;)A--;A++;const T=b-l.getECCodewordsPerBlock();let I=0;for(let G=0;G<T;G++)for(let Y=0;Y<x;Y++)u[Y].codewords[G]=t[I++];for(let G=A;G<x;G++)u[G].codewords[T]=t[I++];const L=u[0].codewords.length;for(let G=T;G<L;G++)for(let Y=0;Y<x;Y++){const ae=Y<A?G:G+1;u[Y].codewords[ae]=t[I++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var dr;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(dr||(dr={}));class We{constructor(t,r,a,l){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=a,this.bits=l,We.FOR_BITS.set(l,this),We.FOR_VALUE.set(t,this)}static forBits(t){const r=We.FOR_BITS.get(t);if(r===void 0)throw new M;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let a;return r<=9?a=0:r<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof We))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}We.FOR_BITS=new Map,We.FOR_VALUE=new Map,We.TERMINATOR=new We(dr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),We.NUMERIC=new We(dr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),We.ALPHANUMERIC=new We(dr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),We.STRUCTURED_APPEND=new We(dr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),We.BYTE=new We(dr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),We.ECI=new We(dr.ECI,"ECI",Int32Array.from([0,0,0]),7),We.KANJI=new We(dr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),We.FNC1_FIRST_POSITION=new We(dr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),We.FNC1_SECOND_POSITION=new We(dr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),We.HANZI=new We(dr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class tn{static decode(t,r,a,l){const s=new Or(t);let c=new Ae;const u=new Array;let x=-1,b=-1;try{let A=null,T=!1,I;do{if(s.available()<4)I=We.TERMINATOR;else{const L=s.readBits(4);I=We.forBits(L)}switch(I){case We.TERMINATOR:break;case We.FNC1_FIRST_POSITION:case We.FNC1_SECOND_POSITION:T=!0;break;case We.STRUCTURED_APPEND:if(s.available()<16)throw new D;x=s.readBits(8),b=s.readBits(8);break;case We.ECI:const L=tn.parseECIValue(s);if(A=K.getCharacterSetECIByValue(L),A===null)throw new D;break;case We.HANZI:const G=s.readBits(4),Y=s.readBits(I.getCharacterCountBits(r));G===tn.GB2312_SUBSET&&tn.decodeHanziSegment(s,c,Y);break;default:const ae=s.readBits(I.getCharacterCountBits(r));switch(I){case We.NUMERIC:tn.decodeNumericSegment(s,c,ae);break;case We.ALPHANUMERIC:tn.decodeAlphanumericSegment(s,c,ae,T);break;case We.BYTE:tn.decodeByteSegment(s,c,ae,A,u,l);break;case We.KANJI:tn.decodeKanjiSegment(s,c,ae);break;default:throw new D}break}}while(I!==We.TERMINATOR)}catch{throw new D}return new Oe(t,c.toString(),u.length===0?null:u,a===null?null:a.toString(),x,b)}static decodeHanziSegment(t,r,a){if(a*13>t.available())throw new D;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const c=t.readBits(13);let u=c/96<<8&4294967295|c%96;u<959?u+=41377:u+=42657,l[s]=u>>8&255,l[s+1]=u&255,s+=2,a--}try{r.append(ce.decode(l,xe.GB2312))}catch(c){throw new D(c)}}static decodeKanjiSegment(t,r,a){if(a*13>t.available())throw new D;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const c=t.readBits(13);let u=c/192<<8&4294967295|c%192;u<7936?u+=33088:u+=49472,l[s]=u>>8,l[s+1]=u,s+=2,a--}try{r.append(ce.decode(l,xe.SHIFT_JIS))}catch(c){throw new D(c)}}static decodeByteSegment(t,r,a,l,s,c){if(8*a>t.available())throw new D;const u=new Uint8Array(a);for(let b=0;b<a;b++)u[b]=t.readBits(8);let x;l===null?x=xe.guessEncoding(u,c):x=l.getName();try{r.append(ce.decode(u,x))}catch(b){throw new D(b)}s.push(u)}static toAlphaNumericChar(t){if(t>=tn.ALPHANUMERIC_CHARS.length)throw new D;return tn.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,a,l){const s=r.length();for(;a>1;){if(t.available()<11)throw new D;const c=t.readBits(11);r.append(tn.toAlphaNumericChar(Math.floor(c/45))),r.append(tn.toAlphaNumericChar(c%45)),a-=2}if(a===1){if(t.available()<6)throw new D;r.append(tn.toAlphaNumericChar(t.readBits(6)))}if(l)for(let c=s;c<r.length();c++)r.charAt(c)==="%"&&(c<r.length()-1&&r.charAt(c+1)==="%"?r.deleteCharAt(c+1):r.setCharAt(c,""))}static decodeNumericSegment(t,r,a){for(;a>=3;){if(t.available()<10)throw new D;const l=t.readBits(10);if(l>=1e3)throw new D;r.append(tn.toAlphaNumericChar(Math.floor(l/100))),r.append(tn.toAlphaNumericChar(Math.floor(l/10)%10)),r.append(tn.toAlphaNumericChar(l%10)),a-=3}if(a===2){if(t.available()<7)throw new D;const l=t.readBits(7);if(l>=100)throw new D;r.append(tn.toAlphaNumericChar(Math.floor(l/10))),r.append(tn.toAlphaNumericChar(l%10))}else if(a===1){if(t.available()<4)throw new D;const l=t.readBits(4);if(l>=10)throw new D;r.append(tn.toAlphaNumericChar(l))}}static parseECIValue(t){const r=t.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const a=t.readBits(8);return(r&63)<<8&4294967295|a}if((r&224)===192){const a=t.readBits(16);return(r&31)<<16&4294967295|a}throw new D}}tn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",tn.GB2312_SUBSET=1;class So{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class ou{constructor(){this.rsDecoder=new lr(lt.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(ve.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const a=new gi(t);let l=null;try{return this.decodeBitMatrixParser(a,r)}catch(s){l=s}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const s=this.decodeBitMatrixParser(a,r);return s.setOther(new So(!0)),s}catch(s){throw l!==null?l:s}}decodeBitMatrixParser(t,r){const a=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),s=t.readCodewords(),c=bs.getDataBlocks(s,a,l);let u=0;for(const A of c)u+=A.getNumDataCodewords();const x=new Uint8Array(u);let b=0;for(const A of c){const T=A.getCodewords(),I=A.getNumDataCodewords();this.correctErrors(T,I);for(let L=0;L<I;L++)x[b++]=T[L]}return tn.decode(x,a,l,r)}correctErrors(t,r){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-r)}catch{throw new Z}for(let l=0;l<r;l++)t[l]=a[l]}}class mi extends Ue{constructor(t,r,a){super(t,r),this.estimatedModuleSize=a}aboutEquals(t,r,a){if(Math.abs(r-this.getY())<=t&&Math.abs(a-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,r,a){const l=(this.getX()+r)/2,s=(this.getY()+t)/2,c=(this.estimatedModuleSize+a)/2;return new mi(l,s,c)}}class mr{constructor(t,r,a,l,s,c,u){this.image=t,this.startX=r,this.startY=a,this.width=l,this.height=s,this.moduleSize=c,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,a=this.width,l=t+a,s=this.startY+r/2,c=new Int32Array(3),u=this.image;for(let x=0;x<r;x++){const b=s+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));c[0]=0,c[1]=0,c[2]=0;let A=t;for(;A<l&&!u.get(A,b);)A++;let T=0;for(;A<l;){if(u.get(A,b))if(T===1)c[1]++;else if(T===2){if(this.foundPatternCross(c)){const I=this.handlePossibleCenter(c,b,A);if(I!==null)return I}c[0]=c[2],c[1]=1,c[2]=0,T=1}else c[++T]++;else T===1&&T++,c[T]++;A++}if(this.foundPatternCross(c)){const I=this.handlePossibleCenter(c,b,l);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Q}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,a=r/2;for(let l=0;l<3;l++)if(Math.abs(r-t[l])>=a)return!1;return!0}crossCheckVertical(t,r,a,l){const s=this.image,c=s.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let x=t;for(;x>=0&&s.get(r,x)&&u[1]<=a;)u[1]++,x--;if(x<0||u[1]>a)return NaN;for(;x>=0&&!s.get(r,x)&&u[0]<=a;)u[0]++,x--;if(u[0]>a)return NaN;for(x=t+1;x<c&&s.get(r,x)&&u[1]<=a;)u[1]++,x++;if(x===c||u[1]>a)return NaN;for(;x<c&&!s.get(r,x)&&u[2]<=a;)u[2]++,x++;if(u[2]>a)return NaN;const b=u[0]+u[1]+u[2];return 5*Math.abs(b-l)>=2*l?NaN:this.foundPatternCross(u)?mr.centerFromEnd(u,x):NaN}handlePossibleCenter(t,r,a){const l=t[0]+t[1]+t[2],s=mr.centerFromEnd(t,a),c=this.crossCheckVertical(r,s,2*t[1],l);if(!isNaN(c)){const u=(t[0]+t[1]+t[2])/3;for(const b of this.possibleCenters)if(b.aboutEquals(u,c,s))return b.combineEstimate(c,s,u);const x=new mi(s,c,u);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class el extends Ue{constructor(t,r,a,l){super(t,r),this.estimatedModuleSize=a,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,a){if(Math.abs(r-this.getY())<=t&&Math.abs(a-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,r,a){const l=this.count+1,s=(this.count*this.getX()+r)/l,c=(this.count*this.getY()+t)/l,u=(this.count*this.estimatedModuleSize+a)/l;return new el(s,c,u,l)}}class ys{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class on{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(W.TRY_HARDER)!==void 0,a=t!=null&&t.get(W.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),c=l.getWidth();let u=Math.floor(3*s/(4*on.MAX_MODULES));(u<on.MIN_SKIP||r)&&(u=on.MIN_SKIP);let x=!1;const b=new Int32Array(5);for(let T=u-1;T<s&&!x;T+=u){b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0;let I=0;for(let L=0;L<c;L++)if(l.get(L,T))(I&1)===1&&I++,b[I]++;else if((I&1)===0)if(I===4)if(on.foundPatternCross(b)){if(this.handlePossibleCenter(b,T,L,a)===!0)if(u=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const Y=this.findRowSkip();Y>b[2]&&(T+=Y-b[2]-u,L=c-1)}else{b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,I=3;continue}I=0,b[0]=0,b[1]=0,b[2]=0,b[3]=0,b[4]=0}else b[0]=b[2],b[1]=b[3],b[2]=b[4],b[3]=1,b[4]=0,I=3;else b[++I]++;else b[I]++;on.foundPatternCross(b)&&this.handlePossibleCenter(b,T,c,a)===!0&&(u=b[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return Ue.orderBestPatterns(A),new ys(A)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let s=0;s<5;s++){const c=t[s];if(c===0)return!1;r+=c}if(r<7)return!1;const a=r/7,l=a/2;return Math.abs(a-t[0])<l&&Math.abs(a-t[1])<l&&Math.abs(3*a-t[2])<3*l&&Math.abs(a-t[3])<l&&Math.abs(a-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,a,l){const s=this.getCrossCheckStateCount();let c=0;const u=this.image;for(;t>=c&&r>=c&&u.get(r-c,t-c);)s[2]++,c++;if(t<c||r<c)return!1;for(;t>=c&&r>=c&&!u.get(r-c,t-c)&&s[1]<=a;)s[1]++,c++;if(t<c||r<c||s[1]>a)return!1;for(;t>=c&&r>=c&&u.get(r-c,t-c)&&s[0]<=a;)s[0]++,c++;if(s[0]>a)return!1;const x=u.getHeight(),b=u.getWidth();for(c=1;t+c<x&&r+c<b&&u.get(r+c,t+c);)s[2]++,c++;if(t+c>=x||r+c>=b)return!1;for(;t+c<x&&r+c<b&&!u.get(r+c,t+c)&&s[3]<a;)s[3]++,c++;if(t+c>=x||r+c>=b||s[3]>=a)return!1;for(;t+c<x&&r+c<b&&u.get(r+c,t+c)&&s[4]<a;)s[4]++,c++;if(s[4]>=a)return!1;const A=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(A-l)<2*l&&on.foundPatternCross(s)}crossCheckVertical(t,r,a,l){const s=this.image,c=s.getHeight(),u=this.getCrossCheckStateCount();let x=t;for(;x>=0&&s.get(r,x);)u[2]++,x--;if(x<0)return NaN;for(;x>=0&&!s.get(r,x)&&u[1]<=a;)u[1]++,x--;if(x<0||u[1]>a)return NaN;for(;x>=0&&s.get(r,x)&&u[0]<=a;)u[0]++,x--;if(u[0]>a)return NaN;for(x=t+1;x<c&&s.get(r,x);)u[2]++,x++;if(x===c)return NaN;for(;x<c&&!s.get(r,x)&&u[3]<a;)u[3]++,x++;if(x===c||u[3]>=a)return NaN;for(;x<c&&s.get(r,x)&&u[4]<a;)u[4]++,x++;if(u[4]>=a)return NaN;const b=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(b-l)>=2*l?NaN:on.foundPatternCross(u)?on.centerFromEnd(u,x):NaN}crossCheckHorizontal(t,r,a,l){const s=this.image,c=s.getWidth(),u=this.getCrossCheckStateCount();let x=t;for(;x>=0&&s.get(x,r);)u[2]++,x--;if(x<0)return NaN;for(;x>=0&&!s.get(x,r)&&u[1]<=a;)u[1]++,x--;if(x<0||u[1]>a)return NaN;for(;x>=0&&s.get(x,r)&&u[0]<=a;)u[0]++,x--;if(u[0]>a)return NaN;for(x=t+1;x<c&&s.get(x,r);)u[2]++,x++;if(x===c)return NaN;for(;x<c&&!s.get(x,r)&&u[3]<a;)u[3]++,x++;if(x===c||u[3]>=a)return NaN;for(;x<c&&s.get(x,r)&&u[4]<a;)u[4]++,x++;if(u[4]>=a)return NaN;const b=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(b-l)>=l?NaN:on.foundPatternCross(u)?on.centerFromEnd(u,x):NaN}handlePossibleCenter(t,r,a,l){const s=t[0]+t[1]+t[2]+t[3]+t[4];let c=on.centerFromEnd(t,a),u=this.crossCheckVertical(r,Math.floor(c),t[2],s);if(!isNaN(u)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(u),t[2],s),!isNaN(c)&&(!l||this.crossCheckDiagonal(Math.floor(u),Math.floor(c),t[2],s)))){const x=s/7;let b=!1;const A=this.possibleCenters;for(let T=0,I=A.length;T<I;T++){const L=A[T];if(L.aboutEquals(x,u,c)){A[T]=L.combineEstimate(u,c,x),b=!0;break}}if(!b){const T=new el(c,u,x);A.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const a of this.possibleCenters)if(a.getCount()>=on.CENTER_QUORUM)if(r==null)r=a;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const a=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=on.CENTER_QUORUM&&(t++,r+=c.getEstimatedModuleSize());if(t<3)return!1;const l=r/a;let s=0;for(const c of this.possibleCenters)s+=Math.abs(c.getEstimatedModuleSize()-l);return s<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new Q;const r=this.possibleCenters;let a;if(t>3){let l=0,s=0;for(const x of this.possibleCenters){const b=x.getEstimatedModuleSize();l+=b,s+=b*b}a=l/t;let c=Math.sqrt(s/t-a*a);r.sort((x,b)=>{const A=Math.abs(b.getEstimatedModuleSize()-a),T=Math.abs(x.getEstimatedModuleSize()-a);return A<T?-1:A>T?1:0});const u=Math.max(.2*a,c);for(let x=0;x<r.length&&r.length>3;x++){const b=r[x];Math.abs(b.getEstimatedModuleSize()-a)>u&&(r.splice(x,1),x--)}}if(r.length>3){let l=0;for(const s of r)l+=s.getEstimatedModuleSize();a=l/r.length,r.sort((s,c)=>{if(c.getCount()===s.getCount()){const u=Math.abs(c.getEstimatedModuleSize()-a),x=Math.abs(s.getEstimatedModuleSize()-a);return u<x?1:u>x?-1:0}else return c.getCount()-s.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}on.CENTER_QUORUM=2,on.MIN_SKIP=3,on.MAX_MODULES=57;class Yr{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(W.NEED_RESULT_POINT_CALLBACK);const a=new on(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(a)}processFinderPatternInfo(t){const r=t.getTopLeft(),a=t.getTopRight(),l=t.getBottomLeft(),s=this.calculateModuleSize(r,a,l);if(s<1)throw new Q("No pattern found in proccess finder.");const c=Yr.computeDimension(r,a,l,s),u=Xe.getProvisionalVersionForDimension(c),x=u.getDimensionForVersion()-7;let b=null;if(u.getAlignmentPatternCenters().length>0){const L=a.getX()-r.getX()+l.getX(),G=a.getY()-r.getY()+l.getY(),Y=1-3/x,ae=Math.floor(r.getX()+Y*(L-r.getX())),fe=Math.floor(r.getY()+Y*(G-r.getY()));for(let Me=4;Me<=16;Me<<=1)try{b=this.findAlignmentInRegion(s,ae,fe,Me);break}catch(De){if(!(De instanceof Q))throw De}}const A=Yr.createTransform(r,a,l,b,c),T=Yr.sampleGrid(this.image,A,c);let I;return b===null?I=[l,r,a]:I=[l,r,a,b],new Sr(T,I)}static createTransform(t,r,a,l,s){const c=s-3.5;let u,x,b,A;return l!==null?(u=l.getX(),x=l.getY(),b=c-3,A=b):(u=r.getX()-t.getX()+a.getX(),x=r.getY()-t.getY()+a.getY(),b=c,A=c),Zn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,b,A,3.5,c,t.getX(),t.getY(),r.getX(),r.getY(),u,x,a.getX(),a.getY())}static sampleGrid(t,r,a){return nr.getInstance().sampleGridWithTransform(t,a,a,r)}static computeDimension(t,r,a,l){const s=rt.round(Ue.distance(t,r)/l),c=rt.round(Ue.distance(t,a)/l);let u=Math.floor((s+c)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new Q("Dimensions could be not found.")}return u}calculateModuleSize(t,r,a){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,a))/2}calculateModuleSizeOneWay(t,r){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?l/7:isNaN(l)?a/7:(a+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,a,l){let s=this.sizeOfBlackWhiteBlackRun(t,r,a,l),c=1,u=t-(a-t);u<0?(c=t/(t-u),u=0):u>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(u-t),u=this.image.getWidth()-1);let x=Math.floor(r-(l-r)*c);return c=1,x<0?(c=r/(r-x),x=0):x>=this.image.getHeight()&&(c=(this.image.getHeight()-1-r)/(x-r),x=this.image.getHeight()-1),u=Math.floor(t+(u-t)*c),s+=this.sizeOfBlackWhiteBlackRun(t,r,u,x),s-1}sizeOfBlackWhiteBlackRun(t,r,a,l){const s=Math.abs(l-r)>Math.abs(a-t);if(s){let L=t;t=r,r=L,L=a,a=l,l=L}const c=Math.abs(a-t),u=Math.abs(l-r);let x=-c/2;const b=t<a?1:-1,A=r<l?1:-1;let T=0;const I=a+b;for(let L=t,G=r;L!==I;L+=b){const Y=s?G:L,ae=s?L:G;if(T===1===this.image.get(Y,ae)){if(T===2)return rt.distance(L,G,t,r);T++}if(x+=u,x>0){if(G===l)break;G+=A,x-=c}}return T===2?rt.distance(a+b,l,t,r):NaN}findAlignmentInRegion(t,r,a,l){const s=Math.floor(l*t),c=Math.max(0,r-s),u=Math.min(this.image.getWidth()-1,r+s);if(u-c<t*3)throw new Q("Alignment top exceeds estimated module size.");const x=Math.max(0,a-s),b=Math.min(this.image.getHeight()-1,a+s);if(b-x<t*3)throw new Q("Alignment bottom exceeds estimated module size.");return new mr(this.image,c,x,u-c,b-x,t,this.resultPointCallback).find()}}class sa{constructor(){this.decoder=new ou}getDecoder(){return this.decoder}decode(t,r){let a,l;if(r!=null&&r.get(W.PURE_BARCODE)!==void 0){const x=sa.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(x,r),l=sa.NO_POINTS}else{const x=new Yr(t.getBlackMatrix()).detect(r);a=this.decoder.decodeBitMatrix(x.getBits(),r),l=x.getPoints()}a.getOther()instanceof So&&a.getOther().applyMirroredCorrection(l);const s=new Be(a.getText(),a.getRawBytes(),void 0,l,we.QR_CODE,void 0),c=a.getByteSegments();c!==null&&s.putMetadata(J.BYTE_SEGMENTS,c);const u=a.getECLevel();return u!==null&&s.putMetadata(J.ERROR_CORRECTION_LEVEL,u),a.hasStructuredAppend()&&(s.putMetadata(J.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),s.putMetadata(J.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),s}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(r===null||a===null)throw new Q;const l=this.moduleSize(r,t);let s=r[1],c=a[1],u=r[0],x=a[0];if(u>=x||s>=c)throw new Q;if(c-s!==x-u&&(x=u+(c-s),x>=t.getWidth()))throw new Q;const b=Math.round((x-u+1)/l),A=Math.round((c-s+1)/l);if(b<=0||A<=0)throw new Q;if(A!==b)throw new Q;const T=Math.floor(l/2);s+=T,u+=T;const I=u+Math.floor((b-1)*l)-x;if(I>0){if(I>T)throw new Q;u-=I}const L=s+Math.floor((A-1)*l)-c;if(L>0){if(L>T)throw new Q;s-=L}const G=new ve(b,A);for(let Y=0;Y<A;Y++){const ae=s+Math.floor(Y*l);for(let fe=0;fe<b;fe++)t.get(u+Math.floor(fe*l),ae)&&G.set(fe,Y)}return G}static moduleSize(t,r){const a=r.getHeight(),l=r.getWidth();let s=t[0],c=t[1],u=!0,x=0;for(;s<l&&c<a;){if(u!==r.get(s,c)){if(++x===5)break;u=!u}s++,c++}if(s===l||c===a)throw new Q;return(s-t[0])/7}}sa.NO_POINTS=new Array;class Ke{PDF417Common(){}static getBitCountSum(t){return rt.sum(t)}static toIntArray(t){if(t==null||!t.length)return Ke.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let a=0;for(const l of t)r[a++]=l;return r}static getCodeword(t){const r=H.binarySearch(Ke.SYMBOL_TABLE,t&262143);return r<0?-1:(Ke.CODEWORD_TABLE[r]-1)%Ke.NUMBER_OF_CODEWORDS}}Ke.NUMBER_OF_CODEWORDS=929,Ke.MAX_CODEWORDS_IN_BARCODE=Ke.NUMBER_OF_CODEWORDS-1,Ke.MIN_ROWS_IN_BARCODE=3,Ke.MAX_ROWS_IN_BARCODE=90,Ke.MODULES_IN_CODEWORD=17,Ke.MODULES_IN_STOP_PATTERN=18,Ke.BARS_IN_MODULE=8,Ke.EMPTY_INT_ARRAY=new Int32Array([]),Ke.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ke.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class To{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class it{static detectMultiple(t,r,a){let l=t.getBlackMatrix(),s=it.detect(a,l);return s.length||(l=l.clone(),l.rotate180(),s=it.detect(a,l)),new To(l,s)}static detect(t,r){const a=new Array;let l=0,s=0,c=!1;for(;l<r.getHeight();){const u=it.findVertices(r,l,s);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,s=0;for(const x of a)x[1]!=null&&(l=Math.trunc(Math.max(l,x[1].getY()))),x[3]!=null&&(l=Math.max(l,Math.trunc(x[3].getY())));l+=it.ROW_STEP;continue}if(c=!0,a.push(u),!t)break;u[2]!=null?(s=Math.trunc(u[2].getX()),l=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),l=Math.trunc(u[4].getY()))}return a}static findVertices(t,r,a){const l=t.getHeight(),s=t.getWidth(),c=new Array(8);return it.copyToResult(c,it.findRowsWithPattern(t,l,s,r,a,it.START_PATTERN),it.INDEXES_START_PATTERN),c[4]!=null&&(a=Math.trunc(c[4].getX()),r=Math.trunc(c[4].getY())),it.copyToResult(c,it.findRowsWithPattern(t,l,s,r,a,it.STOP_PATTERN),it.INDEXES_STOP_PATTERN),c}static copyToResult(t,r,a){for(let l=0;l<a.length;l++)t[a[l]]=r[l]}static findRowsWithPattern(t,r,a,l,s,c){const u=new Array(4);let x=!1;const b=new Int32Array(c.length);for(;l<r;l+=it.ROW_STEP){let T=it.findGuardPattern(t,s,l,a,!1,c,b);if(T!=null){for(;l>0;){const I=it.findGuardPattern(t,s,--l,a,!1,c,b);if(I!=null)T=I;else{l++;break}}u[0]=new Ue(T[0],l),u[1]=new Ue(T[1],l),x=!0;break}}let A=l+1;if(x){let T=0,I=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;A<r;A++){const L=it.findGuardPattern(t,I[0],A,a,!1,c,b);if(L!=null&&Math.abs(I[0]-L[0])<it.MAX_PATTERN_DRIFT&&Math.abs(I[1]-L[1])<it.MAX_PATTERN_DRIFT)I=L,T=0;else{if(T>it.SKIPPED_ROW_COUNT_MAX)break;T++}}A-=T+1,u[2]=new Ue(I[0],A),u[3]=new Ue(I[1],A)}return A-l<it.BARCODE_MIN_HEIGHT&&H.fill(u,null),u}static findGuardPattern(t,r,a,l,s,c,u){H.fillWithin(u,0,u.length,0);let x=r,b=0;for(;t.get(x,a)&&x>0&&b++<it.MAX_PIXEL_DRIFT;)x--;let A=x,T=0,I=c.length;for(let L=s;A<l;A++)if(t.get(A,a)!==L)u[T]++;else{if(T===I-1){if(it.patternMatchVariance(u,c,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return new Int32Array([x,A]);x+=u[0]+u[1],ne.arraycopy(u,2,u,0,T-1),u[T-1]=0,u[T]=0,T--}else T++;u[T]=1,L=!L}return T===I-1&&it.patternMatchVariance(u,c,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE?new Int32Array([x,A-1]):null}static patternMatchVariance(t,r,a){let l=t.length,s=0,c=0;for(let b=0;b<l;b++)s+=t[b],c+=r[b];if(s<c)return 1/0;let u=s/c;a*=u;let x=0;for(let b=0;b<l;b++){let A=t[b],T=r[b]*u,I=A>T?A-T:T-A;if(I>a)return 1/0;x+=I}return x/s}}it.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),it.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),it.MAX_AVG_VARIANCE=.42,it.MAX_INDIVIDUAL_VARIANCE=.8,it.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),it.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),it.MAX_PIXEL_DRIFT=3,it.MAX_PATTERN_DRIFT=5,it.SKIPPED_ROW_COUNT_MAX=25,it.ROW_STEP=5,it.BARCODE_MIN_HEIGHT=10;class nn{constructor(t,r){if(r.length===0)throw new M;this.field=t;let a=r.length;if(a>1&&r[0]===0){let l=1;for(;l<a&&r[l]===0;)l++;l===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-l),ne.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let s of this.coefficients)l=this.field.add(l,s);return l}let r=this.coefficients[0],a=this.coefficients.length;for(let l=1;l<a;l++)r=this.field.add(this.field.multiply(t,r),this.coefficients[l]);return r}add(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,a=t.coefficients;if(r.length>a.length){let c=r;r=a,a=c}let l=new Int32Array(a.length),s=a.length-r.length;ne.arraycopy(a,0,l,0,s);for(let c=s;c<a.length;c++)l[c]=this.field.add(r[c-s],a[c]);return new nn(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof nn?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new nn(this.field,new Int32Array([0]));let r=this.coefficients,a=r.length,l=t.coefficients,s=l.length,c=new Int32Array(a+s-1);for(let u=0;u<a;u++){let x=r[u];for(let b=0;b<s;b++)c[u+b]=this.field.add(c[u+b],this.field.multiply(x,l[b]))}return new nn(this.field,c)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let a=0;a<t;a++)r[a]=this.field.subtract(0,this.coefficients[a]);return new nn(this.field,r)}multiplyScalar(t){if(t===0)return new nn(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,a=new Int32Array(r);for(let l=0;l<r;l++)a[l]=this.field.multiply(this.coefficients[l],t);return new nn(this.field,a)}multiplyByMonomial(t,r){if(t<0)throw new M;if(r===0)return new nn(this.field,new Int32Array([0]));let a=this.coefficients.length,l=new Int32Array(a+t);for(let s=0;s<a;s++)l[s]=this.field.multiply(this.coefficients[s],r);return new nn(this.field,l)}toString(){let t=new Ae;for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(r===0||a!==1)&&t.append(a),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class ws{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new M;return this.logTable[t]}inverse(t){if(t===0)throw new Ot;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class za extends ws{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let a=1;for(let l=0;l<t;l++)this.expTable[l]=a,a=a*r%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new nn(this,new Int32Array([0])),this.one=new nn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new M;if(r===0)return this.zero;let a=new Int32Array(t+1);return a[0]=r,new nn(this,a)}}za.PDF417_GF=new za(Ke.NUMBER_OF_CODEWORDS,3);class oa{constructor(){this.field=za.PDF417_GF}decode(t,r,a){let l=new nn(this.field,t),s=new Int32Array(r),c=!1;for(let G=r;G>0;G--){let Y=l.evaluateAt(this.field.exp(G));s[r-G]=Y,Y!==0&&(c=!0)}if(!c)return 0;let u=this.field.getOne();if(a!=null)for(const G of a){let Y=this.field.exp(t.length-1-G),ae=new nn(this.field,new Int32Array([this.field.subtract(0,Y),1]));u=u.multiply(ae)}let x=new nn(this.field,s),b=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),x,r),A=b[0],T=b[1],I=this.findErrorLocations(A),L=this.findErrorMagnitudes(T,A,I);for(let G=0;G<I.length;G++){let Y=t.length-1-this.field.log(I[G]);if(Y<0)throw Z.getChecksumInstance();t[Y]=this.field.subtract(t[Y],L[G])}return I.length}runEuclideanAlgorithm(t,r,a){if(t.getDegree()<r.getDegree()){let I=t;t=r,r=I}let l=t,s=r,c=this.field.getZero(),u=this.field.getOne();for(;s.getDegree()>=Math.round(a/2);){let I=l,L=c;if(l=s,c=u,l.isZero())throw Z.getChecksumInstance();s=I;let G=this.field.getZero(),Y=l.getCoefficient(l.getDegree()),ae=this.field.inverse(Y);for(;s.getDegree()>=l.getDegree()&&!s.isZero();){let fe=s.getDegree()-l.getDegree(),Me=this.field.multiply(s.getCoefficient(s.getDegree()),ae);G=G.add(this.field.buildMonomial(fe,Me)),s=s.subtract(l.multiplyByMonomial(fe,Me))}u=G.multiply(c).subtract(L).negative()}let x=u.getCoefficient(0);if(x===0)throw Z.getChecksumInstance();let b=this.field.inverse(x),A=u.multiply(b),T=s.multiply(b);return[A,T]}findErrorLocations(t){let r=t.getDegree(),a=new Int32Array(r),l=0;for(let s=1;s<this.field.getSize()&&l<r;s++)t.evaluateAt(s)===0&&(a[l]=this.field.inverse(s),l++);if(l!==r)throw Z.getChecksumInstance();return a}findErrorMagnitudes(t,r,a){let l=r.getDegree(),s=new Int32Array(l);for(let b=1;b<=l;b++)s[l-b]=this.field.multiply(b,r.getCoefficient(b));let c=new nn(this.field,s),u=a.length,x=new Int32Array(u);for(let b=0;b<u;b++){let A=this.field.inverse(a[b]),T=this.field.subtract(0,t.evaluateAt(A)),I=this.field.inverse(c.evaluateAt(A));x[b]=this.field.multiply(T,I)}return x}}class ca{constructor(t,r,a,l,s){t instanceof ca?this.constructor_2(t):this.constructor_1(t,r,a,l,s)}constructor_1(t,r,a,l,s){const c=r==null||a==null,u=l==null||s==null;if(c&&u)throw new Q;c?(r=new Ue(0,l.getY()),a=new Ue(0,s.getY())):u&&(l=new Ue(t.getWidth()-1,r.getY()),s=new Ue(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=r,this.bottomLeft=a,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(r.getX(),a.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(r.getY(),l.getY())),this.maxY=Math.trunc(Math.max(a.getY(),s.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new ca(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,a){let l=this.topLeft,s=this.bottomLeft,c=this.topRight,u=this.bottomRight;if(t>0){let x=a?this.topLeft:this.topRight,b=Math.trunc(x.getY()-t);b<0&&(b=0);let A=new Ue(x.getX(),b);a?l=A:c=A}if(r>0){let x=a?this.bottomLeft:this.bottomRight,b=Math.trunc(x.getY()+r);b>=this.image.getHeight()&&(b=this.image.getHeight()-1);let A=new Ue(x.getX(),b);a?s=A:u=A}return new ca(this.image,l,s,c,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Nl{constructor(t,r,a,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=r,this.rowCountLowerPart=a,this.rowCount=r+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class pi{constructor(){this.buffer=""}static form(t,r){let a=-1;function l(c,u,x,b,A,T){if(c==="%%")return"%";if(r[++a]===void 0)return;c=b?parseInt(b.substr(1)):void 0;let I=A?parseInt(A.substr(1)):void 0,L;switch(T){case"s":L=r[a];break;case"c":L=r[a][0];break;case"f":L=parseFloat(r[a]).toFixed(c);break;case"p":L=parseFloat(r[a]).toPrecision(c);break;case"e":L=parseFloat(r[a]).toExponential(c);break;case"x":L=parseInt(r[a]).toString(I||16);break;case"d":L=parseFloat(parseInt(r[a],I||10).toPrecision(c)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let G=parseInt(x),Y=x&&x[0]+""=="0"?"0":" ";for(;L.length<G;)L=u!==void 0?L+Y:Y+L;return L}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}format(t,...r){this.buffer+=pi.form(t,r)}toString(){return this.buffer}}class va{constructor(t){this.boundingBox=new ca(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let a=1;a<va.MAX_NEARBY_DISTANCE;a++){let l=this.imageRowToCodewordIndex(t)-a;if(l>=0&&(r=this.codewords[l],r!=null)||(l=this.imageRowToCodewordIndex(t)+a,l<this.codewords.length&&(r=this.codewords[l],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new pi;let r=0;for(const a of this.codewords){if(a==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue())}return t.toString()}}va.MAX_NEARBY_DISTANCE=5;class Sa{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[a,l]of this.values.entries()){const s={getKey:()=>a,getValue:()=>l};s.getValue()>t?(t=s.getValue(),r=[],r.push(s.getKey())):s.getValue()===t&&r.push(s.getKey())}return Ke.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class Es extends va{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),x=-1,b=1,A=0;for(let T=c;T<u;T++){if(r[T]==null)continue;let I=r[T],L=I.getRowNumber()-x;if(L===0)A++;else if(L===1)b=Math.max(b,A),A=1,x=I.getRowNumber();else if(L<0||I.getRowNumber()>=t.getRowCount()||L>T)r[T]=null;else{let G;b>2?G=(b-2)*L:G=L;let Y=G>=T;for(let ae=1;ae<=G&&!Y;ae++)Y=r[T-ae]!=null;Y?r[T]=null:(x=I.getRowNumber(),A=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let a of this.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=r.length)continue;r[l]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),l=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),u=this.getCodewords(),x=-1;for(let b=s;b<c;b++){if(u[b]==null)continue;let A=u[b];A.setRowNumberAsRowIndicatorColumn();let T=A.getRowNumber()-x;T===0||(T===1?x=A.getRowNumber():A.getRowNumber()>=t.getRowCount()?u[b]=null:x=A.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new Sa,a=new Sa,l=new Sa,s=new Sa;for(let u of t){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let x=u.getValue()%30,b=u.getRowNumber();switch(this._isLeft||(b+=2),b%3){case 0:a.setValue(x*3+1);break;case 1:s.setValue(x/3),l.setValue(x%3);break;case 2:r.setValue(x+1);break}}if(r.getValue().length===0||a.getValue().length===0||l.getValue().length===0||s.getValue().length===0||r.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<Ke.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>Ke.MAX_ROWS_IN_BARCODE)return null;let c=new Nl(r.getValue()[0],a.getValue()[0],l.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,r){for(let a=0;a<t.length;a++){let l=t[a];if(t[a]==null)continue;let s=l.getValue()%30,c=l.getRowNumber();if(c>r.getRowCount()){t[a]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[a]=null);break;case 2:s+1!==r.getColumnCount()&&(t[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class kn{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Ke.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let a=this.detectionResultColumns[r].getCodewords();for(let l=0;l<a.length;l++)a[l]!=null&&(a[l].hasValidRowNumber()||this.adjustRowNumbers(r,l,a))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<t.length;a++)if(t[a]!=null&&r[a]!=null&&t[a].getRowNumber()===r[a].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let s=this.detectionResultColumns[l].getCodewords()[a];s!=null&&(s.setRowNumber(t[a].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let l=r[a].getRowNumber(),s=0;for(let c=this.barcodeColumnCount+1;c>0&&s<this.ADJUST_ROW_NUMBER_SKIP;c--){let u=this.detectionResultColumns[c].getCodewords()[a];u!=null&&(s=kn.adjustRowNumberIfValid(l,s,u),u.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let l=r[a].getRowNumber(),s=0;for(let c=1;c<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;c++){let u=this.detectionResultColumns[c].getCodewords()[a];u!=null&&(s=kn.adjustRowNumberIfValid(l,s,u),u.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,a){if(!this.detectionResultColumns[t-1])return;let l=a[r],s=this.detectionResultColumns[t-1].getCodewords(),c=s;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let u=new Array(14);u[2]=s[r],u[3]=c[r],r>0&&(u[0]=a[r-1],u[4]=s[r-1],u[5]=c[r-1]),r>1&&(u[8]=a[r-2],u[10]=s[r-2],u[11]=c[r-2]),r<a.length-1&&(u[1]=a[r+1],u[6]=s[r+1],u[7]=c[r+1]),r<a.length-2&&(u[9]=a[r+2],u[12]=s[r+2],u[13]=c[r+2]);for(let x of u)if(kn.adjustRowNumber(l,x))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new pi;for(let a=0;a<t.getCodewords().length;a++){r.format("CW %3d:",a);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){r.format("    |   ");continue}let s=this.detectionResultColumns[l].getCodewords()[a];if(s==null){r.format("    |   ");continue}r.format(" %3d|%3d",s.getRowNumber(),s.getValue())}r.format("%n")}return r.toString()}}class Rr{constructor(t,r,a,l){this.rowNumber=Rr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(a),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Rr.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Rr.BARCODE_ROW_UNKNOWN=-1;class Fn{static initialize(){for(let t=0;t<Ke.SYMBOL_TABLE.length;t++){let r=Ke.SYMBOL_TABLE[t],a=r&1;for(let l=0;l<Ke.BARS_IN_MODULE;l++){let s=0;for(;(r&1)===a;)s+=1,r>>=1;a=r&1,Fn.RATIOS_TABLE[t]||(Fn.RATIOS_TABLE[t]=new Array(Ke.BARS_IN_MODULE)),Fn.RATIOS_TABLE[t][Ke.BARS_IN_MODULE-l-1]=Math.fround(s/Ke.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Fn.getDecodedCodewordValue(Fn.sampleBitCounts(t));return r!==-1?r:Fn.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=rt.sum(t),a=new Int32Array(Ke.BARS_IN_MODULE),l=0,s=0;for(let c=0;c<Ke.MODULES_IN_CODEWORD;c++){let u=r/(2*Ke.MODULES_IN_CODEWORD)+c*r/Ke.MODULES_IN_CODEWORD;s+t[l]<=u&&(s+=t[l],l++),a[l]++}return a}static getDecodedCodewordValue(t){let r=Fn.getBitValue(t);return Ke.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let a=0;a<t.length;a++)for(let l=0;l<t[a];l++)r=r<<1|(a%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=rt.sum(t),a=new Array(Ke.BARS_IN_MODULE);if(r>1)for(let c=0;c<a.length;c++)a[c]=Math.fround(t[c]/r);let l=tr.MAX_VALUE,s=-1;this.bSymbolTableReady||Fn.initialize();for(let c=0;c<Fn.RATIOS_TABLE.length;c++){let u=0,x=Fn.RATIOS_TABLE[c];for(let b=0;b<Ke.BARS_IN_MODULE;b++){let A=Math.fround(x[b]-a[b]);if(u+=Math.fround(A*A),u>=l)break}u<l&&(l=u,s=Ke.SYMBOL_TABLE[c])}return s}}Fn.bSymbolTableReady=!1,Fn.RATIOS_TABLE=new Array(Ke.SYMBOL_TABLE.length).map(S=>new Array(Ke.BARS_IN_MODULE));class bi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class No{static parseLong(t,r=void 0){return parseInt(t,r)}}class _l extends C{}_l.kind="NullPointerException";class Cs{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,a){if(t==null)throw new _l;if(r<0||r>t.length||a<0||r+a>t.length||r+a<0)throw new re;if(a===0)return;for(let l=0;l<a;l++)this.write(t[r+l])}flush(){}close(){}}class tl extends C{}class Il extends Cs{constructor(t=32){if(super(),this.count=0,t<0)throw new M("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let a=this.buf.length<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new tl;a=F.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,a)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,a){if(r<0||r>t.length||a<0||r+a-t.length>0)throw new re;this.ensureCapacity(this.count+a),ne.arraycopy(t,r,this.buf,this.count,a),this.count+=a}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var zt;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(zt||(zt={}));function _o(){if(typeof window<"u")return window.BigInt||null;if(typeof Uc<"u")return Uc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ol;function Ta(S){if(typeof Ol>"u"&&(Ol=_o()),Ol===null)throw new Error("BigInt is not supported!");return Ol(S)}function As(){let S=[];S[0]=Ta(1);let t=Ta(900);S[1]=t;for(let r=2;r<16;r++)S[r]=S[r-1]*t;return S}class he{static decode(t,r){let a=new Ae(""),l=K.ISO8859_1;a.enableDecoding(l);let s=1,c=t[s++],u=new bi;for(;s<t[0];){switch(c){case he.TEXT_COMPACTION_MODE_LATCH:s=he.textCompaction(t,s,a);break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:s=he.byteCompaction(c,t,l,s,a);break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[s++]);break;case he.NUMERIC_COMPACTION_MODE_LATCH:s=he.numericCompaction(t,s,a);break;case he.ECI_CHARSET:K.getCharacterSetECIByValue(t[s++]);break;case he.ECI_GENERAL_PURPOSE:s+=2;break;case he.ECI_USER_DEFINED:s++;break;case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=he.decodeMacroBlock(t,s,u);break;case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:throw new D;default:s--,s=he.textCompaction(t,s,a);break}if(s<t.length)c=t[s++];else throw D.getFormatInstance()}if(a.length()===0)throw D.getFormatInstance();let x=new Oe(null,a.toString(),null,r);return x.setOther(u),x}static decodeMacroBlock(t,r,a){if(r+he.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw D.getFormatInstance();let l=new Int32Array(he.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<he.NUMBER_OF_SEQUENCE_CODEWORDS;u++,r++)l[u]=t[r];a.setSegmentIndex(F.parseInt(he.decodeBase900toBase10(l,he.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Ae;r=he.textCompaction(t,r,s),a.setFileId(s.toString());let c=-1;for(t[r]===he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=r+1);r<t[0];)switch(t[r]){case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Ae;r=he.textCompaction(t,r+1,u),a.setFileName(u.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new Ae;r=he.textCompaction(t,r+1,x),a.setSender(x.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let b=new Ae;r=he.textCompaction(t,r+1,b),a.setAddressee(b.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new Ae;r=he.numericCompaction(t,r+1,A),a.setSegmentCount(F.parseInt(A.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new Ae;r=he.numericCompaction(t,r+1,T),a.setTimestamp(No.parseLong(T.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Ae;r=he.numericCompaction(t,r+1,I),a.setChecksum(F.parseInt(I.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new Ae;r=he.numericCompaction(t,r+1,L),a.setFileSize(No.parseLong(L.toString()));break;default:throw D.getFormatInstance()}break;case he.MACRO_PDF417_TERMINATOR:r++,a.setLastSegment(!0);break;default:throw D.getFormatInstance()}if(c!==-1){let u=r-c;a.isLastSegment()&&u--,a.setOptionalData(H.copyOfRange(t,c,c+u))}return r}static textCompaction(t,r,a){let l=new Int32Array((t[0]-r)*2),s=new Int32Array((t[0]-r)*2),c=0,u=!1;for(;r<t[0]&&!u;){let x=t[r++];if(x<he.TEXT_COMPACTION_MODE_LATCH)l[c]=x/30,l[c+1]=x%30,c+=2;else switch(x){case he.TEXT_COMPACTION_MODE_LATCH:l[c++]=he.TEXT_COMPACTION_MODE_LATCH;break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:r--,u=!0;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[c]=he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[r++],s[c]=x,c++;break}}return he.decodeTextCompaction(l,s,c,a),r}static decodeTextCompaction(t,r,a,l){let s=zt.ALPHA,c=zt.ALPHA,u=0;for(;u<a;){let x=t[u],b="";switch(s){case zt.ALPHA:if(x<26)b=String.fromCharCode(65+x);else switch(x){case 26:b=" ";break;case he.LL:s=zt.LOWER;break;case he.ML:s=zt.MIXED;break;case he.PS:c=s,s=zt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[u]);break;case he.TEXT_COMPACTION_MODE_LATCH:s=zt.ALPHA;break}break;case zt.LOWER:if(x<26)b=String.fromCharCode(97+x);else switch(x){case 26:b=" ";break;case he.AS:c=s,s=zt.ALPHA_SHIFT;break;case he.ML:s=zt.MIXED;break;case he.PS:c=s,s=zt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[u]);break;case he.TEXT_COMPACTION_MODE_LATCH:s=zt.ALPHA;break}break;case zt.MIXED:if(x<he.PL)b=he.MIXED_CHARS[x];else switch(x){case he.PL:s=zt.PUNCT;break;case 26:b=" ";break;case he.LL:s=zt.LOWER;break;case he.AL:s=zt.ALPHA;break;case he.PS:c=s,s=zt.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[u]);break;case he.TEXT_COMPACTION_MODE_LATCH:s=zt.ALPHA;break}break;case zt.PUNCT:if(x<he.PAL)b=he.PUNCT_CHARS[x];else switch(x){case he.PAL:s=zt.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[u]);break;case he.TEXT_COMPACTION_MODE_LATCH:s=zt.ALPHA;break}break;case zt.ALPHA_SHIFT:if(s=c,x<26)b=String.fromCharCode(65+x);else switch(x){case 26:b=" ";break;case he.TEXT_COMPACTION_MODE_LATCH:s=zt.ALPHA;break}break;case zt.PUNCT_SHIFT:if(s=c,x<he.PAL)b=he.PUNCT_CHARS[x];else switch(x){case he.PAL:s=zt.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[u]);break;case he.TEXT_COMPACTION_MODE_LATCH:s=zt.ALPHA;break}break}b!==""&&l.append(b),u++}}static byteCompaction(t,r,a,l,s){let c=new Il,u=0,x=0,b=!1;switch(t){case he.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),T=r[l++];for(;l<r[0]&&!b;)switch(A[u++]=T,x=900*x+T,T=r[l++],T){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:l--,b=!0;break;default:if(u%5===0&&u>0){for(let I=0;I<6;++I)c.write(Number(Ta(x)>>Ta(8*(5-I))));x=0,u=0}break}l===r[0]&&T<he.TEXT_COMPACTION_MODE_LATCH&&(A[u++]=T);for(let I=0;I<u;I++)c.write(A[I]);break;case he.BYTE_COMPACTION_MODE_LATCH_6:for(;l<r[0]&&!b;){let I=r[l++];if(I<he.TEXT_COMPACTION_MODE_LATCH)u++,x=900*x+I;else switch(I){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:l--,b=!0;break}if(u%5===0&&u>0){for(let L=0;L<6;++L)c.write(Number(Ta(x)>>Ta(8*(5-L))));x=0,u=0}}break}return s.append(ce.decode(c.toByteArray(),a)),l}static numericCompaction(t,r,a){let l=0,s=!1,c=new Int32Array(he.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!s;){let u=t[r++];if(r===t[0]&&(s=!0),u<he.TEXT_COMPACTION_MODE_LATCH)c[l]=u,l++;else switch(u){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:r--,s=!0;break}(l%he.MAX_NUMERIC_CODEWORDS===0||u===he.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(a.append(he.decodeBase900toBase10(c,l)),l=0)}return r}static decodeBase900toBase10(t,r){let a=Ta(0);for(let s=0;s<r;s++)a+=he.EXP900[r-s-1]*Ta(t[s]);let l=a.toString();if(l.charAt(0)!=="1")throw new D;return l.substring(1)}}he.TEXT_COMPACTION_MODE_LATCH=900,he.BYTE_COMPACTION_MODE_LATCH=901,he.NUMERIC_COMPACTION_MODE_LATCH=902,he.BYTE_COMPACTION_MODE_LATCH_6=924,he.ECI_USER_DEFINED=925,he.ECI_GENERAL_PURPOSE=926,he.ECI_CHARSET=927,he.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,he.MACRO_PDF417_TERMINATOR=922,he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,he.MAX_NUMERIC_CODEWORDS=15,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,he.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,he.PL=25,he.LL=27,he.AS=27,he.ML=28,he.AL=28,he.PS=29,he.PAL=29,he.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,he.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",he.EXP900=_o()?As():[],he.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ht{constructor(){}static decode(t,r,a,l,s,c,u){let x=new ca(t,r,a,l,s),b=null,A=null,T;for(let G=!0;;G=!1){if(r!=null&&(b=ht.getRowIndicatorColumn(t,x,r,!0,c,u)),l!=null&&(A=ht.getRowIndicatorColumn(t,x,l,!1,c,u)),T=ht.merge(b,A),T==null)throw Q.getNotFoundInstance();let Y=T.getBoundingBox();if(G&&Y!=null&&(Y.getMinY()<x.getMinY()||Y.getMaxY()>x.getMaxY()))x=Y;else break}T.setBoundingBox(x);let I=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,b),T.setDetectionResultColumn(I,A);let L=b!=null;for(let G=1;G<=I;G++){let Y=L?G:I-G;if(T.getDetectionResultColumn(Y)!==void 0)continue;let ae;Y===0||Y===I?ae=new Es(x,Y===0):ae=new va(x),T.setDetectionResultColumn(Y,ae);let fe=-1,Me=fe;for(let De=x.getMinY();De<=x.getMaxY();De++){if(fe=ht.getStartColumn(T,Y,De,L),fe<0||fe>x.getMaxX()){if(Me===-1)continue;fe=Me}let Ne=ht.detectCodeword(t,x.getMinX(),x.getMaxX(),L,fe,De,c,u);Ne!=null&&(ae.setCodeword(De,Ne),Me=fe,c=Math.min(c,Ne.getWidth()),u=Math.max(u,Ne.getWidth()))}}return ht.createDecoderResult(T)}static merge(t,r){if(t==null&&r==null)return null;let a=ht.getBarcodeMetadata(t,r);if(a==null)return null;let l=ca.merge(ht.adjustBoundingBox(t),ht.adjustBoundingBox(r));return new kn(a,l)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let a=ht.getMax(r),l=0;for(let u of r)if(l+=a-u,u>0)break;let s=t.getCodewords();for(let u=0;l>0&&s[u]==null;u++)l--;let c=0;for(let u=r.length-1;u>=0&&(c+=a-r[u],!(r[u]>0));u--);for(let u=s.length-1;c>0&&s[u]==null;u--)c--;return t.getBoundingBox().addMissingRows(l,c,t.isLeft())}static getMax(t){let r=-1;for(let a of t)r=Math.max(r,a);return r}static getBarcodeMetadata(t,r){let a;if(t==null||(a=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let l;return r==null||(l=r.getBarcodeMetadata())==null?a:a.getColumnCount()!==l.getColumnCount()&&a.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&a.getRowCount()!==l.getRowCount()?null:a}static getRowIndicatorColumn(t,r,a,l,s,c){let u=new Es(r,l);for(let x=0;x<2;x++){let b=x===0?1:-1,A=Math.trunc(Math.trunc(a.getX()));for(let T=Math.trunc(Math.trunc(a.getY()));T<=r.getMaxY()&&T>=r.getMinY();T+=b){let I=ht.detectCodeword(t,0,t.getWidth(),l,A,T,s,c);I!=null&&(u.setCodeword(T,I),l?A=I.getStartX():A=I.getEndX())}}return u}static adjustCodewordCount(t,r){let a=r[0][1],l=a.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-ht.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(s<1||s>Ke.MAX_CODEWORDS_IN_BARCODE)throw Q.getNotFoundInstance();a.setValue(s)}else l[0]!==s&&a.setValue(s)}static createDecoderResult(t){let r=ht.createBarcodeMatrix(t);ht.adjustCodewordCount(t,r);let a=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],c=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let b=0;b<t.getBarcodeColumnCount();b++){let A=r[x][b+1].getValue(),T=x*t.getBarcodeColumnCount()+b;A.length===0?a.push(T):A.length===1?l[T]=A[0]:(c.push(T),s.push(A))}let u=new Array(s.length);for(let x=0;x<u.length;x++)u[x]=s[x];return ht.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,Ke.toIntArray(a),Ke.toIntArray(c),u)}static createDecoderResultFromAmbiguousValues(t,r,a,l,s){let c=new Int32Array(l.length),u=100;for(;u-- >0;){for(let x=0;x<c.length;x++)r[l[x]]=s[x][c[x]];try{return ht.decodeCodewords(r,t,a)}catch(x){if(!(x instanceof Z))throw x}if(c.length===0)throw Z.getChecksumInstance();for(let x=0;x<c.length;x++)if(c[x]<s[x].length-1){c[x]++;break}else if(c[x]=0,x===c.length-1)throw Z.getChecksumInstance()}throw Z.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<r.length;l++)for(let s=0;s<r[l].length;s++)r[l][s]=new Sa;let a=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let s of l.getCodewords())if(s!=null){let c=s.getRowNumber();if(c>=0){if(c>=r.length)continue;r[c][a].setValue(s.getValue())}}}a++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,a,l){let s=l?1:-1,c=null;if(ht.isValidBarcodeColumn(t,r-s)&&(c=t.getDetectionResultColumn(r-s).getCodeword(a)),c!=null)return l?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(r).getCodewordNearby(a),c!=null)return l?c.getStartX():c.getEndX();if(ht.isValidBarcodeColumn(t,r-s)&&(c=t.getDetectionResultColumn(r-s).getCodewordNearby(a)),c!=null)return l?c.getEndX():c.getStartX();let u=0;for(;ht.isValidBarcodeColumn(t,r-s);){r-=s;for(let x of t.getDetectionResultColumn(r).getCodewords())if(x!=null)return(l?x.getEndX():x.getStartX())+s*u*(x.getEndX()-x.getStartX());u++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,a,l,s,c,u,x){s=ht.adjustCodewordStartColumn(t,r,a,l,s,c);let b=ht.getModuleBitCount(t,r,a,l,s,c);if(b==null)return null;let A,T=rt.sum(b);if(l)A=s+T;else{for(let G=0;G<b.length/2;G++){let Y=b[G];b[G]=b[b.length-1-G],b[b.length-1-G]=Y}A=s,s=A-T}if(!ht.checkCodewordSkew(T,u,x))return null;let I=Fn.getDecodedValue(b),L=Ke.getCodeword(I);return L===-1?null:new Rr(s,A,ht.getCodewordBucketNumber(I),L)}static getModuleBitCount(t,r,a,l,s,c){let u=s,x=new Int32Array(8),b=0,A=l?1:-1,T=l;for(;(l?u<a:u>=r)&&b<x.length;)t.get(u,c)===T?(x[b]++,u+=A):(b++,T=!T);return b===x.length||u===(l?a:r)&&b===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,a,l,s,c){let u=s,x=l?-1:1;for(let b=0;b<2;b++){for(;(l?u>=r:u<a)&&l===t.get(u,c);){if(Math.abs(s-u)>ht.CODEWORD_SKEW_SIZE)return s;u+=x}x=-x,l=!l}return u}static checkCodewordSkew(t,r,a){return r-ht.CODEWORD_SKEW_SIZE<=t&&t<=a+ht.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,a){if(t.length===0)throw D.getFormatInstance();let l=1<<r+1,s=ht.correctErrors(t,a,l);ht.verifyCodewordCount(t,l);let c=he.decode(t,""+r);return c.setErrorsCorrected(s),c.setErasures(a.length),c}static correctErrors(t,r,a){if(r!=null&&r.length>a/2+ht.MAX_ERRORS||a<0||a>ht.MAX_EC_CODEWORDS)throw Z.getChecksumInstance();return ht.errorCorrection.decode(t,a,r)}static verifyCodewordCount(t,r){if(t.length<4)throw D.getFormatInstance();let a=t[0];if(a>t.length)throw D.getFormatInstance();if(a===0)if(r<t.length)t[0]=t.length-r;else throw D.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),a=0,l=r.length-1;for(;!((t&1)!==a&&(a=t&1,l--,l<0));)r[l]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return ht.getCodewordBucketNumber(ht.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new pi;for(let a=0;a<t.length;a++){r.format("Row %2d: ",a);for(let l=0;l<t[a].length;l++){let s=t[a][l];s.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}r.format("%n")}return r.toString()}}ht.CODEWORD_SKEW_SIZE=2,ht.MAX_ERRORS=3,ht.MAX_EC_CODEWORDS=512,ht.errorCorrection=new oa;class Pn{decode(t,r=null){let a=Pn.decode(t,r,!1);if(a==null||a.length===0||a[0]==null)throw Q.getNotFoundInstance();return a[0]}decodeMultiple(t,r=null){try{return Pn.decode(t,r,!0)}catch(a){throw a instanceof D||a instanceof Z?Q.getNotFoundInstance():a}}static decode(t,r,a){const l=new Array,s=it.detectMultiple(t,r,a);for(const c of s.getPoints()){const u=ht.decode(s.getBits(),c[4],c[5],c[6],c[7],Pn.getMinCodewordWidth(c),Pn.getMaxCodewordWidth(c)),x=new Be(u.getText(),u.getRawBytes(),void 0,c,we.PDF_417);x.putMetadata(J.ERROR_CORRECTION_LEVEL,u.getECLevel());const b=u.getOther();b!=null&&x.putMetadata(J.PDF417_EXTRA_METADATA,b),l.push(x)}return l.map(c=>c)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?F.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Pn.getMaxWidth(t[0],t[4]),Pn.getMaxWidth(t[6],t[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.max(Pn.getMaxWidth(t[1],t[5]),Pn.getMaxWidth(t[7],t[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Pn.getMinWidth(t[0],t[4]),Pn.getMinWidth(t[6],t[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.min(Pn.getMinWidth(t[1],t[5]),Pn.getMinWidth(t[7],t[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}reset(){}}class Rl extends C{}Rl.kind="ReaderException";class Io{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!y(t)&&t.get(W.TRY_HARDER)===!0,a=y(t)?null:t.get(W.POSSIBLE_FORMATS),l=new Array;if(!y(a)){const s=a.some(c=>c===we.UPC_A||c===we.UPC_E||c===we.EAN_13||c===we.EAN_8||c===we.CODABAR||c===we.CODE_39||c===we.CODE_93||c===we.CODE_128||c===we.ITF||c===we.RSS_14||c===we.RSS_EXPANDED);s&&!r&&l.push(new Ir(t,this.verbose)),a.includes(we.QR_CODE)&&l.push(new sa),a.includes(we.DATA_MATRIX)&&l.push(new la),a.includes(we.AZTEC)&&l.push(new ja),a.includes(we.PDF_417)&&l.push(new Pn),s&&r&&l.push(new Ir(t,this.verbose))}l.length===0&&(r||l.push(new Ir(t,this.verbose)),l.push(new sa),l.push(new la),l.push(new ja),l.push(new Pn),r&&l.push(new Ir(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Rl("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(a){if(a instanceof Rl)continue}throw new Q("No MultiFormat Readers were able to detect the code.")}}class Oo extends _e{constructor(t=null,r=500){const a=new Io;a.setHints(t),super(a,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class cu extends _e{constructor(t=500){super(new Pn,t)}}class uu extends _e{constructor(t=500){super(new sa,t)}}var vs;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(vs||(vs={}));var In=vs;class nl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new $e(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let a=r[r.length-1];const l=this.field;for(let s=r.length;s<=t;s++){const c=a.multiply(new $e(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));r.push(c),a=c}}return r[t]}encode(t,r){if(r===0)throw new M("No error correction bytes");const a=t.length-r;if(a<=0)throw new M("No data bytes provided");const l=this.buildGenerator(r),s=new Int32Array(a);ne.arraycopy(t,0,s,0,a);let c=new $e(this.field,s);c=c.multiplyByMonomial(r,1);const x=c.divide(l)[1].getCoefficients(),b=r-x.length;for(let A=0;A<b;A++)t[a+A]=0;ne.arraycopy(x,0,t,a+b,x.length)}}class mn{constructor(){}static applyMaskPenaltyRule1(t){return mn.applyMaskPenaltyRule1Internal(t,!0)+mn.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let c=0;c<s-1;c++){const u=a[c];for(let x=0;x<l-1;x++){const b=u[x];b===u[x+1]&&b===a[c+1][x]&&b===a[c+1][x+1]&&r++}}return mn.N2*r}static applyMaskPenaltyRule3(t){let r=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let c=0;c<s;c++)for(let u=0;u<l;u++){const x=a[c];u+6<l&&x[u]===1&&x[u+1]===0&&x[u+2]===1&&x[u+3]===1&&x[u+4]===1&&x[u+5]===0&&x[u+6]===1&&(mn.isWhiteHorizontal(x,u-4,u)||mn.isWhiteHorizontal(x,u+7,u+11))&&r++,c+6<s&&a[c][u]===1&&a[c+1][u]===0&&a[c+2][u]===1&&a[c+3][u]===1&&a[c+4][u]===1&&a[c+5][u]===0&&a[c+6][u]===1&&(mn.isWhiteVertical(a,u,c-4,c)||mn.isWhiteVertical(a,u,c+7,c+11))&&r++}return r*mn.N3}static isWhiteHorizontal(t,r,a){r=Math.max(r,0),a=Math.min(a,t.length);for(let l=r;l<a;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,r,a,l){a=Math.max(a,0),l=Math.min(l,t.length);for(let s=a;s<l;s++)if(t[s][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let x=0;x<s;x++){const b=a[x];for(let A=0;A<l;A++)b[A]===1&&r++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-c)*10/c)*mn.N4}static getDataMaskBit(t,r,a){let l,s;switch(t){case 0:l=a+r&1;break;case 1:l=a&1;break;case 2:l=r%3;break;case 3:l=(a+r)%3;break;case 4:l=Math.floor(a/2)+Math.floor(r/3)&1;break;case 5:s=a*r,l=(s&1)+s%3;break;case 6:s=a*r,l=(s&1)+s%3&1;break;case 7:s=a*r,l=s%3+(a+r&1)&1;break;default:throw new M("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,r){let a=0;const l=r?t.getHeight():t.getWidth(),s=r?t.getWidth():t.getHeight(),c=t.getArray();for(let u=0;u<l;u++){let x=0,b=-1;for(let A=0;A<s;A++){const T=r?c[u][A]:c[A][u];T===b?x++:(x>=5&&(a+=mn.N1+(x-5)),x=1,b=T)}x>=5&&(a+=mn.N1+(x-5))}return a}}mn.N1=3,mn.N2=3,mn.N3=40,mn.N4=10;class Dl{constructor(t,r){this.width=t,this.height=r;const a=new Array(r);for(let l=0;l!==r;l++)a[l]=new Uint8Array(t);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,a){this.bytes[r][t]=a}setBoolean(t,r,a){this.bytes[r][t]=a?1:0}clear(t){for(const r of this.bytes)H.fill(r,t)}equals(t){if(!(t instanceof Dl))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let a=0,l=this.height;a<l;++a){const s=this.bytes[a],c=r.bytes[a];for(let u=0,x=this.width;u<x;++u)if(s[u]!==c[u])return!1}return!0}toString(){const t=new Ae;for(let r=0,a=this.height;r<a;++r){const l=this.bytes[r];for(let s=0,c=this.width;s<c;++s)switch(l[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Ua{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ae;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Ua.NUM_MASK_PATTERNS}}Ua.NUM_MASK_PATTERNS=8;class Gt extends C{}Gt.kind="WriterException";class Je{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,a,l,s){Je.clearMatrix(s),Je.embedBasicPatterns(a,s),Je.embedTypeInfo(r,l,s),Je.maybeEmbedVersionInfo(a,s),Je.embedDataBits(t,l,s)}static embedBasicPatterns(t,r){Je.embedPositionDetectionPatternsAndSeparators(r),Je.embedDarkDotAtLeftBottomCorner(r),Je.maybeEmbedPositionAdjustmentPatterns(t,r),Je.embedTimingPatterns(r)}static embedTypeInfo(t,r,a){const l=new X;Je.makeTypeInfoBits(t,r,l);for(let s=0,c=l.getSize();s<c;++s){const u=l.get(l.getSize()-1-s),x=Je.TYPE_INFO_COORDINATES[s],b=x[0],A=x[1];if(a.setBoolean(b,A,u),s<8){const T=a.getWidth()-s-1;a.setBoolean(T,8,u)}else{const I=a.getHeight()-7+(s-8);a.setBoolean(8,I,u)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const a=new X;Je.makeVersionInfoBits(t,a);let l=17;for(let s=0;s<6;++s)for(let c=0;c<3;++c){const u=a.get(l);l--,r.setBoolean(s,r.getHeight()-11+c,u),r.setBoolean(r.getHeight()-11+c,s,u)}}static embedDataBits(t,r,a){let l=0,s=-1,c=a.getWidth()-1,u=a.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);u>=0&&u<a.getHeight();){for(let x=0;x<2;++x){const b=c-x;if(!Je.isEmpty(a.get(b,u)))continue;let A;l<t.getSize()?(A=t.get(l),++l):A=!1,r!==255&&mn.getDataMaskBit(r,b,u)&&(A=!A),a.setBoolean(b,u,A)}u+=s}s=-s,u+=s,c-=2}if(l!==t.getSize())throw new Gt("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-F.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new M("0 polynomial");const a=Je.findMSBSet(r);for(t<<=a-1;Je.findMSBSet(t)>=a;)t^=r<<Je.findMSBSet(t)-a;return t}static makeTypeInfoBits(t,r,a){if(!Ua.isValidMaskPattern(r))throw new Gt("Invalid mask pattern");const l=t.getBits()<<3|r;a.appendBits(l,5);const s=Je.calculateBCHCode(l,Je.TYPE_INFO_POLY);a.appendBits(s,10);const c=new X;if(c.appendBits(Je.TYPE_INFO_MASK_PATTERN,15),a.xor(c),a.getSize()!==15)throw new Gt("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const a=Je.calculateBCHCode(t.getVersionNumber(),Je.VERSION_INFO_POLY);if(r.appendBits(a,12),r.getSize()!==18)throw new Gt("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const a=(r+1)%2;Je.isEmpty(t.get(r,6))&&t.setNumber(r,6,a),Je.isEmpty(t.get(6,r))&&t.setNumber(6,r,a)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Gt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,a){for(let l=0;l<8;++l){if(!Je.isEmpty(a.get(t+l,r)))throw new Gt;a.setNumber(t+l,r,0)}}static embedVerticalSeparationPattern(t,r,a){for(let l=0;l<7;++l){if(!Je.isEmpty(a.get(t,r+l)))throw new Gt;a.setNumber(t,r+l,0)}}static embedPositionAdjustmentPattern(t,r,a){for(let l=0;l<5;++l){const s=Je.POSITION_ADJUSTMENT_PATTERN[l];for(let c=0;c<5;++c)a.setNumber(t+c,r+l,s[c])}}static embedPositionDetectionPattern(t,r,a){for(let l=0;l<7;++l){const s=Je.POSITION_DETECTION_PATTERN[l];for(let c=0;c<7;++c)a.setNumber(t+c,r+l,s[c])}}static embedPositionDetectionPatternsAndSeparators(t){const r=Je.POSITION_DETECTION_PATTERN[0].length;Je.embedPositionDetectionPattern(0,0,t),Je.embedPositionDetectionPattern(t.getWidth()-r,0,t),Je.embedPositionDetectionPattern(0,t.getWidth()-r,t);const a=8;Je.embedHorizontalSeparationPattern(0,a-1,t),Je.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),Je.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);const l=7;Je.embedVerticalSeparationPattern(l,0,t),Je.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),Je.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const a=t.getVersionNumber()-1,l=Je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let s=0,c=l.length;s!==c;s++){const u=l[s];if(u>=0)for(let x=0;x!==c;x++){const b=l[x];b>=0&&Je.isEmpty(r.get(b,u))&&Je.embedPositionAdjustmentPattern(b-2,u-2,r)}}}}Je.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Je.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Je.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Je.VERSION_INFO_POLY=7973,Je.TYPE_INFO_POLY=1335,Je.TYPE_INFO_MASK_PATTERN=21522;class du{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class rn{constructor(){}static calculateMaskPenalty(t){return mn.applyMaskPenaltyRule1(t)+mn.applyMaskPenaltyRule2(t)+mn.applyMaskPenaltyRule3(t)+mn.applyMaskPenaltyRule4(t)}static encode(t,r,a=null){let l=rn.DEFAULT_BYTE_MODE_ENCODING;const s=a!==null&&a.get(In.CHARACTER_SET)!==void 0;s&&(l=a.get(In.CHARACTER_SET).toString());const c=this.chooseMode(t,l),u=new X;if(c===We.BYTE&&(s||rn.DEFAULT_BYTE_MODE_ENCODING!==l)){const De=K.getCharacterSetECIByName(l);De!==void 0&&this.appendECI(De,u)}this.appendModeInfo(c,u);const x=new X;this.appendBytes(t,c,x,l);let b;if(a!==null&&a.get(In.QR_VERSION)!==void 0){const De=Number.parseInt(a.get(In.QR_VERSION).toString(),10);b=Xe.getVersionForNumber(De);const Ne=this.calculateBitsNeeded(c,u,x,b);if(!this.willFit(Ne,b,r))throw new Gt("Data too big for requested version")}else b=this.recommendVersion(r,c,u,x);const A=new X;A.appendBitArray(u);const T=c===We.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(T,b,c,A),A.appendBitArray(x);const I=b.getECBlocksForLevel(r),L=b.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(L,A);const G=this.interleaveWithECBytes(A,b.getTotalCodewords(),L,I.getNumBlocks()),Y=new Ua;Y.setECLevel(r),Y.setMode(c),Y.setVersion(b);const ae=b.getDimensionForVersion(),fe=new Dl(ae,ae),Me=this.chooseMaskPattern(G,r,b,fe);return Y.setMaskPattern(Me),Je.buildMatrix(G,r,b,Me,fe),Y.setMatrix(fe),Y}static recommendVersion(t,r,a,l){const s=this.calculateBitsNeeded(r,a,l,Xe.getVersionForNumber(1)),c=this.chooseVersion(s,t),u=this.calculateBitsNeeded(r,a,l,c);return this.chooseVersion(u,t)}static calculateBitsNeeded(t,r,a,l){return r.getSize()+t.getCharacterCountBits(l)+a.getSize()}static getAlphanumericCode(t){return t<rn.ALPHANUMERIC_TABLE.length?rn.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(K.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return We.KANJI;let a=!1,l=!1;for(let s=0,c=t.length;s<c;++s){const u=t.charAt(s);if(rn.isDigit(u))a=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)l=!0;else return We.BYTE}return l?We.ALPHANUMERIC:a?We.NUMERIC:We.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=ce.encode(t,K.SJIS)}catch{return!1}const a=r.length;if(a%2!==0)return!1;for(let l=0;l<a;l+=2){const s=r[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(t,r,a,l){let s=Number.MAX_SAFE_INTEGER,c=-1;for(let u=0;u<Ua.NUM_MASK_PATTERNS;u++){Je.buildMatrix(t,r,a,u,l);let x=this.calculateMaskPenalty(l);x<s&&(s=x,c=u)}return c}static chooseVersion(t,r){for(let a=1;a<=40;a++){const l=Xe.getVersionForNumber(a);if(rn.willFit(t,l,r))return l}throw new Gt("Data too big")}static willFit(t,r,a){const l=r.getTotalCodewords(),c=r.getECBlocksForLevel(a).getTotalECCodewords(),u=l-c,x=(t+7)/8;return u>=x}static terminateBits(t,r){const a=t*8;if(r.getSize()>a)throw new Gt("data bits cannot fit in the QR Code"+r.getSize()+" > "+a);for(let c=0;c<4&&r.getSize()<a;++c)r.appendBit(!1);const l=r.getSize()&7;if(l>0)for(let c=l;c<8;c++)r.appendBit(!1);const s=t-r.getSizeInBytes();for(let c=0;c<s;++c)r.appendBits((c&1)===0?236:17,8);if(r.getSize()!==a)throw new Gt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,a,l,s,c){if(l>=a)throw new Gt("Block ID too large");const u=t%a,x=a-u,b=Math.floor(t/a),A=b+1,T=Math.floor(r/a),I=T+1,L=b-T,G=A-I;if(L!==G)throw new Gt("EC bytes mismatch");if(a!==x+u)throw new Gt("RS blocks mismatch");if(t!==(T+L)*x+(I+G)*u)throw new Gt("Total bytes mismatch");l<x?(s[0]=T,c[0]=L):(s[0]=I,c[0]=G)}static interleaveWithECBytes(t,r,a,l){if(t.getSizeInBytes()!==a)throw new Gt("Number of bits and data bytes does not match");let s=0,c=0,u=0;const x=new Array;for(let A=0;A<l;++A){const T=new Int32Array(1),I=new Int32Array(1);rn.getNumDataBytesAndNumECBytesForBlockID(r,a,l,A,T,I);const L=T[0],G=new Uint8Array(L);t.toBytes(8*s,G,0,L);const Y=rn.generateECBytes(G,I[0]);x.push(new du(G,Y)),c=Math.max(c,L),u=Math.max(u,Y.length),s+=T[0]}if(a!==s)throw new Gt("Data bytes does not match offset");const b=new X;for(let A=0;A<c;++A)for(const T of x){const I=T.getDataBytes();A<I.length&&b.appendBits(I[A],8)}for(let A=0;A<u;++A)for(const T of x){const I=T.getErrorCorrectionBytes();A<I.length&&b.appendBits(I[A],8)}if(r!==b.getSizeInBytes())throw new Gt("Interleaving error: "+r+" and "+b.getSizeInBytes()+" differ.");return b}static generateECBytes(t,r){const a=t.length,l=new Int32Array(a+r);for(let c=0;c<a;c++)l[c]=t[c]&255;new nl(lt.QR_CODE_FIELD_256).encode(l,r);const s=new Uint8Array(r);for(let c=0;c<r;c++)s[c]=l[a+c];return s}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,a,l){const s=a.getCharacterCountBits(r);if(t>=1<<s)throw new Gt(t+" is bigger than "+((1<<s)-1));l.appendBits(t,s)}static appendBytes(t,r,a,l){switch(r){case We.NUMERIC:rn.appendNumericBytes(t,a);break;case We.ALPHANUMERIC:rn.appendAlphanumericBytes(t,a);break;case We.BYTE:rn.append8BitBytes(t,a,l);break;case We.KANJI:rn.appendKanjiBytes(t,a);break;default:throw new Gt("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=rn.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const a=t.length;let l=0;for(;l<a;){const s=rn.getDigit(t.charAt(l));if(l+2<a){const c=rn.getDigit(t.charAt(l+1)),u=rn.getDigit(t.charAt(l+2));r.appendBits(s*100+c*10+u,10),l+=3}else if(l+1<a){const c=rn.getDigit(t.charAt(l+1));r.appendBits(s*10+c,7),l+=2}else r.appendBits(s,4),l++}}static appendAlphanumericBytes(t,r){const a=t.length;let l=0;for(;l<a;){const s=rn.getAlphanumericCode(t.charCodeAt(l));if(s===-1)throw new Gt;if(l+1<a){const c=rn.getAlphanumericCode(t.charCodeAt(l+1));if(c===-1)throw new Gt;r.appendBits(s*45+c,11),l+=2}else r.appendBits(s,6),l++}}static append8BitBytes(t,r,a){let l;try{l=ce.encode(t,a)}catch(s){throw new Gt(s)}for(let s=0,c=l.length;s!==c;s++){const u=l[s];r.appendBits(u,8)}}static appendKanjiBytes(t,r){let a;try{a=ce.encode(t,K.SJIS)}catch(s){throw new Gt(s)}const l=a.length;for(let s=0;s<l;s+=2){const c=a[s]&255,u=a[s+1]&255,x=c<<8&4294967295|u;let b=-1;if(x>=33088&&x<=40956?b=x-33088:x>=57408&&x<=60351&&(b=x-49472),b===-1)throw new Gt("Invalid byte sequence");const A=(b>>8)*192+(b&255);r.appendBits(A,13)}}static appendECI(t,r){r.appendBits(We.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}rn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),rn.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();class Ha{write(t,r,a,l=null){if(t.length===0)throw new M("Found empty contents");if(r<0||a<0)throw new M("Requested dimensions are too small: "+r+"x"+a);let s=yt.L,c=Ha.QUIET_ZONE_SIZE;l!==null&&(l.get(In.ERROR_CORRECTION)!==void 0&&(s=yt.fromString(l.get(In.ERROR_CORRECTION).toString())),l.get(In.MARGIN)!==void 0&&(c=Number.parseInt(l.get(In.MARGIN).toString(),10)));const u=rn.encode(t,s,l);return this.renderResult(u,r,a,c)}writeToDom(t,r,a,l,s=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(r,a,l,s);t&&t.appendChild(c)}renderResult(t,r,a,l){const s=t.getMatrix();if(s===null)throw new Lt;const c=s.getWidth(),u=s.getHeight(),x=c+l*2,b=u+l*2,A=Math.max(r,x),T=Math.max(a,b),I=Math.min(Math.floor(A/x),Math.floor(T/b)),L=Math.floor((A-c*I)/2),G=Math.floor((T-u*I)/2),Y=this.createSVGElement(A,T);for(let ae=0,fe=G;ae<u;ae++,fe+=I)for(let Me=0,De=L;Me<c;Me++,De+=I)if(s.get(Me,ae)===1){const Ne=this.createSvgRectElement(De,fe,I,I);Y.appendChild(Ne)}return Y}createSVGElement(t,r){const a=document.createElementNS(Ha.SVG_NS,"svg");return a.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width",r.toString()),a}createSvgRectElement(t,r,a,l){const s=document.createElementNS(Ha.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"height",a.toString()),s.setAttributeNS(null,"width",l.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Ha.QUIET_ZONE_SIZE=4,Ha.SVG_NS="http://www.w3.org/2000/svg";class yi{encode(t,r,a,l,s){if(t.length===0)throw new M("Found empty contents");if(r!==we.QR_CODE)throw new M("Can only encode QR_CODE, but got "+r);if(a<0||l<0)throw new M(`Requested dimensions are too small: ${a}x${l}`);let c=yt.L,u=yi.QUIET_ZONE_SIZE;s!==null&&(s.get(In.ERROR_CORRECTION)!==void 0&&(c=yt.fromString(s.get(In.ERROR_CORRECTION).toString())),s.get(In.MARGIN)!==void 0&&(u=Number.parseInt(s.get(In.MARGIN).toString(),10)));const x=rn.encode(t,c,s);return yi.renderResult(x,a,l,u)}static renderResult(t,r,a,l){const s=t.getMatrix();if(s===null)throw new Lt;const c=s.getWidth(),u=s.getHeight(),x=c+l*2,b=u+l*2,A=Math.max(r,x),T=Math.max(a,b),I=Math.min(Math.floor(A/x),Math.floor(T/b)),L=Math.floor((A-c*I)/2),G=Math.floor((T-u*I)/2),Y=new ve(A,T);for(let ae=0,fe=G;ae<u;ae++,fe+=I)for(let Me=0,De=L;Me<c;Me++,De+=I)s.get(Me,ae)===1&&Y.setRegion(De,fe,I,I);return Y}}yi.QUIET_ZONE_SIZE=4;class fu{encode(t,r,a,l,s){let c;switch(r){case we.QR_CODE:c=new yi;break;default:throw new M("No encoder available for format "+r)}return c.encode(t,r,a,l,s)}}class qr extends Ce{constructor(t,r,a,l,s,c,u,x){if(super(c,u),this.yuvData=t,this.dataWidth=r,this.dataHeight=a,this.left=l,this.top=s,l+c>r||s+u>a)throw new M("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(c,u)}getRow(t,r){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const l=(t+this.top)*this.dataWidth+this.left;return ne.arraycopy(this.yuvData,l,r,0,a),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const a=t*r,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return ne.arraycopy(this.yuvData,s,l,0,a),l;for(let c=0;c<r;c++){const u=c*t;ne.arraycopy(this.yuvData,s,l,u,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,r,a,l){return new qr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,a,l,!1)}renderThumbnail(){const t=this.getWidth()/qr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/qr.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*r),l=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let c=0;c<r;c++){const u=c*t;for(let x=0;x<t;x++){const b=l[s+x*qr.THUMBNAIL_SCALE_FACTOR]&255;a[u+x]=4278190080|b*65793}s+=this.dataWidth*qr.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/qr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/qr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const a=this.yuvData;for(let l=0,s=this.top*this.dataWidth+this.left;l<r;l++,s+=this.dataWidth){const c=s+t/2;for(let u=s,x=s+t-1;u<c;u++,x--){const b=a[u];a[u]=a[x],a[x]=b}}}invert(){return new Le(this)}}qr.THUMBNAIL_SCALE_FACTOR=2;class Ss extends Ce{constructor(t,r,a,l,s,c,u){if(super(r,a),this.dataWidth=l,this.dataHeight=s,this.left=c,this.top=u,t.BYTES_PER_ELEMENT===4){const x=r*a,b=new Uint8ClampedArray(x);for(let A=0;A<x;A++){const T=t[A],I=T>>16&255,L=T>>7&510,G=T&255;b[A]=(I+L+G)/4&255}this.luminances=b}else this.luminances=t;if(l===void 0&&(this.dataWidth=r),s===void 0&&(this.dataHeight=a),c===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+a>this.dataHeight)throw new M("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const l=(t+this.top)*this.dataWidth+this.left;return ne.arraycopy(this.luminances,l,r,0,a),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const a=t*r,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return ne.arraycopy(this.luminances,s,l,0,a),l;for(let c=0;c<r;c++){const u=c*t;ne.arraycopy(this.luminances,s,l,u,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,r,a,l){return new Ss(this.luminances,a,l,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new Le(this)}}class Ro extends K{static forName(t){return this.getCharacterSetECIByName(t)}}class rl{}rl.ISO_8859_1=K.ISO8859_1;class wi{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Do{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Mo{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Fa extends Mo{constructor(t,r,a){super(t),this.value=r,this.bitCount=a}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new Fa(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Fa(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+F.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Ml extends Fa{constructor(t,r,a){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=a}appendTo(t,r){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+a],8)}addBinaryShift(t,r){return new Ml(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ko(S,t,r){return new Ml(S,t,r)}function Ei(S,t,r){return new Fa(S,t,r)}const Ci=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Na=0,kl=1,pr=2,Ts=3,Dr=4,al=new Fa(null,0,0),Pa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function hu(S){for(let t of S)H.fill(t,-1);return S[Na][Dr]=0,S[kl][Dr]=0,S[kl][Na]=28,S[Ts][Dr]=0,S[pr][Dr]=0,S[pr][Na]=15,S}const il=hu(H.createInt32Array(6,6));class Mr{constructor(t,r,a,l){this.token=t,this.mode=r,this.binaryShiftByteCount=a,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let a=this.bitCount,l=this.token;if(t!==this.mode){let c=Pa[this.mode][t];l=Ei(l,c&65535,c>>16),a+=c>>16}let s=t===pr?4:5;return l=Ei(l,r,s),new Mr(l,t,0,a+s)}shiftAndAppend(t,r){let a=this.token,l=this.mode===pr?4:5;return a=Ei(a,il[this.mode][t],l),a=Ei(a,r,5),new Mr(a,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let r=this.token,a=this.mode,l=this.bitCount;if(this.mode===Dr||this.mode===pr){let u=Pa[a][Na];r=Ei(r,u&65535,u>>16),l+=u>>16,a=Na}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Mr(r,a,this.binaryShiftByteCount+1,l+s);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=ko(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Mr(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(Pa[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Mr.calculateBinaryShiftCost(t)-Mr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())r.unshift(l);let a=new X;for(const l of r)l.appendTo(a,t);return a}toString(){return xe.format("%s bits=%d bytes=%d",Ci[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Mr.INITIAL_STATE=new Mr(al,Na,0,0);function Bo(S){const t=xe.getCharCode(" "),r=xe.getCharCode("."),a=xe.getCharCode(",");S[Na][t]=1;const l=xe.getCharCode("Z"),s=xe.getCharCode("A");for(let I=s;I<=l;I++)S[Na][I]=I-s+2;S[kl][t]=1;const c=xe.getCharCode("z"),u=xe.getCharCode("a");for(let I=u;I<=c;I++)S[kl][I]=I-u+2;S[pr][t]=1;const x=xe.getCharCode("9"),b=xe.getCharCode("0");for(let I=b;I<=x;I++)S[pr][I]=I-b+2;S[pr][a]=12,S[pr][r]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<A.length;I++)S[Ts][xe.getCharCode(A[I])]=I;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<T.length;I++)xe.getCharCode(T[I])>0&&(S[Dr][xe.getCharCode(T[I])]=I);return S}const ll=Bo(H.createInt32Array(5,256));class Ga{constructor(t){this.text=t}encode(){const t=xe.getCharCode(" "),r=xe.getCharCode(`
`);let a=Do.singletonList(Mr.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let c,u=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case xe.getCharCode("\r"):c=u===r?2:0;break;case xe.getCharCode("."):c=u===t?3:0;break;case xe.getCharCode(","):c=u===t?4:0;break;case xe.getCharCode(":"):c=u===t?5:0;break;default:c=0}c>0?(a=Ga.updateStateListForPair(a,s,c),s++):a=this.updateStateListForChar(a,s)}return Do.min(a,(s,c)=>s.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const a=[];for(let l of t)this.updateStateForChar(l,r,a);return Ga.simplifyStates(a)}updateStateForChar(t,r,a){let l=this.text[r]&255,s=ll[t.getMode()][l]>0,c=null;for(let u=0;u<=Dr;u++){let x=ll[u][l];if(x>0){if(c==null&&(c=t.endBinaryShift(r)),!s||u===t.getMode()||u===pr){const b=c.latchAndAppend(u,x);a.push(b)}if(!s&&il[t.getMode()][u]>=0){const b=c.shiftAndAppend(u,x);a.push(b)}}}if(t.getBinaryShiftByteCount()>0||ll[t.getMode()][l]===0){let u=t.addBinaryShiftChar(r);a.push(u)}}static updateStateListForPair(t,r,a){const l=[];for(let s of t)this.updateStateForPair(s,r,a,l);return this.simplifyStates(l)}static updateStateForPair(t,r,a,l){let s=t.endBinaryShift(r);if(l.push(s.latchAndAppend(Dr,a)),t.getMode()!==Dr&&l.push(s.shiftAndAppend(Dr,a)),a===3||a===4){let c=s.latchAndAppend(pr,16-a).latchAndAppend(pr,1);l.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);l.push(c)}}static simplifyStates(t){let r=[];for(const a of t){let l=!0;for(const s of r){if(s.isBetterThanOrEqualTo(a)){l=!1;break}a.isBetterThanOrEqualTo(s)&&(r=r.filter(c=>c!==s))}l&&r.push(a)}return r}}class vt{constructor(){}static encodeBytes(t){return vt.encode(t,vt.DEFAULT_EC_PERCENT,vt.DEFAULT_AZTEC_LAYERS)}static encode(t,r,a){let l=new Ga(t).encode(),s=F.truncDivision(l.getSize()*r,100)+11,c=l.getSize()+s,u,x,b,A,T;if(a!==vt.DEFAULT_AZTEC_LAYERS){if(u=a<0,x=Math.abs(a),x>(u?vt.MAX_NB_BITS_COMPACT:vt.MAX_NB_BITS))throw new M(xe.format("Illegal value %s for layers",a));b=vt.totalBitsInLayer(x,u),A=vt.WORD_SIZE[x];let Ne=b-b%A;if(T=vt.stuffBits(l,A),T.getSize()+s>Ne)throw new M("Data to large for user specified layer");if(u&&T.getSize()>A*64)throw new M("Data to large for user specified layer")}else{A=0,T=null;for(let Ne=0;;Ne++){if(Ne>vt.MAX_NB_BITS)throw new M("Data too large for an Aztec code");if(u=Ne<=3,x=u?Ne+1:Ne,b=vt.totalBitsInLayer(x,u),c>b)continue;(T==null||A!==vt.WORD_SIZE[x])&&(A=vt.WORD_SIZE[x],T=vt.stuffBits(l,A));let pt=b-b%A;if(!(u&&T.getSize()>A*64)&&T.getSize()+s<=pt)break}}let I=vt.generateCheckWords(T,b,A),L=T.getSize()/A,G=vt.generateModeMessage(u,x,L),Y=(u?11:14)+x*4,ae=new Int32Array(Y),fe;if(u){fe=Y;for(let Ne=0;Ne<ae.length;Ne++)ae[Ne]=Ne}else{fe=Y+1+2*F.truncDivision(F.truncDivision(Y,2)-1,15);let Ne=F.truncDivision(Y,2),pt=F.truncDivision(fe,2);for(let st=0;st<Ne;st++){let An=st+F.truncDivision(st,15);ae[Ne-st-1]=pt-An-1,ae[Ne+st]=pt+An+1}}let Me=new ve(fe);for(let Ne=0,pt=0;Ne<x;Ne++){let st=(x-Ne)*4+(u?9:12);for(let An=0;An<st;An++){let br=An*2;for(let Qn=0;Qn<2;Qn++)I.get(pt+br+Qn)&&Me.set(ae[Ne*2+Qn],ae[Ne*2+An]),I.get(pt+st*2+br+Qn)&&Me.set(ae[Ne*2+An],ae[Y-1-Ne*2-Qn]),I.get(pt+st*4+br+Qn)&&Me.set(ae[Y-1-Ne*2-Qn],ae[Y-1-Ne*2-An]),I.get(pt+st*6+br+Qn)&&Me.set(ae[Y-1-Ne*2-An],ae[Ne*2+Qn])}pt+=st*8}if(vt.drawModeMessage(Me,u,fe,G),u)vt.drawBullsEye(Me,F.truncDivision(fe,2),5);else{vt.drawBullsEye(Me,F.truncDivision(fe,2),7);for(let Ne=0,pt=0;Ne<F.truncDivision(Y,2)-1;Ne+=15,pt+=16)for(let st=F.truncDivision(fe,2)&1;st<fe;st+=2)Me.set(F.truncDivision(fe,2)-pt,st),Me.set(F.truncDivision(fe,2)+pt,st),Me.set(st,F.truncDivision(fe,2)-pt),Me.set(st,F.truncDivision(fe,2)+pt)}let De=new wi;return De.setCompact(u),De.setSize(fe),De.setLayers(x),De.setCodeWords(L),De.setMatrix(Me),De}static drawBullsEye(t,r,a){for(let l=0;l<a;l+=2)for(let s=r-l;s<=r+l;s++)t.set(s,r-l),t.set(s,r+l),t.set(r-l,s),t.set(r+l,s);t.set(r-a,r-a),t.set(r-a+1,r-a),t.set(r-a,r-a+1),t.set(r+a,r-a),t.set(r+a,r-a+1),t.set(r+a,r+a-1)}static generateModeMessage(t,r,a){let l=new X;return t?(l.appendBits(r-1,2),l.appendBits(a-1,6),l=vt.generateCheckWords(l,28,4)):(l.appendBits(r-1,5),l.appendBits(a-1,11),l=vt.generateCheckWords(l,40,4)),l}static drawModeMessage(t,r,a,l){let s=F.truncDivision(a,2);if(r)for(let c=0;c<7;c++){let u=s-3+c;l.get(c)&&t.set(u,s-5),l.get(c+7)&&t.set(s+5,u),l.get(20-c)&&t.set(u,s+5),l.get(27-c)&&t.set(s-5,u)}else for(let c=0;c<10;c++){let u=s-5+c+F.truncDivision(c,5);l.get(c)&&t.set(u,s-7),l.get(c+10)&&t.set(s+7,u),l.get(29-c)&&t.set(u,s+7),l.get(39-c)&&t.set(s-7,u)}}static generateCheckWords(t,r,a){let l=t.getSize()/a,s=new nl(vt.getGF(a)),c=F.truncDivision(r,a),u=vt.bitsToWords(t,a,c);s.encode(u,c-l);let x=r%a,b=new X;b.appendBits(0,x);for(const A of Array.from(u))b.appendBits(A,a);return b}static bitsToWords(t,r,a){let l=new Int32Array(a),s,c;for(s=0,c=t.getSize()/r;s<c;s++){let u=0;for(let x=0;x<r;x++)u|=t.get(s*r+x)?1<<r-x-1:0;l[s]=u}return l}static getGF(t){switch(t){case 4:return lt.AZTEC_PARAM;case 6:return lt.AZTEC_DATA_6;case 8:return lt.AZTEC_DATA_8;case 10:return lt.AZTEC_DATA_10;case 12:return lt.AZTEC_DATA_12;default:throw new M("Unsupported word size "+t)}}static stuffBits(t,r){let a=new X,l=t.getSize(),s=(1<<r)-2;for(let c=0;c<l;c+=r){let u=0;for(let x=0;x<r;x++)(c+x>=l||t.get(c+x))&&(u|=1<<r-1-x);(u&s)===s?(a.appendBits(u&s,r),c--):(u&s)===0?(a.appendBits(u|1,r),c--):a.appendBits(u,r)}return a}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}vt.DEFAULT_EC_PERCENT=33,vt.DEFAULT_AZTEC_LAYERS=0,vt.MAX_NB_BITS=32,vt.MAX_NB_BITS_COMPACT=4,vt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class sl{encode(t,r,a,l){return this.encodeWithHints(t,r,a,l,null)}encodeWithHints(t,r,a,l,s){let c=rl.ISO_8859_1,u=vt.DEFAULT_EC_PERCENT,x=vt.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(In.CHARACTER_SET)&&(c=Ro.forName(s.get(In.CHARACTER_SET).toString())),s.has(In.ERROR_CORRECTION)&&(u=F.parseInt(s.get(In.ERROR_CORRECTION).toString())),s.has(In.AZTEC_LAYERS)&&(x=F.parseInt(s.get(In.AZTEC_LAYERS).toString()))),sl.encodeLayers(t,r,a,l,c,u,x)}static encodeLayers(t,r,a,l,s,c,u){if(r!==we.AZTEC)throw new M("Can only encode AZTEC, but got "+r);let x=vt.encode(xe.getBytes(t,s),c,u);return sl.renderResult(x,a,l)}static renderResult(t,r,a){let l=t.getMatrix();if(l==null)throw new Lt;let s=l.getWidth(),c=l.getHeight(),u=Math.max(r,s),x=Math.max(a,c),b=Math.min(u/s,x/c),A=(u-s*b)/2,T=(x-c*b)/2,I=new ve(u,x);for(let L=0,G=T;L<c;L++,G+=b)for(let Y=0,ae=A;Y<s;Y++,ae+=b)l.get(Y,L)&&I.setRegion(ae,G,b,b);return I}}g.AbstractExpandedDecoder=Nn,g.ArgumentException=B,g.ArithmeticException=Ot,g.AztecCode=wi,g.AztecCodeReader=ja,g.AztecCodeWriter=sl,g.AztecDecoder=dt,g.AztecDetector=Wi,g.AztecDetectorResult=Tr,g.AztecEncoder=vt,g.AztecHighLevelEncoder=Ga,g.AztecPoint=Dn,g.BarcodeFormat=we,g.Binarizer=ge,g.BinaryBitmap=V,g.BitArray=X,g.BitMatrix=ve,g.BitSource=Or,g.BrowserAztecCodeReader=gs,g.BrowserBarcodeReader=lu,g.BrowserCodeReader=_e,g.BrowserDatamatrixCodeReader=Tl,g.BrowserMultiFormatReader=Oo,g.BrowserPDF417Reader=cu,g.BrowserQRCodeReader=uu,g.BrowserQRCodeSvgWriter=Ha,g.CharacterSetECI=K,g.ChecksumException=Z,g.Code128Reader=ke,g.Code39Reader=Qt,g.DataMatrixDecodedBitStreamParser=ia,g.DataMatrixReader=la,g.DecodeHintType=W,g.DecoderResult=Oe,g.DefaultGridSampler=ci,g.DetectorResult=Sr,g.EAN13Reader=Gr,g.EncodeHintType=In,g.Exception=C,g.FormatException=D,g.GenericGF=lt,g.GenericGFPoly=$e,g.GlobalHistogramBinarizer=j,g.GridSampler=Nr,g.GridSamplerInstance=nr,g.HTMLCanvasElementLuminanceSource=Re,g.HybridBinarizer=$,g.ITFReader=ft,g.IllegalArgumentException=M,g.IllegalStateException=Lt,g.InvertedLuminanceSource=Le,g.LuminanceSource=Ce,g.MathUtils=rt,g.MultiFormatOneDReader=Ir,g.MultiFormatReader=Io,g.MultiFormatWriter=fu,g.NotFoundException=Q,g.OneDReader=ln,g.PDF417DecodedBitStreamParser=he,g.PDF417DecoderErrorCorrection=oa,g.PDF417Reader=Pn,g.PDF417ResultMetadata=bi,g.PerspectiveTransform=Zn,g.PlanarYUVLuminanceSource=qr,g.QRCodeByteMatrix=Dl,g.QRCodeDataMask=ur,g.QRCodeDecodedBitStreamParser=tn,g.QRCodeDecoderErrorCorrectionLevel=yt,g.QRCodeDecoderFormatInformation=Mn,g.QRCodeEncoder=rn,g.QRCodeEncoderQRCode=Ua,g.QRCodeMaskUtil=mn,g.QRCodeMatrixUtil=Je,g.QRCodeMode=We,g.QRCodeReader=sa,g.QRCodeVersion=Xe,g.QRCodeWriter=yi,g.RGBLuminanceSource=Ss,g.RSS14Reader=Pt,g.RSSExpandedReader=Se,g.ReaderException=Rl,g.ReedSolomonDecoder=lr,g.ReedSolomonEncoder=nl,g.ReedSolomonException=wn,g.Result=Be,g.ResultMetadataType=J,g.ResultPoint=Ue,g.StringUtils=xe,g.UnsupportedOperationException=pe,g.VideoInputDevice=U,g.WhiteRectangleDetector=Ft,g.WriterException=Gt,g.ZXingArrays=H,g.ZXingCharset=Ro,g.ZXingInteger=F,g.ZXingStandardCharsets=rl,g.ZXingStringBuilder=Ae,g.ZXingStringEncoding=ce,g.ZXingSystem=ne,g.createAbstractExpandedDecoder=di,Object.defineProperty(g,"__esModule",{value:!0})}))})(oo,oo.exports)),oo.exports}var dn=Lp();const jp=eu(dn),zp=Mm({__proto__:null,default:jp},[dn]);var Sx=(function(){function f(h,g,y){if(this.formatMap=new Map([[Fe.QR_CODE,dn.BarcodeFormat.QR_CODE],[Fe.AZTEC,dn.BarcodeFormat.AZTEC],[Fe.CODABAR,dn.BarcodeFormat.CODABAR],[Fe.CODE_39,dn.BarcodeFormat.CODE_39],[Fe.CODE_93,dn.BarcodeFormat.CODE_93],[Fe.CODE_128,dn.BarcodeFormat.CODE_128],[Fe.DATA_MATRIX,dn.BarcodeFormat.DATA_MATRIX],[Fe.MAXICODE,dn.BarcodeFormat.MAXICODE],[Fe.ITF,dn.BarcodeFormat.ITF],[Fe.EAN_13,dn.BarcodeFormat.EAN_13],[Fe.EAN_8,dn.BarcodeFormat.EAN_8],[Fe.PDF_417,dn.BarcodeFormat.PDF_417],[Fe.RSS_14,dn.BarcodeFormat.RSS_14],[Fe.RSS_EXPANDED,dn.BarcodeFormat.RSS_EXPANDED],[Fe.UPC_A,dn.BarcodeFormat.UPC_A],[Fe.UPC_E,dn.BarcodeFormat.UPC_E],[Fe.UPC_EAN_EXTENSION,dn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!zp)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=g,this.logger=y;var E=this.createZXingFormats(h),w=new Map;w.set(dn.DecodeHintType.POSSIBLE_FORMATS,E),w.set(dn.DecodeHintType.TRY_HARDER,!1),this.hints=w}return f.prototype.decodeAsync=function(h){var g=this;return new Promise(function(y,E){try{y(g.decode(h))}catch(w){E(w)}})},f.prototype.decode=function(h){var g=new dn.MultiFormatReader(this.verbose,this.hints),y=new dn.HTMLCanvasElementLuminanceSource(h),E=new dn.BinaryBitmap(new dn.HybridBinarizer(y)),w=g.decode(E);return{text:w.text,format:dg.create(this.toHtml5QrcodeSupportedFormats(w.format)),debugData:this.createDebugData()}},f.prototype.createReverseFormatMap=function(){var h=new Map;return this.formatMap.forEach(function(g,y,E){h.set(g,y)}),h},f.prototype.toHtml5QrcodeSupportedFormats=function(h){if(!this.reverseFormatMap.has(h))throw"reverseFormatMap doesn't have ".concat(h);return this.reverseFormatMap.get(h)},f.prototype.createZXingFormats=function(h){for(var g=[],y=0,E=h;y<E.length;y++){var w=E[y];this.formatMap.has(w)?g.push(this.formatMap.get(w)):this.logger.logError("".concat(w," is not supported by")+"ZXingHtml5QrcodeShim")}return g},f.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},f})(),Up=function(f,h,g,y){function E(w){return w instanceof g?w:new g(function(N){N(w)})}return new(g||(g=Promise))(function(w,N){function R(B){try{C(y.next(B))}catch(M){N(M)}}function _(B){try{C(y.throw(B))}catch(M){N(M)}}function C(B){B.done?w(B.value):E(B.value).then(R,_)}C((y=y.apply(f,h||[])).next())})},Hp=function(f,h){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,E,w,N;return N={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function R(C){return function(B){return _([C,B])}}function _(C){if(y)throw new TypeError("Generator is already executing.");for(;N&&(N=0,C[0]&&(g=0)),g;)try{if(y=1,E&&(w=C[0]&2?E.return:C[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,C[1])).done)return w;switch(E=0,w&&(C=[C[0]&2,w.value]),C[0]){case 0:case 1:w=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,E=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(C[0]===6||C[0]===2)){g=0;continue}if(C[0]===3&&(!w||C[1]>w[0]&&C[1]<w[3])){g.label=C[1];break}if(C[0]===6&&g.label<w[1]){g.label=w[1],w=C;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(C);break}w[2]&&g.ops.pop(),g.trys.pop();continue}C=h.call(f,g)}catch(B){C=[6,B],E=0}finally{y=w=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Tx=(function(){function f(h,g,y){if(this.formatMap=new Map([[Fe.QR_CODE,"qr_code"],[Fe.AZTEC,"aztec"],[Fe.CODABAR,"codabar"],[Fe.CODE_39,"code_39"],[Fe.CODE_93,"code_93"],[Fe.CODE_128,"code_128"],[Fe.DATA_MATRIX,"data_matrix"],[Fe.ITF,"itf"],[Fe.EAN_13,"ean_13"],[Fe.EAN_8,"ean_8"],[Fe.PDF_417,"pdf417"],[Fe.UPC_A,"upc_a"],[Fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!f.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=g,this.logger=y;var E=this.createBarcodeDetectorFormats(h);if(this.detector=new BarcodeDetector(E),!this.detector)throw"BarcodeDetector detector not supported"}return f.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var h=new BarcodeDetector({formats:["qr_code"]});return typeof h<"u"},f.prototype.decodeAsync=function(h){return Up(this,void 0,void 0,function(){var g,y;return Hp(this,function(E){switch(E.label){case 0:return[4,this.detector.detect(h)];case 1:if(g=E.sent(),!g||g.length===0)throw"No barcode or QR code detected.";return y=this.selectLargestBarcode(g),[2,{text:y.rawValue,format:dg.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}]}})})},f.prototype.selectLargestBarcode=function(h){for(var g=null,y=0,E=0,w=h;E<w.length;E++){var N=w[E],R=N.boundingBox.width*N.boundingBox.height;R>y&&(y=R,g=N)}if(!g)throw"No largest barcode found";return g},f.prototype.createBarcodeDetectorFormats=function(h){for(var g=[],y=0,E=h;y<E.length;y++){var w=E[y];this.formatMap.has(w)?g.push(this.formatMap.get(w)):this.logger.warn("".concat(w," is not supported by")+"BarcodeDetectorDelegate")}return{formats:g}},f.prototype.toHtml5QrcodeSupportedFormats=function(h){if(!this.reverseFormatMap.has(h))throw"reverseFormatMap doesn't have ".concat(h);return this.reverseFormatMap.get(h)},f.prototype.createReverseFormatMap=function(){var h=new Map;return this.formatMap.forEach(function(g,y,E){h.set(g,y)}),h},f.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},f})(),Nx=function(f,h,g,y){function E(w){return w instanceof g?w:new g(function(N){N(w)})}return new(g||(g=Promise))(function(w,N){function R(B){try{C(y.next(B))}catch(M){N(M)}}function _(B){try{C(y.throw(B))}catch(M){N(M)}}function C(B){B.done?w(B.value):E(B.value).then(R,_)}C((y=y.apply(f,h||[])).next())})},_x=function(f,h){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,E,w,N;return N={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function R(C){return function(B){return _([C,B])}}function _(C){if(y)throw new TypeError("Generator is already executing.");for(;N&&(N=0,C[0]&&(g=0)),g;)try{if(y=1,E&&(w=C[0]&2?E.return:C[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,C[1])).done)return w;switch(E=0,w&&(C=[C[0]&2,w.value]),C[0]){case 0:case 1:w=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,E=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(C[0]===6||C[0]===2)){g=0;continue}if(C[0]===3&&(!w||C[1]>w[0]&&C[1]<w[3])){g.label=C[1];break}if(C[0]===6&&g.label<w[1]){g.label=w[1],w=C;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(C);break}w[2]&&g.ops.pop(),g.trys.pop();continue}C=h.call(f,g)}catch(B){C=[6,B],E=0}finally{y=w=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Fp=(function(){function f(h,g,y,E){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=y,g&&Tx.isSupported()?(this.primaryDecoder=new Tx(h,y,E),this.secondaryDecoder=new Sx(h,y,E)):this.primaryDecoder=new Sx(h,y,E)}return f.prototype.decodeAsync=function(h){return Nx(this,void 0,void 0,function(){var g;return _x(this,function(y){switch(y.label){case 0:g=performance.now(),y.label=1;case 1:return y.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(h)];case 2:return[2,y.sent()];case 3:return this.possiblyLogPerformance(g),[7];case 4:return[2]}})})},f.prototype.decodeRobustlyAsync=function(h){return Nx(this,void 0,void 0,function(){var g,y;return _x(this,function(E){switch(E.label){case 0:g=performance.now(),E.label=1;case 1:return E.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(h)];case 2:return[2,E.sent()];case 3:if(y=E.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(h)];throw y;case 4:return this.possiblyLogPerformance(g),[7];case 5:return[2]}})})},f.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},f.prototype.possiblyLogPerformance=function(h){if(this.verbose){var g=performance.now()-h;this.executionResults.push(g),this.executions++,this.possiblyFlushPerformanceReport()}},f.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var h=0,g=0,y=this.executionResults;g<y.length;g++){var E=y[g];h+=E}var w=h/this.executionResults.length;console.log("".concat(w," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},f})(),jf=(function(){var f=function(h,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(y[w]=E[w])},f(h,g)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(h,g);function y(){this.constructor=h}h.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),Jc=function(f,h,g,y){function E(w){return w instanceof g?w:new g(function(N){N(w)})}return new(g||(g=Promise))(function(w,N){function R(B){try{C(y.next(B))}catch(M){N(M)}}function _(B){try{C(y.throw(B))}catch(M){N(M)}}function C(B){B.done?w(B.value):E(B.value).then(R,_)}C((y=y.apply(f,h||[])).next())})},$c=function(f,h){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,E,w,N;return N={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function R(C){return function(B){return _([C,B])}}function _(C){if(y)throw new TypeError("Generator is already executing.");for(;N&&(N=0,C[0]&&(g=0)),g;)try{if(y=1,E&&(w=C[0]&2?E.return:C[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,C[1])).done)return w;switch(E=0,w&&(C=[C[0]&2,w.value]),C[0]){case 0:case 1:w=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,E=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(C[0]===6||C[0]===2)){g=0;continue}if(C[0]===3&&(!w||C[1]>w[0]&&C[1]<w[3])){g.label=C[1];break}if(C[0]===6&&g.label<w[1]){g.label=w[1],w=C;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(C);break}w[2]&&g.ops.pop(),g.trys.pop();continue}C=h.call(f,g)}catch(B){C=[6,B],E=0}finally{y=w=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},hg=(function(){function f(h,g){this.name=h,this.track=g}return f.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},f.prototype.apply=function(h){var g={};g[this.name]=h;var y={advanced:[g]};return this.track.applyConstraints(y)},f.prototype.value=function(){var h=this.track.getSettings();if(this.name in h){var g=h[this.name];return g}return null},f})(),Pp=(function(f){jf(h,f);function h(g,y){return f.call(this,g,y)||this}return h.prototype.min=function(){return this.getCapabilities().min},h.prototype.max=function(){return this.getCapabilities().max},h.prototype.step=function(){return this.getCapabilities().step},h.prototype.apply=function(g){var y={};y[this.name]=g;var E={advanced:[y]};return this.track.applyConstraints(E)},h.prototype.getCapabilities=function(){this.failIfNotSupported();var g=this.track.getCapabilities(),y=g[this.name];return{min:y.min,max:y.max,step:y.step}},h.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},h})(hg),Gp=(function(f){jf(h,f);function h(g){return f.call(this,"zoom",g)||this}return h})(Pp),Vp=(function(f){jf(h,f);function h(g){return f.call(this,"torch",g)||this}return h})(hg),Xp=(function(){function f(h){this.track=h}return f.prototype.zoomFeature=function(){return new Gp(this.track)},f.prototype.torchFeature=function(){return new Vp(this.track)},f})(),Yp=(function(){function f(h,g,y){this.isClosed=!1,this.parentElement=h,this.mediaStream=g,this.callbacks=y,this.surface=this.createVideoElement(this.parentElement.clientWidth),h.append(this.surface)}return f.prototype.createVideoElement=function(h){var g=document.createElement("video");return g.style.width="".concat(h,"px"),g.style.display="block",g.muted=!0,g.setAttribute("muted","true"),g.playsInline=!0,g},f.prototype.setupSurface=function(){var h=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var g=function(){var y=h.surface.clientWidth,E=h.surface.clientHeight;h.callbacks.onRenderSurfaceReady(y,E),h.surface.removeEventListener("playing",g)};this.surface.addEventListener("playing",g),this.surface.srcObject=this.mediaStream,this.surface.play()},f.create=function(h,g,y,E){return Jc(this,void 0,void 0,function(){var w,N;return $c(this,function(R){switch(R.label){case 0:return w=new f(h,g,E),y.aspectRatio?(N={aspectRatio:y.aspectRatio},[4,w.getFirstTrackOrFail().applyConstraints(N)]):[3,2];case 1:R.sent(),R.label=2;case 2:return w.setupSurface(),[2,w]}})})},f.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},f.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},f.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},f.prototype.resume=function(h){this.failIfClosed();var g=this,y=function(){setTimeout(h,200),g.surface.removeEventListener("playing",y)};this.surface.addEventListener("playing",y),this.surface.play()},f.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},f.prototype.getSurface=function(){return this.failIfClosed(),this.surface},f.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},f.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},f.prototype.applyVideoConstraints=function(h){return Jc(this,void 0,void 0,function(){return $c(this,function(g){if("aspectRatio"in h)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(h)]})})},f.prototype.close=function(){if(this.isClosed)return Promise.resolve();var h=this;return new Promise(function(g,y){var E=h.mediaStream.getVideoTracks(),w=E.length,N=0;h.mediaStream.getVideoTracks().forEach(function(R){h.mediaStream.removeTrack(R),R.stop(),++N,N>=w&&(h.isClosed=!0,h.parentElement.removeChild(h.surface),g())})})},f.prototype.getCapabilities=function(){return new Xp(this.getFirstTrackOrFail())},f})(),qp=(function(){function f(h){this.mediaStream=h}return f.prototype.render=function(h,g,y){return Jc(this,void 0,void 0,function(){return $c(this,function(E){return[2,Yp.create(h,this.mediaStream,g,y)]})})},f.create=function(h){return Jc(this,void 0,void 0,function(){var g,y;return $c(this,function(E){switch(E.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return g={audio:!1,video:h},[4,navigator.mediaDevices.getUserMedia(g)];case 1:return y=E.sent(),[2,new f(y)]}})})},f})(),Ix=function(f,h,g,y){function E(w){return w instanceof g?w:new g(function(N){N(w)})}return new(g||(g=Promise))(function(w,N){function R(B){try{C(y.next(B))}catch(M){N(M)}}function _(B){try{C(y.throw(B))}catch(M){N(M)}}function C(B){B.done?w(B.value):E(B.value).then(R,_)}C((y=y.apply(f,h||[])).next())})},Ox=function(f,h){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,E,w,N;return N={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function R(C){return function(B){return _([C,B])}}function _(C){if(y)throw new TypeError("Generator is already executing.");for(;N&&(N=0,C[0]&&(g=0)),g;)try{if(y=1,E&&(w=C[0]&2?E.return:C[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,C[1])).done)return w;switch(E=0,w&&(C=[C[0]&2,w.value]),C[0]){case 0:case 1:w=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,E=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(C[0]===6||C[0]===2)){g=0;continue}if(C[0]===3&&(!w||C[1]>w[0]&&C[1]<w[3])){g.label=C[1];break}if(C[0]===6&&g.label<w[1]){g.label=w[1],w=C;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(C);break}w[2]&&g.ops.pop(),g.trys.pop();continue}C=h.call(f,g)}catch(B){C=[6,B],E=0}finally{y=w=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Zp=(function(){function f(){}return f.failIfNotSupported=function(){return Ix(this,void 0,void 0,function(){return Ox(this,function(h){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new f]})})},f.prototype.create=function(h){return Ix(this,void 0,void 0,function(){return Ox(this,function(g){return[2,qp.create(h)]})})},f})(),Wp=function(f,h,g,y){function E(w){return w instanceof g?w:new g(function(N){N(w)})}return new(g||(g=Promise))(function(w,N){function R(B){try{C(y.next(B))}catch(M){N(M)}}function _(B){try{C(y.throw(B))}catch(M){N(M)}}function C(B){B.done?w(B.value):E(B.value).then(R,_)}C((y=y.apply(f,h||[])).next())})},Qp=function(f,h){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,E,w,N;return N={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function R(C){return function(B){return _([C,B])}}function _(C){if(y)throw new TypeError("Generator is already executing.");for(;N&&(N=0,C[0]&&(g=0)),g;)try{if(y=1,E&&(w=C[0]&2?E.return:C[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,C[1])).done)return w;switch(E=0,w&&(C=[C[0]&2,w.value]),C[0]){case 0:case 1:w=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,E=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(C[0]===6||C[0]===2)){g=0;continue}if(C[0]===3&&(!w||C[1]>w[0]&&C[1]<w[3])){g.label=C[1];break}if(C[0]===6&&g.label<w[1]){g.label=w[1],w=C;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(C);break}w[2]&&g.ops.pop(),g.trys.pop();continue}C=h.call(f,g)}catch(B){C=[6,B],E=0}finally{y=w=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Kp=(function(){function f(){}return f.retrieve=function(){if(navigator.mediaDevices)return f.getCamerasFromMediaDevices();var h=MediaStreamTrack;return MediaStreamTrack&&h.getSources?f.getCamerasFromMediaStreamTrack():f.rejectWithError()},f.rejectWithError=function(){var h=ss.unableToQuerySupportedDevices();return f.isHttpsOrLocalhost()||(h=ss.insecureContextCameraQueryError()),Promise.reject(h)},f.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var h=location.host.split(":")[0];return h==="127.0.0.1"||h==="localhost"},f.getCamerasFromMediaDevices=function(){return Wp(this,void 0,void 0,function(){var h,g,y,E,w,N,R;return Qp(this,function(_){switch(_.label){case 0:return h=function(C){for(var B=C.getVideoTracks(),M=0,V=B;M<V.length;M++){var Z=V[M];Z.enabled=!1,Z.stop(),C.removeTrack(Z)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return g=_.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(y=_.sent(),E=[],w=0,N=y;w<N.length;w++)R=N[w],R.kind==="videoinput"&&E.push({id:R.deviceId,label:R.label});return h(g),[2,E]}})})},f.getCamerasFromMediaStreamTrack=function(){return new Promise(function(h,g){var y=function(w){for(var N=[],R=0,_=w;R<_.length;R++){var C=_[R];C.kind==="video"&&N.push({id:C.id,label:C.label})}h(N)},E=MediaStreamTrack;E.getSources(y)})},f})(),Tn;(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.NOT_STARTED=1]="NOT_STARTED",f[f.SCANNING=2]="SCANNING",f[f.PAUSED=3]="PAUSED"})(Tn||(Tn={}));var Jp=(function(){function f(){this.state=Tn.NOT_STARTED,this.onGoingTransactionNewState=Tn.UNKNOWN}return f.prototype.directTransition=function(h){this.failIfTransitionOngoing(),this.validateTransition(h),this.state=h},f.prototype.startTransition=function(h){return this.failIfTransitionOngoing(),this.validateTransition(h),this.onGoingTransactionNewState=h,this},f.prototype.execute=function(){if(this.onGoingTransactionNewState===Tn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var h=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Tn.UNKNOWN,this.directTransition(h)},f.prototype.cancel=function(){if(this.onGoingTransactionNewState===Tn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Tn.UNKNOWN},f.prototype.getState=function(){return this.state},f.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Tn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},f.prototype.validateTransition=function(h){switch(this.state){case Tn.UNKNOWN:throw"Transition from unknown is not allowed";case Tn.NOT_STARTED:this.failIfNewStateIs(h,[Tn.PAUSED]);break;case Tn.SCANNING:break;case Tn.PAUSED:break}},f.prototype.failIfNewStateIs=function(h,g){for(var y=0,E=g;y<E.length;y++){var w=E[y];if(h===w)throw"Cannot transition from ".concat(this.state," to ").concat(h)}},f})(),$p=(function(){function f(h){this.stateManager=h}return f.prototype.startTransition=function(h){return this.stateManager.startTransition(h)},f.prototype.directTransition=function(h){this.stateManager.directTransition(h)},f.prototype.getState=function(){return this.stateManager.getState()},f.prototype.canScanFile=function(){return this.stateManager.getState()===Tn.NOT_STARTED},f.prototype.isScanning=function(){return this.stateManager.getState()!==Tn.NOT_STARTED},f.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Tn.SCANNING},f.prototype.isPaused=function(){return this.stateManager.getState()===Tn.PAUSED},f})(),eb=(function(){function f(){}return f.create=function(){return new $p(new Jp)},f})(),tb=(function(){var f=function(h,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(y[w]=E[w])},f(h,g)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(h,g);function y(){this.constructor=h}h.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),Hr=(function(f){tb(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.DEFAULT_WIDTH=300,h.DEFAULT_WIDTH_OFFSET=2,h.FILE_SCAN_MIN_HEIGHT=300,h.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,h.MIN_QR_BOX_SIZE=50,h.SHADED_LEFT=1,h.SHADED_RIGHT=2,h.SHADED_TOP=3,h.SHADED_BOTTOM=4,h.SHADED_REGION_ELEMENT_ID="qr-shaded-region",h.VERBOSE=!1,h.BORDER_SHADER_DEFAULT_COLOR="#ffffff",h.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",h})(Dp),nb=(function(){function f(h,g){this.logger=g,this.fps=Hr.SCAN_DEFAULT_FPS,h?(h.fps&&(this.fps=h.fps),this.disableFlip=h.disableFlip===!0,this.qrbox=h.qrbox,this.aspectRatio=h.aspectRatio,this.videoConstraints=h.videoConstraints):this.disableFlip=Hr.DEFAULT_DISABLE_FLIP}return f.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?fg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},f.prototype.isShadedBoxEnabled=function(){return!li(this.qrbox)},f.create=function(h,g){return new f(h,g)},f})(),rb=(function(){function f(h,g){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(h))throw"HTML Element with id=".concat(h," not found");this.elementId=h,this.verbose=!1;var y;typeof g=="boolean"?this.verbose=g===!0:g&&(y=g,this.verbose=y.verbose===!0,y.experimentalFeatures),this.logger=new kp(this.verbose),this.qrcode=new Fp(this.getSupportedFormats(g),this.getUseBarCodeDetectorIfSupported(y),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=eb.create()}return f.prototype.start=function(h,g,y,E){var w=this;if(!h)throw"cameraIdOrConfig is required";if(!y||typeof y!="function")throw"qrCodeSuccessCallback is required and should be a function.";var N;E?N=E:N=this.verbose?this.logger.log:function(){};var R=nb.create(g,this.logger);this.clearElement();var _=!1;R.videoConstraints&&(R.isMediaStreamConstraintsValid()?_=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var C=_,B=document.getElementById(this.elementId);B.clientWidth?B.clientWidth:Hr.DEFAULT_WIDTH,B.style.position="relative",this.shouldScan=!0,this.element=B;var M=this,V=this.stateManagerProxy.startTransition(Tn.SCANNING);return new Promise(function(Z,ge){var ne=C?R.videoConstraints:M.createVideoConstraints(h);if(!ne){V.cancel(),ge("videoConstraints should be defined");return}var re={};(!C||R.aspectRatio)&&(re.aspectRatio=R.aspectRatio);var z={onRenderSurfaceReady:function(H,F){M.setupUi(H,F,R),M.isScanning=!0,M.foreverScan(R,y,N)}};Zp.failIfNotSupported().then(function(H){H.create(ne).then(function(F){return F.render(w.element,re,z).then(function(X){M.renderedCamera=X,V.execute(),Z(null)}).catch(function(X){V.cancel(),ge(X)})}).catch(function(F){V.cancel(),ge(ss.errorGettingUserMedia(F))})}).catch(function(H){V.cancel(),ge(ss.cameraStreamingNotSupported())})})},f.prototype.pause=function(h){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Tn.PAUSED),this.showPausedState(),(li(h)||h!==!0)&&(h=!1),h&&this.renderedCamera&&this.renderedCamera.pause()},f.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var h=this,g=function(){h.stateManagerProxy.directTransition(Tn.SCANNING),h.hidePausedState()};if(!this.renderedCamera.isPaused()){g();return}this.renderedCamera.resume(function(){g()})},f.prototype.getState=function(){return this.stateManagerProxy.getState()},f.prototype.stop=function(){var h=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var g=this.stateManagerProxy.startTransition(Tn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var y=function(){if(h.element){var w=document.getElementById(Hr.SHADED_REGION_ELEMENT_ID);w&&h.element.removeChild(w)}},E=this;return this.renderedCamera.close().then(function(){return E.renderedCamera=null,E.element&&(E.element.removeChild(E.canvasElement),E.canvasElement=null),y(),E.qrRegion&&(E.qrRegion=null),E.context&&(E.context=null),g.execute(),E.hidePausedState(),E.isScanning=!1,Promise.resolve()})},f.prototype.scanFile=function(h,g){return this.scanFileV2(h,g).then(function(y){return y.decodedText})},f.prototype.scanFileV2=function(h,g){var y=this;if(!h||!(h instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(li(g)&&(g=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(E,w){y.possiblyCloseLastScanImageFile(),y.clearElement(),y.lastScanImageFile=URL.createObjectURL(h);var N=new Image;N.onload=function(){var R=N.width,_=N.height,C=document.getElementById(y.elementId),B=C.clientWidth?C.clientWidth:Hr.DEFAULT_WIDTH,M=Math.max(C.clientHeight?C.clientHeight:_,Hr.FILE_SCAN_MIN_HEIGHT),V=y.computeCanvasDrawConfig(R,_,B,M);if(g){var Z=y.createCanvasElement(B,M,"qr-canvas-visible");Z.style.display="inline-block",C.appendChild(Z);var ge=Z.getContext("2d");if(!ge)throw"Unable to get 2d context from canvas";ge.canvas.width=B,ge.canvas.height=M,ge.drawImage(N,0,0,R,_,V.x,V.y,V.width,V.height)}var ne=Hr.FILE_SCAN_HIDDEN_CANVAS_PADDING,re=Math.max(N.width,V.width),z=Math.max(N.height,V.height),H=re+2*ne,F=z+2*ne,X=y.createCanvasElement(H,F);C.appendChild(X);var de=X.getContext("2d");if(!de)throw"Unable to get 2d context from canvas";de.canvas.width=H,de.canvas.height=F,de.drawImage(N,0,0,R,_,ne,ne,re,z);try{y.qrcode.decodeRobustlyAsync(X).then(function(W){E(Ax.createFromQrcodeResult(W))}).catch(w)}catch(W){w("QR code parse error, error = ".concat(W))}},N.onerror=w,N.onabort=w,N.onstalled=w,N.onsuspend=w,N.src=URL.createObjectURL(h)})},f.prototype.clear=function(){this.clearElement()},f.getCameras=function(){return Kp.retrieve()},f.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},f.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},f.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},f.prototype.applyVideoConstraints=function(h){if(h){if(!fg.isMediaStreamConstraintsValid(h,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(h)},f.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},f.prototype.getSupportedFormats=function(h){var g=[Fe.QR_CODE,Fe.AZTEC,Fe.CODABAR,Fe.CODE_39,Fe.CODE_93,Fe.CODE_128,Fe.DATA_MATRIX,Fe.MAXICODE,Fe.ITF,Fe.EAN_13,Fe.EAN_8,Fe.PDF_417,Fe.RSS_14,Fe.RSS_EXPANDED,Fe.UPC_A,Fe.UPC_E,Fe.UPC_EAN_EXTENSION];if(!h||typeof h=="boolean"||!h.formatsToSupport)return g;if(!Array.isArray(h.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(h.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var y=[],E=0,w=h.formatsToSupport;E<w.length;E++){var N=w[E];Rp(N)?y.push(N):this.logger.warn("Invalid format: ".concat(N," passed in config, ignoring."))}if(y.length===0)throw"None of formatsToSupport match supported values.";return y},f.prototype.getUseBarCodeDetectorIfSupported=function(h){if(li(h))return!0;if(!li(h.useBarCodeDetectorIfSupported))return h.useBarCodeDetectorIfSupported!==!1;if(li(h.experimentalFeatures))return!0;var g=h.experimentalFeatures;return li(g.useBarCodeDetectorIfSupported)?!0:g.useBarCodeDetectorIfSupported!==!1},f.prototype.validateQrboxSize=function(h,g,y){var E=this,w=y.qrbox;this.validateQrboxConfig(w);var N=this.toQrdimensions(h,g,w),R=function(C){if(C<Hr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Hr.MIN_QR_BOX_SIZE,"px.")},_=function(C){return C>h&&(E.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),C=h),C};R(N.width),R(N.height),N.width=_(N.width)},f.prototype.validateQrboxConfig=function(h){if(typeof h!="number"&&typeof h!="function"&&(h.width===void 0||h.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},f.prototype.toQrdimensions=function(h,g,y){if(typeof y=="number")return{width:y,height:y};if(typeof y=="function")try{return y(h,g)}catch(E){throw new Error("qrbox config was passed as a function but it failed with unknown error"+E)}return y},f.prototype.setupUi=function(h,g,y){y.isShadedBoxEnabled()&&this.validateQrboxSize(h,g,y);var E=li(y.qrbox)?{width:h,height:g}:y.qrbox;this.validateQrboxConfig(E);var w=this.toQrdimensions(h,g,E);w.height>g&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var N=y.isShadedBoxEnabled()&&w.height<=g,R={x:0,y:0,width:h,height:g},_=N?this.getShadedRegionBounds(h,g,w):R,C=this.createCanvasElement(_.width,_.height),B={willReadFrequently:!0},M=C.getContext("2d",B);M.canvas.width=_.width,M.canvas.height=_.height,this.element.append(C),N&&this.possiblyInsertShadingElement(this.element,h,g,w),this.createScannerPausedUiElement(this.element),this.qrRegion=_,this.context=M,this.canvasElement=C},f.prototype.createScannerPausedUiElement=function(h){var g=document.createElement("div");g.innerText=ss.scannerPaused(),g.style.display="none",g.style.position="absolute",g.style.top="0px",g.style.zIndex="1",g.style.background="rgba(9, 9, 9, 0.46)",g.style.color="#FFECEC",g.style.textAlign="center",g.style.width="100%",h.appendChild(g),this.scannerPausedUiElement=g},f.prototype.scanContext=function(h,g){var y=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(E){return h(E.text,Ax.createFromQrcodeResult(E)),y.possiblyUpdateShaders(!0),!0}).catch(function(E){y.possiblyUpdateShaders(!1);var w=ss.codeParseError(E);return g(w,Mp.createFrom(w)),!1})},f.prototype.foreverScan=function(h,g,y){var E=this;if(this.shouldScan&&this.renderedCamera){var w=this.renderedCamera.getSurface(),N=w.videoWidth/w.clientWidth,R=w.videoHeight/w.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var _=this.qrRegion.width*N,C=this.qrRegion.height*R,B=this.qrRegion.x*N,M=this.qrRegion.y*R;this.context.drawImage(w,B,M,_,C,0,0,this.qrRegion.width,this.qrRegion.height);var V=function(){E.foreverScanTimeout=setTimeout(function(){E.foreverScan(h,g,y)},E.getTimeoutFps(h.fps))};this.scanContext(g,y).then(function(Z){!Z&&h.disableFlip!==!0?(E.context.translate(E.context.canvas.width,0),E.context.scale(-1,1),E.scanContext(g,y).finally(function(){V()})):V()}).catch(function(Z){E.logger.logError("Error happend while scanning context",Z),V()})}},f.prototype.createVideoConstraints=function(h){if(typeof h=="string")return{deviceId:{exact:h}};if(typeof h=="object"){var g="facingMode",y="deviceId",E={user:!0,environment:!0},w="exact",N=function(ge){if(ge in E)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(ge,"'")},R=Object.keys(h);if(R.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(R.length," keys");var _=Object.keys(h)[0];if(_!==g&&_!==y)throw"Only '".concat(g,"' and '").concat(y,"' ")+" are supported for 'cameraIdOrConfig'";if(_===g){var C=h.facingMode;if(typeof C=="string"){if(N(C))return{facingMode:C}}else if(typeof C=="object")if(w in C){if(N(C["".concat(w)]))return{facingMode:{exact:C["".concat(w)]}}}else throw"'facingMode' should be string or object with"+" ".concat(w," as key.");else{var B=typeof C;throw"Invalid type of 'facingMode' = ".concat(B)}}else{var M=h.deviceId;if(typeof M=="string")return{deviceId:M};if(typeof M=="object"){if(w in M)return{deviceId:{exact:M["".concat(w)]}};throw"'deviceId' should be string or object with"+" ".concat(w," as key.")}else{var V=typeof M;throw"Invalid type of 'deviceId' = ".concat(V)}}}var Z=typeof h;throw"Invalid type of 'cameraIdOrConfig' = ".concat(Z)},f.prototype.computeCanvasDrawConfig=function(h,g,y,E){if(h<=y&&g<=E){var w=(y-h)/2,N=(E-g)/2;return{x:w,y:N,width:h,height:g}}else{var R=h,_=g;return h>y&&(g=y/h*g,h=y),g>E&&(h=E/g*h,g=E),this.logger.log("Image downsampled from "+"".concat(R,"X").concat(_)+" to ".concat(h,"X").concat(g,".")),this.computeCanvasDrawConfig(h,g,y,E)}},f.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var h=document.getElementById(this.elementId);h&&(h.innerHTML="")},f.prototype.possiblyUpdateShaders=function(h){this.qrMatch!==h&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(g){g.style.backgroundColor=h?Hr.BORDER_SHADER_MATCH_COLOR:Hr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=h)},f.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},f.prototype.createCanvasElement=function(h,g,y){var E=h,w=g,N=document.createElement("canvas");return N.style.width="".concat(E,"px"),N.style.height="".concat(w,"px"),N.style.display="none",N.id=li(y)?"qr-canvas":y,N},f.prototype.getShadedRegionBounds=function(h,g,y){if(y.width>h||y.height>g)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(h-y.width)/2,y:(g-y.height)/2,width:y.width,height:y.height}},f.prototype.possiblyInsertShadingElement=function(h,g,y,E){if(!(g-E.width<1||y-E.height<1)){var w=document.createElement("div");w.style.position="absolute";var N=(g-E.width)/2,R=(y-E.height)/2;if(w.style.borderLeft="".concat(N,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderRight="".concat(N,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderTop="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderBottom="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),w.style.boxSizing="border-box",w.style.top="0px",w.style.bottom="0px",w.style.left="0px",w.style.right="0px",w.id="".concat(Hr.SHADED_REGION_ELEMENT_ID),g-E.width<11||y-E.height<11)this.hasBorderShaders=!1;else{var _=5,C=40;this.insertShaderBorders(w,C,_,-_,null,0,!0),this.insertShaderBorders(w,C,_,-_,null,0,!1),this.insertShaderBorders(w,C,_,null,-_,0,!0),this.insertShaderBorders(w,C,_,null,-_,0,!1),this.insertShaderBorders(w,_,C+_,-_,null,-_,!0),this.insertShaderBorders(w,_,C+_,null,-_,-_,!0),this.insertShaderBorders(w,_,C+_,-_,null,-_,!1),this.insertShaderBorders(w,_,C+_,null,-_,-_,!1),this.hasBorderShaders=!0}h.append(w)}},f.prototype.insertShaderBorders=function(h,g,y,E,w,N,R){var _=document.createElement("div");_.style.position="absolute",_.style.backgroundColor=Hr.BORDER_SHADER_DEFAULT_COLOR,_.style.width="".concat(g,"px"),_.style.height="".concat(y,"px"),E!==null&&(_.style.top="".concat(E,"px")),w!==null&&(_.style.bottom="".concat(w,"px")),R?_.style.left="".concat(N,"px"):_.style.right="".concat(N,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(_),h.appendChild(_)},f.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},f.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},f.prototype.getTimeoutFps=function(h){return 1e3/h},f})(),Rx;(function(f){f[f.STATUS_DEFAULT=0]="STATUS_DEFAULT",f[f.STATUS_SUCCESS=1]="STATUS_SUCCESS",f[f.STATUS_WARNING=2]="STATUS_WARNING",f[f.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Rx||(Rx={}));const ab=({onOpenSidebar:f,onNavigate:h,addToCart:g,cartItemCount:y,products:E,cart:w,updateQuantity:N,removeFromCart:R})=>{const _=F=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(F),[C,B]=Te.useState(()=>localStorage.getItem("falcon_product_filter")||""),[M,V]=Te.useState(E||[]),[Z,ge]=Te.useState(!1),[ne,re]=Te.useState("");Te.useEffect(()=>{ir("falcon_product_filter",{value:C})},[C]),Te.useEffect(()=>{const F=async()=>{const de=await Ht("falcon_products_db");V(de)};F();const X=()=>F();return window.addEventListener("focus",X),()=>window.removeEventListener("focus",X)},[]),Te.useEffect(()=>()=>{},[]);const z=Te.useMemo(()=>M.filter(F=>F.name.toLowerCase().includes(C.toLowerCase())||F.category&&F.category.toLowerCase().includes(C.toLowerCase())||F.Codigo&&String(F.Codigo).toLowerCase().includes(C.toLowerCase())),[M,C]),H=w.reduce((F,X)=>F+X.price*X.quantity,0);return Te.useEffect(()=>{if(Z){re("");const F=new rb("barcode-scanner");let X=!1;return F.start({facingMode:"environment"},{fps:10,qrbox:280,formatsToSupport:[Fe.EAN_13,Fe.CODE_128,Fe.EAN_8]},de=>{B(de),ge(!1),X||(F.stop().then(()=>{const W=document.getElementById("barcode-scanner");W&&(W.innerHTML="")}),X=!0)},de=>{re("No foi possvel acessar a cmera ou ler o cdigo. Verifique as permisses e tente novamente.")}).catch(de=>{re("Erro ao iniciar a cmera: "+de)}),()=>{X||(F.stop().then(()=>{const de=document.getElementById("barcode-scanner");de&&(de.innerHTML="")}).catch(()=>{}),X=!0)}}},[Z]),p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"flex flex-col gap-2 bg-background-light dark:bg-background-dark p-4 pb-2 sticky top-0 z-10 shadow-sm lg:shadow-none",children:[p.jsxs("div",{className:"flex h-12 items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:f,className:"lg:hidden text-slate-900 dark:text-white",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"menu"})}),p.jsx("h1",{className:"text-3xl font-bold leading-tight tracking-tight text-slate-900 dark:text-white hidden lg:block",children:"Lista de Produtos"})]}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("span",{className:"text-lg font-bold text-blue-700 dark:text-blue-300 whitespace-nowrap",children:["Total: ",_(H)]}),p.jsxs("button",{onClick:()=>h("shop"),className:"relative flex h-12 w-12 cursor-pointer items-center justify-center rounded-lg hover:bg-black/5 dark:hover:bg-white/10 transition-colors text-slate-900 dark:text-white",children:[p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"shopping_cart"}),y>0&&p.jsx("span",{className:"absolute top-2 right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white",children:y})]})]})]}),p.jsx("p",{className:"text-3xl font-bold leading-tight tracking-tight text-slate-900 dark:text-white lg:hidden",children:"Lista de Produtos"})]}),p.jsxs("div",{className:"px-4 py-3 sticky top-[100px] lg:top-0 z-10 bg-background-light dark:bg-background-dark",children:[p.jsx("label",{className:"flex h-12 w-full flex-col",children:p.jsxs("div",{className:"flex h-full w-full flex-1 items-stretch rounded-xl shadow-sm relative",children:[p.jsx("div",{className:"flex items-center justify-center rounded-l-xl border-y border-l border-border-light dark:border-border-dark bg-white dark:bg-surface-dark/50 pl-4 text-slate-400 dark:text-slate-500",children:p.jsx("span",{className:"material-symbols-outlined",children:"search"})}),p.jsx("input",{className:"h-full min-w-0 flex-1 resize-none overflow-hidden rounded-r-xl border-y border-r border-border-light dark:border-border-dark bg-white dark:bg-surface-dark/50 px-4 text-base font-normal leading-normal text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-0",placeholder:"Buscar produtos...",value:C,onChange:F=>B(F.target.value)}),p.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark hover:text-primary",onClick:()=>ge(!0),title:"Ler cdigo de barras",children:p.jsx("span",{className:"material-symbols-outlined",children:"photo_camera"})})]})}),Z&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-lg p-6 shadow-lg relative",children:[p.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-red-600",onClick:()=>ge(!1),title:"Fechar",children:p.jsx("span",{className:"material-symbols-outlined",children:"close"})}),p.jsx("div",{id:"barcode-scanner",style:{width:320,height:240}}),p.jsx("p",{className:"mt-2 text-center text-sm",children:"Aponte a cmera para o cdigo de barras"}),ne&&p.jsx("p",{className:"mt-2 text-center text-sm text-red-600",children:ne})]})})]}),p.jsx("div",{className:"p-4 pb-24",children:p.jsx(rp,{style:{height:600},className:"custom-scrollbar",totalCount:z.length,itemContent:F=>{const X=z[F];return p.jsxs("div",{className:"flex items-stretch justify-between gap-4 rounded-xl bg-white dark:bg-surface-dark/50 p-4 shadow-sm hover:shadow-md transition-shadow mb-2",children:[p.jsxs("div",{className:"flex flex-[2_2_0px] flex-col h-full justify-between",children:[p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("p",{className:"text-base font-bold leading-tight text-slate-500 dark:text-slate-400 break-words",children:X.name}),p.jsx("p",{className:"text-base font-bold leading-normal text-slate-900 text-blue-600 dark:text-slate-200",children:_(X.price)})]}),p.jsx("div",{className:"mt-1",children:p.jsx("button",{onClick:()=>g(X),className:"flex h-9 items-center justify-center overflow-hidden rounded-lg bg-primary px-3 text-sm font-medium leading-normal text-white hover:bg-blue-600 transition-colors active:scale-95",children:p.jsx("span",{className:"truncate",children:"Adicionar ao Pedido"})})})]}),X.image?p.jsx("div",{className:"aspect-square w-20 sm:w-28 lg:w-32 flex-shrink-0 rounded-lg bg-cover bg-center bg-no-repeat bg-gray-200 dark:bg-gray-800",style:{backgroundImage:`url('${X.image}')`},"aria-label":X.name}):p.jsx("div",{className:"aspect-square w-20 sm:w-28 lg:w-32 flex-shrink-0 rounded-lg bg-gray-200 dark:bg-gray-800 flex items-center justify-center",children:p.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"image_not_supported"})})]},X.id)}})})]})},ib=({cart:f,updateQuantity:h,onNavigate:g,onBack:y,onCancel:E,editingOrder:w})=>{const N=f.reduce((z,H)=>z+H.price*H.quantity,0),R=f.reduce((z,H)=>z+H.quantity,0),[_,C]=ze.useState({}),[B,M]=ze.useState(!1),V=z=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z),Z=z=>{C(H=>{var F;return{...H,[z]:{active:!0,value:((F=H[z])==null?void 0:F.value)||""}}})},ge=z=>{C(H=>{var X;return((X=H[z])==null?void 0:X.value)||""?H:{...H,[z]:{active:!1,value:""}}})},ne=(z,H)=>{const F=H.replace(/[^0-9.,]/g,"");C(X=>({...X,[z]:{active:!0,value:F}}))},re=z=>{const H=_[z.id];if(H&&H.value!==""){const F=parseFloat(H.value.replace(",","."));!isNaN(F)&&F>0&&(h(z.id,F-z.quantity),C(X=>({...X,[z.id]:{active:!1,value:""}})))}};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("header",{className:"flex items-center justify-between p-4 bg-background-light dark:bg-background-dark border-b border-border-light dark:border-border-dark sticky top-0 z-10",children:[p.jsx("button",{onClick:y,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),p.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[p.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white text-center",children:w?`Editando Pedido #${w.id}`:"Itens do Pedido"}),!w&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>M(!0),className:"w-7 h-7 flex items-center justify-center bg-red-100 dark:bg-red-700 rounded-full text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-600 mt-2",title:"Cancelar pedido",children:p.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"})}),p.jsx(oi,{isOpen:B,onClose:()=>M(!1),title:"Cancelar Pedido",footer:p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-slate-800 dark:text-white font-medium hover:bg-gray-300 dark:hover:bg-gray-600",children:"No"}),p.jsx("button",{onClick:()=>{M(!1),typeof E=="function"&&E()},className:"px-4 py-2 rounded-lg bg-red-600 text-white font-bold hover:bg-red-700",children:"Sim, cancelar"})]}),children:"Tem certeza que deseja cancelar este pedido?"})]})]}),w?p.jsx("button",{onClick:E,className:"text-red-500 font-medium text-sm hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1 rounded-lg transition-colors",children:"Cancelar"}):p.jsxs("button",{className:"relative text-slate-800 dark:text-white p-1",children:[p.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"}),R>0&&p.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold w-4 h-4 rounded-full flex items-center justify-center",children:R})]})]}),p.jsx("main",{className:"flex-grow overflow-y-auto p-4 space-y-4 pb-24",children:f.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500 dark:text-slate-400",children:[p.jsx("span",{className:"material-symbols-outlined text-6xl mb-4",children:"remove_shopping_cart"}),p.jsx("p",{children:"Seu pedido est vazio."}),p.jsx("button",{onClick:()=>g("productList"),className:"mt-4 text-primary font-medium hover:underline",children:"Navegar nos Produtos"})]}):f.map(z=>{const H=_[z.id]||{active:!1,value:""};let F=z.quantity;return typeof F=="number"&&(F=F.toString().replace(".",",")),(H.active&&H.value||!H.active&&H.value)&&(F=H.value),p.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg flex items-center space-x-4 shadow-sm",children:[z.image?p.jsx("img",{src:z.image,alt:z.name,className:"w-20 h-20 object-cover rounded-md flex-shrink-0 bg-slate-200 dark:bg-slate-700"}):p.jsx("div",{className:"w-20 h-20 rounded-md flex-shrink-0 bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:p.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"image_not_supported"})}),p.jsxs("div",{className:"flex-grow min-w-0",children:[p.jsx("h2",{className:"font-semibold text-slate-500 dark:text-slate-400",children:z.name}),p.jsx("p",{className:"text-lg text-slate-900 text-blue-600 dark:text-slate-200 font-medium",children:V(z.price)}),p.jsxs("div",{className:"flex items-center mt-2",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[H.active?null:p.jsx("button",{onClick:()=>h(z.id,-1),className:"w-7 h-7 flex items-center justify-center bg-slate-100 dark:bg-slate-700 rounded-full text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:p.jsx("span",{className:"material-symbols-outlined text-base",children:"remove"})}),p.jsx("span",{className:"font-medium text-slate-900 dark:text-white min-w-[2.5rem] text-center mr-2",children:F}),p.jsx("button",{onClick:()=>{H.active&&H.value!==""?re(z):h(z.id,1)},className:"w-7 h-7 flex items-center justify-center bg-primary text-white rounded-full hover:bg-blue-600",children:p.jsx("span",{className:"material-symbols-outlined text-base",children:"add"})}),p.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",value:H.value,onFocus:()=>Z(z.id),onBlur:()=>ge(z.id),onChange:X=>ne(z.id,X.target.value),placeholder:"Qtd.",className:"w-20 px-2 py-1 rounded border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark text-slate-900 dark:text-white text-sm ml-2",style:{textAlign:"center"}})]}),p.jsx("button",{onClick:()=>h(z.id,-z.quantity),className:"w-7 h-7 flex items-center justify-center bg-red-100 dark:bg-red-700 rounded-full text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-600 ml-auto",title:"Remover item",children:p.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"})})]})]})]},z.id)})}),f.length>0&&p.jsxs("footer",{className:"p-4 bg-white dark:bg-background-dark border-t border-border-light dark:border-border-dark sticky bottom-16 lg:bottom-0",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Subtotal"}),p.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white",children:V(N)})]}),p.jsx("button",{onClick:()=>g("checkout"),className:"w-full bg-primary text-white font-bold py-3 rounded-lg text-center hover:bg-blue-600 transition-colors shadow-lg shadow-primary/20",children:"Ir para o Pagamento"})]})]})};async function zf(){const f=localStorage.getItem("apiProtocol")||"https",h=localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443",g=`${f}://${h}/api`,y=localStorage.getItem("dbName")||"VNETPedidos",E="vnetapi7474",w=await Ht("ProdutosExcluidosPedidos");for(const R of w)try{if(R.itemUid){const _=[{campo:"itemUid",valor:R.itemUid}];await fetch(`${g}/PedidoItens?db=${y}&filtros=${encodeURIComponent(JSON.stringify(_))}&code=${E}`,{method:"DELETE"}),await os("ProdutosExcluidosPedidos",R.id)}}catch(_){console.error("Erro ao excluir produto do pedido no servidor:",_)}const N=await Ht("PedidosExcluidos");for(const R of N)try{const _=[{campo:"PedidoId",valor:R.pedidoId}];await fetch(`${g}/Pedidos?db=${y}&filtros=${encodeURIComponent(JSON.stringify(_))}&code=${E}`,{method:"DELETE"});const C=[{campo:"IDPedido",valor:R.pedidoId}];await fetch(`${g}/PedidoItens?db=${y}&filtros=${encodeURIComponent(JSON.stringify(C))}&code=${E}`,{method:"DELETE"}),await os("PedidosExcluidos",R.id)}catch(_){console.error("Erro ao excluir pedido do servidor:",_)}}const lb=localStorage.getItem("apiProtocol")||"https",sb=localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443",ha=`${lb}://${sb}/api`,xa=localStorage.getItem("dbName")||"VNETPedidos",ga="vnetapi7474";function Pc(f,h,g){if(f==="Usuarios")return{Id:h.Id,Nome:h.Nome,Email:h.Email,Telefone:h.Telefone||"",Bio:h.Bio||"",Avatar:h.Avatar||""};if(f==="Produtos")return{IDProduto:h.id??"",Nome:h.name??"",Descricao:h.description??"",Preco:h.price??0,Categoria:h.category??"",Status:h.status??"",Imagem:h.image??"",Estoque:h.stock??0};if(f==="Pedidos"){let y="";try{const E=new Date(h.date);isNaN(E.getTime())?y=new Date().toISOString().slice(0,19).replace("T"," "):y=E.toISOString().slice(0,19).replace("T"," ")}catch{y=new Date().toISOString().slice(0,19).replace("T"," ")}return{Cliente:h.customer,Data:y,formaPagamento:h.formaPagamento,id:h.id,ItensCount:h.itemsCount,pedidoId:h.pedidoId,status:h.status,total:h.total,IDUsuario:g.id,Usuario:g.Nome,Endereco:h.address,Cidade:h.city,Cep:h.cep}}return f==="PedidoItens"?{IDPedido:h.pedidoId,IDProduto:h.id,Descricao:h.name,Quantidade:h.quantity,PrecoUnitario:h.price,Total:(h.price??0)*(h.quantity??1),Ordem:typeof h.Ordem<"u"?h.Ordem:null,itemUid:h.itemUid??null}:h}function xg({onBack:f,onSyncProdutos:h}){const[g,y]=Te.useState({open:!1,message:"",title:""}),[E,w]=Te.useState(!1),[N,R]=Te.useState(!1),[_,C]=Te.useState(!1),[B,M]=Te.useState(!1);async function V(){M(!0);try{const re=encodeURIComponent(JSON.stringify([{campo:"Descricao",operador:"like",valor:"%"}])),z=await fetch(`${ha}/Estoque?db=${xa}&campos=Codigo,Departamento,Obs,IDProduto,Foto,Descricao,Preco,Inativo,Quantidade&filtros=${re}&code=${ga}`);if(!z.ok)throw new Error(await z.text());const H=await z.json(),F=await Ht("falcon_products_db"),X=H.map(W=>({id:W.IDProduto,name:W.Descricao,description:W.Obs??"",price:W.Preco,image:W.Foto??"",category:W.Departamento??"",stock:W.Quantidade??0,status:W.Inativo===1?"inativo":"ativo",Codigo:W.Codigo})),de=[...F];X.forEach(W=>{const D=de.findIndex(ee=>ee.id===W.id);D>=0?de[D]={...de[D],...W}:de.push(W)}),await cs("falcon_products_db"),await Bx("falcon_products_db",de),h&&h(de),y({open:!0,message:`Produtos importados: ${X.length}. Clique em OK para fechar.`,title:"Importao"})}catch(re){y({open:!0,message:`Erro ao importar produtos: ${re.message}`,title:"Erro"})}M(!1)}async function Z(){w(!0);const re=await Ht("falcon_users_db");let z=0,H=0,F=[],X=`Usurios encontrados: ${re.length}
`;for(const de of re)try{const W=Pc("Usuarios",de);let D=await fetch(`${ha}/Usuarios?db=${xa}&code=${ga}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(D.ok)z++;else{const ee=await D.text();if(ee.includes("duplicate key"))if(D=await fetch(`${ha}/Usuarios/${W.Id}?db=${xa}&code=${ga}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),D.ok)z++;else throw new Error(await D.text());else throw new Error(ee)}}catch(W){H++,F.push(`Usuarios: ${W.message}`)}w(!1),y({open:!0,message:`${X}Usurios sincronizados: ${z}
Erros: ${H}
${F.join(`
`)}`,title:"Sincronizao"})}async function ge(){R(!0);let re=await Ht("falcon_products_db"),z=0,H=0,F=[],X=re.filter(de=>de.syncStatus==="novo"||de.syncStatus==="alterado");for(const de of X)try{const W=Pc("Produtos",de);let D=await fetch(`${ha}/Produtos?db=${xa}&code=${ga}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)});if(D.ok)z++,de.syncStatus="sincronizado";else{const ee=await D.text();if(ee.includes("duplicate key")||ee.includes("Violation of PRIMARY KEY"))if(D=await fetch(`${ha}/Produtos?db=${xa}&campo=IDProduto&valor=${W.IDProduto}&code=${ga}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),D.ok)z++,de.syncStatus="sincronizado";else throw new Error(await D.text());else throw new Error(ee)}}catch(W){H++,F.push(`Produtos: ${W.message}`)}localStorage.setItem("falcon_products_db",JSON.stringify(re)),await cs("falcon_products_db"),await Promise.all(re.map(de=>ir("falcon_products_db",de))),R(!1),y({open:!0,message:`Produtos sincronizados: ${z}
Erros: ${H}
${F.join(`
`)}`,title:"Sincronizao"})}async function ne(){C(!0),await zf();let re=await Ht("falcon_orders_db"),z=0,H=0,F=[];const X=await Ht("falcon_user_logged"),de=X&&X.length>0?X[0]:null;let W=re.filter(D=>D.syncStatus==="novo"||D.syncStatus==="alterado");for(const D of W)try{const ee=Pc("Pedidos",D,de),K=[{campo:"PedidoId",valor:ee.pedidoId}],pe=await fetch(`${ha}/Pedidos?db=${xa}&filtros=${encodeURIComponent(JSON.stringify(K))}&code=${ga}`);let ce=!1;if(pe.ok)try{const Ae=await pe.json();ce=Array.isArray(Ae)?Ae.length>0:!!Ae}catch{}let xe;if(ce?xe=await fetch(`${ha}/Pedidos?db=${xa}&filtros=${encodeURIComponent(JSON.stringify(K))}&code=${ga}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)}):xe=await fetch(`${ha}/Pedidos?db=${xa}&code=${ga}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)}),!xe.ok)throw new Error(await xe.text());for(const[Ae,ve]of(D.items||[]).entries()){const Q={...ve,Ordem:Ae},j=Pc("PedidoItens",Q,de),$=[{campo:"IDPedido",valor:j.IDPedido},{campo:"IDProduto",valor:j.IDProduto}],Ce=await fetch(`${ha}/PedidoItens?db=${xa}&filtros=${encodeURIComponent(JSON.stringify($))}&code=${ga}`);let Le=!1;if(Ce.ok)try{const Re=await Ce.json();Le=Array.isArray(Re)?Re.length>0:!!Re}catch{}if(Le){let Re=await fetch(`${ha}/PedidoItens?db=${xa}&filtros=${encodeURIComponent(JSON.stringify($))}&code=${ga}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(!Re.ok)throw new Error(await Re.text())}else{let Re=await fetch(`${ha}/PedidoItens?db=${xa}&code=${ga}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(!Re.ok)throw new Error(await Re.text())}}D.syncStatus="sincronizado",D.status="Sincronizado",z++}catch(ee){H++,F.push(`Pedido ${D.id}: ${ee.message}`)}localStorage.setItem("falcon_orders_db",JSON.stringify(re)),await cs("falcon_orders_db"),await Promise.all(re.map(D=>ir("falcon_orders_db",D))),C(!1),y({open:!0,message:`Pedidos sincronizados: ${z}
Erros: ${H}
${F.join(`
`)}`,title:"Sincronizao"})}return p.jsxs("div",{className:"flex flex-col min-h-screen bg-[#181C23] text-white dark:bg-[#181C23] bg-[#F5F6FA] dark:text-white text-[#181C23]",children:[p.jsxs("div",{className:"w-full flex items-center px-6 py-4 border-b border-[#232733] dark:border-border-dark",children:[p.jsx("button",{onClick:f,className:"text-[#181C23] dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-[#232733]/10 dark:hover:bg-white/10 rounded-full","aria-label":"Voltar",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),p.jsx("h1",{className:"flex-1 text-lg font-bold text-center",children:"Sincronizao de Dados"})]}),p.jsx("div",{className:"flex flex-1 items-center justify-center",children:p.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-6 w-full max-w-xl px-4",children:[p.jsxs("button",{onClick:Z,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[p.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${E?" blinking-icon":""}`,children:"person"}),p.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Sincronizar Usurios"})]}),p.jsxs("button",{onClick:ge,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[p.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${N?" blinking-icon":""}`,children:"inventory_2"}),p.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Sincronizar Produtos"})]}),p.jsxs("button",{onClick:ne,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[p.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${_?" blinking-icon":""}`,children:"assignment"}),p.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Sincronizar Pedidos"})]}),p.jsxs("button",{onClick:V,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[p.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${B?" blinking-icon":""}`,children:"cloud_download"}),p.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Importar Produtos do Servidor"})]})]})}),p.jsxs(oi,{isOpen:g.open,onClose:()=>y({...g,open:!1}),title:g.title||"Sincronizao",children:[p.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:g.message}),p.jsx("div",{className:"flex justify-end mt-4",children:p.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded",onClick:()=>y({...g,open:!1}),children:"OK"})})]})]})}const ob=Object.freeze(Object.defineProperty({__proto__:null,default:xg,processarExclusoesPedidosServidor:zf},Symbol.toStringTag,{value:"Module"})),Dx=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),cb=({cart:f,onBack:h,onComplete:g,editingOrder:y,onSyncOrdersUpdate:E})=>{const w=f.reduce((F,X)=>F+X.price*X.quantity,0),N=w,R=Te.useRef(null),_=Te.useRef(null),C=Te.useRef(null),B=Te.useRef(null),[M,V]=ze.useState("Nenhum");Te.useEffect(()=>{if(y&&(R.current&&(R.current.value=y.customer||""),_.current&&(_.current.value=y.address||""),C.current&&(C.current.value=y.city||""),B.current&&(B.current.value=y.cep||""),y.formaPagamento)){const F=["Nenhum","Dinheiro","Carto","Pix"].find(X=>X.toLowerCase()===(y.formaPagamento||"").toLowerCase());F&&V(F)}},[y]);const[Z,ge]=Te.useState({open:!1,message:"",title:""}),[ne,re]=Te.useState(!1);async function z(){re(!0);const F=localStorage.getItem("apiProtocol")||"https",X=localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443",de=`${F}://${X}/api`,W=localStorage.getItem("dbName")||"VNETPedidos",D="vnetapi7474";function ee(K,pe,ce){if(K==="Pedidos"){let xe="";try{const Ae=new Date(pe.date);isNaN(Ae.getTime())?xe=new Date().toISOString().slice(0,19).replace("T"," "):xe=Ae.toISOString().slice(0,19).replace("T"," ")}catch{xe=new Date().toISOString().slice(0,19).replace("T"," ")}return{Cliente:pe.customer,Data:xe,formaPagamento:pe.formaPagamento,id:pe.id,ItensCount:pe.itemsCount,pedidoId:pe.pedidoId,status:pe.status,total:pe.total,IDUsuario:ce.id,Usuario:ce.Nome,Endereco:pe.address,Cidade:pe.city,Cep:pe.cep}}return K==="PedidoItens"?{IDPedido:pe.pedidoId,IDProduto:pe.id,Descricao:pe.name,Quantidade:pe.quantity,PrecoUnitario:pe.price,Total:(pe.price??0)*(pe.quantity??1),Ordem:typeof pe.Ordem<"u"?pe.Ordem:null,itemUid:pe.itemUid??null}:pe}try{let K=await Ht("falcon_orders_db");const pe=await Ht("falcon_user_logged"),ce=pe&&pe.length>0?pe[0]:null;let xe=K.filter(j=>j.syncStatus==="novo"||j.syncStatus==="alterado"),Ae=0,ve=0,Q=[];for(const j of xe)try{const $=ee("Pedidos",j,ce),Ce=[{campo:"PedidoId",valor:$.pedidoId}],Le=await fetch(`${de}/Pedidos?db=${W}&filtros=${encodeURIComponent(JSON.stringify(Ce))}&code=${D}`);let Re=!1;if(Le.ok)try{const ue=await Le.json();Re=Array.isArray(ue)?ue.length>0:!!ue}catch{}let U;if(Re?U=await fetch(`${de}/Pedidos?db=${W}&filtros=${encodeURIComponent(JSON.stringify(Ce))}&code=${D}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}):U=await fetch(`${de}/Pedidos?db=${W}&code=${D}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}),!U.ok)throw new Error(await U.text());for(const[ue,_e]of(j.items||[]).entries()){const Be={..._e,Ordem:ue,itemUid:_e.itemUid},Ve=ee("PedidoItens",Be,ce),we=[{campo:"IDPedido",valor:Ve.IDPedido},{campo:"IDProduto",valor:Ve.IDProduto}],Ze=await fetch(`${de}/PedidoItens?db=${W}&filtros=${encodeURIComponent(JSON.stringify(we))}&code=${D}`);let J=!1;if(Ze.ok)try{const Oe=await Ze.json();J=Array.isArray(Oe)?Oe.length>0:!!Oe}catch{}if(J){let Oe=await fetch(`${de}/PedidoItens?db=${W}&filtros=${encodeURIComponent(JSON.stringify(we))}&code=${D}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve)});if(!Oe.ok)throw new Error(await Oe.text())}else{let Oe=await fetch(`${de}/PedidoItens?db=${W}&code=${D}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve)});if(!Oe.ok)throw new Error(await Oe.text())}}j.syncStatus="sincronizado",j.status="Sincronizado",Ae++}catch($){ve++,Q.push(`Pedido ${j.id}: ${$.message}`)}await cs("falcon_orders_db"),await Promise.all(K.map(j=>ir("falcon_orders_db",j))),ge({open:!0,message:`Pedidos sincronizados: ${Ae}
Erros: ${ve}
${Q.join(`
`)}`,title:"Sincronizao"}),typeof E=="function"&&E()}catch(K){ge({open:!0,message:`Erro ao sincronizar pedidos: ${K.message}`,title:"Erro"})}re(!1)}const H=()=>{var D,ee,K,pe;const F=((D=R.current)==null?void 0:D.value)||"",X=((ee=_.current)==null?void 0:ee.value)||"",de=((K=C.current)==null?void 0:K.value)||"",W=((pe=B.current)==null?void 0:pe.value)||"";g({customer:F,address:X,city:de,cep:W,paymentMethod:M,status:"Pendente"}),localStorage.getItem("autoSyncPedido")==="true"&&zf().finally(()=>{setTimeout(()=>{z()},500)})};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between px-4 py-3 bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark shadow-sm",children:[p.jsx("button",{onClick:h,className:"text-slate-900 dark:text-white p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:p.jsx("span",{className:"material-symbols-outlined",children:"arrow_back_ios_new"})}),p.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:y?"Editar Pedido":"Pagamento"}),p.jsx("div",{className:"w-8"})]}),p.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24",children:[p.jsxs("section",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4 text-slate-900 dark:text-white",children:"Resumo do Pedido"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between text-text-secondary-light dark:text-text-secondary-dark",children:[p.jsx("span",{children:"Subtotal"}),p.jsx("span",{className:"text-slate-900 dark:text-white",children:Dx(w)})]}),p.jsx("div",{className:"border-t border-border-light dark:border-border-dark my-3"}),p.jsxs("div",{className:"flex justify-between font-bold text-slate-900 dark:text-white text-lg",children:[p.jsx("span",{children:"Total"}),p.jsx("span",{children:Dx(N)})]})]})]}),p.jsxs("section",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Endereo de Entrega"}),p.jsx("button",{className:"text-primary text-sm font-medium hover:underline",children:"Alterar"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("input",{ref:R,className:"w-full bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Nome Completo",defaultValue:""}),p.jsx("input",{ref:_,className:"w-full bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Endereo",defaultValue:""}),p.jsxs("div",{className:"flex space-x-3",children:[p.jsx("input",{ref:C,className:"w-1/2 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Cidade",defaultValue:""}),p.jsx("input",{ref:B,className:"w-1/2 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"CEP",defaultValue:""})]})]})]}),p.jsxs("section",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4 text-slate-900 dark:text-white",children:"Forma de Pagamento"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[p.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Nenhum",checked:M==="Nenhum",onChange:()=>V("Nenhum")}),p.jsx("span",{className:"material-symbols-outlined mx-3 text-text-secondary-light dark:text-text-secondary-dark",children:"block"}),p.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Nenhum"})]}),p.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[p.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Dinheiro",checked:M==="Dinheiro",onChange:()=>V("Dinheiro")}),p.jsx("span",{className:"material-symbols-outlined mx-3 text-green-500",children:"attach_money"}),p.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Dinheiro"})]}),p.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[p.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Carto",checked:M==="Carto",onChange:()=>V("Carto")}),p.jsx("span",{className:"material-symbols-outlined mx-3 text-blue-500",children:"credit_card"}),p.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Carto"})]}),p.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[p.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Pix",checked:M==="Pix",onChange:()=>V("Pix")}),p.jsx("span",{className:"material-symbols-outlined mx-3 text-purple-500",children:"qr_code_2"}),p.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Pix"})]})]})]}),p.jsx("div",{className:"pt-2",children:p.jsx("button",{onClick:H,className:"w-full bg-primary text-white font-bold py-3 rounded-lg text-lg shadow-md hover:bg-blue-600 transition-colors duration-200 active:scale-95",children:"Finalizar Pedido"})})]}),Z.open&&p.jsxs(oi,{isOpen:Z.open,onClose:()=>ge({...Z,open:!1}),title:Z.title,children:[p.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:Z.message}),p.jsx("div",{className:"flex justify-end mt-4",children:p.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded",onClick:()=>ge({...Z,open:!1}),children:"OK"})})]})]})},ub={avatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuCmtYBGg27cUA8Az6-R5ao1qFDVklEQMZSu2fF-mjGQ6Rr48DEO2WTkscl3GByvyCA3T6zJAL2DO1oddajH8uwx7s32K3OmUCO935ZQROKdM_da1NlVg6WIWQhKopw7kLBb7YAn7og5GJUU3YFQiaH9VoPoctFBDRcN4phQQYQXjJjmjdouDTt-6SIN_b8pL_Zn37l8GbBT-A0eoneiBi3PHQkHXVlKGPaFkP17AGplUvr2RJ0aBklgK22cz23EgSsOVavWYGKlnD4K"},Mx=[{id:"1",sender:"Diana",avatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuAy54Q84nDigdhGJjVgDtj8HFCehcjGm53oMv-H4UIjkjdy5J5QdBz90VK09S-6luF1QkrNq0X5WBpki9oSQWtbS2vWc4so_Atf1J9Vq3zXw7-sBvWIwtG1XjlgxNRSO7mcpEqBO1-c-r8IxFZiAhUTbmaVtKhHqDBGPu1pMnHF0WW8vaCxOW37iY58bjT6iP03IRJjey0EyyKAQg2w6w1K4rgzSZ8vHaqfdBWfRr_nXt7QRDjFgOeTphkrN5iIU5lKAyBmbZDExYe7",date:"26 Mar",subject:"Resumo Dirio de Trabalho",preview:"E eles provavelmente faro muito estrago em um...",isUnread:!0,isStarred:!0},{id:"2",sender:"Equipe Unsplash",avatar:"",date:"25 Mar",subject:"Participe do Dia Internacional da Mulher",preview:"Junte-se a ns para celebrar...",isUnread:!0,isStarred:!1,labels:[{text:"Inverno",icon:"photo_camera",colorClass:"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400"},{text:"Caf",icon:"coffee",colorClass:"bg-orange-100 text-orange-700 dark:bg-orange-900/50 dark:text-orange-400"}]},{id:"3",sender:"Goodreads",avatar:"",date:"05 Mar",subject:"Newsletter Goodreads: 5 de Maro",preview:"Os livros mais aguardados da primavera...",isUnread:!0,isStarred:!1},{id:"4",sender:"GitHub",avatar:"",date:"11:50",subject:"[GitHub] Inscrito em tech/photogallery",preview:"Voc foi inscrito em...",isUnread:!1,isStarred:!0},{id:"5",sender:"Coursera",avatar:"",date:"03 Mar",subject:"Recomendado: Desenvolvimento Server-side",preview:"Melhore suas habilidades com este curso...",isUnread:!1,isStarred:!1}],db=({onOpenSidebar:f})=>p.jsxs("div",{className:"flex flex-col h-screen bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-200",children:[p.jsxs("header",{className:"p-4 flex items-center justify-between border-b border-border-light dark:border-border-dark sticky top-0 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm z-10",children:[p.jsx("button",{onClick:f,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800",children:p.jsx("span",{className:"material-symbols-outlined text-slate-600 dark:text-slate-400",children:"menu"})}),p.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Caixa de Entrada"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("button",{className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800",children:p.jsx("span",{className:"material-symbols-outlined text-slate-600 dark:text-slate-400",children:"add_circle"})}),p.jsx("img",{alt:"User avatar",className:"h-8 w-8 rounded-full border border-border-dark",src:ub.avatar})]})]}),p.jsxs("main",{className:"flex-1 p-4 space-y-6 overflow-y-auto pb-24",children:[p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500",children:"search"}),p.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-surface-dark border-transparent focus:border-primary focus:ring-primary rounded-lg text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm",placeholder:"Buscar e-mails...",type:"text"})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xs font-bold uppercase text-slate-400 dark:text-slate-500 mb-3 px-2",children:"No Lidos"}),p.jsx("div",{className:"bg-white dark:bg-surface-dark/50 rounded-lg shadow-sm divide-y divide-border-light dark:divide-border-dark",children:Mx.filter(h=>h.isUnread).map(h=>p.jsxs("div",{className:"flex items-start p-4 hover:bg-gray-50 dark:hover:bg-slate-800/80 transition-colors cursor-pointer",children:[h.avatar?p.jsx("img",{alt:h.sender,className:"h-10 w-10 rounded-full mr-4 object-cover",src:h.avatar}):p.jsx("div",{className:"w-10 h-10 mr-4 flex-shrink-0 bg-black dark:bg-white/10 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white font-bold",children:h.sender[0]})}),p.jsxs("div",{className:"flex-grow min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 truncate",children:h.sender}),p.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0 ml-2",children:h.date})]}),p.jsx("p",{className:`text-sm ${h.labels?"font-semibold text-primary":"text-slate-600 dark:text-slate-300"} truncate`,children:h.subject}),h.labels&&p.jsx("div",{className:"mt-2 flex items-center gap-2",children:h.labels.map((g,y)=>p.jsxs("span",{className:`text-xs px-2 py-1 rounded-full flex items-center gap-1 ${g.colorClass}`,children:[p.jsx("span",{className:"material-symbols-outlined !text-sm",children:g.icon})," ",g.text]},y))}),!h.labels&&p.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 truncate",children:h.preview})]}),p.jsx("span",{className:`material-symbols-outlined ml-4 flex-shrink-0 ${h.isStarred?"filled text-amber-500":"text-slate-300"}`,children:"star"})]},h.id))})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xs font-bold uppercase text-slate-400 dark:text-slate-500 mb-3 px-2",children:"Outros"}),p.jsx("div",{className:"bg-white dark:bg-surface-dark/50 rounded-lg shadow-sm divide-y divide-border-light dark:divide-border-dark",children:Mx.filter(h=>!h.isUnread).map(h=>p.jsxs("div",{className:"flex items-center p-4 hover:bg-gray-50 dark:hover:bg-slate-800/80 transition-colors cursor-pointer",children:[p.jsx("div",{className:`w-10 h-10 mr-4 flex-shrink-0 rounded-full flex items-center justify-center text-white font-bold ${h.sender==="Goodreads"?"bg-amber-900":h.sender==="Coursera"?"bg-blue-600":"bg-gray-700"}`,children:h.sender[0]}),p.jsxs("div",{className:"flex-grow min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 truncate",children:h.sender}),p.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0 ml-2",children:h.date})]}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 truncate",children:h.subject}),p.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 truncate",children:h.preview})]}),p.jsx("span",{className:`material-symbols-outlined ml-4 flex-shrink-0 ${h.isStarred?"filled text-amber-500":"text-slate-300 dark:text-slate-600"}`,children:"star"})]},h.id))})]})]})]}),fb=({onBack:f,onProductAdded:h})=>{const[g,y]=Te.useState(!1),[E,w]=Te.useState(null),[N,R]=Te.useState(""),[_,C]=Te.useState(""),[B,M]=Te.useState(""),[V,Z]=Te.useState(""),[ge,ne]=Te.useState(""),[re,z]=Te.useState(1),H=X=>{var W;const de=(W=X.target.files)==null?void 0:W[0];if(de){const D=new window.Image,ee=new FileReader;ee.onload=K=>{var pe;D.src=(pe=K.target)==null?void 0:pe.result,D.onload=()=>{const ce=document.createElement("canvas"),ve=Math.min(800/D.width,800/D.height,1);ce.width=D.width*ve,ce.height=D.height*ve;const Q=ce.getContext("2d");if(Q){Q.drawImage(D,0,0,ce.width,ce.height);const j=Q.getImageData(0,0,ce.width,ce.height);let $=!1;for(let Le=3;Le<j.data.length;Le+=4)if(j.data[Le]<255){$=!0;break}let Ce;$?Ce=ce.toDataURL("image/png"):Ce=ce.toDataURL("image/jpeg",re),w(Ce)}}},ee.readAsDataURL(de)}},F=()=>{if(!N||!B)return alert("Preencha todos os campos obrigatrios!");Ht("falcon_products_db").then(X=>{let de=ge;if(!de){const D=X.map(ee=>Number(ee.Codigo)).filter(ee=>!isNaN(ee));de=D.length>0?String(Math.max(...D)+1):"1"}const W={id:Date.now().toString(),name:N,description:_,price:parseFloat(B.replace(",",".")),image:E||"",category:"",status:"Ativo",stock:V?parseInt(V):0,Codigo:de,syncStatus:"novo"};ir("falcon_products_db",W).then(()=>{h&&h(W),f()})})};return p.jsxs("div",{className:"relative flex flex-col h-full bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display",children:[p.jsxs("div",{className:"sticky top-0 z-10 flex items-center bg-white dark:bg-background-dark p-4 pb-2 justify-between border-b border-border-light dark:border-border-dark",children:[p.jsx("button",{onClick:f,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),p.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Cadastrar Produto"})]}),p.jsx("main",{className:"flex-grow px-4 overflow-y-auto pb-36",children:p.jsxs("div",{className:"flex flex-col gap-4 py-3 max-w-2xl mx-auto",children:[p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Cdigo"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Deixe vazio para gerar automaticamente",value:ge,onChange:X=>ne(X.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Nome"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"ex: Fones de Ouvido Sem Fio",value:N,onChange:X=>R(X.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Descrio"}),p.jsx("textarea",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary min-h-36 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Insira as principais caractersticas e detalhes...",value:_,onChange:X=>C(X.target.value)})]}),p.jsxs("div",{className:"flex w-full flex-wrap items-end gap-4",children:[p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Preo"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",inputMode:"decimal",placeholder:"ex: R$ 299.99",type:"text",value:B,onChange:X=>M(X.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Quantidade em Estoque"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",inputMode:"numeric",placeholder:"ex: 50",type:"number",value:V,onChange:X=>Z(X.target.value)})]})]}),p.jsxs("div",{className:"pt-4 pb-2",children:[p.jsx("h3",{className:"text-white text-lg font-bold leading-tight tracking-[-0.015em] pb-2",children:"Imagens do Produto"}),p.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[p.jsx("span",{className:"text-sm text-white",children:"Qualidade da foto:"}),p.jsxs("select",{value:re,onChange:X=>z(Number(X.target.value)),className:"rounded px-2 py-1 bg-surface-dark text-white border border-border-dark",children:[p.jsx("option",{value:.5,children:"Baixa"}),p.jsx("option",{value:.7,children:"Mdia"}),p.jsx("option",{value:1,children:"Alta"})]})]}),p.jsx("div",{className:"flex items-center gap-3 mb-3",children:p.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-primary text-white cursor-pointer hover:bg-blue-700 transition-colors",children:[p.jsx("span",{className:"material-symbols-outlined text-xl",children:"photo_camera"}),p.jsx("span",{className:"text-sm font-medium",children:"Tirar Foto"}),p.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:H})]})}),p.jsx("div",{className:"flex items-center justify-center w-full",children:p.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-border-dark border-dashed rounded-xl cursor-pointer bg-surface-dark hover:bg-primary/10 hover:border-primary transition-all group",children:[p.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[p.jsx("span",{className:"material-symbols-outlined text-text-secondary-dark text-4xl mb-2 group-hover:text-primary transition-colors",children:"add_photo_alternate"}),p.jsx("p",{className:"mb-2 text-sm text-text-secondary-dark",children:p.jsx("span",{className:"font-semibold",children:"Toque para adicionar fotos"})}),p.jsx("p",{className:"text-xs text-text-secondary-dark",children:"PNG, JPG ou GIF"})]}),p.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",accept:"image/*",onChange:H})]})}),E&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col items-center mt-4 gap-2",children:[p.jsx("img",{src:E,alt:"Preview",className:"h-24 w-24 rounded-lg object-cover border border-border-dark"}),p.jsxs("div",{className:"flex gap-3 mt-2",children:[p.jsxs("button",{type:"button",onClick:()=>y(!0),className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-slate-700 dark:text-white hover:bg-primary/10",children:[p.jsx("span",{className:"material-symbols-outlined text-base",children:"visibility"}),p.jsx("span",{className:"text-xs",children:"Visualizar"})]}),p.jsxs("label",{className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-slate-700 dark:text-white cursor-pointer hover:bg-primary/10",children:[p.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"}),p.jsx("span",{className:"text-xs",children:"Alterar"}),p.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:H})]}),p.jsxs("button",{type:"button",onClick:()=>w(null),className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/20",children:[p.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"}),p.jsx("span",{className:"text-xs",children:"Remover"})]})]})]}),g&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70",children:p.jsxs("div",{className:"bg-white dark:bg-background-dark rounded-lg p-4 shadow-lg flex flex-col items-center",children:[p.jsx("img",{src:E,alt:"Visualizao",className:"w-[90vw] h-[80vh] rounded-lg object-contain border border-border-dark"}),p.jsx("button",{onClick:()=>y(!1),className:"mt-4 px-4 py-2 rounded bg-primary text-white font-medium hover:bg-blue-700",children:"Fechar"})]})})]})]})]})}),p.jsx("footer",{className:"fixed bottom-16 left-0 w-full bg-white dark:bg-background-dark p-4 pt-2 pb-6 border-t border-border-light dark:border-border-dark z-40 lg:static lg:bg-transparent lg:border-none",children:p.jsx("button",{onClick:F,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95 max-w-2xl mx-auto",children:"Salvar Produto"})})]})},hb=({onBack:f})=>{const[h,g]=Te.useState(""),[y,E]=Te.useState(""),[w,N]=Te.useState(""),[R,_]=Te.useState(""),[C,B]=Te.useState(""),[M,V]=Te.useState({}),[Z,ge]=Te.useState(!0);Te.useEffect(()=>{(async()=>{const H=await Ht("falcon_user_logged");if(H&&H.length>0){const F=H[0];V(F),g(F.Avatar||""),E(F.Nome||""),N(F.Email||""),_(F.Telefone||""),B(F.Bio||"")}ge(!1)})()},[]);const ne=z=>{var F;const H=(F=z.target.files)==null?void 0:F[0];if(H){const X=new FileReader;X.onload=de=>{var W;g((W=de.target)==null?void 0:W.result)},X.readAsDataURL(H)}},re=()=>{const z={...M,Avatar:h,Nome:y,Email:w,Telefone:R,Bio:C};ir("falcon_user_logged",z).then(()=>{ir("falcon_users_db",z).then(()=>{f()})})};return Z?p.jsx("div",{style:{color:"white",textAlign:"center",marginTop:40},children:"Carregando..."}):p.jsxs("div",{className:"relative flex flex-col h-full bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display",children:[p.jsxs("div",{className:"sticky top-0 z-10 flex items-center bg-white dark:bg-background-dark p-4 pb-2 justify-between border-b border-border-light dark:border-border-dark",children:[p.jsx("button",{onClick:f,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),p.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Editar Perfil"})]}),p.jsx("main",{className:"flex-grow px-4 overflow-y-auto pb-24",children:p.jsxs("div",{className:"flex flex-col gap-4 py-3 max-w-2xl mx-auto",children:[p.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:p.jsxs("div",{className:"relative group cursor-pointer",children:[p.jsx("img",{alt:"User profile picture",className:"h-28 w-28 rounded-full object-cover border-4 border-surface-dark",src:h||"https://ui-avatars.com/api/?name="+encodeURIComponent(y)}),p.jsxs("label",{className:"absolute bottom-0 right-0 flex h-8 w-8 items-center justify-center rounded-full border-2 border-background-dark bg-primary text-white hover:scale-110 transition-transform cursor-pointer",children:[p.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"}),p.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ne})]})]})}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Nome Completo"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Digite seu nome completo",value:y,onChange:z=>E(z.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"E-mail"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Digite seu e-mail",type:"email",value:w,onChange:z=>N(z.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Telefone"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Digite seu telefone",type:"tel",value:R,onChange:z=>_(z.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Biografia"}),p.jsx("textarea",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary min-h-28 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Conte um pouco sobre voc...",value:C,onChange:z=>B(z.target.value)})]})]})}),p.jsx("footer",{className:"fixed bottom-16 left-0 w-full bg-white dark:bg-background-dark p-4 pt-2 pb-6 border-t border-border-light dark:border-border-dark z-40 lg:static lg:bg-transparent lg:border-none",children:p.jsx("button",{onClick:re,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95 max-w-2xl mx-auto",children:"Salvar Alteraes"})})]})},xb=({onOpenSidebar:f,onNavigate:h})=>{const[g,y]=Te.useState([]);Te.useEffect(()=>{const J=async()=>{const at=await Ht("falcon_products_db");y(at)};J();const Oe=()=>J();return window.addEventListener("focus",Oe),()=>window.removeEventListener("focus",Oe)},[]);const[E,w]=Te.useState("Todos"),[N,R]=Te.useState("Todos"),[_,C]=Te.useState(""),[B,M]=Te.useState(null),[V,Z]=Te.useState(null),[ge,ne]=Te.useState(""),[re,z]=Te.useState(""),[H,F]=Te.useState(""),[X,de]=Te.useState("Ativo"),[W,D]=Te.useState(""),[ee,K]=Te.useState(1),[pe,ce]=Te.useState(""),[xe,Ae]=Te.useState(!1),[ve,Q]=Te.useState(!1),[j,$]=Te.useState(null);Te.useEffect(()=>{Ht("falcon_user_logged").then(J=>{$(J&&J.length>0?J[0]:null)})},[]);const Ce=Te.useMemo(()=>["Todos",...Array.from(new Set(g.map(J=>J.category||"Sem Categoria"))).sort()],[g]),Le=Te.useMemo(()=>["Todos",...Array.from(new Set(g.map(J=>J.status||"Desconhecido"))).sort()],[g]),Re=Te.useMemo(()=>g.filter(J=>{const Oe=J.name.toLowerCase().includes(_.toLowerCase()),at=E==="Todos"||(J.category||"Sem Categoria")===E,$e=N==="Todos"||(J.status||"Desconhecido")===N;return Oe&&at&&$e}),[_,E,N,g]),U=()=>{w("Todos"),R("Todos"),C(""),M(null)},ue=E!=="Todos"||N!=="Todos",_e=J=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(J),Be=J=>{Z(J),ne(J.name),z(J.price.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})),F(J.category||""),de(J.status||"Ativo"),D(J.image||""),ce(J.Codigo||""),Ae(!0)},Ve=J=>{var at;const Oe=(at=J.target.files)==null?void 0:at[0];if(Oe){const $e=new window.Image,Ot=new FileReader;Ot.onload=lt=>{var wn;$e.src=typeof((wn=lt.target)==null?void 0:wn.result)=="string"?lt.target.result:"",$e.onload=()=>{const Lt=document.createElement("canvas"),dt=Math.min(800/$e.width,800/$e.height,1);Lt.width=$e.width*dt,Lt.height=$e.height*dt;const rt=Lt.getContext("2d");if(rt){rt.drawImage($e,0,0,Lt.width,Lt.height);const tr=rt.getImageData(0,0,Lt.width,Lt.height);let Ue=!1;for(let Tr=3;Tr<tr.data.length;Tr+=4)if(tr.data[Tr]<255){Ue=!0;break}let Sr;Ue?Sr=Lt.toDataURL("image/png"):Sr=Lt.toDataURL("image/jpeg",ee),D(Sr)}}},Ot.readAsDataURL(Oe)}},we=()=>{if(!V)return;const J={...V,name:ge,price:parseFloat(re.replace(".","").replace(",",".")),category:H,status:X,image:W,Codigo:pe,syncStatus:"alterado"};ir("falcon_products_db",J).then(()=>{y(Oe=>{const at=Oe.findIndex($e=>$e.id===J.id);if(at>=0){const $e=[...Oe];return $e[at]=J,$e}else return[...Oe,J]}),Ae(!1),Q(!0)})},Ze=()=>{if(!V)return;const J=g.filter(Oe=>Oe.id!==V.id);cs("falcon_products_db").then(()=>{Promise.all(J.map(Oe=>ir("falcon_products_db",Oe))).then(()=>{y(J),Ae(!1),Q(!0)})})};return p.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[B&&p.jsx("div",{className:"fixed inset-0 z-10 cursor-default",onClick:()=>M(null)}),p.jsx("header",{className:"flex-shrink-0 bg-surface-light dark:bg-surface-dark/80 backdrop-blur-sm border-b border-border-light dark:border-border-dark",children:p.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex h-16 items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:f,className:"lg:hidden text-text-secondary-light dark:text-text-secondary-dark",children:p.jsx("span",{className:"material-symbols-outlined",children:"menu"})}),p.jsx("h1",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Gerenciamento de Produtos"})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("button",{className:"relative text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:[p.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),p.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"})]}),j!=null&&j.Avatar?p.jsx("img",{alt:"User avatar",className:"h-8 w-8 rounded-full border border-border-dark",src:j.Avatar}):p.jsx("div",{className:"h-8 w-8 rounded-full border border-border-dark bg-slate-200 flex items-center justify-center",children:p.jsx("span",{className:"material-symbols-outlined text-lg text-gray-400",children:"image_not_supported"})})]})]})})}),p.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pb-24",children:p.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[p.jsxs("div",{className:"relative flex-1 w-full sm:w-auto",children:[p.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark",children:"search"}),p.jsx("input",{value:_,onChange:J=>C(J.target.value),className:"w-full rounded-lg border-border-light dark:border-border-dark bg-white dark:bg-surface-dark pl-10 pr-4 py-2.5 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-primary focus:border-primary shadow-sm",placeholder:"Buscar produtos...",type:"text"})]}),p.jsxs("button",{onClick:()=>h("addProduct"),className:"w-full sm:w-auto flex items-center justify-center gap-2 rounded-lg bg-primary px-4 py-2.5 text-white font-semibold shadow-sm hover:bg-blue-600 transition-colors",children:[p.jsx("span",{className:"material-symbols-outlined text-xl",children:"add"}),p.jsx("span",{children:"Novo Produto"})]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-4 bg-white dark:bg-surface-dark p-4 rounded-lg border border-border-light dark:border-border-dark shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:[p.jsx("span",{className:"material-symbols-outlined text-lg",children:"filter_list"}),p.jsx("span",{children:"Filtros Rpidos:"})]}),p.jsx("select",{value:E,onChange:J=>w(J.target.value),className:"rounded-md border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-200 text-sm focus:ring-primary focus:border-primary py-1.5 pl-3 pr-8",children:Ce.map(J=>p.jsx("option",{value:J,children:J==="Todos"?"Todas Categorias":J},J))}),p.jsx("select",{value:N,onChange:J=>R(J.target.value),className:"rounded-md border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-200 text-sm focus:ring-primary focus:border-primary py-1.5 pl-3 pr-8",children:Le.map(J=>p.jsx("option",{value:J,children:J==="Todos"?"Todos Status":J},J))}),ue&&p.jsxs("button",{onClick:U,className:"ml-auto text-sm text-red-500 hover:text-red-600 font-medium flex items-center gap-1",children:[p.jsx("span",{className:"material-symbols-outlined text-base",children:"close"}),"Limpar"]})]}),p.jsx("div",{className:"rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark shadow-sm",children:p.jsx(mp,{style:{height:600},data:Re,components:{Scroller:J=>p.jsx("div",{...J,className:"overflow-auto custom-scrollbar"}),Table:J=>p.jsxs("table",{style:{tableLayout:"fixed"},className:"w-full table-fixed divide-y divide-border-light dark:divide-border-dark relative",...J,children:[p.jsxs("colgroup",{children:[p.jsx("col",{style:{width:"48px"}}),p.jsx("col",{}),p.jsx("col",{className:"hidden sm:table-column",style:{width:"200px"}}),p.jsx("col",{className:"hidden sm:table-column",style:{width:"120px"}}),p.jsx("col",{style:{width:"120px"}}),p.jsx("col",{style:{width:"48px"}})]}),J.children]})},fixedHeaderContent:()=>p.jsxs("tr",{className:"bg-gray-50 dark:bg-slate-800/50",children:[p.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left",children:p.jsx("input",{className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary bg-white dark:bg-surface-dark",type:"checkbox"})}),p.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Produto"}),p.jsx("th",{scope:"col",className:"hidden sm:table-cell py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Categoria"}),p.jsx("th",{scope:"col",className:"hidden sm:table-cell py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Status"}),p.jsx("th",{scope:"col",className:"py-3.5 px-3 text-right text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Preo"}),p.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4",children:p.jsx("span",{className:"sr-only",children:"Editar"})})]}),itemContent:(J,Oe)=>p.jsxs(p.Fragment,{children:[p.jsx("td",{className:"py-4 pl-4 pr-3",children:p.jsx("input",{className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary bg-white dark:bg-surface-dark",type:"checkbox"})}),p.jsxs("td",{className:"py-4 px-3 text-sm",children:[p.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 truncate",children:Oe.name}),p.jsxs("div",{className:"text-text-secondary-light dark:text-text-secondary-dark text-xs",children:["ID: #",String(Oe.id).padStart(6,"0")]})]}),p.jsx("td",{className:"hidden sm:table-cell whitespace-nowrap py-4 px-3 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:Oe.category||"Sem Categoria"}),p.jsx("td",{className:"hidden sm:table-cell whitespace-nowrap py-4 px-3 text-sm",children:p.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium 
                        ${Oe.status==="Ativo"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":Oe.status==="Rascunho"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:Oe.status||"Desconhecido"})}),p.jsx("td",{className:"whitespace-nowrap py-4 px-3 text-sm font-medium text-slate-800 dark:text-slate-200 text-right",children:_e(Oe.price)}),p.jsx("td",{className:"py-4 pl-3 pr-4 text-right text-sm font-medium",children:p.jsx("button",{className:"text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",onClick:()=>Be(Oe),children:p.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})})})]})})}),p.jsx(oi,{isOpen:xe,onClose:()=>Ae(!1),title:"Editar Produto",footer:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:Ze,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Excluir"}),p.jsx("button",{onClick:we,className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-lg hover:bg-blue-700",children:"Salvar"})]}),children:p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-medium mb-1",children:"Cdigo"}),p.jsx("input",{value:pe,onChange:J=>ce(J.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Cdigo do Produto"})]}),p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-medium mb-1",children:"Nome"}),p.jsx("input",{value:ge,onChange:J=>ne(J.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary"})]}),p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-medium mb-1",children:"Preo"}),p.jsx("input",{value:re,onChange:J=>z(J.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",inputMode:"decimal",placeholder:"ex: 1.552,33"})]}),p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-medium mb-1",children:"Categoria"}),p.jsx("input",{value:H,onChange:J=>F(J.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary"})]}),p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-medium mb-1",children:"Status"}),p.jsxs("select",{value:X,onChange:J=>de(J.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",children:[p.jsx("option",{value:"Ativo",children:"Ativo"}),p.jsx("option",{value:"Rascunho",children:"Rascunho"}),p.jsx("option",{value:"Arquivado",children:"Arquivado"})]})]}),p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-medium mb-1",children:"Imagem"}),p.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[p.jsx("span",{className:"text-xs",children:"Qualidade da foto:"}),p.jsxs("select",{value:ee,onChange:J=>K(Number(J.target.value)),className:"rounded px-2 py-1 bg-surface-dark text-white border border-border-dark",children:[p.jsx("option",{value:.5,children:"Baixa"}),p.jsx("option",{value:.7,children:"Mdia"}),p.jsx("option",{value:1,children:"Alta"})]})]}),p.jsx("div",{className:"flex items-center gap-3 mb-3",children:p.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-primary text-white cursor-pointer hover:bg-blue-700 transition-colors",children:[p.jsx("span",{className:"material-symbols-outlined text-xl",children:"photo_camera"}),p.jsx("span",{className:"text-xs font-medium",children:"Tirar Foto"}),p.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:Ve})]})}),p.jsx("div",{className:"flex items-center justify-center w-full",children:p.jsxs("label",{htmlFor:"edit-image-upload",className:"flex flex-col items-center justify-center w-full h-24 border-2 border-border-dark border-dashed rounded-xl cursor-pointer bg-surface-dark hover:bg-primary/10 hover:border-primary transition-all group",children:[p.jsxs("div",{className:"flex flex-col items-center justify-center pt-3 pb-3",children:[p.jsx("span",{className:"material-symbols-outlined text-text-secondary-dark text-2xl mb-2 group-hover:text-primary transition-colors",children:"add_photo_alternate"}),p.jsx("p",{className:"mb-1 text-xs text-text-secondary-dark",children:p.jsx("span",{className:"font-semibold",children:"Escolher foto do produto"})}),p.jsx("p",{className:"text-xs text-text-secondary-dark",children:"PNG, JPG ou GIF"})]}),p.jsx("input",{id:"edit-image-upload",type:"file",className:"hidden",accept:"image/*",onChange:Ve})]})}),W&&p.jsx("img",{src:W,alt:"Preview",className:"h-16 w-16 mt-2 rounded-lg object-cover mx-auto border border-border-dark"})]})]})}),p.jsx(oi,{isOpen:ve,onClose:()=>Q(!1),title:"Sucesso",footer:p.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"OK"}),children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:p.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-2xl",children:"check_circle"})}),p.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Produto salvo com sucesso!"}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"As alteraes foram salvas."})]})})]})})]})},gb=({onOpenSidebar:f,onDeleteOrder:h,onUpdateOrder:g,onEditOrder:y,refreshTrigger:E})=>{const w=()=>{const ce=new Date,xe=ce.getFullYear(),Ae=String(ce.getMonth()+1).padStart(2,"0"),ve=String(ce.getDate()).padStart(2,"0");return`${xe}-${Ae}-${ve}`},[N,R]=Te.useState(w()),[_,C]=Te.useState(w()),[B,M]=Te.useState(""),[V,Z]=Te.useState([]),[ge,ne]=Te.useState(null);ze.useEffect(()=>{Ht("falcon_user_logged").then(ce=>{ne(ce&&ce.length>0?ce[0]:null)})},[]);const[re,z]=Te.useState(!1),[H,F]=Te.useState(null),[X,de]=Te.useState(!1);ze.useEffect(()=>{Ht("falcon_orders_db").then(Z)},[E]);const W=(ce,xe)=>{ce.stopPropagation(),F(xe),z(!0)},D=async()=>{H&&typeof h=="function"&&(await h(H),Ht("falcon_orders_db").then(Z),z(!1),F(null),de(!0))},ee=ce=>{y&&y(ce)},K=ce=>{switch(ce){case"Entregue":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300";case"Enviado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300";case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300";case"Processando":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"Cancelado":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300";case"Sincronizado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},pe=V.slice().sort((ce,xe)=>Number(xe.id)-Number(ce.id)).filter(ce=>{if(ce.date){const[xe,Ae,ve]=ce.date.split("/"),Q=`${ve}-${Ae.padStart(2,"0")}-${xe.padStart(2,"0")}`;if(N&&Q<N||_&&Q>_)return!1}return!0});return p.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[p.jsx("header",{className:"flex-shrink-0 bg-surface-light dark:bg-surface-dark/80 backdrop-blur-sm border-b border-border-light dark:border-border-dark",children:p.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex h-16 items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:f,className:"lg:hidden text-text-secondary-light dark:text-text-secondary-dark",children:p.jsx("span",{className:"material-symbols-outlined",children:"menu"})}),p.jsx("h1",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Lista de Pedidos"})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("button",{className:"relative text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:[p.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),p.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"})]}),p.jsx("img",{alt:"User avatar",className:"h-8 w-8 rounded-full border border-border-dark",src:(ge==null?void 0:ge.Avatar)||"https://ui-avatars.com/api/?name=User"})]})]})})}),p.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pb-24",children:p.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm border border-border-light dark:border-border-dark",children:[p.jsx("p",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase",children:"Total Pedidos"}),p.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:pe.length})]}),p.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm border border-border-light dark:border-border-dark",children:[p.jsx("p",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase",children:"Receita Total"}),p.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:Gc(pe.reduce((ce,xe)=>ce+xe.total,0))})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-4 items-center p-4 bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark mt-4",children:[p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Data Inicial"}),p.jsx("input",{type:"date",value:N,onChange:ce=>R(ce.target.value),className:"rounded-lg border border-border-light dark:border-border-dark p-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-primary focus:border-primary"})]}),p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Data Final"}),p.jsx("input",{type:"date",value:_,onChange:ce=>C(ce.target.value),className:"rounded-lg border border-border-light dark:border-border-dark p-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-primary focus:border-primary"})]})]}),p.jsx("div",{className:"overflow-hidden rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark shadow-sm",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-border-light dark:divide-border-dark",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800/50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"ID"}),p.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Cliente"}),p.jsx("th",{scope:"col",className:"hidden sm:table-cell py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Data"}),p.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Status"}),p.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Total"}),p.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4",children:p.jsx("span",{className:"sr-only",children:"Aes"})})]})}),p.jsxs("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:[pe.map(ce=>p.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer",onClick:()=>ee(ce),children:[p.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-primary",children:ce.id}),p.jsxs("td",{className:"whitespace-nowrap py-4 px-3 text-sm text-slate-900 dark:text-slate-100",children:[ce.customer,p.jsx("div",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark sm:hidden",children:ce.date})]}),p.jsx("td",{className:"hidden sm:table-cell whitespace-nowrap py-4 px-3 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:ce.date}),p.jsx("td",{className:"whitespace-nowrap py-4 px-3 text-sm",children:p.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${K(ce.status)}`,children:ce.status})}),p.jsx("td",{className:"whitespace-nowrap py-4 px-3 text-sm font-medium text-slate-900 dark:text-slate-100",children:Gc(ce.total)}),p.jsx("td",{className:"whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium",children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[p.jsx("button",{onClick:xe=>{xe.stopPropagation();const Ae=` *Pedido #${ce.id}*
 Cliente: ${ce.customer}
 Total: ${Gc(ce.total)}

 *Itens:*
`+(ce.items?ce.items.map(Q=>` ${Q.name} (${Q.quantity} x ${Gc(Q.price)})`).join(`
`):"")+`
Status: ${ce.status}`,ve=`https://wa.me/?text=${encodeURIComponent(Ae)}`;window.open(ve,"_blank")},className:"text-green-600 hover:text-green-700 p-1 rounded-full hover:bg-green-50 dark:hover:bg-green-900/20",title:"Compartilhar no WhatsApp",children:p.jsx("span",{className:"material-symbols-outlined text-lg",children:"share"})}),p.jsx("button",{onClick:xe=>{xe.stopPropagation(),ee(ce)},className:"text-primary hover:text-blue-600 p-1 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Editar",children:p.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),p.jsx("button",{onClick:xe=>W(xe,ce.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20",title:"Excluir",children:p.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})})]},ce.id)),pe.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"py-8 text-center text-text-secondary-light dark:text-text-secondary-dark",children:"Nenhum pedido encontrado."})})]})]})})})]})}),p.jsx(oi,{isOpen:re,onClose:()=>z(!1),title:"Excluir Pedido",footer:p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Cancelar"}),p.jsx("button",{onClick:D,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Excluir"})]}),children:p.jsx("p",{children:"Tem certeza que deseja excluir este pedido? Esta ao no pode ser desfeita."})}),p.jsx(oi,{isOpen:X,onClose:()=>de(!1),title:"Sucesso",footer:p.jsx("button",{onClick:()=>de(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:p.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-2xl",children:"check_circle"})}),p.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Pedido excludo com sucesso!"}),p.jsx("p",{hidden:!0,className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"As alteraes foram salvas com sucesso."})]})})]})},Gc=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f);function mb({onBack:f,setOrders:h}){const[g,y]=Te.useState(localStorage.getItem("dbName")||"VNETPedidos"),[E,w]=Te.useState(localStorage.getItem("apiProtocol")||"https"),[N,R]=Te.useState(localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443"),[_,C]=Te.useState({open:!1,message:"",title:""}),[B,M]=Te.useState(()=>localStorage.getItem("autoSyncPedido")==="true");function V(X){M(X.target.checked),localStorage.setItem("autoSyncPedido",X.target.checked?"true":"false"),C({open:!0,message:`Sincronizar pedido automaticamente ao finalizar: ${X.target.checked?"Ativado":"Desativado"}`,title:"Configurao"})}function Z(X){y(X.target.value)}function ge(){localStorage.setItem("dbName",g),C({open:!0,message:`Nome do banco salvo: ${g}`,title:"Configurao"})}function ne(X){w(X.target.value),localStorage.setItem("apiProtocol",X.target.value),C({open:!0,message:`Protocolo salvo: ${X.target.value}`,title:"Configurao"})}function re(X){R(X.target.value)}function z(){localStorage.setItem("apiDomain",N),C({open:!0,message:`Domnio salvo: ${N}`,title:"Configurao"})}async function H(){await co(()=>Promise.resolve().then(()=>Yc),void 0).then(async({clearStore:X})=>{await X("falcon_orders_db"),await X("PedidosExcluidos"),await X("ProdutosExcluidosPedidos")}),C({open:!0,message:"Todos os pedidos locais, PedidosExcluidos e ProdutosExcluidosPedidos foram excludos.",title:"Limpeza"}),h&&h([])}async function F(){await co(async()=>{const{clearStore:X}=await Promise.resolve().then(()=>Yc);return{clearStore:X}},void 0).then(({clearStore:X})=>X("falcon_products_db")),C({open:!0,message:"Todos os produtos locais foram excludos.",title:"Limpeza"})}return p.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-white",children:[p.jsxs("div",{className:"flex items-center gap-2 px-4 pt-6 pb-2",children:[f&&p.jsx("button",{onClick:f,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full","aria-label":"Voltar",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),p.jsx("h1",{className:"flex-1 text-2xl font-bold text-center",children:"Configuraes do Sistema"})]}),p.jsx("div",{className:"flex flex-col items-center justify-center flex-1 px-4 pb-8",children:p.jsxs("div",{className:"w-full max-w-md bg-surface-light dark:bg-surface-dark rounded-xl shadow p-6 flex flex-col gap-6",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:B,onChange:V,className:"form-checkbox h-5 w-5 text-primary rounded focus:ring-primary border-gray-300 dark:border-gray-600"}),p.jsx("span",{className:"font-semibold",children:"Sincronizar pedido automaticamente ao finalizar"})]}),p.jsx("p",{className:"text-xs text-slate-500 mt-1 ml-7",children:"Ao finalizar um pedido, ele ser sincronizado automaticamente com o servidor."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"font-semibold block mb-2",children:"Nome do banco de dados:"}),p.jsx("input",{type:"text",value:g,onChange:Z,className:"rounded px-3 py-2 w-full text-black dark:text-white bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark"}),p.jsx("button",{onClick:ge,className:"mt-4 w-full bg-primary rounded-lg py-2 px-6 font-semibold text-white hover:bg-blue-600",children:"Salvar Nome do Banco"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"font-semibold block mb-2",children:"Protocolo da API:"}),p.jsxs("select",{value:E,onChange:ne,className:"rounded px-3 py-2 w-full text-black dark:text-white bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark",children:[p.jsx("option",{value:"https",children:"HTTPS"}),p.jsx("option",{value:"http",children:"HTTP"})]})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("label",{className:"font-semibold block mb-2",children:"Domnio da API:"}),p.jsx("input",{type:"text",value:N,onChange:re,className:"rounded px-3 py-2 w-full text-black dark:text-white bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark"}),p.jsx("button",{onClick:z,className:"mt-2 w-full bg-primary rounded-lg py-2 px-6 font-semibold text-white hover:bg-blue-600",children:"Salvar Domnio"})]}),p.jsx("hr",{className:"my-2 border-border-dark"}),p.jsx("button",{onClick:H,className:"w-full bg-red-600 rounded-lg py-2 px-6 font-semibold text-white hover:bg-red-800",children:"Excluir Todos os Pedidos Locais"}),p.jsx("button",{onClick:F,className:"w-full bg-red-600 rounded-lg py-2 px-6 font-semibold text-white hover:bg-red-800",children:"Excluir Todos os Produtos Locais"})]})}),_.open&&p.jsx(oi,{isOpen:_.open,onClose:()=>{C({..._,open:!1}),_.message.includes("Pedidos locais foram excludos")&&f&&f()},title:_.title,footer:p.jsx("button",{onClick:()=>{C({..._,open:!1}),_.message.includes("Pedidos locais foram excludos")&&f&&f()},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:p.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-2xl",children:"delete"})}),p.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:_.message})]})})]})}const pb=()=>{const[f,h]=Te.useState("login"),[g,y]=Te.useState(!0),[E,w]=Te.useState([]),[N,R]=Te.useState(()=>{const j=localStorage.getItem("falcon_cart");return j?JSON.parse(j):[]}),[_,C]=Te.useState(()=>{const j=localStorage.getItem("falcon_editingOrder");return j?JSON.parse(j):null});Te.useEffect(()=>{localStorage.setItem("falcon_cart",JSON.stringify(N))},[N]),Te.useEffect(()=>{localStorage.setItem("falcon_editingOrder",JSON.stringify(_))},[_]),Te.useEffect(()=>{Ht("falcon_products_db").then(w)},[]),Te.useEffect(()=>{(async()=>{try{const $=await Ht("falcon_user_logged");$&&$.length>0?h("productList"):h("login")}catch{h("login")}finally{y(!1)}})()},[]);const[B,M]=Te.useState(!1),[V,Z]=Te.useState([]),[ge,ne]=Te.useState(0),[re,z]=Te.useState(!1),[H,F]=Te.useState(!1),[X,de]=Te.useState(localStorage.getItem("falcon_theme")||"light");Te.useEffect(()=>{document.documentElement.classList.toggle("dark",X==="dark"),localStorage.setItem("falcon_theme",X)},[X]),Te.useEffect(()=>{(async()=>{z(!0);try{const $=await Ht("falcon_orders_db");Z($)}catch($){console.error("Failed to load orders",$)}finally{z(!1)}})()},[]);const W=Te.useCallback(j=>{R($=>$.find(Le=>Le.id===j.id)?$.map(Le=>Le.id===j.id?{...Le,quantity:Le.quantity+1}:Le):[...$,{...j,quantity:1}])},[]),D=Te.useCallback((j,$)=>{R(Ce=>{if(_&&_.syncStatus&&_.syncStatus.trim().toLowerCase()==="sincronizado"){const Le=Ce.find(Re=>Re.id===j);Le&&Le.quantity+$<=0&&co(()=>Promise.resolve().then(()=>Yc),void 0).then(Re=>Re.saveItem("ProdutosExcluidosPedidos",{id:`${_.pedidoId||_.id}_${j}`,pedidoId:_.pedidoId||_.id,ordem:Ce.findIndex(U=>U.id===j),produtoId:j,dataExclusao:new Date().toISOString()}))}return Ce.map(Le=>{if(_&&_.syncStatus&&_.syncStatus.trim().toLowerCase()==="sincronizado"){const Re=Ce.find(U=>U.id===j);Re&&Re.quantity+$<=0&&co(()=>Promise.resolve().then(()=>Yc),void 0).then(U=>U.saveItem("ProdutosExcluidosPedidos",{id:`${_.pedidoId||_.id}_${j}`,pedidoId:_.pedidoId||_.id,ordem:Ce.findIndex(ue=>ue.id===j),produtoId:j,itemUid:Re.itemUid,dataExclusao:new Date().toISOString()}))}if(Le.id===j){const Re=Math.max(0,Le.quantity+$);return{...Le,quantity:Re}}return Le}).filter(Le=>Le.quantity>0)})},[_]),ee=j=>{C(j),R(j.items||[]),h("shop")},K=async j=>{function $(Ce,Le,Re){return`${Ce}_${Le}_${Re}_${Date.now()}`}if(_){const Ce=N.reduce((Re,U)=>Re+U.price*U.quantity,0),Le={..._,customer:j.customer,address:j.address,city:j.city,cep:j.cep,formaPagamento:j.paymentMethod,items:N.map((Re,U)=>({...Re,pedidoId:_.pedidoId||_.id,syncStatus:"alterado",itemUid:Re.itemUid?Re.itemUid:$(_.pedidoId||_.id,Re.id,U)})),total:Ce,itemsCount:N.reduce((Re,U)=>Re+U.quantity,0),status:"Pendente",syncStatus:"alterado"};await xe(Le),C(null),R([]),h("orderList"),F(!0),ne(Re=>Re+1)}else{const Ce=await Ht("falcon_orders_db"),Le=Ce.length>0?Math.max(...Ce.map(we=>Number(we.id)||0)):0,Re=String(Le+1),U="PED-"+Date.now().toString(),ue=N.reduce((we,Ze)=>we+Ze.price*Ze.quantity,0),_e=await Ht("falcon_user_logged"),Be=_e&&_e.length>0?_e[0].id:1,Ve={id:Re,pedidoId:U,customer:j.customer,address:j.address,city:j.city,cep:j.cep,date:new Date().toLocaleDateString("pt-BR"),total:Number(ue),status:"Pendente",itemsCount:Number(N.reduce((we,Ze)=>we+Ze.quantity,0)),usuarioId:Be?String(Be):void 0,formaPagamento:j.paymentMethod,items:N.map((we,Ze)=>({...we,pedidoId:U,syncStatus:"novo",itemUid:$(U,we.id,Ze)})),syncStatus:"novo"};await pe(Ve),ne(we=>we+1)}},pe=async j=>{try{await ir("falcon_orders_db",j);const $=await Ht("falcon_orders_db");Z($),R([]),h("orderList"),F(!0)}catch($){console.error("Failed to save order",$)}},ce=async j=>{const Ce=(await Ht("falcon_orders_db")).find(Re=>Re.id===j),Le=[...V];Z(Re=>Re.filter(U=>U.id!==j));try{if(Ce&&Ce.syncStatus&&Ce.syncStatus.trim().toLowerCase()==="sincronizado"){const U=`${Ce.id}_${Date.now()}`;await ir("PedidosExcluidos",{id:U,pedidoId:Ce.pedidoId||Ce.id,dataExclusao:new Date().toISOString()}),localStorage.getItem("autoSyncPedido")==="true"&&co(()=>Promise.resolve().then(()=>ob),void 0).then(ue=>{ue.processarExclusoesPedidosServidor&&ue.processarExclusoesPedidosServidor()})}await os("falcon_orders_db",j);const Re=await Ht("falcon_orders_db");Z(Re)}catch(Re){console.error("Failed to delete order",Re),Z(Le),alert("Erro ao excluir pedido.")}},xe=async j=>{const $={...j,syncStatus:"alterado"};try{await ir("falcon_orders_db",$);const Ce=await Ht("falcon_orders_db");Z(Ce)}catch(Ce){console.error("Failed to update order",Ce),alert("Erro ao atualizar pedido.")}},Ae=Te.useCallback(j=>{j==="login"&&Ht("falcon_user_logged").then($=>{$&&$.length>0&&$.forEach(Ce=>os("falcon_user_logged",Ce.id))}),j==="orderList"&&(C(null),R([])),h(j),M(!1),window.scrollTo(0,0)},[]),ve={isSidebarOpen:B,setIsSidebarOpen:M,onNavigate:Ae,currentScreen:f,theme:X,setTheme:de},Q=()=>{if(g)return p.jsx("div",{style:{color:"white",textAlign:"center",marginTop:40},children:"Carregando..."});switch(f){case"login":return p.jsx($h,{onNavigate:Ae});case"register":return p.jsx(qm,{onNavigate:Ae});case"productList":return p.jsx(Da,{...ve,children:p.jsx(ab,{onOpenSidebar:()=>M(!0),onNavigate:Ae,addToCart:W,cartItemCount:N.reduce((j,$)=>j+$.quantity,0),products:E,cart:N,updateQuantity:D,removeFromCart:j=>R($=>$.filter(Ce=>Ce.id!==j))})});case"shop":return p.jsx(Da,{...ve,children:p.jsx(ib,{cart:N,updateQuantity:D,onNavigate:Ae,onBack:()=>Ae("productList"),onCancel:async()=>{if(_&&_.pedidoId){const $=(await Ht("ProdutosExcluidosPedidos")).filter(Ce=>Ce.pedidoId===_.pedidoId||Ce.pedidoId===_.id);for(const Ce of $)await os("ProdutosExcluidosPedidos",Ce.id)}Ae("orderList")},editingOrder:_})});case"checkout":return p.jsx(Da,{...ve,children:p.jsx(cb,{cart:N,onBack:()=>Ae("shop"),onComplete:K,editingOrder:_,onSyncOrdersUpdate:()=>ne(j=>j+1)})});case"inbox":return p.jsx(Da,{...ve,showBottomNav:!1,children:p.jsx(db,{onOpenSidebar:()=>M(!0)})});case"addProduct":return p.jsx(Da,{...ve,children:p.jsx(fb,{onBack:()=>Ae("productList"),onProductAdded:j=>w($=>[j,...$])})});case"profile":return p.jsx(Da,{...ve,children:p.jsx(hb,{onBack:()=>Ae("productList")})});case"productTable":return p.jsx(Da,{...ve,children:p.jsx(xb,{onOpenSidebar:()=>M(!0),onNavigate:Ae,products:E})});case"orderList":return p.jsx(Da,{...ve,children:p.jsx(gb,{onOpenSidebar:()=>M(!0),onDeleteOrder:ce,onUpdateOrder:xe,onEditOrder:ee,refreshTrigger:ge})});case"sync":return p.jsx(Da,{...ve,showBottomNav:!1,children:p.jsx(xg,{onBack:()=>{Ht("falcon_orders_db").then(Z),Ae("productList")},onSyncProdutos:w})});case"config":return p.jsx(Da,{...ve,showBottomNav:!1,children:p.jsx(mb,{onBack:()=>Ae("productList"),setOrders:Z})});default:return p.jsx($h,{onNavigate:Ae})}};return p.jsxs(p.Fragment,{children:[Q(),p.jsx(oi,{isOpen:H,onClose:()=>F(!1),title:"Sucesso",footer:p.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:p.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-2xl",children:"check_circle"})}),p.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Pedido realizado com sucesso!"}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Seu pedido foi processado e logo ser enviado."})]})})]})},gg=document.getElementById("root");if(!gg)throw new Error("Could not find root element to mount to");const bb=Gm.createRoot(gg);bb.render(p.jsx(ze.StrictMode,{children:p.jsx(pb,{})}));
