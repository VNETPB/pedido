function Um(d,f){for(var g=0;g<f.length;g++){const b=f[g];if(typeof b!="string"&&!Array.isArray(b)){for(const C in b)if(C!=="default"&&!(C in d)){const w=Object.getOwnPropertyDescriptor(b,C);w&&Object.defineProperty(d,C,w.get?w:{enumerable:!0,get:()=>b[C]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))b(C);new MutationObserver(C=>{for(const w of C)if(w.type==="childList")for(const T of w.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&b(T)}).observe(document,{childList:!0,subtree:!0});function g(C){const w={};return C.integrity&&(w.integrity=C.integrity),C.referrerPolicy&&(w.referrerPolicy=C.referrerPolicy),C.crossOrigin==="use-credentials"?w.credentials="include":C.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function b(C){if(C.ep)return;C.ep=!0;const w=g(C);fetch(C.href,w)}})();var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nu(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var nf={exports:{}},co={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function Hm(){if(Vh)return co;Vh=1;var d=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function g(b,C,w){var T=null;if(w!==void 0&&(T=""+w),C.key!==void 0&&(T=""+C.key),"key"in C){w={};for(var O in C)O!=="key"&&(w[O]=C[O])}else w=C;return C=w.ref,{$$typeof:d,type:b,key:T,ref:C!==void 0?C:null,props:w}}return co.Fragment=f,co.jsx=g,co.jsxs=g,co}var Xh;function Fm(){return Xh||(Xh=1,nf.exports=Hm()),nf.exports}var p=Fm(),af={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function Pm(){if(Yh)return ot;Yh=1;var d=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),X=Symbol.iterator;function W(H){return H===null||typeof H!="object"?null:(H=X&&H[X]||H["@@iterator"],typeof H=="function"?H:null)}var fe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ne={};function z(H,ue,_e){this.props=H,this.context=ue,this.refs=ne,this.updater=_e||fe}z.prototype.isReactComponent={},z.prototype.setState=function(H,ue){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ue,"setState")},z.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function L(){}L.prototype=z.prototype;function G(H,ue,_e){this.props=H,this.context=ue,this.refs=ne,this.updater=_e||fe}var $=G.prototype=new L;$.constructor=G,te($,z.prototype),$.isPureReactComponent=!0;var xe=Array.isArray;function K(){}var D={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function F(H,ue,_e){var je=_e.ref;return{$$typeof:d,type:H,key:ue,ref:je!==void 0?je:null,props:_e}}function ie(H,ue){return F(H.type,ue,H.props)}function re(H){return typeof H=="object"&&H!==null&&H.$$typeof===d}function oe(H){var ue={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(_e){return ue[_e]})}var Ae=/\/+/g;function Ee(H,ue){return typeof H=="object"&&H!==null&&H.key!=null?oe(""+H.key):ue.toString(36)}function Q(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(K,K):(H.status="pending",H.then(function(ue){H.status==="pending"&&(H.status="fulfilled",H.value=ue)},function(ue){H.status==="pending"&&(H.status="rejected",H.reason=ue)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function U(H,ue,_e,je,Fe){var Se=typeof H;(Se==="undefined"||Se==="boolean")&&(H=null);var tt=!1;if(H===null)tt=!0;else switch(Se){case"bigint":case"string":case"number":tt=!0;break;case"object":switch(H.$$typeof){case d:case f:tt=!0;break;case B:return tt=H._init,U(tt(H._payload),ue,_e,je,Fe)}}if(tt)return Fe=Fe(H),tt=je===""?"."+Ee(H,0):je,xe(Fe)?(_e="",tt!=null&&(_e=tt.replace(Ae,"$&/")+"/"),U(Fe,ue,_e,"",function(Et){return Et})):Fe!=null&&(re(Fe)&&(Fe=ie(Fe,_e+(Fe.key==null||H&&H.key===Fe.key?"":(""+Fe.key).replace(Ae,"$&/")+"/")+tt)),ue.push(Fe)),1;tt=0;var ye=je===""?".":je+":";if(xe(H))for(var He=0;He<H.length;He++)je=H[He],Se=ye+Ee(je,He),tt+=U(je,ue,_e,Se,Fe);else if(He=W(H),typeof He=="function")for(H=He.call(H),He=0;!(je=H.next()).done;)je=je.value,Se=ye+Ee(je,He++),tt+=U(je,ue,_e,Se,Fe);else if(Se==="object"){if(typeof H.then=="function")return U(Q(H),ue,_e,je,Fe);throw ue=String(H),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return tt}function J(H,ue,_e){if(H==null)return H;var je=[],Fe=0;return U(H,je,"","",function(Se){return ue.call(_e,Se,Fe++)}),je}function ve(H){if(H._status===-1){var ue=H._result;ue=ue(),ue.then(function(_e){(H._status===0||H._status===-1)&&(H._status=1,H._result=_e)},function(_e){(H._status===0||H._status===-1)&&(H._status=2,H._result=_e)}),H._status===-1&&(H._status=0,H._result=ue)}if(H._status===1)return H._result.default;throw H._result}var Re=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Oe={map:J,forEach:function(H,ue,_e){J(H,function(){ue.apply(this,arguments)},_e)},count:function(H){var ue=0;return J(H,function(){ue++}),ue},toArray:function(H){return J(H,function(ue){return ue})||[]},only:function(H){if(!re(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return ot.Activity=M,ot.Children=Oe,ot.Component=z,ot.Fragment=g,ot.Profiler=C,ot.PureComponent=G,ot.StrictMode=b,ot.Suspense=_,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ot.__COMPILER_RUNTIME={__proto__:null,c:function(H){return D.H.useMemoCache(H)}},ot.cache=function(H){return function(){return H.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(H,ue,_e){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var je=te({},H.props),Fe=H.key;if(ue!=null)for(Se in ue.key!==void 0&&(Fe=""+ue.key),ue)!q.call(ue,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&ue.ref===void 0||(je[Se]=ue[Se]);var Se=arguments.length-2;if(Se===1)je.children=_e;else if(1<Se){for(var tt=Array(Se),ye=0;ye<Se;ye++)tt[ye]=arguments[ye+2];je.children=tt}return F(H.type,Fe,je)},ot.createContext=function(H){return H={$$typeof:T,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:w,_context:H},H},ot.createElement=function(H,ue,_e){var je,Fe={},Se=null;if(ue!=null)for(je in ue.key!==void 0&&(Se=""+ue.key),ue)q.call(ue,je)&&je!=="key"&&je!=="__self"&&je!=="__source"&&(Fe[je]=ue[je]);var tt=arguments.length-2;if(tt===1)Fe.children=_e;else if(1<tt){for(var ye=Array(tt),He=0;He<tt;He++)ye[He]=arguments[He+2];Fe.children=ye}if(H&&H.defaultProps)for(je in tt=H.defaultProps,tt)Fe[je]===void 0&&(Fe[je]=tt[je]);return F(H,Se,Fe)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(H){return{$$typeof:O,render:H}},ot.isValidElement=re,ot.lazy=function(H){return{$$typeof:B,_payload:{_status:-1,_result:H},_init:ve}},ot.memo=function(H,ue){return{$$typeof:E,type:H,compare:ue===void 0?null:ue}},ot.startTransition=function(H){var ue=D.T,_e={};D.T=_e;try{var je=H(),Fe=D.S;Fe!==null&&Fe(_e,je),typeof je=="object"&&je!==null&&typeof je.then=="function"&&je.then(K,Re)}catch(Se){Re(Se)}finally{ue!==null&&_e.types!==null&&(ue.types=_e.types),D.T=ue}},ot.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ot.use=function(H){return D.H.use(H)},ot.useActionState=function(H,ue,_e){return D.H.useActionState(H,ue,_e)},ot.useCallback=function(H,ue){return D.H.useCallback(H,ue)},ot.useContext=function(H){return D.H.useContext(H)},ot.useDebugValue=function(){},ot.useDeferredValue=function(H,ue){return D.H.useDeferredValue(H,ue)},ot.useEffect=function(H,ue){return D.H.useEffect(H,ue)},ot.useEffectEvent=function(H){return D.H.useEffectEvent(H)},ot.useId=function(){return D.H.useId()},ot.useImperativeHandle=function(H,ue,_e){return D.H.useImperativeHandle(H,ue,_e)},ot.useInsertionEffect=function(H,ue){return D.H.useInsertionEffect(H,ue)},ot.useLayoutEffect=function(H,ue){return D.H.useLayoutEffect(H,ue)},ot.useMemo=function(H,ue){return D.H.useMemo(H,ue)},ot.useOptimistic=function(H,ue){return D.H.useOptimistic(H,ue)},ot.useReducer=function(H,ue,_e){return D.H.useReducer(H,ue,_e)},ot.useRef=function(H){return D.H.useRef(H)},ot.useState=function(H){return D.H.useState(H)},ot.useSyncExternalStore=function(H,ue,_e){return D.H.useSyncExternalStore(H,ue,_e)},ot.useTransition=function(){return D.H.useTransition()},ot.version="19.2.0",ot}var qh;function Ef(){return qh||(qh=1,af.exports=Pm()),af.exports}var be=Ef();const Ue=nu(be);var rf={exports:{}},uo={},lf={exports:{}},sf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function Gm(){return Zh||(Zh=1,(function(d){function f(U,J){var ve=U.length;U.push(J);e:for(;0<ve;){var Re=ve-1>>>1,Oe=U[Re];if(0<C(Oe,J))U[Re]=J,U[ve]=Oe,ve=Re;else break e}}function g(U){return U.length===0?null:U[0]}function b(U){if(U.length===0)return null;var J=U[0],ve=U.pop();if(ve!==J){U[0]=ve;e:for(var Re=0,Oe=U.length,H=Oe>>>1;Re<H;){var ue=2*(Re+1)-1,_e=U[ue],je=ue+1,Fe=U[je];if(0>C(_e,ve))je<Oe&&0>C(Fe,_e)?(U[Re]=Fe,U[je]=ve,Re=je):(U[Re]=_e,U[ue]=ve,Re=ue);else if(je<Oe&&0>C(Fe,ve))U[Re]=Fe,U[je]=ve,Re=je;else break e}}return J}function C(U,J){var ve=U.sortIndex-J.sortIndex;return ve!==0?ve:U.id-J.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;d.unstable_now=function(){return w.now()}}else{var T=Date,O=T.now();d.unstable_now=function(){return T.now()-O}}var _=[],E=[],B=1,M=null,X=3,W=!1,fe=!1,te=!1,ne=!1,z=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function $(U){for(var J=g(E);J!==null;){if(J.callback===null)b(E);else if(J.startTime<=U)b(E),J.sortIndex=J.expirationTime,f(_,J);else break;J=g(E)}}function xe(U){if(te=!1,$(U),!fe)if(g(_)!==null)fe=!0,K||(K=!0,oe());else{var J=g(E);J!==null&&Q(xe,J.startTime-U)}}var K=!1,D=-1,q=5,F=-1;function ie(){return ne?!0:!(d.unstable_now()-F<q)}function re(){if(ne=!1,K){var U=d.unstable_now();F=U;var J=!0;try{e:{fe=!1,te&&(te=!1,L(D),D=-1),W=!0;var ve=X;try{t:{for($(U),M=g(_);M!==null&&!(M.expirationTime>U&&ie());){var Re=M.callback;if(typeof Re=="function"){M.callback=null,X=M.priorityLevel;var Oe=Re(M.expirationTime<=U);if(U=d.unstable_now(),typeof Oe=="function"){M.callback=Oe,$(U),J=!0;break t}M===g(_)&&b(_),$(U)}else b(_);M=g(_)}if(M!==null)J=!0;else{var H=g(E);H!==null&&Q(xe,H.startTime-U),J=!1}}break e}finally{M=null,X=ve,W=!1}J=void 0}}finally{J?oe():K=!1}}}var oe;if(typeof G=="function")oe=function(){G(re)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Ee=Ae.port2;Ae.port1.onmessage=re,oe=function(){Ee.postMessage(null)}}else oe=function(){z(re,0)};function Q(U,J){D=z(function(){U(d.unstable_now())},J)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(U){U.callback=null},d.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<U?Math.floor(1e3/U):5},d.unstable_getCurrentPriorityLevel=function(){return X},d.unstable_next=function(U){switch(X){case 1:case 2:case 3:var J=3;break;default:J=X}var ve=X;X=J;try{return U()}finally{X=ve}},d.unstable_requestPaint=function(){ne=!0},d.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ve=X;X=U;try{return J()}finally{X=ve}},d.unstable_scheduleCallback=function(U,J,ve){var Re=d.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Re+ve:Re):ve=Re,U){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ve+Oe,U={id:B++,callback:J,priorityLevel:U,startTime:ve,expirationTime:Oe,sortIndex:-1},ve>Re?(U.sortIndex=ve,f(E,U),g(_)===null&&U===g(E)&&(te?(L(D),D=-1):te=!0,Q(xe,ve-Re))):(U.sortIndex=Oe,f(_,U),fe||W||(fe=!0,K||(K=!0,oe()))),U},d.unstable_shouldYield=ie,d.unstable_wrapCallback=function(U){var J=X;return function(){var ve=X;X=J;try{return U.apply(this,arguments)}finally{X=ve}}}})(sf)),sf}var Wh;function Vm(){return Wh||(Wh=1,lf.exports=Gm()),lf.exports}var of={exports:{}},sa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh;function Xm(){if(Qh)return sa;Qh=1;var d=Ef();function f(_){var E="https://react.dev/errors/"+_;if(1<arguments.length){E+="?args[]="+encodeURIComponent(arguments[1]);for(var B=2;B<arguments.length;B++)E+="&args[]="+encodeURIComponent(arguments[B])}return"Minified React error #"+_+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(){}var b={d:{f:g,r:function(){throw Error(f(522))},D:g,C:g,L:g,m:g,X:g,S:g,M:g},p:0,findDOMNode:null},C=Symbol.for("react.portal");function w(_,E,B){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:M==null?null:""+M,children:_,containerInfo:E,implementation:B}}var T=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function O(_,E){if(_==="font")return"";if(typeof E=="string")return E==="use-credentials"?E:""}return sa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,sa.createPortal=function(_,E){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E||E.nodeType!==1&&E.nodeType!==9&&E.nodeType!==11)throw Error(f(299));return w(_,E,null,B)},sa.flushSync=function(_){var E=T.T,B=b.p;try{if(T.T=null,b.p=2,_)return _()}finally{T.T=E,b.p=B,b.d.f()}},sa.preconnect=function(_,E){typeof _=="string"&&(E?(E=E.crossOrigin,E=typeof E=="string"?E==="use-credentials"?E:"":void 0):E=null,b.d.C(_,E))},sa.prefetchDNS=function(_){typeof _=="string"&&b.d.D(_)},sa.preinit=function(_,E){if(typeof _=="string"&&E&&typeof E.as=="string"){var B=E.as,M=O(B,E.crossOrigin),X=typeof E.integrity=="string"?E.integrity:void 0,W=typeof E.fetchPriority=="string"?E.fetchPriority:void 0;B==="style"?b.d.S(_,typeof E.precedence=="string"?E.precedence:void 0,{crossOrigin:M,integrity:X,fetchPriority:W}):B==="script"&&b.d.X(_,{crossOrigin:M,integrity:X,fetchPriority:W,nonce:typeof E.nonce=="string"?E.nonce:void 0})}},sa.preinitModule=function(_,E){if(typeof _=="string")if(typeof E=="object"&&E!==null){if(E.as==null||E.as==="script"){var B=O(E.as,E.crossOrigin);b.d.M(_,{crossOrigin:B,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0})}}else E==null&&b.d.M(_)},sa.preload=function(_,E){if(typeof _=="string"&&typeof E=="object"&&E!==null&&typeof E.as=="string"){var B=E.as,M=O(B,E.crossOrigin);b.d.L(_,B,{crossOrigin:M,integrity:typeof E.integrity=="string"?E.integrity:void 0,nonce:typeof E.nonce=="string"?E.nonce:void 0,type:typeof E.type=="string"?E.type:void 0,fetchPriority:typeof E.fetchPriority=="string"?E.fetchPriority:void 0,referrerPolicy:typeof E.referrerPolicy=="string"?E.referrerPolicy:void 0,imageSrcSet:typeof E.imageSrcSet=="string"?E.imageSrcSet:void 0,imageSizes:typeof E.imageSizes=="string"?E.imageSizes:void 0,media:typeof E.media=="string"?E.media:void 0})}},sa.preloadModule=function(_,E){if(typeof _=="string")if(E){var B=O(E.as,E.crossOrigin);b.d.m(_,{as:typeof E.as=="string"&&E.as!=="script"?E.as:void 0,crossOrigin:B,integrity:typeof E.integrity=="string"?E.integrity:void 0})}else b.d.m(_)},sa.requestFormReset=function(_){b.d.r(_)},sa.unstable_batchedUpdates=function(_,E){return _(E)},sa.useFormState=function(_,E,B){return T.H.useFormState(_,E,B)},sa.useFormStatus=function(){return T.H.useHostTransitionStatus()},sa.version="19.2.0",sa}var Kh;function zx(){if(Kh)return of.exports;Kh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(f){console.error(f)}}return d(),of.exports=Xm(),of.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh;function Ym(){if(Jh)return uo;Jh=1;var d=Vm(),f=Ef(),g=zx();function b(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function T(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function O(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(w(e)!==e)throw Error(b(188))}function E(e){var n=e.alternate;if(!n){if(n=w(e),n===null)throw Error(b(188));return n!==e?null:e}for(var i=e,o=n;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(o=h.return,o!==null){i=o;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return _(h),e;if(m===o)return _(h),n;m=m.sibling}throw Error(b(188))}if(i.return!==o.return)i=h,o=m;else{for(var v=!1,R=h.child;R;){if(R===i){v=!0,i=h,o=m;break}if(R===o){v=!0,o=h,i=m;break}R=R.sibling}if(!v){for(R=m.child;R;){if(R===i){v=!0,i=m,o=h;break}if(R===o){v=!0,o=m,i=h;break}R=R.sibling}if(!v)throw Error(b(189))}}if(i.alternate!==o)throw Error(b(190))}if(i.tag!==3)throw Error(b(188));return i.stateNode.current===i?e:n}function B(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=B(e),n!==null)return n;e=e.sibling}return null}var M=Object.assign,X=Symbol.for("react.element"),W=Symbol.for("react.transitional.element"),fe=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),G=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Symbol.for("react.client.reference");function Ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case z:return"Profiler";case ne:return"StrictMode";case xe:return"Suspense";case K:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case fe:return"Portal";case G:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:Ee(e.type)||"Memo";case q:n=e._payload,e=e._init;try{return Ee(e(n))}catch{}}return null}var Q=Array.isArray,U=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Re=[],Oe=-1;function H(e){return{current:e}}function ue(e){0>Oe||(e.current=Re[Oe],Re[Oe]=null,Oe--)}function _e(e,n){Oe++,Re[Oe]=e.current,e.current=n}var je=H(null),Fe=H(null),Se=H(null),tt=H(null);function ye(e,n){switch(_e(Se,n),_e(Fe,e),_e(je,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?hh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=hh(n),e=xh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ue(je),_e(je,e)}function He(){ue(je),ue(Fe),ue(Se)}function Et(e){e.memoizedState!==null&&_e(tt,e);var n=je.current,i=xh(n,e.type);n!==i&&(_e(Fe,e),_e(je,i))}function wt(e){Fe.current===e&&(ue(je),ue(Fe)),tt.current===e&&(ue(tt),io._currentValue=ve)}var Rt,st;function Me(e){if(Rt===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Rt=n&&n[1]||"",st=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+e+st}var Ke=!1;function Zt(e,n){if(!e||Ke)return"";Ke=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(me){var de=me}Reflect.construct(e,[],Ce)}else{try{Ce.call()}catch(me){de=me}e.call(Ce.prototype)}}else{try{throw Error()}catch(me){de=me}(Ce=e())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(me){if(me&&de&&typeof me.stack=="string")return[me.stack,de.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),v=m[0],R=m[1];if(v&&R){var P=v.split(`
`),ce=R.split(`
`);for(h=o=0;o<P.length&&!P[o].includes("DetermineComponentFrameRoot");)o++;for(;h<ce.length&&!ce[h].includes("DetermineComponentFrameRoot");)h++;if(o===P.length||h===ce.length)for(o=P.length-1,h=ce.length-1;1<=o&&0<=h&&P[o]!==ce[h];)h--;for(;1<=o&&0<=h;o--,h--)if(P[o]!==ce[h]){if(o!==1||h!==1)do if(o--,h--,0>h||P[o]!==ce[h]){var pe=`
`+P[o].replace(" at new "," at ");return e.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",e.displayName)),pe}while(1<=o&&0<=h);break}}}finally{Ke=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Me(i):""}function ut(e,n){switch(e.tag){case 26:case 27:case 5:return Me(e.type);case 16:return Me("Lazy");case 13:return e.child!==n&&n!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Zt(e.type,!1);case 11:return Zt(e.type.render,!1);case 1:return Zt(e.type,!0);case 31:return Me("Activity");default:return""}}function ft(e){try{var n="",i=null;do n+=ut(e,i),i=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var rt=Object.prototype.hasOwnProperty,la=d.unstable_scheduleCallback,ze=d.unstable_cancelCallback,Cr=d.unstable_shouldYield,Er=d.unstable_requestPaint,Bt=d.unstable_now,Jn=d.unstable_getCurrentPriorityLevel,kn=d.unstable_ImmediatePriority,lr=d.unstable_UserBlockingPriority,Bn=d.unstable_NormalPriority,pn=d.unstable_LowPriority,Qi=d.unstable_IdlePriority,Ur=d.log,bs=d.unstable_setDisableYieldValue,on=null,Be=null;function Jt(e){if(typeof Ur=="function"&&bs(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(on,e)}catch{}}var ht=Math.clz32?Math.clz32:ys,bn=Math.log,Ki=Math.LN2;function ys(e){return e>>>=0,e===0?32:31-(bn(e)/Ki|0)|0}var Ji=256,Nt=262144,Pa=4194304;function Ar(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $i(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var h=0,m=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var R=o&134217727;return R!==0?(o=R&~m,o!==0?h=Ar(o):(v&=R,v!==0?h=Ar(v):i||(i=R&~e,i!==0&&(h=Ar(i))))):(R=o&~m,R!==0?h=Ar(R):v!==0?h=Ar(v):i||(i=o&~e,i!==0&&(h=Ar(i)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,i=n&-n,m>=i||m===32&&(i&4194048)!==0)?n:h}function $n(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ws(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gn(){var e=Pa;return Pa<<=1,(Pa&62914560)===0&&(Pa=4194304),e}function vr(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ga(e,n,i,o,h,m){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var R=e.entanglements,P=e.expirationTimes,ce=e.hiddenUpdates;for(i=v&~i;0<i;){var pe=31-ht(i),Ce=1<<pe;R[pe]=0,P[pe]=-1;var de=ce[pe];if(de!==null)for(ce[pe]=null,pe=0;pe<de.length;pe++){var me=de[pe];me!==null&&(me.lane&=-536870913)}i&=~Ce}o!==0&&vo(e,o,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(v&~n))}function vo(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ht(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function Nr(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-ht(i),h=1<<o;h&n|e[o]&n&&(e[o]|=n),i&=~h}}function _l(e,n){var i=n&-n;return i=(i&42)!==0?1:Qn(i),(i&(e.suspendedLanes|n))!==0?0:i}function Qn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function sr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ca(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Lh(e.type))}function Pe(e,n){var i=J.p;try{return J.p=e,n()}finally{J.p=i}}var ua=Math.random().toString(36).slice(2),In="__reactFiber$"+ua,Wt="__reactProps$"+ua,Ta="__reactContainer$"+ua,di="__reactEvents$"+ua,Il="__reactListeners$"+ua,Va="__reactHandles$"+ua,So="__reactResources$"+ua,el="__reactMarker$"+ua;function pa(e){delete e[In],delete e[Wt],delete e[di],delete e[Il],delete e[Va]}function An(e){var n=e[In];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Ta]||i[In]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=Ch(e);e!==null;){if(i=e[In])return i;e=Ch(e)}return n}e=i,i=e.parentNode}return null}function Ft(e){if(e=e[In]||e[Ta]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(b(33))}function da(e){var n=e[So];return n||(n=e[So]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function vn(e){e[el]=!0}var Ne=new Set,No={};function Vt(e,n){_a(e,n),_a(e+"Capture",n)}function _a(e,n){for(No[e]=n,e=0;e<n.length;e++)Ne.add(n[e])}var ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jt={},kt={};function At(e){return rt.call(kt,e)?!0:rt.call(jt,e)?!1:ou.test(e)?kt[e]=!0:(jt[e]=!0,!1)}function hi(e,n,i){if(At(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function xi(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Ia(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function or(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function cu(e,n,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){i=""+v,m.call(this,v)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function cn(e){if(!e._valueTracker){var n=or(e)?"checked":"value";e._valueTracker=cu(e,n,""+e[n])}}function cr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=or(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function Ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gi=/[\n"\\]/g;function Ct(e){return e.replace(gi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function jn(e,n,i,o,h,m,v,R){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Lt(n)):e.value!==""+Lt(n)&&(e.value=""+Lt(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?k(e,v,Lt(n)):i!=null?k(e,v,Lt(i)):o!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?e.name=""+Lt(R):e.removeAttribute("name")}function le(e,n,i,o,h,m,v,R){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){cn(e);return}i=i!=null?""+Lt(i):"",n=n!=null?""+Lt(n):i,R||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=R?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),cn(e)}function k(e,n,i){n==="number"&&Ol(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ye(e,n,i,o){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Lt(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function On(e,n,i){if(n!=null&&(n=""+Lt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Lt(i):""}function fa(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(b(92));if(Q(o)){if(1<o.length)throw Error(b(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=Lt(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),cn(e)}function mi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ha(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||Cs.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function We(e,n,i){if(n!=null&&typeof n!="object")throw Error(b(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&i[h]!==o&&ha(e,h,o)}else for(var m in n)n.hasOwnProperty(m)&&ha(e,m,n[m])}function an(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pi(e){return uu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ba(){}var tl=null;function Es(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var un=null,Xa=null;function ur(e){var n=Ft(e);if(n&&(e=n.stateNode)){var i=e[Wt]||null;e:switch(e=n.stateNode,n.type){case"input":if(jn(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ct(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var h=o[Wt]||null;if(!h)throw Error(b(90));jn(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&cr(o)}break e;case"textarea":On(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Ye(e,!!i.multiple,n,!1)}}}var Je=!1;function _o(e,n,i){if(Je)return e(n,i);Je=!0;try{var o=e(n);return o}finally{if(Je=!1,(un!==null||Xa!==null)&&(yc(),un&&(n=un,e=Xa,Xa=un=null,ur(n),e)))for(n=0;n<e.length;n++)ur(e[n])}}function it(e,n){var i=e.stateNode;if(i===null)return null;var o=i[Wt]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(b(231,n,typeof i));return i}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),As=!1;if(rn)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){As=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{As=!1}var dr=null,fr=null,Rl=null;function bi(){if(Rl)return Rl;var e,n=fr,i=n.length,o,h="value"in dr?dr.value:dr.textContent,m=h.length;for(e=0;e<i&&n[e]===h[e];e++);var v=i-e;for(o=1;o<=v&&n[i-o]===h[m-o];o++);return Rl=h.slice(e,1<o?1-o:void 0)}function Tr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _r(){return!0}function vs(){return!1}function Ln(e){function n(i,o,h,m,v){this._reactName=i,this._targetInst=h,this.type=o,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var R in e)e.hasOwnProperty(R)&&(i=e[R],this[R]=i?i(m):m[R]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?_r:vs,this.isPropagationStopped=vs,this}return M(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),n}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vn=Ln(Oa),yi=M({},Oa,{view:0,detail:0}),Io=Ln(yi),Dl,Ss,nl,Ml=M({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nl&&(nl&&e.type==="mousemove"?(Dl=e.screenX-nl.screenX,Ss=e.screenY-nl.screenY):Ss=Dl=0,nl=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:Ss}}),Pt=Ln(Ml),Oo=M({},Ml,{dataTransfer:0}),kl=Ln(Oo),Ir=M({},yi,{relatedTarget:0}),Ns=Ln(Ir),ge=M({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),xt=Ln(ge),Xn=M({},Oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bl=Ln(Xn),Ro=M({},Oa,{data:0}),Do=Ln(Ro),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ts={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rn(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ts[e])?!!n[e]:!1}function al(){return Rn}var yn=M({},yi,{key:function(e){if(e.key){var n=du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jl=Ln(yn),Fr=M({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xt=Ln(Fr),$e=M({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),hu=Ln($e),ln=M({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pr=Ln(ln),wi=M({},Ml,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xu=Ln(wi),Ya=M({},Oa,{newState:0,oldState:0}),_s=Ln(Ya),Mo=[9,13,27,32],rl=rn&&"CompositionEvent"in window,Ci=null;rn&&"documentMode"in document&&(Ci=document.documentMode);var ko=rn&&"TextEvent"in window&&!Ci,Bo=rn&&(!rl||Ci&&8<Ci&&11>=Ci),Gr=" ",Ll=!1;function jo(e,n){switch(e){case"keyup":return Mo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ei(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ai=!1;function Or(e,n){switch(e){case"compositionend":return Ei(n);case"keypress":return n.which!==32?null:(Ll=!0,Gr);case"textInput":return e=n.data,e===Gr&&Ll?null:e;default:return null}}function zl(e,n){if(Ai)return e==="compositionend"||!rl&&jo(e,n)?(e=bi(),Rl=fr=dr=null,Ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Bo&&n.locale!=="ko"?null:n.data;default:return null}}var ya={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Is(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ya[e.type]:n==="textarea"}function Ra(e,n,i,o){un?Xa?Xa.push(o):Xa=[o]:un=o,n=Nc(n,"onChange"),0<n.length&&(i=new Vn("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var il=null,Vr=null;function gu(e){sh(e,0)}function ll(e){var n=fi(e);if(cr(n))return e}function Da(e,n){if(e==="change")return n}var Lo=!1;if(rn){var sl;if(rn){var Xr="oninput"in document;if(!Xr){var Tt=document.createElement("div");Tt.setAttribute("oninput","return;"),Xr=typeof Tt.oninput=="function"}sl=Xr}else sl=!1;Lo=sl&&(!document.documentMode||9<document.documentMode)}function ol(){il&&(il.detachEvent("onpropertychange",S),Vr=il=null)}function S(e){if(e.propertyName==="value"&&ll(Vr)){var n=[];Ra(n,Vr,e,Es(e)),_o(gu,n)}}function t(e,n,i){e==="focusin"?(ol(),il=n,Vr=i,il.attachEvent("onpropertychange",S)):e==="focusout"&&ol()}function a(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ll(Vr)}function r(e,n){if(e==="click")return ll(n)}function l(e,n){if(e==="input"||e==="change")return ll(n)}function s(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var c=typeof Object.is=="function"?Object.is:s;function u(e,n){if(c(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var h=i[o];if(!rt.call(n,h)||!c(e[h],n[h]))return!1}return!0}function x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y(e,n){var i=x(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=x(i)}}function A(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?A(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function N(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ol(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Ol(e.document)}return n}function I(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var j=rn&&"documentMode"in document&&11>=document.documentMode,V=null,Y=null,ae=null,he=!1;function ke(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;he||V==null||V!==Ol(o)||(o=V,"selectionStart"in o&&I(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ae&&u(ae,o)||(ae=o,o=Nc(Y,"onSelect"),0<o.length&&(n=new Vn("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=V)))}function De(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Te={animationend:De("Animation","AnimationEnd"),animationiteration:De("Animation","AnimationIteration"),animationstart:De("Animation","AnimationStart"),transitionrun:De("Transition","TransitionRun"),transitionstart:De("Transition","TransitionStart"),transitioncancel:De("Transition","TransitionCancel"),transitionend:De("Transition","TransitionEnd")},bt={},lt={};rn&&(lt=document.createElement("div").style,"AnimationEvent"in window||(delete Te.animationend.animation,delete Te.animationiteration.animation,delete Te.animationstart.animation),"TransitionEvent"in window||delete Te.transitionend.transition);function Sn(e){if(bt[e])return bt[e];if(!Te[e])return e;var n=Te[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in lt)return bt[e]=n[i];return e}var wa=Sn("animationend"),ea=Sn("animationiteration"),Yt=Sn("animationstart"),Yn=Sn("transitionrun"),xa=Sn("transitionstart"),vi=Sn("transitioncancel"),Yr=Sn("transitionend"),zo=new Map,Os="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Os.push("scrollEnd");function hr(e,n){zo.set(e,n),Vt(n,[e])}var Uo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qa=[],Ul=0,mu=0;function Ho(){for(var e=Ul,n=mu=Ul=0;n<e;){var i=qa[n];qa[n++]=null;var o=qa[n];qa[n++]=null;var h=qa[n];qa[n++]=null;var m=qa[n];if(qa[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}m!==0&&Pf(i,h,m)}}function Fo(e,n,i,o){qa[Ul++]=e,qa[Ul++]=n,qa[Ul++]=i,qa[Ul++]=o,mu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function pu(e,n,i,o){return Fo(e,n,i,o),Po(e)}function cl(e,n){return Fo(e,null,null,n),Po(e)}function Pf(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var h=!1,m=e.return;m!==null;)m.childLanes|=i,o=m.alternate,o!==null&&(o.childLanes|=i),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,h&&n!==null&&(h=31-ht(i),e=m.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=i|536870912),m):null}function Po(e){if(50<Js)throw Js=0,Nd=null,Error(b(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Hl={};function Eg(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ma(e,n,i,o){return new Eg(e,n,i,o)}function bu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qr(e,n){var i=e.alternate;return i===null?(i=Ma(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Gf(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Go(e,n,i,o,h,m){var v=0;if(o=e,typeof e=="function")bu(e)&&(v=1);else if(typeof e=="string")v=Tm(e,i,je.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Ma(31,i,n,h),e.elementType=F,e.lanes=m,e;case te:return ul(i.children,h,m,n);case ne:v=8,h|=24;break;case z:return e=Ma(12,i,n,h|2),e.elementType=z,e.lanes=m,e;case xe:return e=Ma(13,i,n,h),e.elementType=xe,e.lanes=m,e;case K:return e=Ma(19,i,n,h),e.elementType=K,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:v=10;break e;case L:v=9;break e;case $:v=11;break e;case D:v=14;break e;case q:v=16,o=null;break e}v=29,i=Error(b(130,e===null?"null":typeof e,"")),o=null}return n=Ma(v,i,n,h),n.elementType=e,n.type=o,n.lanes=m,n}function ul(e,n,i,o){return e=Ma(7,e,o,n),e.lanes=i,e}function yu(e,n,i){return e=Ma(6,e,null,n),e.lanes=i,e}function Vf(e){var n=Ma(18,null,null,0);return n.stateNode=e,n}function wu(e,n,i){return n=Ma(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xf=new WeakMap;function Za(e,n){if(typeof e=="object"&&e!==null){var i=Xf.get(e);return i!==void 0?i:(n={value:e,source:n,stack:ft(n)},Xf.set(e,n),n)}return{value:e,source:n,stack:ft(n)}}var Fl=[],Pl=0,Vo=null,Rs=0,Wa=[],Qa=0,Si=null,Rr=1,Dr="";function Zr(e,n){Fl[Pl++]=Rs,Fl[Pl++]=Vo,Vo=e,Rs=n}function Yf(e,n,i){Wa[Qa++]=Rr,Wa[Qa++]=Dr,Wa[Qa++]=Si,Si=e;var o=Rr;e=Dr;var h=32-ht(o)-1;o&=~(1<<h),i+=1;var m=32-ht(n)+h;if(30<m){var v=h-h%5;m=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Rr=1<<32-ht(n)+h|i<<h|o,Dr=m+e}else Rr=1<<m|i<<h|o,Dr=e}function Cu(e){e.return!==null&&(Zr(e,1),Yf(e,1,0))}function Eu(e){for(;e===Vo;)Vo=Fl[--Pl],Fl[Pl]=null,Rs=Fl[--Pl],Fl[Pl]=null;for(;e===Si;)Si=Wa[--Qa],Wa[Qa]=null,Dr=Wa[--Qa],Wa[Qa]=null,Rr=Wa[--Qa],Wa[Qa]=null}function qf(e,n){Wa[Qa++]=Rr,Wa[Qa++]=Dr,Wa[Qa++]=Si,Rr=n.id,Dr=n.overflow,Si=e}var ta=null,dn=null,Dt=!1,Ni=null,Ka=!1,Au=Error(b(519));function Ti(e){var n=Error(b(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ds(Za(n,e)),Au}function Zf(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[In]=e,n[Wt]=o,i){case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":case"embed":St("load",n);break;case"video":case"audio":for(i=0;i<eo.length;i++)St(eo[i],n);break;case"source":St("error",n);break;case"img":case"image":case"link":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"input":St("invalid",n),le(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":St("invalid",n);break;case"textarea":St("invalid",n),fa(n,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||dh(n.textContent,i)?(o.popover!=null&&(St("beforetoggle",n),St("toggle",n)),o.onScroll!=null&&St("scroll",n),o.onScrollEnd!=null&&St("scrollend",n),o.onClick!=null&&(n.onclick=ba),n=!0):n=!1,n||Ti(e,!0)}function Wf(e){for(ta=e.return;ta;)switch(ta.tag){case 5:case 31:case 13:Ka=!1;return;case 27:case 3:Ka=!0;return;default:ta=ta.return}}function Gl(e){if(e!==ta)return!1;if(!Dt)return Wf(e),Dt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Fd(e.type,e.memoizedProps)),i=!i),i&&dn&&Ti(e),Wf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));dn=wh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));dn=wh(e)}else n===27?(n=dn,Fi(e.type)?(e=Yd,Yd=null,dn=e):dn=n):dn=ta?$a(e.stateNode.nextSibling):null;return!0}function dl(){dn=ta=null,Dt=!1}function vu(){var e=Ni;return e!==null&&(va===null?va=e:va.push.apply(va,e),Ni=null),e}function Ds(e){Ni===null?Ni=[e]:Ni.push(e)}var Su=H(null),fl=null,Wr=null;function _i(e,n,i){_e(Su,n._currentValue),n._currentValue=i}function Qr(e){e._currentValue=Su.current,ue(Su)}function Nu(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function Tu(e,n,i,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var v=h.child;m=m.firstContext;e:for(;m!==null;){var R=m;m=h;for(var P=0;P<n.length;P++)if(R.context===n[P]){m.lanes|=i,R=m.alternate,R!==null&&(R.lanes|=i),Nu(m.return,i,e),o||(v=null);break e}m=R.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(b(341));v.lanes|=i,m=v.alternate,m!==null&&(m.lanes|=i),Nu(v,i,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Vl(e,n,i,o){e=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(b(387));if(v=v.memoizedProps,v!==null){var R=h.type;c(h.pendingProps.value,v.value)||(e!==null?e.push(R):e=[R])}}else if(h===tt.current){if(v=h.alternate,v===null)throw Error(b(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(io):e=[io])}h=h.return}e!==null&&Tu(n,e,i,o),n.flags|=262144}function Xo(e){for(e=e.firstContext;e!==null;){if(!c(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hl(e){fl=e,Wr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function na(e){return Qf(fl,e)}function Yo(e,n){return fl===null&&hl(e),Qf(e,n)}function Qf(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Wr===null){if(e===null)throw Error(b(308));Wr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Wr=Wr.next=n;return i}var Ag=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},vg=d.unstable_scheduleCallback,Sg=d.unstable_NormalPriority,zn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _u(){return{controller:new Ag,data:new Map,refCount:0}}function Ms(e){e.refCount--,e.refCount===0&&vg(Sg,function(){e.controller.abort()})}var ks=null,Iu=0,Xl=0,Yl=null;function Ng(e,n){if(ks===null){var i=ks=[];Iu=0,Xl=Dd(),Yl={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Iu++,n.then(Kf,Kf),n}function Kf(){if(--Iu===0&&ks!==null){Yl!==null&&(Yl.status="fulfilled");var e=ks;ks=null,Xl=0,Yl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Tg(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<i.length;h++)(0,i[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),o}var Jf=U.S;U.S=function(e,n){B1=Bt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ng(e,n),Jf!==null&&Jf(e,n)};var xl=H(null);function Ou(){var e=xl.current;return e!==null?e:sn.pooledCache}function qo(e,n){n===null?_e(xl,xl.current):_e(xl,n.pool)}function $f(){var e=Ou();return e===null?null:{parent:zn._currentValue,pool:e}}var ql=Error(b(460)),Ru=Error(b(474)),Zo=Error(b(542)),Wo={then:function(){}};function e0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function t0(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(ba,ba),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,a0(e),e;default:if(typeof n.status=="string")n.then(ba,ba);else{if(e=sn,e!==null&&100<e.shellSuspendCounter)throw Error(b(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,a0(e),e}throw ml=n,ql}}function gl(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ml=i,ql):i}}var ml=null;function n0(){if(ml===null)throw Error(b(459));var e=ml;return ml=null,e}function a0(e){if(e===ql||e===Zo)throw Error(b(483))}var Zl=null,Bs=0;function Qo(e){var n=Bs;return Bs+=1,Zl===null&&(Zl=[]),t0(Zl,e,n)}function js(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ko(e,n){throw n.$$typeof===X?Error(b(525)):(e=Object.prototype.toString.call(n),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function r0(e){function n(ee,Z){if(e){var se=ee.deletions;se===null?(ee.deletions=[Z],ee.flags|=16):se.push(Z)}}function i(ee,Z){if(!e)return null;for(;Z!==null;)n(ee,Z),Z=Z.sibling;return null}function o(ee){for(var Z=new Map;ee!==null;)ee.key!==null?Z.set(ee.key,ee):Z.set(ee.index,ee),ee=ee.sibling;return Z}function h(ee,Z){return ee=qr(ee,Z),ee.index=0,ee.sibling=null,ee}function m(ee,Z,se){return ee.index=se,e?(se=ee.alternate,se!==null?(se=se.index,se<Z?(ee.flags|=67108866,Z):se):(ee.flags|=67108866,Z)):(ee.flags|=1048576,Z)}function v(ee){return e&&ee.alternate===null&&(ee.flags|=67108866),ee}function R(ee,Z,se,we){return Z===null||Z.tag!==6?(Z=yu(se,ee.mode,we),Z.return=ee,Z):(Z=h(Z,se),Z.return=ee,Z)}function P(ee,Z,se,we){var Qe=se.type;return Qe===te?pe(ee,Z,se.props.children,we,se.key):Z!==null&&(Z.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===q&&gl(Qe)===Z.type)?(Z=h(Z,se.props),js(Z,se),Z.return=ee,Z):(Z=Go(se.type,se.key,se.props,null,ee.mode,we),js(Z,se),Z.return=ee,Z)}function ce(ee,Z,se,we){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==se.containerInfo||Z.stateNode.implementation!==se.implementation?(Z=wu(se,ee.mode,we),Z.return=ee,Z):(Z=h(Z,se.children||[]),Z.return=ee,Z)}function pe(ee,Z,se,we,Qe){return Z===null||Z.tag!==7?(Z=ul(se,ee.mode,we,Qe),Z.return=ee,Z):(Z=h(Z,se),Z.return=ee,Z)}function Ce(ee,Z,se){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=yu(""+Z,ee.mode,se),Z.return=ee,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case W:return se=Go(Z.type,Z.key,Z.props,null,ee.mode,se),js(se,Z),se.return=ee,se;case fe:return Z=wu(Z,ee.mode,se),Z.return=ee,Z;case q:return Z=gl(Z),Ce(ee,Z,se)}if(Q(Z)||oe(Z))return Z=ul(Z,ee.mode,se,null),Z.return=ee,Z;if(typeof Z.then=="function")return Ce(ee,Qo(Z),se);if(Z.$$typeof===G)return Ce(ee,Yo(ee,Z),se);Ko(ee,Z)}return null}function de(ee,Z,se,we){var Qe=Z!==null?Z.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Qe!==null?null:R(ee,Z,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case W:return se.key===Qe?P(ee,Z,se,we):null;case fe:return se.key===Qe?ce(ee,Z,se,we):null;case q:return se=gl(se),de(ee,Z,se,we)}if(Q(se)||oe(se))return Qe!==null?null:pe(ee,Z,se,we,null);if(typeof se.then=="function")return de(ee,Z,Qo(se),we);if(se.$$typeof===G)return de(ee,Z,Yo(ee,se),we);Ko(ee,se)}return null}function me(ee,Z,se,we,Qe){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ee=ee.get(se)||null,R(Z,ee,""+we,Qe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case W:return ee=ee.get(we.key===null?se:we.key)||null,P(Z,ee,we,Qe);case fe:return ee=ee.get(we.key===null?se:we.key)||null,ce(Z,ee,we,Qe);case q:return we=gl(we),me(ee,Z,se,we,Qe)}if(Q(we)||oe(we))return ee=ee.get(se)||null,pe(Z,ee,we,Qe,null);if(typeof we.then=="function")return me(ee,Z,se,Qo(we),Qe);if(we.$$typeof===G)return me(ee,Z,se,Yo(Z,we),Qe);Ko(Z,we)}return null}function Xe(ee,Z,se,we){for(var Qe=null,zt=null,qe=Z,gt=Z=0,It=null;qe!==null&&gt<se.length;gt++){qe.index>gt?(It=qe,qe=null):It=qe.sibling;var Ut=de(ee,qe,se[gt],we);if(Ut===null){qe===null&&(qe=It);break}e&&qe&&Ut.alternate===null&&n(ee,qe),Z=m(Ut,Z,gt),zt===null?Qe=Ut:zt.sibling=Ut,zt=Ut,qe=It}if(gt===se.length)return i(ee,qe),Dt&&Zr(ee,gt),Qe;if(qe===null){for(;gt<se.length;gt++)qe=Ce(ee,se[gt],we),qe!==null&&(Z=m(qe,Z,gt),zt===null?Qe=qe:zt.sibling=qe,zt=qe);return Dt&&Zr(ee,gt),Qe}for(qe=o(qe);gt<se.length;gt++)It=me(qe,ee,gt,se[gt],we),It!==null&&(e&&It.alternate!==null&&qe.delete(It.key===null?gt:It.key),Z=m(It,Z,gt),zt===null?Qe=It:zt.sibling=It,zt=It);return e&&qe.forEach(function(Yi){return n(ee,Yi)}),Dt&&Zr(ee,gt),Qe}function et(ee,Z,se,we){if(se==null)throw Error(b(151));for(var Qe=null,zt=null,qe=Z,gt=Z=0,It=null,Ut=se.next();qe!==null&&!Ut.done;gt++,Ut=se.next()){qe.index>gt?(It=qe,qe=null):It=qe.sibling;var Yi=de(ee,qe,Ut.value,we);if(Yi===null){qe===null&&(qe=It);break}e&&qe&&Yi.alternate===null&&n(ee,qe),Z=m(Yi,Z,gt),zt===null?Qe=Yi:zt.sibling=Yi,zt=Yi,qe=It}if(Ut.done)return i(ee,qe),Dt&&Zr(ee,gt),Qe;if(qe===null){for(;!Ut.done;gt++,Ut=se.next())Ut=Ce(ee,Ut.value,we),Ut!==null&&(Z=m(Ut,Z,gt),zt===null?Qe=Ut:zt.sibling=Ut,zt=Ut);return Dt&&Zr(ee,gt),Qe}for(qe=o(qe);!Ut.done;gt++,Ut=se.next())Ut=me(qe,ee,gt,Ut.value,we),Ut!==null&&(e&&Ut.alternate!==null&&qe.delete(Ut.key===null?gt:Ut.key),Z=m(Ut,Z,gt),zt===null?Qe=Ut:zt.sibling=Ut,zt=Ut);return e&&qe.forEach(function(zm){return n(ee,zm)}),Dt&&Zr(ee,gt),Qe}function tn(ee,Z,se,we){if(typeof se=="object"&&se!==null&&se.type===te&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case W:e:{for(var Qe=se.key;Z!==null;){if(Z.key===Qe){if(Qe=se.type,Qe===te){if(Z.tag===7){i(ee,Z.sibling),we=h(Z,se.props.children),we.return=ee,ee=we;break e}}else if(Z.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===q&&gl(Qe)===Z.type){i(ee,Z.sibling),we=h(Z,se.props),js(we,se),we.return=ee,ee=we;break e}i(ee,Z);break}else n(ee,Z);Z=Z.sibling}se.type===te?(we=ul(se.props.children,ee.mode,we,se.key),we.return=ee,ee=we):(we=Go(se.type,se.key,se.props,null,ee.mode,we),js(we,se),we.return=ee,ee=we)}return v(ee);case fe:e:{for(Qe=se.key;Z!==null;){if(Z.key===Qe)if(Z.tag===4&&Z.stateNode.containerInfo===se.containerInfo&&Z.stateNode.implementation===se.implementation){i(ee,Z.sibling),we=h(Z,se.children||[]),we.return=ee,ee=we;break e}else{i(ee,Z);break}else n(ee,Z);Z=Z.sibling}we=wu(se,ee.mode,we),we.return=ee,ee=we}return v(ee);case q:return se=gl(se),tn(ee,Z,se,we)}if(Q(se))return Xe(ee,Z,se,we);if(oe(se)){if(Qe=oe(se),typeof Qe!="function")throw Error(b(150));return se=Qe.call(se),et(ee,Z,se,we)}if(typeof se.then=="function")return tn(ee,Z,Qo(se),we);if(se.$$typeof===G)return tn(ee,Z,Yo(ee,se),we);Ko(ee,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,Z!==null&&Z.tag===6?(i(ee,Z.sibling),we=h(Z,se),we.return=ee,ee=we):(i(ee,Z),we=yu(se,ee.mode,we),we.return=ee,ee=we),v(ee)):i(ee,Z)}return function(ee,Z,se,we){try{Bs=0;var Qe=tn(ee,Z,se,we);return Zl=null,Qe}catch(qe){if(qe===ql||qe===Zo)throw qe;var zt=Ma(29,qe,null,ee.mode);return zt.lanes=we,zt.return=ee,zt}finally{}}}var pl=r0(!0),i0=r0(!1),Ii=!1;function Du(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ri(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Po(e),Pf(e,null,i),n}return Fo(e,o,n,i),Po(e)}function Ls(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Nr(e,i)}}function ku(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?h=m=v:m=m.next=v,i=i.next}while(i!==null);m===null?h=m=n:m=m.next=n}else h=m=n;i={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Bu=!1;function zs(){if(Bu){var e=Yl;if(e!==null)throw e}}function Us(e,n,i,o){Bu=!1;var h=e.updateQueue;Ii=!1;var m=h.firstBaseUpdate,v=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var P=R,ce=P.next;P.next=null,v===null?m=ce:v.next=ce,v=P;var pe=e.alternate;pe!==null&&(pe=pe.updateQueue,R=pe.lastBaseUpdate,R!==v&&(R===null?pe.firstBaseUpdate=ce:R.next=ce,pe.lastBaseUpdate=P))}if(m!==null){var Ce=h.baseState;v=0,pe=ce=P=null,R=m;do{var de=R.lane&-536870913,me=de!==R.lane;if(me?(_t&de)===de:(o&de)===de){de!==0&&de===Xl&&(Bu=!0),pe!==null&&(pe=pe.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Xe=e,et=R;de=n;var tn=i;switch(et.tag){case 1:if(Xe=et.payload,typeof Xe=="function"){Ce=Xe.call(tn,Ce,de);break e}Ce=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=et.payload,de=typeof Xe=="function"?Xe.call(tn,Ce,de):Xe,de==null)break e;Ce=M({},Ce,de);break e;case 2:Ii=!0}}de=R.callback,de!==null&&(e.flags|=64,me&&(e.flags|=8192),me=h.callbacks,me===null?h.callbacks=[de]:me.push(de))}else me={lane:de,tag:R.tag,payload:R.payload,callback:R.callback,next:null},pe===null?(ce=pe=me,P=Ce):pe=pe.next=me,v|=de;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;me=R,R=me.next,me.next=null,h.lastBaseUpdate=me,h.shared.pending=null}}while(!0);pe===null&&(P=Ce),h.baseState=P,h.firstBaseUpdate=ce,h.lastBaseUpdate=pe,m===null&&(h.shared.lanes=0),ji|=v,e.lanes=v,e.memoizedState=Ce}}function l0(e,n){if(typeof e!="function")throw Error(b(191,e));e.call(n)}function s0(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)l0(i[e],n)}var Wl=H(null),Jo=H(0);function o0(e,n){e=ii,_e(Jo,e),_e(Wl,n),ii=e|n.baseLanes}function ju(){_e(Jo,ii),_e(Wl,Wl.current)}function Lu(){ii=Jo.current,ue(Wl),ue(Jo)}var ka=H(null),Ja=null;function Di(e){var n=e.alternate;_e(Dn,Dn.current&1),_e(ka,e),Ja===null&&(n===null||Wl.current!==null||n.memoizedState!==null)&&(Ja=e)}function zu(e){_e(Dn,Dn.current),_e(ka,e),Ja===null&&(Ja=e)}function c0(e){e.tag===22?(_e(Dn,Dn.current),_e(ka,e),Ja===null&&(Ja=e)):Mi()}function Mi(){_e(Dn,Dn.current),_e(ka,ka.current)}function Ba(e){ue(ka),Ja===e&&(Ja=null),ue(Dn)}var Dn=H(0);function $o(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Vd(i)||Xd(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Kr=0,dt=null,$t=null,Un=null,ec=!1,Ql=!1,bl=!1,tc=0,Hs=0,Kl=null,_g=0;function Nn(){throw Error(b(321))}function Uu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!c(e[i],n[i]))return!1;return!0}function Hu(e,n,i,o,h,m){return Kr=m,dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,U.H=e===null||e.memoizedState===null?Y0:td,bl=!1,m=i(o,h),bl=!1,Ql&&(m=d0(n,i,o,h)),u0(e),m}function u0(e){U.H=Gs;var n=$t!==null&&$t.next!==null;if(Kr=0,Un=$t=dt=null,ec=!1,Hs=0,Kl=null,n)throw Error(b(300));e===null||Hn||(e=e.dependencies,e!==null&&Xo(e)&&(Hn=!0))}function d0(e,n,i,o){dt=e;var h=0;do{if(Ql&&(Kl=null),Hs=0,Ql=!1,25<=h)throw Error(b(301));if(h+=1,Un=$t=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=q0,m=n(i,o)}while(Ql);return m}function Ig(){var e=U.H,n=e.useState()[0];return n=typeof n.then=="function"?Fs(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(dt.flags|=1024),n}function Fu(){var e=tc!==0;return tc=0,e}function Pu(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Gu(e){if(ec){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ec=!1}Kr=0,Un=$t=dt=null,Ql=!1,Hs=tc=0,Kl=null}function ga(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?dt.memoizedState=Un=e:Un=Un.next=e,Un}function Mn(){if($t===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Un===null?dt.memoizedState:Un.next;if(n!==null)Un=n,$t=e;else{if(e===null)throw dt.alternate===null?Error(b(467)):Error(b(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Un===null?dt.memoizedState=Un=e:Un=Un.next=e}return Un}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fs(e){var n=Hs;return Hs+=1,Kl===null&&(Kl=[]),e=t0(Kl,e,n),n=dt,(Un===null?n.memoizedState:Un.next)===null&&(n=n.alternate,U.H=n===null||n.memoizedState===null?Y0:td),e}function ac(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fs(e);if(e.$$typeof===G)return na(e)}throw Error(b(438,String(e)))}function Vu(e){var n=null,i=dt.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=nc(),dt.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=ie;return n.index++,i}function Jr(e,n){return typeof n=="function"?n(e):n}function rc(e){var n=Mn();return Xu(n,$t,e)}function Xu(e,n,i){var o=e.queue;if(o===null)throw Error(b(311));o.lastRenderedReducer=i;var h=e.baseQueue,m=o.pending;if(m!==null){if(h!==null){var v=h.next;h.next=m.next,m.next=v}n.baseQueue=h=m,o.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{n=h.next;var R=v=null,P=null,ce=n,pe=!1;do{var Ce=ce.lane&-536870913;if(Ce!==ce.lane?(_t&Ce)===Ce:(Kr&Ce)===Ce){var de=ce.revertLane;if(de===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Ce===Xl&&(pe=!0);else if((Kr&de)===de){ce=ce.next,de===Xl&&(pe=!0);continue}else Ce={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},P===null?(R=P=Ce,v=m):P=P.next=Ce,dt.lanes|=de,ji|=de;Ce=ce.action,bl&&i(m,Ce),m=ce.hasEagerState?ce.eagerState:i(m,Ce)}else de={lane:Ce,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},P===null?(R=P=de,v=m):P=P.next=de,dt.lanes|=Ce,ji|=Ce;ce=ce.next}while(ce!==null&&ce!==n);if(P===null?v=m:P.next=R,!c(m,e.memoizedState)&&(Hn=!0,pe&&(i=Yl,i!==null)))throw i;e.memoizedState=m,e.baseState=v,e.baseQueue=P,o.lastRenderedState=m}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Yu(e){var n=Mn(),i=n.queue;if(i===null)throw Error(b(311));i.lastRenderedReducer=e;var o=i.dispatch,h=i.pending,m=n.memoizedState;if(h!==null){i.pending=null;var v=h=h.next;do m=e(m,v.action),v=v.next;while(v!==h);c(m,n.memoizedState)||(Hn=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,o]}function f0(e,n,i){var o=dt,h=Mn(),m=Dt;if(m){if(i===void 0)throw Error(b(407));i=i()}else i=n();var v=!c(($t||h).memoizedState,i);if(v&&(h.memoizedState=i,Hn=!0),h=h.queue,Wu(g0.bind(null,o,h,e),[e]),h.getSnapshot!==n||v||Un!==null&&Un.memoizedState.tag&1){if(o.flags|=2048,Jl(9,{destroy:void 0},x0.bind(null,o,h,i,n),null),sn===null)throw Error(b(349));m||(Kr&127)!==0||h0(o,n,i)}return i}function h0(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=dt.updateQueue,n===null?(n=nc(),dt.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function x0(e,n,i,o){n.value=i,n.getSnapshot=o,m0(n)&&p0(e)}function g0(e,n,i){return i(function(){m0(n)&&p0(e)})}function m0(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!c(e,i)}catch{return!0}}function p0(e){var n=cl(e,2);n!==null&&Sa(n,e,2)}function qu(e){var n=ga();if(typeof e=="function"){var i=e;if(e=i(),bl){Jt(!0);try{i()}finally{Jt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:e},n}function b0(e,n,i,o){return e.baseState=i,Xu(e,$t,typeof o=="function"?o:Jr)}function Og(e,n,i,o,h){if(sc(e))throw Error(b(485));if(e=n.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};U.T!==null?i(!0):m.isTransition=!1,o(m),i=n.pending,i===null?(m.next=n.pending=m,y0(n,m)):(m.next=i.next,n.pending=i.next=m)}}function y0(e,n){var i=n.action,o=n.payload,h=e.state;if(n.isTransition){var m=U.T,v={};U.T=v;try{var R=i(h,o),P=U.S;P!==null&&P(v,R),w0(e,n,R)}catch(ce){Zu(e,n,ce)}finally{m!==null&&v.types!==null&&(m.types=v.types),U.T=m}}else try{m=i(h,o),w0(e,n,m)}catch(ce){Zu(e,n,ce)}}function w0(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){C0(e,n,o)},function(o){return Zu(e,n,o)}):C0(e,n,i)}function C0(e,n,i){n.status="fulfilled",n.value=i,E0(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,y0(e,i)))}function Zu(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,E0(n),n=n.next;while(n!==o)}e.action=null}function E0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function A0(e,n){return n}function v0(e,n){if(Dt){var i=sn.formState;if(i!==null){e:{var o=dt;if(Dt){if(dn){t:{for(var h=dn,m=Ka;h.nodeType!==8;){if(!m){h=null;break t}if(h=$a(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){dn=$a(h.nextSibling),o=h.data==="F!";break e}}Ti(o)}o=!1}o&&(n=i[0])}}return i=ga(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:n},i.queue=o,i=G0.bind(null,dt,o),o.dispatch=i,o=qu(!1),m=ed.bind(null,dt,!1,o.queue),o=ga(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,i=Og.bind(null,dt,h,m,i),h.dispatch=i,o.memoizedState=e,[n,i,!1]}function S0(e){var n=Mn();return N0(n,$t,e)}function N0(e,n,i){if(n=Xu(e,n,A0)[0],e=rc(Jr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fs(n)}catch(v){throw v===ql?Zo:v}else o=n;n=Mn();var h=n.queue,m=h.dispatch;return i!==n.memoizedState&&(dt.flags|=2048,Jl(9,{destroy:void 0},Rg.bind(null,h,i),null)),[o,m,e]}function Rg(e,n){e.action=n}function T0(e){var n=Mn(),i=$t;if(i!==null)return N0(n,i,e);Mn(),n=n.memoizedState,i=Mn();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function Jl(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=dt.updateQueue,n===null&&(n=nc(),dt.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function _0(){return Mn().memoizedState}function ic(e,n,i,o){var h=ga();dt.flags|=e,h.memoizedState=Jl(1|n,{destroy:void 0},i,o===void 0?null:o)}function lc(e,n,i,o){var h=Mn();o=o===void 0?null:o;var m=h.memoizedState.inst;$t!==null&&o!==null&&Uu(o,$t.memoizedState.deps)?h.memoizedState=Jl(n,m,i,o):(dt.flags|=e,h.memoizedState=Jl(1|n,m,i,o))}function I0(e,n){ic(8390656,8,e,n)}function Wu(e,n){lc(2048,8,e,n)}function Dg(e){dt.flags|=4;var n=dt.updateQueue;if(n===null)n=nc(),dt.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function O0(e){var n=Mn().memoizedState;return Dg({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(b(440));return n.impl.apply(void 0,arguments)}}function R0(e,n){return lc(4,2,e,n)}function D0(e,n){return lc(4,4,e,n)}function M0(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function k0(e,n,i){i=i!=null?i.concat([e]):null,lc(4,4,M0.bind(null,n,e),i)}function Qu(){}function B0(e,n){var i=Mn();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&Uu(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function j0(e,n){var i=Mn();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&Uu(n,o[1]))return o[0];if(o=e(),bl){Jt(!0);try{e()}finally{Jt(!1)}}return i.memoizedState=[o,n],o}function Ku(e,n,i){return i===void 0||(Kr&1073741824)!==0&&(_t&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=L1(),dt.lanes|=e,ji|=e,i)}function L0(e,n,i,o){return c(i,n)?i:Wl.current!==null?(e=Ku(e,i,o),c(e,n)||(Hn=!0),e):(Kr&42)===0||(Kr&1073741824)!==0&&(_t&261930)===0?(Hn=!0,e.memoizedState=i):(e=L1(),dt.lanes|=e,ji|=e,n)}function z0(e,n,i,o,h){var m=J.p;J.p=m!==0&&8>m?m:8;var v=U.T,R={};U.T=R,ed(e,!1,n,i);try{var P=h(),ce=U.S;if(ce!==null&&ce(R,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var pe=Tg(P,o);Ps(e,n,pe,za(e))}else Ps(e,n,o,za(e))}catch(Ce){Ps(e,n,{then:function(){},status:"rejected",reason:Ce},za())}finally{J.p=m,v!==null&&R.types!==null&&(v.types=R.types),U.T=v}}function Mg(){}function Ju(e,n,i,o){if(e.tag!==5)throw Error(b(476));var h=U0(e).queue;z0(e,h,n,ve,i===null?Mg:function(){return H0(e),i(o)})}function U0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:ve},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function H0(e){var n=U0(e);n.next===null&&(n=e.alternate.memoizedState),Ps(e,n.next.queue,{},za())}function $u(){return na(io)}function F0(){return Mn().memoizedState}function P0(){return Mn().memoizedState}function kg(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=za();e=Oi(i);var o=Ri(n,e,i);o!==null&&(Sa(o,n,i),Ls(o,n,i)),n={cache:_u()},e.payload=n;return}n=n.return}}function Bg(e,n,i){var o=za();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},sc(e)?V0(n,i):(i=pu(e,n,i,o),i!==null&&(Sa(i,e,o),X0(i,n,o)))}function G0(e,n,i){var o=za();Ps(e,n,i,o)}function Ps(e,n,i,o){var h={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(sc(e))V0(n,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var v=n.lastRenderedState,R=m(v,i);if(h.hasEagerState=!0,h.eagerState=R,c(R,v))return Fo(e,n,h,0),sn===null&&Ho(),!1}catch{}finally{}if(i=pu(e,n,h,o),i!==null)return Sa(i,e,o),X0(i,n,o),!0}return!1}function ed(e,n,i,o){if(o={lane:2,revertLane:Dd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},sc(e)){if(n)throw Error(b(479))}else n=pu(e,i,o,2),n!==null&&Sa(n,e,2)}function sc(e){var n=e.alternate;return e===dt||n!==null&&n===dt}function V0(e,n){Ql=ec=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function X0(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Nr(e,i)}}var Gs={readContext:na,use:ac,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn,useHostTransitionStatus:Nn,useFormState:Nn,useActionState:Nn,useOptimistic:Nn,useMemoCache:Nn,useCacheRefresh:Nn};Gs.useEffectEvent=Nn;var Y0={readContext:na,use:ac,useCallback:function(e,n){return ga().memoizedState=[e,n===void 0?null:n],e},useContext:na,useEffect:I0,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,ic(4194308,4,M0.bind(null,n,e),i)},useLayoutEffect:function(e,n){return ic(4194308,4,e,n)},useInsertionEffect:function(e,n){ic(4,2,e,n)},useMemo:function(e,n){var i=ga();n=n===void 0?null:n;var o=e();if(bl){Jt(!0);try{e()}finally{Jt(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=ga();if(i!==void 0){var h=i(n);if(bl){Jt(!0);try{i(n)}finally{Jt(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Bg.bind(null,dt,e),[o.memoizedState,e]},useRef:function(e){var n=ga();return e={current:e},n.memoizedState=e},useState:function(e){e=qu(e);var n=e.queue,i=G0.bind(null,dt,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Qu,useDeferredValue:function(e,n){var i=ga();return Ku(i,e,n)},useTransition:function(){var e=qu(!1);return e=z0.bind(null,dt,e.queue,!0,!1),ga().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=dt,h=ga();if(Dt){if(i===void 0)throw Error(b(407));i=i()}else{if(i=n(),sn===null)throw Error(b(349));(_t&127)!==0||h0(o,n,i)}h.memoizedState=i;var m={value:i,getSnapshot:n};return h.queue=m,I0(g0.bind(null,o,m,e),[e]),o.flags|=2048,Jl(9,{destroy:void 0},x0.bind(null,o,m,i,n),null),i},useId:function(){var e=ga(),n=sn.identifierPrefix;if(Dt){var i=Dr,o=Rr;i=(o&~(1<<32-ht(o)-1)).toString(32)+i,n="_"+n+"R_"+i,i=tc++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=_g++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:$u,useFormState:v0,useActionState:v0,useOptimistic:function(e){var n=ga();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=ed.bind(null,dt,!0,i),i.dispatch=n,[e,n]},useMemoCache:Vu,useCacheRefresh:function(){return ga().memoizedState=kg.bind(null,dt)},useEffectEvent:function(e){var n=ga(),i={impl:e};return n.memoizedState=i,function(){if((Gt&2)!==0)throw Error(b(440));return i.impl.apply(void 0,arguments)}}},td={readContext:na,use:ac,useCallback:B0,useContext:na,useEffect:Wu,useImperativeHandle:k0,useInsertionEffect:R0,useLayoutEffect:D0,useMemo:j0,useReducer:rc,useRef:_0,useState:function(){return rc(Jr)},useDebugValue:Qu,useDeferredValue:function(e,n){var i=Mn();return L0(i,$t.memoizedState,e,n)},useTransition:function(){var e=rc(Jr)[0],n=Mn().memoizedState;return[typeof e=="boolean"?e:Fs(e),n]},useSyncExternalStore:f0,useId:F0,useHostTransitionStatus:$u,useFormState:S0,useActionState:S0,useOptimistic:function(e,n){var i=Mn();return b0(i,$t,e,n)},useMemoCache:Vu,useCacheRefresh:P0};td.useEffectEvent=O0;var q0={readContext:na,use:ac,useCallback:B0,useContext:na,useEffect:Wu,useImperativeHandle:k0,useInsertionEffect:R0,useLayoutEffect:D0,useMemo:j0,useReducer:Yu,useRef:_0,useState:function(){return Yu(Jr)},useDebugValue:Qu,useDeferredValue:function(e,n){var i=Mn();return $t===null?Ku(i,e,n):L0(i,$t.memoizedState,e,n)},useTransition:function(){var e=Yu(Jr)[0],n=Mn().memoizedState;return[typeof e=="boolean"?e:Fs(e),n]},useSyncExternalStore:f0,useId:F0,useHostTransitionStatus:$u,useFormState:T0,useActionState:T0,useOptimistic:function(e,n){var i=Mn();return $t!==null?b0(i,$t,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Vu,useCacheRefresh:P0};q0.useEffectEvent=O0;function nd(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:M({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var ad={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=za(),h=Oi(o);h.payload=n,i!=null&&(h.callback=i),n=Ri(e,h,o),n!==null&&(Sa(n,e,o),Ls(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=za(),h=Oi(o);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=Ri(e,h,o),n!==null&&(Sa(n,e,o),Ls(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=za(),o=Oi(i);o.tag=2,n!=null&&(o.callback=n),n=Ri(e,o,i),n!==null&&(Sa(n,e,i),Ls(n,e,i))}};function Z0(e,n,i,o,h,m,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,v):n.prototype&&n.prototype.isPureReactComponent?!u(i,o)||!u(h,m):!0}function W0(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&ad.enqueueReplaceState(n,n.state,null)}function yl(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=M({},i));for(var h in e)i[h]===void 0&&(i[h]=e[h])}return i}function Q0(e){Uo(e)}function K0(e){console.error(e)}function J0(e){Uo(e)}function oc(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function $0(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rd(e,n,i){return i=Oi(i),i.tag=3,i.payload={element:null},i.callback=function(){oc(e,n)},i}function e1(e){return e=Oi(e),e.tag=3,e}function t1(e,n,i,o){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;e.payload=function(){return h(m)},e.callback=function(){$0(n,i,o)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){$0(n,i,o),typeof h!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})})}function jg(e,n,i,o,h){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&Vl(n,i,h,!0),i=ka.current,i!==null){switch(i.tag){case 31:case 13:return Ja===null?wc():i.alternate===null&&Tn===0&&(Tn=3),i.flags&=-257,i.flags|=65536,i.lanes=h,o===Wo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),Id(e,o,h)),!1;case 22:return i.flags|=65536,o===Wo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),Id(e,o,h)),!1}throw Error(b(435,i.tag))}return Id(e,o,h),wc(),!1}if(Dt)return n=ka.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Au&&(e=Error(b(422),{cause:o}),Ds(Za(e,i)))):(o!==Au&&(n=Error(b(423),{cause:o}),Ds(Za(n,i))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Za(o,i),h=rd(e.stateNode,o,h),ku(e,h),Tn!==4&&(Tn=2)),!1;var m=Error(b(520),{cause:o});if(m=Za(m,i),Ks===null?Ks=[m]:Ks.push(m),Tn!==4&&(Tn=2),n===null)return!0;o=Za(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=h&-h,i.lanes|=e,e=rd(i.stateNode,o,e),ku(i,e),!1;case 1:if(n=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Li===null||!Li.has(m))))return i.flags|=65536,h&=-h,i.lanes|=h,h=e1(h),t1(h,e,i,o),ku(i,h),!1}i=i.return}while(i!==null);return!1}var id=Error(b(461)),Hn=!1;function aa(e,n,i,o){n.child=e===null?i0(n,null,i,o):pl(n,e.child,i,o)}function n1(e,n,i,o,h){i=i.render;var m=n.ref;if("ref"in o){var v={};for(var R in o)R!=="ref"&&(v[R]=o[R])}else v=o;return hl(n),o=Hu(e,n,i,v,m,h),R=Fu(),e!==null&&!Hn?(Pu(e,n,h),$r(e,n,h)):(Dt&&R&&Cu(n),n.flags|=1,aa(e,n,o,h),n.child)}function a1(e,n,i,o,h){if(e===null){var m=i.type;return typeof m=="function"&&!bu(m)&&m.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=m,r1(e,n,m,o,h)):(e=Go(i.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!hd(e,h)){var v=m.memoizedProps;if(i=i.compare,i=i!==null?i:u,i(v,o)&&e.ref===n.ref)return $r(e,n,h)}return n.flags|=1,e=qr(m,o),e.ref=n.ref,e.return=n,n.child=e}function r1(e,n,i,o,h){if(e!==null){var m=e.memoizedProps;if(u(m,o)&&e.ref===n.ref)if(Hn=!1,n.pendingProps=o=m,hd(e,h))(e.flags&131072)!==0&&(Hn=!0);else return n.lanes=e.lanes,$r(e,n,h)}return ld(e,n,i,o,h)}function i1(e,n,i,o){var h=o.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~m}else o=0,n.child=null;return l1(e,n,m,i,o)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&qo(n,m!==null?m.cachePool:null),m!==null?o0(n,m):ju(),c0(n);else return o=n.lanes=536870912,l1(e,n,m!==null?m.baseLanes|i:i,i,o)}else m!==null?(qo(n,m.cachePool),o0(n,m),Mi(),n.memoizedState=null):(e!==null&&qo(n,null),ju(),Mi());return aa(e,n,h,i),n.child}function Vs(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function l1(e,n,i,o,h){var m=Ou();return m=m===null?null:{parent:zn._currentValue,pool:m},n.memoizedState={baseLanes:i,cachePool:m},e!==null&&qo(n,null),ju(),c0(n),e!==null&&Vl(e,n,o,!0),n.childLanes=h,null}function cc(e,n){return n=dc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function s1(e,n,i){return pl(n,e.child,null,i),e=cc(n,n.pendingProps),e.flags|=2,Ba(n),n.memoizedState=null,e}function Lg(e,n,i){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Dt){if(o.mode==="hidden")return e=cc(n,o),n.lanes=536870912,Vs(null,e);if(zu(n),(e=dn)?(e=yh(e,Ka),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Si!==null?{id:Rr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},i=Vf(e),i.return=n,n.child=i,ta=n,dn=null)):e=null,e===null)throw Ti(n);return n.lanes=536870912,null}return cc(n,o)}var m=e.memoizedState;if(m!==null){var v=m.dehydrated;if(zu(n),h)if(n.flags&256)n.flags&=-257,n=s1(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(b(558));else if(Hn||Vl(e,n,i,!1),h=(i&e.childLanes)!==0,Hn||h){if(o=sn,o!==null&&(v=_l(o,i),v!==0&&v!==m.retryLane))throw m.retryLane=v,cl(e,v),Sa(o,e,v),id;wc(),n=s1(e,n,i)}else e=m.treeContext,dn=$a(v.nextSibling),ta=n,Dt=!0,Ni=null,Ka=!1,e!==null&&qf(n,e),n=cc(n,o),n.flags|=4096;return n}return e=qr(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function uc(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(b(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function ld(e,n,i,o,h){return hl(n),i=Hu(e,n,i,o,void 0,h),o=Fu(),e!==null&&!Hn?(Pu(e,n,h),$r(e,n,h)):(Dt&&o&&Cu(n),n.flags|=1,aa(e,n,i,h),n.child)}function o1(e,n,i,o,h,m){return hl(n),n.updateQueue=null,i=d0(n,o,i,h),u0(e),o=Fu(),e!==null&&!Hn?(Pu(e,n,m),$r(e,n,m)):(Dt&&o&&Cu(n),n.flags|=1,aa(e,n,i,m),n.child)}function c1(e,n,i,o,h){if(hl(n),n.stateNode===null){var m=Hl,v=i.contextType;typeof v=="object"&&v!==null&&(m=na(v)),m=new i(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ad,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},Du(n),v=i.contextType,m.context=typeof v=="object"&&v!==null?na(v):Hl,m.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(nd(n,i,v,o),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&ad.enqueueReplaceState(m,m.state,null),Us(n,o,m,h),zs(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){m=n.stateNode;var R=n.memoizedProps,P=yl(i,R);m.props=P;var ce=m.context,pe=i.contextType;v=Hl,typeof pe=="object"&&pe!==null&&(v=na(pe));var Ce=i.getDerivedStateFromProps;pe=typeof Ce=="function"||typeof m.getSnapshotBeforeUpdate=="function",R=n.pendingProps!==R,pe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(R||ce!==v)&&W0(n,m,o,v),Ii=!1;var de=n.memoizedState;m.state=de,Us(n,o,m,h),zs(),ce=n.memoizedState,R||de!==ce||Ii?(typeof Ce=="function"&&(nd(n,i,Ce,o),ce=n.memoizedState),(P=Ii||Z0(n,i,P,o,de,ce,v))?(pe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=ce),m.props=o,m.state=ce,m.context=v,o=P):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Mu(e,n),v=n.memoizedProps,pe=yl(i,v),m.props=pe,Ce=n.pendingProps,de=m.context,ce=i.contextType,P=Hl,typeof ce=="object"&&ce!==null&&(P=na(ce)),R=i.getDerivedStateFromProps,(ce=typeof R=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==Ce||de!==P)&&W0(n,m,o,P),Ii=!1,de=n.memoizedState,m.state=de,Us(n,o,m,h),zs();var me=n.memoizedState;v!==Ce||de!==me||Ii||e!==null&&e.dependencies!==null&&Xo(e.dependencies)?(typeof R=="function"&&(nd(n,i,R,o),me=n.memoizedState),(pe=Ii||Z0(n,i,pe,o,de,me,P)||e!==null&&e.dependencies!==null&&Xo(e.dependencies))?(ce||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,me,P),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,me,P)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&de===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&de===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=me),m.props=o,m.state=me,m.context=P,o=pe):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&de===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&de===e.memoizedState||(n.flags|=1024),o=!1)}return m=o,uc(e,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&o?(n.child=pl(n,e.child,null,h),n.child=pl(n,null,i,h)):aa(e,n,i,h),n.memoizedState=m.state,e=n.child):e=$r(e,n,h),e}function u1(e,n,i,o){return dl(),n.flags|=256,aa(e,n,i,o),n.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(e){return{baseLanes:e,cachePool:$f()}}function cd(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=La),e}function d1(e,n,i){var o=n.pendingProps,h=!1,m=(n.flags&128)!==0,v;if((v=m)||(v=e!==null&&e.memoizedState===null?!1:(Dn.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Dt){if(h?Di(n):Mi(),(e=dn)?(e=yh(e,Ka),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Si!==null?{id:Rr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},i=Vf(e),i.return=n,n.child=i,ta=n,dn=null)):e=null,e===null)throw Ti(n);return Xd(e)?n.lanes=32:n.lanes=536870912,null}var R=o.children;return o=o.fallback,h?(Mi(),h=n.mode,R=dc({mode:"hidden",children:R},h),o=ul(o,h,i,null),R.return=n,o.return=n,R.sibling=o,n.child=R,o=n.child,o.memoizedState=od(i),o.childLanes=cd(e,v,i),n.memoizedState=sd,Vs(null,o)):(Di(n),ud(n,R))}var P=e.memoizedState;if(P!==null&&(R=P.dehydrated,R!==null)){if(m)n.flags&256?(Di(n),n.flags&=-257,n=dd(e,n,i)):n.memoizedState!==null?(Mi(),n.child=e.child,n.flags|=128,n=null):(Mi(),R=o.fallback,h=n.mode,o=dc({mode:"visible",children:o.children},h),R=ul(R,h,i,null),R.flags|=2,o.return=n,R.return=n,o.sibling=R,n.child=o,pl(n,e.child,null,i),o=n.child,o.memoizedState=od(i),o.childLanes=cd(e,v,i),n.memoizedState=sd,n=Vs(null,o));else if(Di(n),Xd(R)){if(v=R.nextSibling&&R.nextSibling.dataset,v)var ce=v.dgst;v=ce,o=Error(b(419)),o.stack="",o.digest=v,Ds({value:o,source:null,stack:null}),n=dd(e,n,i)}else if(Hn||Vl(e,n,i,!1),v=(i&e.childLanes)!==0,Hn||v){if(v=sn,v!==null&&(o=_l(v,i),o!==0&&o!==P.retryLane))throw P.retryLane=o,cl(e,o),Sa(v,e,o),id;Vd(R)||wc(),n=dd(e,n,i)}else Vd(R)?(n.flags|=192,n.child=e.child,n=null):(e=P.treeContext,dn=$a(R.nextSibling),ta=n,Dt=!0,Ni=null,Ka=!1,e!==null&&qf(n,e),n=ud(n,o.children),n.flags|=4096);return n}return h?(Mi(),R=o.fallback,h=n.mode,P=e.child,ce=P.sibling,o=qr(P,{mode:"hidden",children:o.children}),o.subtreeFlags=P.subtreeFlags&65011712,ce!==null?R=qr(ce,R):(R=ul(R,h,i,null),R.flags|=2),R.return=n,o.return=n,o.sibling=R,n.child=o,Vs(null,o),o=n.child,R=e.child.memoizedState,R===null?R=od(i):(h=R.cachePool,h!==null?(P=zn._currentValue,h=h.parent!==P?{parent:P,pool:P}:h):h=$f(),R={baseLanes:R.baseLanes|i,cachePool:h}),o.memoizedState=R,o.childLanes=cd(e,v,i),n.memoizedState=sd,Vs(e.child,o)):(Di(n),i=e.child,e=i.sibling,i=qr(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=i,n.memoizedState=null,i)}function ud(e,n){return n=dc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function dc(e,n){return e=Ma(22,e,null,n),e.lanes=0,e}function dd(e,n,i){return pl(n,e.child,null,i),e=ud(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function f1(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Nu(e.return,n,i)}function fd(e,n,i,o,h,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:h,treeForkCount:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=i,v.tailMode=h,v.treeForkCount=m)}function h1(e,n,i){var o=n.pendingProps,h=o.revealOrder,m=o.tail;o=o.children;var v=Dn.current,R=(v&2)!==0;if(R?(v=v&1|2,n.flags|=128):v&=1,_e(Dn,v),aa(e,n,o,i),o=Dt?Rs:0,!R&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&f1(e,i,n);else if(e.tag===19)f1(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&$o(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),fd(n,!1,h,i,m,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&$o(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}fd(n,!0,i,null,m,o);break;case"together":fd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function $r(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),ji|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Vl(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(b(153));if(n.child!==null){for(e=n.child,i=qr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=qr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function hd(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Xo(e)))}function zg(e,n,i){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),_i(n,zn,e.memoizedState.cache),dl();break;case 27:case 5:Et(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:_i(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,zu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Di(n),n.flags|=128,null):(i&n.child.childLanes)!==0?d1(e,n,i):(Di(n),e=$r(e,n,i),e!==null?e.sibling:null);Di(n);break;case 19:var h=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(Vl(e,n,i,!1),o=(i&n.childLanes)!==0),h){if(o)return h1(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),_e(Dn,Dn.current),o)break;return null;case 22:return n.lanes=0,i1(e,n,i,n.pendingProps);case 24:_i(n,zn,e.memoizedState.cache)}return $r(e,n,i)}function x1(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Hn=!0;else{if(!hd(e,i)&&(n.flags&128)===0)return Hn=!1,zg(e,n,i);Hn=(e.flags&131072)!==0}else Hn=!1,Dt&&(n.flags&1048576)!==0&&Yf(n,Rs,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=gl(n.elementType),n.type=e,typeof e=="function")bu(e)?(o=yl(e,o),n.tag=1,n=c1(null,n,e,o,i)):(n.tag=0,n=ld(null,n,e,o,i));else{if(e!=null){var h=e.$$typeof;if(h===$){n.tag=11,n=n1(null,n,e,o,i);break e}else if(h===D){n.tag=14,n=a1(null,n,e,o,i);break e}}throw n=Ee(e)||e,Error(b(306,n,""))}}return n;case 0:return ld(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,h=yl(o,n.pendingProps),c1(e,n,o,h,i);case 3:e:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(b(387));o=n.pendingProps;var m=n.memoizedState;h=m.element,Mu(e,n),Us(n,o,null,i);var v=n.memoizedState;if(o=v.cache,_i(n,zn,o),o!==m.cache&&Tu(n,[zn],i,!0),zs(),o=v.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=u1(e,n,o,i);break e}else if(o!==h){h=Za(Error(b(424)),n),Ds(h),n=u1(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(dn=$a(e.firstChild),ta=n,Dt=!0,Ni=null,Ka=!0,i=i0(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(dl(),o===h){n=$r(e,n,i);break e}aa(e,n,o,i)}n=n.child}return n;case 26:return uc(e,n),e===null?(i=Sh(n.type,null,n.pendingProps,null))?n.memoizedState=i:Dt||(i=n.type,e=n.pendingProps,o=Tc(Se.current).createElement(i),o[In]=n,o[Wt]=e,ra(o,i,e),vn(o),n.stateNode=o):n.memoizedState=Sh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Et(n),e===null&&Dt&&(o=n.stateNode=Eh(n.type,n.pendingProps,Se.current),ta=n,Ka=!0,h=dn,Fi(n.type)?(Yd=h,dn=$a(o.firstChild)):dn=h),aa(e,n,n.pendingProps.children,i),uc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Dt&&((h=o=dn)&&(o=xm(o,n.type,n.pendingProps,Ka),o!==null?(n.stateNode=o,ta=n,dn=$a(o.firstChild),Ka=!1,h=!0):h=!1),h||Ti(n)),Et(n),h=n.type,m=n.pendingProps,v=e!==null?e.memoizedProps:null,o=m.children,Fd(h,m)?o=null:v!==null&&Fd(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Hu(e,n,Ig,null,null,i),io._currentValue=h),uc(e,n),aa(e,n,o,i),n.child;case 6:return e===null&&Dt&&((e=i=dn)&&(i=gm(i,n.pendingProps,Ka),i!==null?(n.stateNode=i,ta=n,dn=null,e=!0):e=!1),e||Ti(n)),null;case 13:return d1(e,n,i);case 4:return ye(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=pl(n,null,o,i):aa(e,n,o,i),n.child;case 11:return n1(e,n,n.type,n.pendingProps,i);case 7:return aa(e,n,n.pendingProps,i),n.child;case 8:return aa(e,n,n.pendingProps.children,i),n.child;case 12:return aa(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,_i(n,n.type,o.value),aa(e,n,o.children,i),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,hl(n),h=na(h),o=o(h),n.flags|=1,aa(e,n,o,i),n.child;case 14:return a1(e,n,n.type,n.pendingProps,i);case 15:return r1(e,n,n.type,n.pendingProps,i);case 19:return h1(e,n,i);case 31:return Lg(e,n,i);case 22:return i1(e,n,i,n.pendingProps);case 24:return hl(n),o=na(zn),e===null?(h=Ou(),h===null&&(h=sn,m=_u(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=i),h=m),n.memoizedState={parent:o,cache:h},Du(n),_i(n,zn,h)):((e.lanes&i)!==0&&(Mu(e,n),Us(n,null,null,i),zs()),h=e.memoizedState,m=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_i(n,zn,o)):(o=m.cache,_i(n,zn,o),o!==h.cache&&Tu(n,[zn],i,!0))),aa(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(b(156,n.tag))}function ei(e){e.flags|=4}function xd(e,n,i,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(F1())e.flags|=8192;else throw ml=Wo,Ru}else e.flags&=-16777217}function g1(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Oh(n))if(F1())e.flags|=8192;else throw ml=Wo,Ru}function fc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Gn():536870912,e.lanes|=n,ns|=n)}function Xs(e,n){if(!Dt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fn(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function Ug(e,n,i){var o=n.pendingProps;switch(Eu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(n),null;case 1:return fn(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Qr(zn),He(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Gl(n)?ei(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vu())),fn(n),null;case 26:var h=n.type,m=n.memoizedState;return e===null?(ei(n),m!==null?(fn(n),g1(n,m)):(fn(n),xd(n,h,null,o,i))):m?m!==e.memoizedState?(ei(n),fn(n),g1(n,m)):(fn(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ei(n),fn(n),xd(n,h,e,o,i)),null;case 27:if(wt(n),i=Se.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ei(n);else{if(!o){if(n.stateNode===null)throw Error(b(166));return fn(n),null}e=je.current,Gl(n)?Zf(n):(e=Eh(h,o,i),n.stateNode=e,ei(n))}return fn(n),null;case 5:if(wt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ei(n);else{if(!o){if(n.stateNode===null)throw Error(b(166));return fn(n),null}if(m=je.current,Gl(n))Zf(n);else{var v=Tc(Se.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}m[In]=n,m[Wt]=o;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=m;e:switch(ra(m,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ei(n)}}return fn(n),xd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ei(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(b(166));if(e=Se.current,Gl(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,h=ta,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[In]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||dh(e.nodeValue,i)),e||Ti(n,!0)}else e=Tc(e).createTextNode(o),e[In]=n,n.stateNode=e}return fn(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(o=Gl(n),i!==null){if(e===null){if(!o)throw Error(b(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(557));e[In]=n}else dl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fn(n),e=!1}else i=vu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Ba(n),n):(Ba(n),null);if((n.flags&128)!==0)throw Error(b(558))}return fn(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Gl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(b(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(b(317));h[In]=n}else dl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fn(n),h=!1}else h=vu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ba(n),n):(Ba(n),null)}return Ba(n),(n.flags&128)!==0?(n.lanes=i,n):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),fc(n,n.updateQueue),fn(n),null);case 4:return He(),e===null&&jd(n.stateNode.containerInfo),fn(n),null;case 10:return Qr(n.type),fn(n),null;case 19:if(ue(Dn),o=n.memoizedState,o===null)return fn(n),null;if(h=(n.flags&128)!==0,m=o.rendering,m===null)if(h)Xs(o,!1);else{if(Tn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=$o(e),m!==null){for(n.flags|=128,Xs(o,!1),e=m.updateQueue,n.updateQueue=e,fc(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Gf(i,e),i=i.sibling;return _e(Dn,Dn.current&1|2),Dt&&Zr(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Bt()>pc&&(n.flags|=128,h=!0,Xs(o,!1),n.lanes=4194304)}else{if(!h)if(e=$o(m),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,fc(n,e),Xs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Dt)return fn(n),null}else 2*Bt()-o.renderingStartTime>pc&&i!==536870912&&(n.flags|=128,h=!0,Xs(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(e=o.last,e!==null?e.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Bt(),e.sibling=null,i=Dn.current,_e(Dn,h?i&1|2:i&1),Dt&&Zr(n,o.treeForkCount),e):(fn(n),null);case 22:case 23:return Ba(n),Lu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(fn(n),n.subtreeFlags&6&&(n.flags|=8192)):fn(n),i=n.updateQueue,i!==null&&fc(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&ue(xl),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Qr(zn),fn(n),null;case 25:return null;case 30:return null}throw Error(b(156,n.tag))}function Hg(e,n){switch(Eu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qr(zn),He(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return wt(n),null;case 31:if(n.memoizedState!==null){if(Ba(n),n.alternate===null)throw Error(b(340));dl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Ba(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(b(340));dl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ue(Dn),null;case 4:return He(),null;case 10:return Qr(n.type),null;case 22:case 23:return Ba(n),Lu(),e!==null&&ue(xl),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qr(zn),null;case 25:return null;default:return null}}function m1(e,n){switch(Eu(n),n.tag){case 3:Qr(zn),He();break;case 26:case 27:case 5:wt(n);break;case 4:He();break;case 31:n.memoizedState!==null&&Ba(n);break;case 13:Ba(n);break;case 19:ue(Dn);break;case 10:Qr(n.type);break;case 22:case 23:Ba(n),Lu(),e!==null&&ue(xl);break;case 24:Qr(zn)}}function Ys(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var h=o.next;i=h;do{if((i.tag&e)===e){o=void 0;var m=i.create,v=i.inst;o=m(),v.destroy=o}i=i.next}while(i!==h)}}catch(R){Kt(n,n.return,R)}}function ki(e,n,i){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&e)===e){var v=o.inst,R=v.destroy;if(R!==void 0){v.destroy=void 0,h=n;var P=i,ce=R;try{ce()}catch(pe){Kt(h,P,pe)}}}o=o.next}while(o!==m)}}catch(pe){Kt(n,n.return,pe)}}function p1(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{s0(n,i)}catch(o){Kt(e,e.return,o)}}}function b1(e,n,i){i.props=yl(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Kt(e,n,o)}}function qs(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(h){Kt(e,n,h)}}function Mr(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){Kt(e,n,h)}else i.current=null}function y1(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(h){Kt(e,e.return,h)}}function gd(e,n,i){try{var o=e.stateNode;om(o,e.type,i,n),o[Wt]=n}catch(h){Kt(e,e.return,h)}}function w1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fi(e.type)||e.tag===4}function md(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pd(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=ba));else if(o!==4&&(o===27&&Fi(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(pd(e,n,i),e=e.sibling;e!==null;)pd(e,n,i),e=e.sibling}function hc(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&Fi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(hc(e,n,i),e=e.sibling;e!==null;)hc(e,n,i),e=e.sibling}function C1(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ra(n,o,i),n[In]=e,n[Wt]=i}catch(m){Kt(e,e.return,m)}}var ti=!1,Fn=!1,bd=!1,E1=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function Fg(e,n){if(e=e.containerInfo,Ud=kc,e=N(e),I(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var h=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var v=0,R=-1,P=-1,ce=0,pe=0,Ce=e,de=null;t:for(;;){for(var me;Ce!==i||h!==0&&Ce.nodeType!==3||(R=v+h),Ce!==m||o!==0&&Ce.nodeType!==3||(P=v+o),Ce.nodeType===3&&(v+=Ce.nodeValue.length),(me=Ce.firstChild)!==null;)de=Ce,Ce=me;for(;;){if(Ce===e)break t;if(de===i&&++ce===h&&(R=v),de===m&&++pe===o&&(P=v),(me=Ce.nextSibling)!==null)break;Ce=de,de=Ce.parentNode}Ce=me}i=R===-1||P===-1?null:{start:R,end:P}}else i=null}i=i||{start:0,end:0}}else i=null;for(Hd={focusedElem:e,selectionRange:i},kc=!1,Kn=n;Kn!==null;)if(n=Kn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Kn=e;else for(;Kn!==null;){switch(n=Kn,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)h=e[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,i=n,h=m.memoizedProps,m=m.memoizedState,o=i.stateNode;try{var Xe=yl(i.type,h);e=o.getSnapshotBeforeUpdate(Xe,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(et){Kt(i,i.return,et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Gd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(b(163))}if(e=n.sibling,e!==null){e.return=n.return,Kn=e;break}Kn=n.return}}function A1(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:ai(e,i),o&4&&Ys(5,i);break;case 1:if(ai(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(v){Kt(i,i.return,v)}else{var h=yl(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Kt(i,i.return,v)}}o&64&&p1(i),o&512&&qs(i,i.return);break;case 3:if(ai(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{s0(e,n)}catch(v){Kt(i,i.return,v)}}break;case 27:n===null&&o&4&&C1(i);case 26:case 5:ai(e,i),n===null&&o&4&&y1(i),o&512&&qs(i,i.return);break;case 12:ai(e,i);break;case 31:ai(e,i),o&4&&N1(e,i);break;case 13:ai(e,i),o&4&&T1(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Qg.bind(null,i),mm(e,i))));break;case 22:if(o=i.memoizedState!==null||ti,!o){n=n!==null&&n.memoizedState!==null||Fn,h=ti;var m=Fn;ti=o,(Fn=n)&&!m?ri(e,i,(i.subtreeFlags&8772)!==0):ai(e,i),ti=h,Fn=m}break;case 30:break;default:ai(e,i)}}function v1(e){var n=e.alternate;n!==null&&(e.alternate=null,v1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&pa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var wn=null,Ca=!1;function ni(e,n,i){for(i=i.child;i!==null;)S1(e,n,i),i=i.sibling}function S1(e,n,i){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(on,i)}catch{}switch(i.tag){case 26:Fn||Mr(i,n),ni(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Fn||Mr(i,n);var o=wn,h=Ca;Fi(i.type)&&(wn=i.stateNode,Ca=!1),ni(e,n,i),no(i.stateNode),wn=o,Ca=h;break;case 5:Fn||Mr(i,n);case 6:if(o=wn,h=Ca,wn=null,ni(e,n,i),wn=o,Ca=h,wn!==null)if(Ca)try{(wn.nodeType===9?wn.body:wn.nodeName==="HTML"?wn.ownerDocument.body:wn).removeChild(i.stateNode)}catch(m){Kt(i,n,m)}else try{wn.removeChild(i.stateNode)}catch(m){Kt(i,n,m)}break;case 18:wn!==null&&(Ca?(e=wn,ph(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),us(e)):ph(wn,i.stateNode));break;case 4:o=wn,h=Ca,wn=i.stateNode.containerInfo,Ca=!0,ni(e,n,i),wn=o,Ca=h;break;case 0:case 11:case 14:case 15:ki(2,i,n),Fn||ki(4,i,n),ni(e,n,i);break;case 1:Fn||(Mr(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&b1(i,n,o)),ni(e,n,i);break;case 21:ni(e,n,i);break;case 22:Fn=(o=Fn)||i.memoizedState!==null,ni(e,n,i),Fn=o;break;default:ni(e,n,i)}}function N1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{us(e)}catch(i){Kt(n,n.return,i)}}}function T1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{us(e)}catch(i){Kt(n,n.return,i)}}function Pg(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new E1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new E1),n;default:throw Error(b(435,e.tag))}}function xc(e,n){var i=Pg(e);n.forEach(function(o){if(!i.has(o)){i.add(o);var h=Kg.bind(null,e,o);o.then(h,h)}})}function Ea(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var h=i[o],m=e,v=n,R=v;e:for(;R!==null;){switch(R.tag){case 27:if(Fi(R.type)){wn=R.stateNode,Ca=!1;break e}break;case 5:wn=R.stateNode,Ca=!1;break e;case 3:case 4:wn=R.stateNode.containerInfo,Ca=!0;break e}R=R.return}if(wn===null)throw Error(b(160));S1(m,v,h),wn=null,Ca=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_1(n,e),n=n.sibling}var xr=null;function _1(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ea(n,e),Aa(e),o&4&&(ki(3,e,e.return),Ys(3,e),ki(5,e,e.return));break;case 1:Ea(n,e),Aa(e),o&512&&(Fn||i===null||Mr(i,i.return)),o&64&&ti&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var h=xr;if(Ea(n,e),Aa(e),o&512&&(Fn||i===null||Mr(i,i.return)),o&4){var m=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":m=h.getElementsByTagName("title")[0],(!m||m[el]||m[In]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(o),h.head.insertBefore(m,h.querySelector("head > title"))),ra(m,o,i),m[In]=e,vn(m),o=m;break e;case"link":var v=_h("link","href",h).get(o+(i.href||""));if(v){for(var R=0;R<v.length;R++)if(m=v[R],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(R,1);break t}}m=h.createElement(o),ra(m,o,i),h.head.appendChild(m);break;case"meta":if(v=_h("meta","content",h).get(o+(i.content||""))){for(R=0;R<v.length;R++)if(m=v[R],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(R,1);break t}}m=h.createElement(o),ra(m,o,i),h.head.appendChild(m);break;default:throw Error(b(468,o))}m[In]=e,vn(m),o=m}e.stateNode=o}else Ih(h,e.type,e.stateNode);else e.stateNode=Th(h,o,e.memoizedProps);else m!==o?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,o===null?Ih(h,e.type,e.stateNode):Th(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&gd(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ea(n,e),Aa(e),o&512&&(Fn||i===null||Mr(i,i.return)),i!==null&&o&4&&gd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ea(n,e),Aa(e),o&512&&(Fn||i===null||Mr(i,i.return)),e.flags&32){h=e.stateNode;try{mi(h,"")}catch(Xe){Kt(e,e.return,Xe)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,gd(e,h,i!==null?i.memoizedProps:h)),o&1024&&(bd=!0);break;case 6:if(Ea(n,e),Aa(e),o&4){if(e.stateNode===null)throw Error(b(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(Xe){Kt(e,e.return,Xe)}}break;case 3:if(Oc=null,h=xr,xr=_c(n.containerInfo),Ea(n,e),xr=h,Aa(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{us(n.containerInfo)}catch(Xe){Kt(e,e.return,Xe)}bd&&(bd=!1,I1(e));break;case 4:o=xr,xr=_c(e.stateNode.containerInfo),Ea(n,e),Aa(e),xr=o;break;case 12:Ea(n,e),Aa(e);break;case 31:Ea(n,e),Aa(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,xc(e,o)));break;case 13:Ea(n,e),Aa(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(mc=Bt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,xc(e,o)));break;case 22:h=e.memoizedState!==null;var P=i!==null&&i.memoizedState!==null,ce=ti,pe=Fn;if(ti=ce||h,Fn=pe||P,Ea(n,e),Fn=pe,ti=ce,Aa(e),o&8192)e:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(i===null||P||ti||Fn||wl(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){P=i=n;try{if(m=P.stateNode,h)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{R=P.stateNode;var Ce=P.memoizedProps.style,de=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;R.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Xe){Kt(P,P.return,Xe)}}}else if(n.tag===6){if(i===null){P=n;try{P.stateNode.nodeValue=h?"":P.memoizedProps}catch(Xe){Kt(P,P.return,Xe)}}}else if(n.tag===18){if(i===null){P=n;try{var me=P.stateNode;h?bh(me,!0):bh(P.stateNode,!1)}catch(Xe){Kt(P,P.return,Xe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,xc(e,i))));break;case 19:Ea(n,e),Aa(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,xc(e,o)));break;case 30:break;case 21:break;default:Ea(n,e),Aa(e)}}function Aa(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(w1(o)){i=o;break}o=o.return}if(i==null)throw Error(b(160));switch(i.tag){case 27:var h=i.stateNode,m=md(e);hc(e,m,h);break;case 5:var v=i.stateNode;i.flags&32&&(mi(v,""),i.flags&=-33);var R=md(e);hc(e,R,v);break;case 3:case 4:var P=i.stateNode.containerInfo,ce=md(e);pd(e,ce,P);break;default:throw Error(b(161))}}catch(pe){Kt(e,e.return,pe)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function I1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;I1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ai(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)A1(e,n.alternate,n),n=n.sibling}function wl(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ki(4,n,n.return),wl(n);break;case 1:Mr(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&b1(n,n.return,i),wl(n);break;case 27:no(n.stateNode);case 26:case 5:Mr(n,n.return),wl(n);break;case 22:n.memoizedState===null&&wl(n);break;case 30:wl(n);break;default:wl(n)}e=e.sibling}}function ri(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,m=n,v=m.flags;switch(m.tag){case 0:case 11:case 15:ri(h,m,i),Ys(4,m);break;case 1:if(ri(h,m,i),o=m,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(ce){Kt(o,o.return,ce)}if(o=m,h=o.updateQueue,h!==null){var R=o.stateNode;try{var P=h.shared.hiddenCallbacks;if(P!==null)for(h.shared.hiddenCallbacks=null,h=0;h<P.length;h++)l0(P[h],R)}catch(ce){Kt(o,o.return,ce)}}i&&v&64&&p1(m),qs(m,m.return);break;case 27:C1(m);case 26:case 5:ri(h,m,i),i&&o===null&&v&4&&y1(m),qs(m,m.return);break;case 12:ri(h,m,i);break;case 31:ri(h,m,i),i&&v&4&&N1(h,m);break;case 13:ri(h,m,i),i&&v&4&&T1(h,m);break;case 22:m.memoizedState===null&&ri(h,m,i),qs(m,m.return);break;case 30:break;default:ri(h,m,i)}n=n.sibling}}function yd(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ms(i))}function wd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ms(e))}function gr(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)O1(e,n,i,o),n=n.sibling}function O1(e,n,i,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:gr(e,n,i,o),h&2048&&Ys(9,n);break;case 1:gr(e,n,i,o);break;case 3:gr(e,n,i,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ms(e)));break;case 12:if(h&2048){gr(e,n,i,o),e=n.stateNode;try{var m=n.memoizedProps,v=m.id,R=m.onPostCommit;typeof R=="function"&&R(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(P){Kt(n,n.return,P)}}else gr(e,n,i,o);break;case 31:gr(e,n,i,o);break;case 13:gr(e,n,i,o);break;case 23:break;case 22:m=n.stateNode,v=n.alternate,n.memoizedState!==null?m._visibility&2?gr(e,n,i,o):Zs(e,n):m._visibility&2?gr(e,n,i,o):(m._visibility|=2,$l(e,n,i,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&yd(v,n);break;case 24:gr(e,n,i,o),h&2048&&wd(n.alternate,n);break;default:gr(e,n,i,o)}}function $l(e,n,i,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,v=n,R=i,P=o,ce=v.flags;switch(v.tag){case 0:case 11:case 15:$l(m,v,R,P,h),Ys(8,v);break;case 23:break;case 22:var pe=v.stateNode;v.memoizedState!==null?pe._visibility&2?$l(m,v,R,P,h):Zs(m,v):(pe._visibility|=2,$l(m,v,R,P,h)),h&&ce&2048&&yd(v.alternate,v);break;case 24:$l(m,v,R,P,h),h&&ce&2048&&wd(v.alternate,v);break;default:$l(m,v,R,P,h)}n=n.sibling}}function Zs(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,h=o.flags;switch(o.tag){case 22:Zs(i,o),h&2048&&yd(o.alternate,o);break;case 24:Zs(i,o),h&2048&&wd(o.alternate,o);break;default:Zs(i,o)}n=n.sibling}}var Ws=8192;function es(e,n,i){if(e.subtreeFlags&Ws)for(e=e.child;e!==null;)R1(e,n,i),e=e.sibling}function R1(e,n,i){switch(e.tag){case 26:es(e,n,i),e.flags&Ws&&e.memoizedState!==null&&_m(i,xr,e.memoizedState,e.memoizedProps);break;case 5:es(e,n,i);break;case 3:case 4:var o=xr;xr=_c(e.stateNode.containerInfo),es(e,n,i),xr=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Ws,Ws=16777216,es(e,n,i),Ws=o):es(e,n,i));break;default:es(e,n,i)}}function D1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Qs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Kn=o,k1(o,e)}D1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)M1(e),e=e.sibling}function M1(e){switch(e.tag){case 0:case 11:case 15:Qs(e),e.flags&2048&&ki(9,e,e.return);break;case 3:Qs(e);break;case 12:Qs(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,gc(e)):Qs(e);break;default:Qs(e)}}function gc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Kn=o,k1(o,e)}D1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ki(8,n,n.return),gc(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,gc(n));break;default:gc(n)}e=e.sibling}}function k1(e,n){for(;Kn!==null;){var i=Kn;switch(i.tag){case 0:case 11:case 15:ki(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ms(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Kn=o;else e:for(i=e;Kn!==null;){o=Kn;var h=o.sibling,m=o.return;if(v1(o),o===i){Kn=null;break e}if(h!==null){h.return=m,Kn=h;break e}Kn=m}}}var Gg={getCacheForType:function(e){var n=na(zn),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return na(zn).controller.signal}},Vg=typeof WeakMap=="function"?WeakMap:Map,Gt=0,sn=null,vt=null,_t=0,Qt=0,ja=null,Bi=!1,ts=!1,Cd=!1,ii=0,Tn=0,ji=0,Cl=0,Ed=0,La=0,ns=0,Ks=null,va=null,Ad=!1,mc=0,B1=0,pc=1/0,bc=null,Li=null,qn=0,zi=null,as=null,li=0,vd=0,Sd=null,j1=null,Js=0,Nd=null;function za(){return(Gt&2)!==0&&_t!==0?_t&-_t:U.T!==null?Dd():ca()}function L1(){if(La===0)if((_t&536870912)===0||Dt){var e=Nt;Nt<<=1,(Nt&3932160)===0&&(Nt=262144),La=e}else La=536870912;return e=ka.current,e!==null&&(e.flags|=32),La}function Sa(e,n,i){(e===sn&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(rs(e,0),Ui(e,_t,La,!1)),Sr(e,i),((Gt&2)===0||e!==sn)&&(e===sn&&((Gt&2)===0&&(Cl|=i),Tn===4&&Ui(e,_t,La,!1)),kr(e))}function z1(e,n,i){if((Gt&6)!==0)throw Error(b(327));var o=!i&&(n&127)===0&&(n&e.expiredLanes)===0||$n(e,n),h=o?qg(e,n):_d(e,n,!0),m=o;do{if(h===0){ts&&!o&&Ui(e,n,0,!1);break}else{if(i=e.current.alternate,m&&!Xg(i)){h=_d(e,n,!1),m=!1;continue}if(h===2){if(m=n,e.errorRecoveryDisabledLanes&m)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var R=e;h=Ks;var P=R.current.memoizedState.isDehydrated;if(P&&(rs(R,v).flags|=256),v=_d(R,v,!1),v!==2){if(Cd&&!P){R.errorRecoveryDisabledLanes|=m,Cl|=m,h=4;break e}m=va,va=h,m!==null&&(va===null?va=m:va.push.apply(va,m))}h=v}if(m=!1,h!==2)continue}}if(h===1){rs(e,0),Ui(e,n,0,!0);break}e:{switch(o=e,m=h,m){case 0:case 1:throw Error(b(345));case 4:if((n&4194048)!==n)break;case 6:Ui(o,n,La,!Bi);break e;case 2:va=null;break;case 3:case 5:break;default:throw Error(b(329))}if((n&62914560)===n&&(h=mc+300-Bt(),10<h)){if(Ui(o,n,La,!Bi),$i(o,0,!0)!==0)break e;li=n,o.timeoutHandle=gh(U1.bind(null,o,i,va,bc,Ad,n,La,Cl,ns,Bi,m,"Throttled",-0,0),h);break e}U1(o,i,va,bc,Ad,n,La,Cl,ns,Bi,m,null,-0,0)}}break}while(!0);kr(e)}function U1(e,n,i,o,h,m,v,R,P,ce,pe,Ce,de,me){if(e.timeoutHandle=-1,Ce=n.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ba},R1(n,m,Ce);var Xe=(m&62914560)===m?mc-Bt():(m&4194048)===m?B1-Bt():0;if(Xe=Im(Ce,Xe),Xe!==null){li=m,e.cancelPendingCommit=Xe(q1.bind(null,e,n,m,i,o,h,v,R,P,pe,Ce,null,de,me)),Ui(e,m,v,!ce);return}}q1(e,n,m,i,o,h,v,R,P)}function Xg(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var h=i[o],m=h.getSnapshot;h=h.value;try{if(!c(m(),h))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ui(e,n,i,o){n&=~Ed,n&=~Cl,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var m=31-ht(h),v=1<<m;o[m]=-1,h&=~v}i!==0&&vo(e,i,n)}function yc(){return(Gt&6)===0?($s(0),!1):!0}function Td(){if(vt!==null){if(Qt===0)var e=vt.return;else e=vt,Wr=fl=null,Gu(e),Zl=null,Bs=0,e=vt;for(;e!==null;)m1(e.alternate,e),e=e.return;vt=null}}function rs(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,dm(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),li=0,Td(),sn=e,vt=i=qr(e.current,null),_t=n,Qt=0,ja=null,Bi=!1,ts=$n(e,n),Cd=!1,ns=La=Ed=Cl=ji=Tn=0,va=Ks=null,Ad=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ht(o),m=1<<h;n|=e[h],o&=~m}return ii=n,Ho(),i}function H1(e,n){dt=null,U.H=Gs,n===ql||n===Zo?(n=n0(),Qt=3):n===Ru?(n=n0(),Qt=4):Qt=n===id?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ja=n,vt===null&&(Tn=1,oc(e,Za(n,e.current)))}function F1(){var e=ka.current;return e===null?!0:(_t&4194048)===_t?Ja===null:(_t&62914560)===_t||(_t&536870912)!==0?e===Ja:!1}function P1(){var e=U.H;return U.H=Gs,e===null?Gs:e}function G1(){var e=U.A;return U.A=Gg,e}function wc(){Tn=4,Bi||(_t&4194048)!==_t&&ka.current!==null||(ts=!0),(ji&134217727)===0&&(Cl&134217727)===0||sn===null||Ui(sn,_t,La,!1)}function _d(e,n,i){var o=Gt;Gt|=2;var h=P1(),m=G1();(sn!==e||_t!==n)&&(bc=null,rs(e,n)),n=!1;var v=Tn;e:do try{if(Qt!==0&&vt!==null){var R=vt,P=ja;switch(Qt){case 8:Td(),v=6;break e;case 3:case 2:case 9:case 6:ka.current===null&&(n=!0);var ce=Qt;if(Qt=0,ja=null,is(e,R,P,ce),i&&ts){v=0;break e}break;default:ce=Qt,Qt=0,ja=null,is(e,R,P,ce)}}Yg(),v=Tn;break}catch(pe){H1(e,pe)}while(!0);return n&&e.shellSuspendCounter++,Wr=fl=null,Gt=o,U.H=h,U.A=m,vt===null&&(sn=null,_t=0,Ho()),v}function Yg(){for(;vt!==null;)V1(vt)}function qg(e,n){var i=Gt;Gt|=2;var o=P1(),h=G1();sn!==e||_t!==n?(bc=null,pc=Bt()+500,rs(e,n)):ts=$n(e,n);e:do try{if(Qt!==0&&vt!==null){n=vt;var m=ja;t:switch(Qt){case 1:Qt=0,ja=null,is(e,n,m,1);break;case 2:case 9:if(e0(m)){Qt=0,ja=null,X1(n);break}n=function(){Qt!==2&&Qt!==9||sn!==e||(Qt=7),kr(e)},m.then(n,n);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:e0(m)?(Qt=0,ja=null,X1(n)):(Qt=0,ja=null,is(e,n,m,7));break;case 5:var v=null;switch(vt.tag){case 26:v=vt.memoizedState;case 5:case 27:var R=vt;if(v?Oh(v):R.stateNode.complete){Qt=0,ja=null;var P=R.sibling;if(P!==null)vt=P;else{var ce=R.return;ce!==null?(vt=ce,Cc(ce)):vt=null}break t}}Qt=0,ja=null,is(e,n,m,5);break;case 6:Qt=0,ja=null,is(e,n,m,6);break;case 8:Td(),Tn=6;break e;default:throw Error(b(462))}}Zg();break}catch(pe){H1(e,pe)}while(!0);return Wr=fl=null,U.H=o,U.A=h,Gt=i,vt!==null?0:(sn=null,_t=0,Ho(),Tn)}function Zg(){for(;vt!==null&&!Cr();)V1(vt)}function V1(e){var n=x1(e.alternate,e,ii);e.memoizedProps=e.pendingProps,n===null?Cc(e):vt=n}function X1(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=o1(i,n,n.pendingProps,n.type,void 0,_t);break;case 11:n=o1(i,n,n.pendingProps,n.type.render,n.ref,_t);break;case 5:Gu(n);default:m1(i,n),n=vt=Gf(n,ii),n=x1(i,n,ii)}e.memoizedProps=e.pendingProps,n===null?Cc(e):vt=n}function is(e,n,i,o){Wr=fl=null,Gu(n),Zl=null,Bs=0;var h=n.return;try{if(jg(e,h,n,i,_t)){Tn=1,oc(e,Za(i,e.current)),vt=null;return}}catch(m){if(h!==null)throw vt=h,m;Tn=1,oc(e,Za(i,e.current)),vt=null;return}n.flags&32768?(Dt||o===1?e=!0:ts||(_t&536870912)!==0?e=!1:(Bi=e=!0,(o===2||o===9||o===3||o===6)&&(o=ka.current,o!==null&&o.tag===13&&(o.flags|=16384))),Y1(n,e)):Cc(n)}function Cc(e){var n=e;do{if((n.flags&32768)!==0){Y1(n,Bi);return}e=n.return;var i=Ug(n.alternate,n,ii);if(i!==null){vt=i;return}if(n=n.sibling,n!==null){vt=n;return}vt=n=e}while(n!==null);Tn===0&&(Tn=5)}function Y1(e,n){do{var i=Hg(e.alternate,e);if(i!==null){i.flags&=32767,vt=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){vt=e;return}vt=e=i}while(e!==null);Tn=6,vt=null}function q1(e,n,i,o,h,m,v,R,P){e.cancelPendingCommit=null;do Ec();while(qn!==0);if((Gt&6)!==0)throw Error(b(327));if(n!==null){if(n===e.current)throw Error(b(177));if(m=n.lanes|n.childLanes,m|=mu,Ga(e,i,m,v,R,P),e===sn&&(vt=sn=null,_t=0),as=n,zi=e,li=i,vd=m,Sd=h,j1=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jg(Bn,function(){return J1(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=U.T,U.T=null,h=J.p,J.p=2,v=Gt,Gt|=4;try{Fg(e,n,i)}finally{Gt=v,J.p=h,U.T=o}}qn=1,Z1(),W1(),Q1()}}function Z1(){if(qn===1){qn=0;var e=zi,n=as,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=U.T,U.T=null;var o=J.p;J.p=2;var h=Gt;Gt|=4;try{_1(n,e);var m=Hd,v=N(e.containerInfo),R=m.focusedElem,P=m.selectionRange;if(v!==R&&R&&R.ownerDocument&&A(R.ownerDocument.documentElement,R)){if(P!==null&&I(R)){var ce=P.start,pe=P.end;if(pe===void 0&&(pe=ce),"selectionStart"in R)R.selectionStart=ce,R.selectionEnd=Math.min(pe,R.value.length);else{var Ce=R.ownerDocument||document,de=Ce&&Ce.defaultView||window;if(de.getSelection){var me=de.getSelection(),Xe=R.textContent.length,et=Math.min(P.start,Xe),tn=P.end===void 0?et:Math.min(P.end,Xe);!me.extend&&et>tn&&(v=tn,tn=et,et=v);var ee=y(R,et),Z=y(R,tn);if(ee&&Z&&(me.rangeCount!==1||me.anchorNode!==ee.node||me.anchorOffset!==ee.offset||me.focusNode!==Z.node||me.focusOffset!==Z.offset)){var se=Ce.createRange();se.setStart(ee.node,ee.offset),me.removeAllRanges(),et>tn?(me.addRange(se),me.extend(Z.node,Z.offset)):(se.setEnd(Z.node,Z.offset),me.addRange(se))}}}}for(Ce=[],me=R;me=me.parentNode;)me.nodeType===1&&Ce.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<Ce.length;R++){var we=Ce[R];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}kc=!!Ud,Hd=Ud=null}finally{Gt=h,J.p=o,U.T=i}}e.current=n,qn=2}}function W1(){if(qn===2){qn=0;var e=zi,n=as,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=U.T,U.T=null;var o=J.p;J.p=2;var h=Gt;Gt|=4;try{A1(e,n.alternate,n)}finally{Gt=h,J.p=o,U.T=i}}qn=3}}function Q1(){if(qn===4||qn===3){qn=0,Er();var e=zi,n=as,i=li,o=j1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qn=5:(qn=0,as=zi=null,K1(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Li=null),sr(i),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(on,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=U.T,h=J.p,J.p=2,U.T=null;try{for(var m=e.onRecoverableError,v=0;v<o.length;v++){var R=o[v];m(R.value,{componentStack:R.stack})}}finally{U.T=n,J.p=h}}(li&3)!==0&&Ec(),kr(e),h=e.pendingLanes,(i&261930)!==0&&(h&42)!==0?e===Nd?Js++:(Js=0,Nd=e):Js=0,$s(0)}}function K1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ms(n)))}function Ec(){return Z1(),W1(),Q1(),J1()}function J1(){if(qn!==5)return!1;var e=zi,n=vd;vd=0;var i=sr(li),o=U.T,h=J.p;try{J.p=32>i?32:i,U.T=null,i=Sd,Sd=null;var m=zi,v=li;if(qn=0,as=zi=null,li=0,(Gt&6)!==0)throw Error(b(331));var R=Gt;if(Gt|=4,M1(m.current),O1(m,m.current,v,i),Gt=R,$s(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(on,m)}catch{}return!0}finally{J.p=h,U.T=o,K1(e,n)}}function $1(e,n,i){n=Za(i,n),n=rd(e.stateNode,n,2),e=Ri(e,n,2),e!==null&&(Sr(e,2),kr(e))}function Kt(e,n,i){if(e.tag===3)$1(e,e,i);else for(;n!==null;){if(n.tag===3){$1(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Li===null||!Li.has(o))){e=Za(i,e),i=e1(2),o=Ri(n,i,2),o!==null&&(t1(i,o,n,e),Sr(o,2),kr(o));break}}n=n.return}}function Id(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Vg;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(i)||(Cd=!0,h.add(i),e=Wg.bind(null,e,n,i),n.then(e,e))}function Wg(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,sn===e&&(_t&i)===i&&(Tn===4||Tn===3&&(_t&62914560)===_t&&300>Bt()-mc?(Gt&2)===0&&rs(e,0):Ed|=i,ns===_t&&(ns=0)),kr(e)}function eh(e,n){n===0&&(n=Gn()),e=cl(e,n),e!==null&&(Sr(e,n),kr(e))}function Qg(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),eh(e,i)}function Kg(e,n){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(b(314))}o!==null&&o.delete(n),eh(e,i)}function Jg(e,n){return la(e,n)}var Ac=null,ls=null,Od=!1,vc=!1,Rd=!1,Hi=0;function kr(e){e!==ls&&e.next===null&&(ls===null?Ac=ls=e:ls=ls.next=e),vc=!0,Od||(Od=!0,em())}function $s(e,n){if(!Rd&&vc){Rd=!0;do for(var i=!1,o=Ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var m=0;else{var v=o.suspendedLanes,R=o.pingedLanes;m=(1<<31-ht(42|e)+1)-1,m&=h&~(v&~R),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,rh(o,m))}else m=_t,m=$i(o,o===sn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||$n(o,m)||(i=!0,rh(o,m));o=o.next}while(i);Rd=!1}}function $g(){th()}function th(){vc=Od=!1;var e=0;Hi!==0&&um()&&(e=Hi);for(var n=Bt(),i=null,o=Ac;o!==null;){var h=o.next,m=nh(o,n);m===0?(o.next=null,i===null?Ac=h:i.next=h,h===null&&(ls=i)):(i=o,(e!==0||(m&3)!==0)&&(vc=!0)),o=h}qn!==0&&qn!==5||$s(e),Hi!==0&&(Hi=0)}function nh(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var v=31-ht(m),R=1<<v,P=h[v];P===-1?((R&i)===0||(R&o)!==0)&&(h[v]=ws(R,n)):P<=n&&(e.expiredLanes|=R),m&=~R}if(n=sn,i=_t,i=$i(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ze(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||$n(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&ze(o),sr(i)){case 2:case 8:i=lr;break;case 32:i=Bn;break;case 268435456:i=Qi;break;default:i=Bn}return o=ah.bind(null,e),i=la(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&ze(o),e.callbackPriority=2,e.callbackNode=null,2}function ah(e,n){if(qn!==0&&qn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Ec()&&e.callbackNode!==i)return null;var o=_t;return o=$i(e,e===sn?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(z1(e,o,n),nh(e,Bt()),e.callbackNode!=null&&e.callbackNode===i?ah.bind(null,e):null)}function rh(e,n){if(Ec())return null;z1(e,n,!0)}function em(){fm(function(){(Gt&6)!==0?la(kn,$g):th()})}function Dd(){if(Hi===0){var e=Xl;e===0&&(e=Ji,Ji<<=1,(Ji&261888)===0&&(Ji=256)),Hi=e}return Hi}function ih(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pi(""+e)}function lh(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function tm(e,n,i,o,h){if(n==="submit"&&i&&i.stateNode===h){var m=ih((h[Wt]||null).action),v=o.submitter;v&&(n=(n=v[Wt]||null)?ih(n.formAction):v.getAttribute("formAction"),n!==null&&(m=n,v=null));var R=new Vn("action","action",null,o,h);e.push({event:R,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hi!==0){var P=v?lh(h,v):new FormData(h);Ju(i,{pending:!0,data:P,method:h.method,action:m},null,P)}}else typeof m=="function"&&(R.preventDefault(),P=v?lh(h,v):new FormData(h),Ju(i,{pending:!0,data:P,method:h.method,action:m},m,P))},currentTarget:h}]})}}for(var Md=0;Md<Os.length;Md++){var kd=Os[Md],nm=kd.toLowerCase(),am=kd[0].toUpperCase()+kd.slice(1);hr(nm,"on"+am)}hr(wa,"onAnimationEnd"),hr(ea,"onAnimationIteration"),hr(Yt,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(Yn,"onTransitionRun"),hr(xa,"onTransitionStart"),hr(vi,"onTransitionCancel"),hr(Yr,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),Vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function sh(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],h=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var v=o.length-1;0<=v;v--){var R=o[v],P=R.instance,ce=R.currentTarget;if(R=R.listener,P!==m&&h.isPropagationStopped())break e;m=R,h.currentTarget=ce;try{m(h)}catch(pe){Uo(pe)}h.currentTarget=null,m=P}else for(v=0;v<o.length;v++){if(R=o[v],P=R.instance,ce=R.currentTarget,R=R.listener,P!==m&&h.isPropagationStopped())break e;m=R,h.currentTarget=ce;try{m(h)}catch(pe){Uo(pe)}h.currentTarget=null,m=P}}}}function St(e,n){var i=n[di];i===void 0&&(i=n[di]=new Set);var o=e+"__bubble";i.has(o)||(oh(n,e,2,!1),i.add(o))}function Bd(e,n,i){var o=0;n&&(o|=4),oh(i,e,o,n)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function jd(e){if(!e[Sc]){e[Sc]=!0,Ne.forEach(function(i){i!=="selectionchange"&&(rm.has(i)||Bd(i,!1,e),Bd(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Sc]||(n[Sc]=!0,Bd("selectionchange",!1,n))}}function oh(e,n,i,o){switch(Lh(n)){case 2:var h=Dm;break;case 8:h=Mm;break;default:h=Kd}i=h.bind(null,n,i,e),h=void 0,!As||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function Ld(e,n,i,o,h){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var R=o.stateNode.containerInfo;if(R===h)break;if(v===4)for(v=o.return;v!==null;){var P=v.tag;if((P===3||P===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;R!==null;){if(v=An(R),v===null)return;if(P=v.tag,P===5||P===6||P===26||P===27){o=m=v;continue e}R=R.parentNode}}o=o.return}_o(function(){var ce=m,pe=Es(i),Ce=[];e:{var de=zo.get(e);if(de!==void 0){var me=Vn,Xe=e;switch(e){case"keypress":if(Tr(i)===0)break e;case"keydown":case"keyup":me=jl;break;case"focusin":Xe="focus",me=Ns;break;case"focusout":Xe="blur",me=Ns;break;case"beforeblur":case"afterblur":me=Ns;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Pt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=hu;break;case wa:case ea:case Yt:me=xt;break;case Yr:me=Pr;break;case"scroll":case"scrollend":me=Io;break;case"wheel":me=xu;break;case"copy":case"cut":case"paste":me=Bl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Xt;break;case"toggle":case"beforetoggle":me=_s}var et=(n&4)!==0,tn=!et&&(e==="scroll"||e==="scrollend"),ee=et?de!==null?de+"Capture":null:de;et=[];for(var Z=ce,se;Z!==null;){var we=Z;if(se=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||se===null||ee===null||(we=it(Z,ee),we!=null&&et.push(to(Z,we,se))),tn)break;Z=Z.return}0<et.length&&(de=new me(de,Xe,null,i,pe),Ce.push({event:de,listeners:et}))}}if((n&7)===0){e:{if(de=e==="mouseover"||e==="pointerover",me=e==="mouseout"||e==="pointerout",de&&i!==tl&&(Xe=i.relatedTarget||i.fromElement)&&(An(Xe)||Xe[Ta]))break e;if((me||de)&&(de=pe.window===pe?pe:(de=pe.ownerDocument)?de.defaultView||de.parentWindow:window,me?(Xe=i.relatedTarget||i.toElement,me=ce,Xe=Xe?An(Xe):null,Xe!==null&&(tn=w(Xe),et=Xe.tag,Xe!==tn||et!==5&&et!==27&&et!==6)&&(Xe=null)):(me=null,Xe=ce),me!==Xe)){if(et=Pt,we="onMouseLeave",ee="onMouseEnter",Z="mouse",(e==="pointerout"||e==="pointerover")&&(et=Xt,we="onPointerLeave",ee="onPointerEnter",Z="pointer"),tn=me==null?de:fi(me),se=Xe==null?de:fi(Xe),de=new et(we,Z+"leave",me,i,pe),de.target=tn,de.relatedTarget=se,we=null,An(pe)===ce&&(et=new et(ee,Z+"enter",Xe,i,pe),et.target=se,et.relatedTarget=tn,we=et),tn=we,me&&Xe)t:{for(et=im,ee=me,Z=Xe,se=0,we=ee;we;we=et(we))se++;we=0;for(var Qe=Z;Qe;Qe=et(Qe))we++;for(;0<se-we;)ee=et(ee),se--;for(;0<we-se;)Z=et(Z),we--;for(;se--;){if(ee===Z||Z!==null&&ee===Z.alternate){et=ee;break t}ee=et(ee),Z=et(Z)}et=null}else et=null;me!==null&&ch(Ce,de,me,et,!1),Xe!==null&&tn!==null&&ch(Ce,tn,Xe,et,!0)}}e:{if(de=ce?fi(ce):window,me=de.nodeName&&de.nodeName.toLowerCase(),me==="select"||me==="input"&&de.type==="file")var zt=Da;else if(Is(de))if(Lo)zt=l;else{zt=a;var qe=t}else me=de.nodeName,!me||me.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ce&&an(ce.elementType)&&(zt=Da):zt=r;if(zt&&(zt=zt(e,ce))){Ra(Ce,zt,i,pe);break e}qe&&qe(e,de,ce),e==="focusout"&&ce&&de.type==="number"&&ce.memoizedProps.value!=null&&k(de,"number",de.value)}switch(qe=ce?fi(ce):window,e){case"focusin":(Is(qe)||qe.contentEditable==="true")&&(V=qe,Y=ce,ae=null);break;case"focusout":ae=Y=V=null;break;case"mousedown":he=!0;break;case"contextmenu":case"mouseup":case"dragend":he=!1,ke(Ce,i,pe);break;case"selectionchange":if(j)break;case"keydown":case"keyup":ke(Ce,i,pe)}var gt;if(rl)e:{switch(e){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else Ai?jo(e,i)&&(It="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(It="onCompositionStart");It&&(Bo&&i.locale!=="ko"&&(Ai||It!=="onCompositionStart"?It==="onCompositionEnd"&&Ai&&(gt=bi()):(dr=pe,fr="value"in dr?dr.value:dr.textContent,Ai=!0)),qe=Nc(ce,It),0<qe.length&&(It=new Do(It,e,null,i,pe),Ce.push({event:It,listeners:qe}),gt?It.data=gt:(gt=Ei(i),gt!==null&&(It.data=gt)))),(gt=ko?Or(e,i):zl(e,i))&&(It=Nc(ce,"onBeforeInput"),0<It.length&&(qe=new Do("onBeforeInput","beforeinput",null,i,pe),Ce.push({event:qe,listeners:It}),qe.data=gt)),tm(Ce,e,ce,i,pe)}sh(Ce,n)})}function to(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Nc(e,n){for(var i=n+"Capture",o=[];e!==null;){var h=e,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=it(e,i),h!=null&&o.unshift(to(e,h,m)),h=it(e,n),h!=null&&o.push(to(e,h,m))),e.tag===3)return o;e=e.return}return[]}function im(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ch(e,n,i,o,h){for(var m=n._reactName,v=[];i!==null&&i!==o;){var R=i,P=R.alternate,ce=R.stateNode;if(R=R.tag,P!==null&&P===o)break;R!==5&&R!==26&&R!==27||ce===null||(P=ce,h?(ce=it(i,m),ce!=null&&v.unshift(to(i,ce,P))):h||(ce=it(i,m),ce!=null&&v.push(to(i,ce,P)))),i=i.return}v.length!==0&&e.push({event:n,listeners:v})}var lm=/\r\n?/g,sm=/\u0000|\uFFFD/g;function uh(e){return(typeof e=="string"?e:""+e).replace(lm,`
`).replace(sm,"")}function dh(e,n){return n=uh(n),uh(e)===n}function en(e,n,i,o,h,m){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mi(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mi(e,""+o);break;case"className":xi(e,"class",o);break;case"tabIndex":xi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(e,i,o);break;case"style":We(e,o,m);break;case"data":if(n!=="object"){xi(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=pi(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(n!=="input"&&en(e,n,"name",h.name,h,null),en(e,n,"formEncType",h.formEncType,h,null),en(e,n,"formMethod",h.formMethod,h,null),en(e,n,"formTarget",h.formTarget,h,null)):(en(e,n,"encType",h.encType,h,null),en(e,n,"method",h.method,h,null),en(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=pi(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=ba);break;case"onScroll":o!=null&&St("scroll",e);break;case"onScrollEnd":o!=null&&St("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(b(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(b(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=pi(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":St("beforetoggle",e),St("toggle",e),hi(e,"popover",o);break;case"xlinkActuate":Ia(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ia(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ia(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ia(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ia(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ia(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ia(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ia(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ia(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=To.get(i)||i,hi(e,i,o))}}function zd(e,n,i,o,h,m){switch(i){case"style":We(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(b(61));if(i=o.__html,i!=null){if(h.children!=null)throw Error(b(60));e.innerHTML=i}}break;case"children":typeof o=="string"?mi(e,o):(typeof o=="number"||typeof o=="bigint")&&mi(e,""+o);break;case"onScroll":o!=null&&St("scroll",e);break;case"onScrollEnd":o!=null&&St("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),n=i.slice(2,h?i.length-7:void 0),m=e[Wt]||null,m=m!=null?m[i]:null,typeof m=="function"&&e.removeEventListener(n,m,h),typeof o=="function")){typeof m!="function"&&m!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,h);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):hi(e,i,o)}}}function ra(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",e),St("load",e);var o=!1,h=!1,m;for(m in i)if(i.hasOwnProperty(m)){var v=i[m];if(v!=null)switch(m){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(b(137,n));default:en(e,n,m,v,i,null)}}h&&en(e,n,"srcSet",i.srcSet,i,null),o&&en(e,n,"src",i.src,i,null);return;case"input":St("invalid",e);var R=m=v=h=null,P=null,ce=null;for(o in i)if(i.hasOwnProperty(o)){var pe=i[o];if(pe!=null)switch(o){case"name":h=pe;break;case"type":v=pe;break;case"checked":P=pe;break;case"defaultChecked":ce=pe;break;case"value":m=pe;break;case"defaultValue":R=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(b(137,n));break;default:en(e,n,o,pe,i,null)}}le(e,m,R,P,ce,v,h,!1);return;case"select":St("invalid",e),o=v=m=null;for(h in i)if(i.hasOwnProperty(h)&&(R=i[h],R!=null))switch(h){case"value":m=R;break;case"defaultValue":v=R;break;case"multiple":o=R;default:en(e,n,h,R,i,null)}n=m,i=v,e.multiple=!!o,n!=null?Ye(e,!!o,n,!1):i!=null&&Ye(e,!!o,i,!0);return;case"textarea":St("invalid",e),m=h=o=null;for(v in i)if(i.hasOwnProperty(v)&&(R=i[v],R!=null))switch(v){case"value":o=R;break;case"defaultValue":h=R;break;case"children":m=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(b(91));break;default:en(e,n,v,R,i,null)}fa(e,o,h,m);return;case"option":for(P in i)if(i.hasOwnProperty(P)&&(o=i[P],o!=null))switch(P){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:en(e,n,P,o,i,null)}return;case"dialog":St("beforetoggle",e),St("toggle",e),St("cancel",e),St("close",e);break;case"iframe":case"object":St("load",e);break;case"video":case"audio":for(o=0;o<eo.length;o++)St(eo[o],e);break;case"image":St("error",e),St("load",e);break;case"details":St("toggle",e);break;case"embed":case"source":case"link":St("error",e),St("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in i)if(i.hasOwnProperty(ce)&&(o=i[ce],o!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(b(137,n));default:en(e,n,ce,o,i,null)}return;default:if(an(n)){for(pe in i)i.hasOwnProperty(pe)&&(o=i[pe],o!==void 0&&zd(e,n,pe,o,i,void 0));return}}for(R in i)i.hasOwnProperty(R)&&(o=i[R],o!=null&&en(e,n,R,o,i,null))}function om(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,v=null,R=null,P=null,ce=null,pe=null;for(me in i){var Ce=i[me];if(i.hasOwnProperty(me)&&Ce!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":P=Ce;default:o.hasOwnProperty(me)||en(e,n,me,null,o,Ce)}}for(var de in o){var me=o[de];if(Ce=i[de],o.hasOwnProperty(de)&&(me!=null||Ce!=null))switch(de){case"type":m=me;break;case"name":h=me;break;case"checked":ce=me;break;case"defaultChecked":pe=me;break;case"value":v=me;break;case"defaultValue":R=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(b(137,n));break;default:me!==Ce&&en(e,n,de,me,o,Ce)}}jn(e,v,R,P,ce,pe,m,h);return;case"select":me=v=R=de=null;for(m in i)if(P=i[m],i.hasOwnProperty(m)&&P!=null)switch(m){case"value":break;case"multiple":me=P;default:o.hasOwnProperty(m)||en(e,n,m,null,o,P)}for(h in o)if(m=o[h],P=i[h],o.hasOwnProperty(h)&&(m!=null||P!=null))switch(h){case"value":de=m;break;case"defaultValue":R=m;break;case"multiple":v=m;default:m!==P&&en(e,n,h,m,o,P)}n=R,i=v,o=me,de!=null?Ye(e,!!i,de,!1):!!o!=!!i&&(n!=null?Ye(e,!!i,n,!0):Ye(e,!!i,i?[]:"",!1));return;case"textarea":me=de=null;for(R in i)if(h=i[R],i.hasOwnProperty(R)&&h!=null&&!o.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:en(e,n,R,null,o,h)}for(v in o)if(h=o[v],m=i[v],o.hasOwnProperty(v)&&(h!=null||m!=null))switch(v){case"value":de=h;break;case"defaultValue":me=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(b(91));break;default:h!==m&&en(e,n,v,h,o,m)}On(e,de,me);return;case"option":for(var Xe in i)if(de=i[Xe],i.hasOwnProperty(Xe)&&de!=null&&!o.hasOwnProperty(Xe))switch(Xe){case"selected":e.selected=!1;break;default:en(e,n,Xe,null,o,de)}for(P in o)if(de=o[P],me=i[P],o.hasOwnProperty(P)&&de!==me&&(de!=null||me!=null))switch(P){case"selected":e.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:en(e,n,P,de,o,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in i)de=i[et],i.hasOwnProperty(et)&&de!=null&&!o.hasOwnProperty(et)&&en(e,n,et,null,o,de);for(ce in o)if(de=o[ce],me=i[ce],o.hasOwnProperty(ce)&&de!==me&&(de!=null||me!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(b(137,n));break;default:en(e,n,ce,de,o,me)}return;default:if(an(n)){for(var tn in i)de=i[tn],i.hasOwnProperty(tn)&&de!==void 0&&!o.hasOwnProperty(tn)&&zd(e,n,tn,void 0,o,de);for(pe in o)de=o[pe],me=i[pe],!o.hasOwnProperty(pe)||de===me||de===void 0&&me===void 0||zd(e,n,pe,de,o,me);return}}for(var ee in i)de=i[ee],i.hasOwnProperty(ee)&&de!=null&&!o.hasOwnProperty(ee)&&en(e,n,ee,null,o,de);for(Ce in o)de=o[Ce],me=i[Ce],!o.hasOwnProperty(Ce)||de===me||de==null&&me==null||en(e,n,Ce,de,o,me)}function fh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cm(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var h=i[o],m=h.transferSize,v=h.initiatorType,R=h.duration;if(m&&R&&fh(v)){for(v=0,R=h.responseEnd,o+=1;o<i.length;o++){var P=i[o],ce=P.startTime;if(ce>R)break;var pe=P.transferSize,Ce=P.initiatorType;pe&&fh(Ce)&&(P=P.responseEnd,v+=pe*(P<R?1:(R-ce)/(P-ce)))}if(--o,n+=8*(m+v)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ud=null,Hd=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function hh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pd=null;function um(){var e=window.event;return e&&e.type==="popstate"?e===Pd?!1:(Pd=e,!0):(Pd=null,!1)}var gh=typeof setTimeout=="function"?setTimeout:void 0,dm=typeof clearTimeout=="function"?clearTimeout:void 0,mh=typeof Promise=="function"?Promise:void 0,fm=typeof queueMicrotask=="function"?queueMicrotask:typeof mh<"u"?function(e){return mh.resolve(null).then(e).catch(hm)}:gh;function hm(e){setTimeout(function(){throw e})}function Fi(e){return e==="head"}function ph(e,n){var i=n,o=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(h),us(n);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")no(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,no(i);for(var m=i.firstChild;m;){var v=m.nextSibling,R=m.nodeName;m[el]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=v}}else i==="body"&&no(e.ownerDocument.body);i=h}while(i);us(n)}function bh(e,n){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function Gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Gd(i),pa(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function xm(e,n,i,o){for(;e.nodeType===1;){var h=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[el])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=$a(e.nextSibling),e===null)break}return null}function gm(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=$a(e.nextSibling),e===null))return null;return e}function yh(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=$a(e.nextSibling),e===null))return null;return e}function Vd(e){return e.data==="$?"||e.data==="$~"}function Xd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mm(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function $a(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Yd=null;function wh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return $a(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function Ch(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function Eh(e,n,i){switch(n=Tc(i),e){case"html":if(e=n.documentElement,!e)throw Error(b(452));return e;case"head":if(e=n.head,!e)throw Error(b(453));return e;case"body":if(e=n.body,!e)throw Error(b(454));return e;default:throw Error(b(451))}}function no(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);pa(e)}var er=new Map,Ah=new Set;function _c(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var si=J.d;J.d={f:pm,r:bm,D:ym,C:wm,L:Cm,m:Em,X:vm,S:Am,M:Sm};function pm(){var e=si.f(),n=yc();return e||n}function bm(e){var n=Ft(e);n!==null&&n.tag===5&&n.type==="form"?H0(n):si.r(e)}var ss=typeof document>"u"?null:document;function vh(e,n,i){var o=ss;if(o&&typeof n=="string"&&n){var h=Ct(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Ah.has(h)||(Ah.add(h),e={rel:e,crossOrigin:i,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ra(n,"link",e),vn(n),o.head.appendChild(n)))}}function ym(e){si.D(e),vh("dns-prefetch",e,null)}function wm(e,n){si.C(e,n),vh("preconnect",e,n)}function Cm(e,n,i){si.L(e,n,i);var o=ss;if(o&&e&&n){var h='link[rel="preload"][as="'+Ct(n)+'"]';n==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+Ct(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+Ct(i.imageSizes)+'"]')):h+='[href="'+Ct(e)+'"]';var m=h;switch(n){case"style":m=os(e);break;case"script":m=cs(e)}er.has(m)||(e=M({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),er.set(m,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ao(m))||n==="script"&&o.querySelector(ro(m))||(n=o.createElement("link"),ra(n,"link",e),vn(n),o.head.appendChild(n)))}}function Em(e,n){si.m(e,n);var i=ss;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Ct(o)+'"][href="'+Ct(e)+'"]',m=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=cs(e)}if(!er.has(m)&&(e=M({rel:"modulepreload",href:e},n),er.set(m,e),i.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ro(m)))return}o=i.createElement("link"),ra(o,"link",e),vn(o),i.head.appendChild(o)}}}function Am(e,n,i){si.S(e,n,i);var o=ss;if(o&&e){var h=da(o).hoistableStyles,m=os(e);n=n||"default";var v=h.get(m);if(!v){var R={loading:0,preload:null};if(v=o.querySelector(ao(m)))R.loading=5;else{e=M({rel:"stylesheet",href:e,"data-precedence":n},i),(i=er.get(m))&&qd(e,i);var P=v=o.createElement("link");vn(P),ra(P,"link",e),P._p=new Promise(function(ce,pe){P.onload=ce,P.onerror=pe}),P.addEventListener("load",function(){R.loading|=1}),P.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Ic(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:R},h.set(m,v)}}}function vm(e,n){si.X(e,n);var i=ss;if(i&&e){var o=da(i).hoistableScripts,h=cs(e),m=o.get(h);m||(m=i.querySelector(ro(h)),m||(e=M({src:e,async:!0},n),(n=er.get(h))&&Zd(e,n),m=i.createElement("script"),vn(m),ra(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Sm(e,n){si.M(e,n);var i=ss;if(i&&e){var o=da(i).hoistableScripts,h=cs(e),m=o.get(h);m||(m=i.querySelector(ro(h)),m||(e=M({src:e,async:!0,type:"module"},n),(n=er.get(h))&&Zd(e,n),m=i.createElement("script"),vn(m),ra(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(h,m))}}function Sh(e,n,i,o){var h=(h=Se.current)?_c(h):null;if(!h)throw Error(b(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=os(i.href),i=da(h).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=os(i.href);var m=da(h).hoistableStyles,v=m.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,v),(m=h.querySelector(ao(e)))&&!m._p&&(v.instance=m,v.state.loading=5),er.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},er.set(e,i),m||Nm(h,e,i,v.state))),n&&o===null)throw Error(b(528,""));return v}if(n&&o!==null)throw Error(b(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=cs(i),i=da(h).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(b(444,e))}}function os(e){return'href="'+Ct(e)+'"'}function ao(e){return'link[rel="stylesheet"]['+e+"]"}function Nh(e){return M({},e,{"data-precedence":e.precedence,precedence:null})}function Nm(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ra(n,"link",i),vn(n),e.head.appendChild(n))}function cs(e){return'[src="'+Ct(e)+'"]'}function ro(e){return"script[async]"+e}function Th(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Ct(i.href)+'"]');if(o)return n.instance=o,vn(o),o;var h=M({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),vn(o),ra(o,"style",h),Ic(o,i.precedence,e),n.instance=o;case"stylesheet":h=os(i.href);var m=e.querySelector(ao(h));if(m)return n.state.loading|=4,n.instance=m,vn(m),m;o=Nh(i),(h=er.get(h))&&qd(o,h),m=(e.ownerDocument||e).createElement("link"),vn(m);var v=m;return v._p=new Promise(function(R,P){v.onload=R,v.onerror=P}),ra(m,"link",o),n.state.loading|=4,Ic(m,i.precedence,e),n.instance=m;case"script":return m=cs(i.src),(h=e.querySelector(ro(m)))?(n.instance=h,vn(h),h):(o=i,(h=er.get(m))&&(o=M({},i),Zd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),vn(h),ra(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(b(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ic(o,i.precedence,e));return n.instance}function Ic(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,m=h,v=0;v<o.length;v++){var R=o[v];if(R.dataset.precedence===n)m=R;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function qd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Zd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Oc=null;function _h(e,n,i){if(Oc===null){var o=new Map,h=Oc=new Map;h.set(i,o)}else h=Oc,o=h.get(i),o||(o=new Map,h.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),h=0;h<i.length;h++){var m=i[h];if(!(m[el]||m[In]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(n)||"";v=e+v;var R=o.get(v);R?R.push(m):o.set(v,[m])}}return o}function Ih(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function Tm(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Oh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _m(e,n,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=os(o.href),m=n.querySelector(ao(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Rc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=m,vn(m);return}m=n.ownerDocument||n,o=Nh(o),(h=er.get(h))&&qd(o,h),m=m.createElement("link"),vn(m);var v=m;v._p=new Promise(function(R,P){v.onload=R,v.onerror=P}),ra(m,"link",o),i.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Rc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var Wd=0;function Im(e,n){return e.stylesheets&&e.count===0&&Mc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&Wd===0&&(Wd=62500*cm());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Mc(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Wd?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Rc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dc=null;function Mc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dc=new Map,n.forEach(Om,e),Dc=null,Rc.call(e))}function Om(e,n){if(!(n.state.loading&4)){var i=Dc.get(e);if(i)var o=i.get(null);else{i=new Map,Dc.set(e,i);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var v=h[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),o=v)}o&&i.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),m=i.get(v)||o,m===o&&i.set(null,h),i.set(v,h),this.count++,o=Rc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var io={$$typeof:G,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function Rm(e,n,i,o,h,m,v,R,P){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Rh(e,n,i,o,h,m,v,R,P,ce,pe,Ce){return e=new Rm(e,n,i,v,P,ce,pe,Ce,R),n=1,m===!0&&(n|=24),m=Ma(3,null,null,n),e.current=m,m.stateNode=e,n=_u(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:i,cache:n},Du(m),e}function Dh(e){return e?(e=Hl,e):Hl}function Mh(e,n,i,o,h,m){h=Dh(h),o.context===null?o.context=h:o.pendingContext=h,o=Oi(n),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=Ri(e,o,n),i!==null&&(Sa(i,e,n),Ls(i,e,n))}function kh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Qd(e,n){kh(e,n),(e=e.alternate)&&kh(e,n)}function Bh(e){if(e.tag===13||e.tag===31){var n=cl(e,67108864);n!==null&&Sa(n,e,67108864),Qd(e,67108864)}}function jh(e){if(e.tag===13||e.tag===31){var n=za();n=Qn(n);var i=cl(e,n);i!==null&&Sa(i,e,n),Qd(e,n)}}var kc=!0;function Dm(e,n,i,o){var h=U.T;U.T=null;var m=J.p;try{J.p=2,Kd(e,n,i,o)}finally{J.p=m,U.T=h}}function Mm(e,n,i,o){var h=U.T;U.T=null;var m=J.p;try{J.p=8,Kd(e,n,i,o)}finally{J.p=m,U.T=h}}function Kd(e,n,i,o){if(kc){var h=Jd(o);if(h===null)Ld(e,n,o,Bc,i),zh(e,o);else if(Bm(h,e,n,i,o))o.stopPropagation();else if(zh(e,o),n&4&&-1<km.indexOf(e)){for(;h!==null;){var m=Ft(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Ar(m.pendingLanes);if(v!==0){var R=m;for(R.pendingLanes|=2,R.entangledLanes|=2;v;){var P=1<<31-ht(v);R.entanglements[1]|=P,v&=~P}kr(m),(Gt&6)===0&&(pc=Bt()+500,$s(0))}}break;case 31:case 13:R=cl(m,2),R!==null&&Sa(R,m,2),yc(),Qd(m,2)}if(m=Jd(o),m===null&&Ld(e,n,o,Bc,i),m===h)break;h=m}h!==null&&o.stopPropagation()}else Ld(e,n,o,null,i)}}function Jd(e){return e=Es(e),$d(e)}var Bc=null;function $d(e){if(Bc=null,e=An(e),e!==null){var n=w(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=T(n),e!==null)return e;e=null}else if(i===31){if(e=O(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Bc=e,null}function Lh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jn()){case kn:return 2;case lr:return 8;case Bn:case pn:return 32;case Qi:return 268435456;default:return 32}default:return 32}}var ef=!1,Pi=null,Gi=null,Vi=null,lo=new Map,so=new Map,Xi=[],km="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zh(e,n){switch(e){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":lo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(n.pointerId)}}function oo(e,n,i,o,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Ft(n),n!==null&&Bh(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Bm(e,n,i,o,h){switch(n){case"focusin":return Pi=oo(Pi,e,n,i,o,h),!0;case"dragenter":return Gi=oo(Gi,e,n,i,o,h),!0;case"mouseover":return Vi=oo(Vi,e,n,i,o,h),!0;case"pointerover":var m=h.pointerId;return lo.set(m,oo(lo.get(m)||null,e,n,i,o,h)),!0;case"gotpointercapture":return m=h.pointerId,so.set(m,oo(so.get(m)||null,e,n,i,o,h)),!0}return!1}function Uh(e){var n=An(e.target);if(n!==null){var i=w(n);if(i!==null){if(n=i.tag,n===13){if(n=T(i),n!==null){e.blockedOn=n,Pe(e.priority,function(){jh(i)});return}}else if(n===31){if(n=O(i),n!==null){e.blockedOn=n,Pe(e.priority,function(){jh(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Jd(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);tl=o,i.target.dispatchEvent(o),tl=null}else return n=Ft(i),n!==null&&Bh(n),e.blockedOn=i,!1;n.shift()}return!0}function Hh(e,n,i){jc(e)&&i.delete(n)}function jm(){ef=!1,Pi!==null&&jc(Pi)&&(Pi=null),Gi!==null&&jc(Gi)&&(Gi=null),Vi!==null&&jc(Vi)&&(Vi=null),lo.forEach(Hh),so.forEach(Hh)}function Lc(e,n){e.blockedOn===n&&(e.blockedOn=null,ef||(ef=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,jm)))}var zc=null;function Fh(e){zc!==e&&(zc=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){zc===e&&(zc=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if($d(o||i)===null)continue;break}var m=Ft(i);m!==null&&(e.splice(n,3),n-=3,Ju(m,{pending:!0,data:h,method:i.method,action:o},o,h))}}))}function us(e){function n(P){return Lc(P,e)}Pi!==null&&Lc(Pi,e),Gi!==null&&Lc(Gi,e),Vi!==null&&Lc(Vi,e),lo.forEach(n),so.forEach(n);for(var i=0;i<Xi.length;i++){var o=Xi[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Xi.length&&(i=Xi[0],i.blockedOn===null);)Uh(i),i.blockedOn===null&&Xi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var h=i[o],m=i[o+1],v=h[Wt]||null;if(typeof m=="function")v||Fh(i);else if(v){var R=null;if(m&&m.hasAttribute("formAction")){if(h=m,v=m[Wt]||null)R=v.formAction;else if($d(h)!==null)continue}else R=v.action;typeof R=="function"?i[o+1]=R:(i.splice(o,3),o-=3),Fh(i)}}}function Ph(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function tf(e){this._internalRoot=e}Uc.prototype.render=tf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(b(409));var i=n.current,o=za();Mh(i,o,e,n,null,null)},Uc.prototype.unmount=tf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Mh(e.current,2,null,e,null,null),yc(),n[Ta]=null}};function Uc(e){this._internalRoot=e}Uc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ca();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Xi.length&&n!==0&&n<Xi[i].priority;i++);Xi.splice(i,0,e),i===0&&Uh(e)}};var Gh=f.version;if(Gh!=="19.2.0")throw Error(b(527,Gh,"19.2.0"));J.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=E(n),e=e!==null?B(e):null,e=e===null?null:e.stateNode,e};var Lm={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{on=Hc.inject(Lm),Be=Hc}catch{}}return uo.createRoot=function(e,n){if(!C(e))throw Error(b(299));var i=!1,o="",h=Q0,m=K0,v=J0;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=Rh(e,1,!1,null,null,i,o,null,h,m,v,Ph),e[Ta]=n.current,jd(e),new tf(n)},uo.hydrateRoot=function(e,n,i){if(!C(e))throw Error(b(299));var o=!1,h="",m=Q0,v=K0,R=J0,P=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(R=i.onRecoverableError),i.formState!==void 0&&(P=i.formState)),n=Rh(e,1,!0,n,i??null,o,h,P,m,v,R,Ph),n.context=Dh(null),i=n.current,o=za(),o=Qn(o),h=Oi(o),h.callback=null,Ri(i,h,o),i=o,n.current.lanes=i,Sr(n,i),kr(n),e[Ta]=n.current,jd(e),new Uc(n)},uo.version="19.2.0",uo}var $h;function qm(){if($h)return rf.exports;$h=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(f){console.error(f)}}return d(),rf.exports=Ym(),rf.exports}var Zm=qm();const Wm=nu(Zm),Qm="modulepreload",Km=function(d){return"/pedido/"+d},ex={},fs=function(f,g,b){let C=Promise.resolve();if(g&&g.length>0){let T=function(E){return Promise.all(E.map(B=>Promise.resolve(B).then(M=>({status:"fulfilled",value:M}),M=>({status:"rejected",reason:M}))))};document.getElementsByTagName("link");const O=document.querySelector("meta[property=csp-nonce]"),_=(O==null?void 0:O.nonce)||(O==null?void 0:O.getAttribute("nonce"));C=T(g.map(E=>{if(E=Km(E),E in ex)return;ex[E]=!0;const B=E.endsWith(".css"),M=B?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${M}`))return;const X=document.createElement("link");if(X.rel=B?"stylesheet":Qm,B||(X.as="script"),X.crossOrigin="",X.href=E,_&&X.setAttribute("nonce",_),document.head.appendChild(X),B)return new Promise((W,fe)=>{X.addEventListener("load",W),X.addEventListener("error",()=>fe(new Error(`Unable to preload CSS for ${E}`)))})}))}function w(T){const O=new Event("vite:preloadError",{cancelable:!0});if(O.payload=T,window.dispatchEvent(O),!O.defaultPrevented)throw T}return C.then(T=>{for(const O of T||[])O.status==="rejected"&&w(O.reason);return f().catch(w)})},ia=[];for(let d=0;d<256;++d)ia.push((d+256).toString(16).slice(1));function Jm(d,f=0){return(ia[d[f+0]]+ia[d[f+1]]+ia[d[f+2]]+ia[d[f+3]]+"-"+ia[d[f+4]]+ia[d[f+5]]+"-"+ia[d[f+6]]+ia[d[f+7]]+"-"+ia[d[f+8]]+ia[d[f+9]]+"-"+ia[d[f+10]]+ia[d[f+11]]+ia[d[f+12]]+ia[d[f+13]]+ia[d[f+14]]+ia[d[f+15]]).toLowerCase()}let cf;const $m=new Uint8Array(16);function e2(){if(!cf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");cf=crypto.getRandomValues.bind(crypto)}return cf($m)}const t2=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tx={randomUUID:t2};function n2(d,f,g){var C;d=d||{};const b=d.random??((C=d.rng)==null?void 0:C.call(d))??e2();if(b.length<16)throw new Error("Random bytes length must be >= 16");return b[6]=b[6]&15|64,b[8]=b[8]&63|128,Jm(b)}function El(d,f,g){return tx.randomUUID&&!d?tx.randomUUID():n2(d)}async function Ux(d,f){const b=(await xs()).transaction(d,"readwrite"),C=b.objectStore(d);return f.forEach(w=>C.put(w)),new Promise((w,T)=>{b.oncomplete=()=>w(),b.onerror=()=>T(b.error)})}function xs(){return new Promise((d,f)=>{const g=window.indexedDB.open("falcon_db",4);g.onupgradeneeded=()=>{const b=g.result;["falcon_products_db","falcon_orders_db","falcon_users_db","falcon_user","falcon_user_logged","falcon_order_items_db","falcon_inbox_db","PedidosExcluidos","ProdutosExcluidosPedidos","falcon_categories_db"].forEach(w=>{b.objectStoreNames.contains(w)||b.createObjectStore(w,{keyPath:"id",autoIncrement:!1})})},g.onsuccess=()=>d(g.result),g.onerror=()=>f(g.error)})}async function Wn(d,f){const b=(await xs()).transaction(d,"readwrite");return b.objectStore(d).put(f),new Promise((C,w)=>{b.oncomplete=()=>C(),b.onerror=()=>w(b.error)})}async function Ot(d){const b=(await xs()).transaction(d,"readonly").objectStore(d);return new Promise(C=>{const w=b.getAll();w.onsuccess=()=>C(w.result)})}async function vl(d,f){const b=(await xs()).transaction(d,"readwrite");return b.objectStore(d).delete(f),new Promise((C,w)=>{b.oncomplete=()=>C(),b.onerror=()=>w(b.error)})}async function Sl(d){const g=(await xs()).transaction(d,"readwrite");return g.objectStore(d).clear(),new Promise((b,C)=>{g.oncomplete=()=>b(),g.onerror=()=>C(g.error)})}const Zc=Object.freeze(Object.defineProperty({__proto__:null,clearStore:Sl,getAll:Ot,openDB:xs,removeItem:vl,saveItem:Wn,saveItems:Ux},Symbol.toStringTag,{value:"Module"})),ui=({isOpen:d,onClose:f,title:g,children:b,footer:C})=>d?p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:p.jsxs("div",{className:"bg-white dark:bg-[#1E1E1E] rounded-xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-gray-100 dark:border-gray-700",children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:g}),p.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:p.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),p.jsx("div",{className:"p-6 text-slate-600 dark:text-gray-300 max-h-[50vh] overflow-y-auto",children:b}),C&&p.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-[#252525] flex justify-end gap-3 border-t border-gray-100 dark:border-gray-700",children:C})]})}):null,nx=({isOpen:d,setIsOpen:f,onNavigate:g,currentScreen:b,theme:C,setTheme:w})=>{const T=O=>`flex items-center gap-3 p-2 rounded-lg transition-colors cursor-pointer ${b===O?"bg-primary/10 text-primary dark:text-primary":"text-text-secondary-light dark:text-text-secondary-dark hover:bg-gray-100 dark:hover:bg-gray-800"}`;return p.jsxs(p.Fragment,{children:[d&&p.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 transition-opacity lg:hidden",onClick:()=>f(!1)}),p.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 transform bg-surface-light dark:bg-background-dark p-4 shadow-xl transition-transform duration-300 ease-in-out lg:translate-x-0 ${d?"translate-x-0":"-translate-x-full"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 mb-8 cursor-pointer",onClick:()=>g("productList"),children:[p.jsx("div",{className:"bg-primary p-2 rounded-lg",children:p.jsx("span",{className:"material-symbols-outlined text-white",children:"shopping_cart"})}),p.jsx("span",{className:"text-xl font-bold font-display",children:"VNET"}),p.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"v1.1.6"})]}),p.jsxs("nav",{className:"flex flex-col h-[calc(100%-4rem)] overflow-y-auto no-scrollbar",children:[p.jsxs("ul",{className:"space-y-1",children:[p.jsx("li",{children:p.jsxs("div",{className:T("productList"),onClick:()=>g("productList"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"dashboard"}),p.jsx("span",{className:"font-medium",children:"Menu Principal"})]})}),p.jsx("li",{className:"pt-4 text-xs font-semibold uppercase text-gray-400 dark:text-gray-500 px-2 pb-2",children:"Opes"}),p.jsx("li",{hidden:!0,children:p.jsxs("div",{className:T("inbox"),onClick:()=>g("inbox"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"mail"}),p.jsx("span",{className:"font-medium",children:"Caixa de Entrada"})]})}),p.jsx("li",{children:p.jsxs("div",{className:T("sync"),onClick:()=>g("sync"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"sync"}),p.jsx("span",{className:"font-medium",children:"Sincronizar Dados"})]})}),p.jsx("li",{children:p.jsxs("div",{className:T("categoryList"),onClick:()=>g("categoryList"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"category"}),p.jsx("span",{className:"font-medium",children:"Categorias"})]})}),p.jsx("li",{children:p.jsxs("div",{className:T("productTable"),onClick:()=>g("productTable"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"inventory_2"}),p.jsx("span",{className:"font-medium",children:"Produtos"})]})}),p.jsx("li",{children:p.jsxs("div",{className:T("orderList"),onClick:()=>g("orderList"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"orders"}),p.jsx("span",{className:"font-medium",children:"Pedidos"})]})}),p.jsx("li",{children:p.jsxs("div",{className:T("shop"),onClick:()=>g("shop"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"}),p.jsx("span",{className:"font-medium",children:"Novo Pedido"})]})}),p.jsx("li",{children:p.jsxs("div",{className:T("addProduct"),onClick:()=>g("addProduct"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"add_circle"}),p.jsx("span",{className:"font-medium",children:"Adicionar Produto"})]})}),p.jsx("li",{children:p.jsxs("div",{className:T("config"),onClick:()=>g("config"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"settings"}),p.jsx("span",{className:"font-medium",children:"Configuraes"})]})}),p.jsx("li",{children:p.jsxs("div",{className:T("profile"),onClick:()=>g("profile"),children:[p.jsx("span",{className:"material-symbols-outlined",children:"person"}),p.jsx("span",{className:"font-medium",children:"Perfil"})]})}),p.jsx("li",{hidden:!0,children:p.jsxs("a",{href:"#",className:"flex items-center gap-3 p-2 rounded-lg text-text-secondary-light dark:text-text-secondary-dark hover:bg-gray-100 dark:hover:bg-gray-800",children:[p.jsx("span",{className:"material-symbols-outlined",children:"calendar_today"}),p.jsx("span",{className:"font-medium",children:"Calendrio"})]})}),p.jsx("li",{hidden:!0,children:p.jsxs("a",{href:"#",className:"flex items-center gap-3 p-2 rounded-lg text-text-secondary-light dark:text-text-secondary-dark hover:bg-gray-100 dark:hover:bg-gray-800",children:[p.jsx("span",{className:"material-symbols-outlined",children:"chat_bubble"}),p.jsx("span",{className:"font-medium",children:"Chat"})]})})]}),p.jsxs("div",{className:"mt-auto pt-4 border-t border-border-light dark:border-border-dark",children:[p.jsxs("button",{onClick:()=>w(C==="dark"?"light":"dark"),className:"w-full flex items-center gap-3 p-2 rounded-lg text-primary hover:bg-primary/10 dark:hover:bg-primary/20 mb-2",children:[p.jsx("span",{className:"material-symbols-outlined",children:C==="dark"?"light_mode":"dark_mode"}),p.jsx("span",{className:"font-medium",children:C==="dark"?"Modo Claro":"Modo Escuro"})]}),p.jsxs("button",{onClick:()=>g("login"),className:"w-full flex items-center gap-3 p-2 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:[p.jsx("span",{className:"material-symbols-outlined",children:"logout"}),p.jsx("span",{className:"font-medium",children:"Sair"})]})]})]})]})]})},a2=({currentScreen:d,onNavigate:f})=>{const g=b=>`flex flex-col items-center justify-center gap-1 w-1/5 ${d===b?"text-primary":"text-text-secondary-light dark:text-text-secondary-dark hover:text-primary dark:hover:text-white"}`;return p.jsx("nav",{className:"fixed bottom-0 left-0 w-full z-30 border-t border-border-light dark:border-border-dark bg-surface-light dark:bg-background-dark pb-safe",children:p.jsxs("div",{className:"flex h-16 items-center justify-around px-2",children:[p.jsxs("button",{className:g("productList"),onClick:()=>f("productList"),children:[p.jsx("span",{className:"material-symbols-outlined text-2xl",children:"home"}),p.jsx("span",{className:"text-[10px] font-medium",children:"Incio"})]}),p.jsxs("button",{className:g("productTable"),onClick:()=>f("productTable"),children:[p.jsx("span",{className:"material-symbols-outlined text-2xl",children:"inventory_2"}),p.jsx("span",{className:"text-[10px] font-medium",children:"Produtos"})]}),p.jsxs("button",{className:g("addProduct"),onClick:()=>f("addProduct"),children:[p.jsx("span",{className:"material-symbols-outlined text-2xl",children:"add_circle"}),p.jsx("span",{className:"text-[10px] font-medium",children:"Adicionar"})]}),p.jsxs("button",{className:g("shop"),onClick:()=>f("shop"),children:[p.jsx("span",{className:"material-symbols-outlined text-2xl",children:"shopping_cart"}),p.jsx("span",{className:"text-[10px] font-medium",children:"Novo Pedido"})]}),p.jsxs("button",{className:g("profile"),onClick:()=>f("profile"),children:[p.jsx("span",{className:"material-symbols-outlined text-2xl",children:"person"}),p.jsx("span",{className:"text-[10px] font-medium",children:"Perfil"})]})]})})},mr=({children:d,title:f,showBottomNav:g=!0,isSidebarOpen:b,setIsSidebarOpen:C,onNavigate:w,currentScreen:T,theme:O,setTheme:_})=>p.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-sans overflow-x-hidden",children:[p.jsx("div",{className:"hidden lg:block",children:p.jsx(nx,{isOpen:!0,setIsOpen:()=>{},onNavigate:w,currentScreen:T,theme:O,setTheme:_})}),p.jsx("div",{className:"lg:hidden",children:p.jsx(nx,{isOpen:b,setIsOpen:C,onNavigate:w,currentScreen:T,theme:O,setTheme:_})}),p.jsxs("main",{className:`transition-all duration-300 ${["login","register"].includes(T)?"":"lg:ml-64"} flex flex-col min-h-screen`,children:[d,g&&p.jsx("div",{className:"lg:hidden mt-auto",children:p.jsx(a2,{currentScreen:T,onNavigate:w})})]})]}),ax=({onNavigate:d})=>{const[f,g]=be.useState(""),[b,C]=be.useState(""),[w,T]=be.useState(""),O=()=>{Ot("falcon_users_db").then(_=>{if(!Array.isArray(_)||_.length===0){T("Usurio no encontrado.");return}const E=_.find(B=>(B.Email===f||B.Nome===f)&&B.password===b);if(!E){T("E-mail ou senha incorretos.");return}T(""),Wn("falcon_user_logged",E).then(()=>{d("productList")})})};return p.jsx("div",{className:"relative flex min-h-screen w-full flex-col bg-background-dark font-display text-white overflow-hidden",children:p.jsxs("div",{className:"flex flex-col flex-grow justify-center px-6 pt-12 pb-8 max-w-md mx-auto w-full",children:[p.jsxs("div",{className:"text-center mb-10",children:[p.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white mb-2",children:"Bem-vindo de volta"}),p.jsx("p",{className:"text-text-secondary-dark",children:"Faa login para continuar"})]}),p.jsxs("div",{className:"flex flex-col gap-5",children:[p.jsxs("label",{className:"flex flex-col flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Usurio ou E-mail"}),p.jsx("input",{className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"ex: seu.nome@exemplo.com",value:f,onChange:_=>g(_.target.value)})]}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("label",{className:"flex flex-col flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Senha"}),p.jsx("input",{type:"password",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite sua senha",value:b,onChange:_=>C(_.target.value)})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx("button",{className:"text-sm font-medium text-primary hover:text-blue-400 transition-colors",children:"Esqueceu a senha?"})})]})]}),p.jsxs("div",{className:"mt-8",children:[w&&p.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:w}),p.jsx("button",{onClick:O,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95",children:"Entrar"})]}),p.jsx("div",{className:"mt-auto pt-8 text-center",children:p.jsxs("p",{className:"text-text-secondary-dark",children:["No tem uma conta?"," ",p.jsx("button",{onClick:()=>d("register"),className:"font-semibold text-primary hover:text-blue-400 transition-colors",children:"Criar Conta"})]})})]})})},r2=({onNavigate:d})=>{const[f,g]=be.useState(""),[b,C]=be.useState(""),[w,T]=be.useState(""),[O,_]=be.useState(""),[E,B]=be.useState(""),M=()=>{if(!f||!b||!w||!O){B("Preencha todos os campos.");return}if(w!==O){B("As senhas no conferem.");return}const X={id:El(),Nome:f,Email:b,password:w,Avatar:"",Bio:"",Telefone:""};Wn("falcon_user",X).then(()=>{Wn("falcon_users_db",X).then(()=>{B(""),d("login")}).catch(W=>{B("Erro ao salvar em falcon_users_db: "+((W==null?void 0:W.message)||W))})}).catch(W=>{B("Erro ao salvar em falcon_user: "+((W==null?void 0:W.message)||W))})};return p.jsxs("div",{className:"relative flex min-h-screen w-full flex-col bg-background-dark font-display text-white overflow-hidden",children:[p.jsx("div",{className:"flex items-center p-4",children:p.jsx("h1",{className:"text-white text-3xl font-bold leading-tight",children:"Criar Conta"})}),p.jsx("main",{className:"flex-grow px-4 max-w-md mx-auto w-full",children:p.jsxs("div",{className:"flex flex-col gap-4 py-3",children:[p.jsxs("label",{className:"flex flex-col flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Nome"}),p.jsx("input",{className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite seu nome completo",value:f,onChange:X=>g(X.target.value)})]}),p.jsxs("label",{className:"flex flex-col flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium pb-2",children:"E-mail"}),p.jsx("input",{type:"email",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite seu e-mail",value:b,onChange:X=>C(X.target.value)})]}),p.jsxs("label",{className:"flex flex-col flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Senha"}),p.jsx("input",{type:"password",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite sua senha",value:w,onChange:X=>T(X.target.value)})]}),p.jsxs("label",{className:"flex flex-col flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Confirmar Senha"}),p.jsx("input",{type:"password",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Confirme sua senha",value:O,onChange:X=>_(X.target.value)})]})]})}),p.jsxs("footer",{className:"mt-auto p-4 pb-6 max-w-md mx-auto w-full",children:[E&&p.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:E}),p.jsx("button",{onClick:M,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95 mb-4",children:"Criar Conta"}),p.jsxs("p",{className:"text-center text-sm text-text-secondary-dark",children:["J tem uma conta?"," ",p.jsx("button",{onClick:()=>d("login"),className:"font-semibold text-primary hover:underline",children:"Entrar"})]})]})]})};function i2(){const[d,f]=Ue.useState([]);return Ue.useEffect(()=>{Ot("falcon_categories_db").then(g=>f(g))},[]),d}var l2=zx();const s2=nu(l2),au=0,qi=1,gs=2,Hx=4;function rx(d){return()=>d}function o2(d){d()}function go(d,f){return g=>d(f(g))}function ix(d,f){return()=>d(f)}function c2(d,f){return g=>d(f,g)}function Af(d){return d!==void 0}function u2(...d){return()=>{d.map(o2)}}function ms(){}function ru(d,f){return f(d),d}function d2(d,f){return f(d)}function mn(...d){return d}function qt(d,f){return d(qi,f)}function pt(d,f){d(au,f)}function vf(d){d(gs)}function En(d){return d(Hx)}function Ze(d,f){return qt(d,c2(f,au))}function pr(d,f){const g=d(qi,b=>{g(),f(b)});return g}function lx(d){let f,g;return b=>C=>{f=C,g&&clearTimeout(g),g=setTimeout(()=>{b(f)},d)}}function Fx(d,f){return d===f}function xn(d=Fx){let f;return g=>b=>{d(f,b)||(f=b,g(b))}}function nt(d){return f=>g=>{d(g)&&f(g)}}function Ve(d){return f=>go(f,d)}function Br(d){return f=>()=>{f(d)}}function Ie(d,...f){const g=f2(...f);return(b,C)=>{switch(b){case gs:vf(d);return;case qi:return qt(d,g(C))}}}function jr(d,f){return g=>b=>{g(f=d(f,b))}}function Nl(d){return f=>g=>{d>0?d--:f(g)}}function ci(d){let f=null,g;return b=>C=>{f=C,!g&&(g=setTimeout(()=>{g=void 0,b(f)},d))}}function yt(...d){const f=new Array(d.length);let g=0,b=null;const C=Math.pow(2,d.length)-1;return d.forEach((w,T)=>{const O=Math.pow(2,T);qt(w,_=>{const E=g;g=g|O,f[T]=_,E!==C&&g===C&&b&&(b(),b=null)})}),w=>T=>{const O=()=>{w([T].concat(f))};g===C?O():b=O}}function f2(...d){return f=>d.reduceRight(d2,f)}function h2(d){let f,g;const b=()=>f==null?void 0:f();return function(C,w){switch(C){case qi:return w?g===w?void 0:(b(),g=w,f=qt(d,w),f):(b(),ms);case gs:b(),g=null;return}}}function Le(d){let f=d;const g=Mt();return(b,C)=>{switch(b){case au:f=C;break;case qi:{C(f);break}case Hx:return f}return g(b,C)}}function oa(d,f){return ru(Le(f),g=>Ze(d,g))}function Mt(){const d=[];return(f,g)=>{switch(f){case au:d.slice().forEach(b=>{b(g)});return;case gs:d.splice(0,d.length);return;case qi:return d.push(g),()=>{const b=d.indexOf(g);b>-1&&d.splice(b,1)}}}}function Fa(d){return ru(Mt(),f=>Ze(d,f))}function Ht(d,f=[],{singleton:g}={singleton:!0}){return{constructor:d,dependencies:f,id:x2(),singleton:g}}const x2=()=>Symbol();function g2(d){const f=new Map,g=({constructor:b,dependencies:C,id:w,singleton:T})=>{if(T&&f.has(w))return f.get(w);const O=b(C.map(_=>g(_)));return T&&f.set(w,O),O};return g(d)}function Pn(...d){const f=Mt(),g=new Array(d.length);let b=0;const C=Math.pow(2,d.length)-1;return d.forEach((w,T)=>{const O=Math.pow(2,T);qt(w,_=>{g[T]=_,b=b|O,b===C&&pt(f,g)})}),function(w,T){switch(w){case gs:{vf(f);return}case qi:return b===C&&T(g),qt(f,T)}}}function at(d,f=Fx){return Ie(d,xn(f))}function gf(...d){return function(f,g){switch(f){case gs:return;case qi:return u2(...d.map(b=>qt(b,g)))}}}var Na=(d=>(d[d.DEBUG=0]="DEBUG",d[d.INFO=1]="INFO",d[d.WARN=2]="WARN",d[d.ERROR=3]="ERROR",d))(Na||{});const m2={0:"debug",3:"error",1:"log",2:"warn"},p2=()=>typeof globalThis>"u"?window:globalThis,Zi=Ht(()=>{const d=Le(3);return{log:Le((f,g,b=1)=>{var C;const w=(C=p2().VIRTUOSO_LOG_LEVEL)!=null?C:En(d);b>=w&&console[m2[b]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",f,g)}),logLevel:d}},[],{singleton:!0});function Lr(d,f,g){return Sf(d,f,g).callbackRef}function Sf(d,f,g){const b=Ue.useRef(null);let C=T=>{};const w=Ue.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(T=>{const O=()=>{const _=T[0].target;_.offsetParent!==null&&d(_)};g?O():requestAnimationFrame(O)}):null,[d,g]);return C=T=>{T&&f?(w==null||w.observe(T),b.current=T):(b.current&&(w==null||w.unobserve(b.current)),b.current=null)},{callbackRef:C,ref:b}}function Px(d,f,g,b,C,w,T,O,_){const E=Ue.useCallback(B=>{const M=b2(B.children,f,O?"offsetWidth":"offsetHeight",C);let X=B.parentElement;for(;!X.dataset.virtuosoScroller;)X=X.parentElement;const W=X.lastElementChild.dataset.viewportType==="window";let fe;W&&(fe=X.ownerDocument.defaultView);const te=T?O?T.scrollLeft:T.scrollTop:W?O?fe.scrollX||fe.document.documentElement.scrollLeft:fe.scrollY||fe.document.documentElement.scrollTop:O?X.scrollLeft:X.scrollTop,ne=T?O?T.scrollWidth:T.scrollHeight:W?O?fe.document.documentElement.scrollWidth:fe.document.documentElement.scrollHeight:O?X.scrollWidth:X.scrollHeight,z=T?O?T.offsetWidth:T.offsetHeight:W?O?fe.innerWidth:fe.innerHeight:O?X.offsetWidth:X.offsetHeight;b({scrollHeight:ne,scrollTop:Math.max(te,0),viewportHeight:z}),w==null||w(O?sx("column-gap",getComputedStyle(B).columnGap,C):sx("row-gap",getComputedStyle(B).rowGap,C)),M!==null&&d(M)},[d,f,C,w,T,b,O]);return Sf(E,g,_)}function b2(d,f,g,b){const C=d.length;if(C===0)return null;const w=[];for(let T=0;T<C;T++){const O=d.item(T);if(O.dataset.index===void 0)continue;const _=parseInt(O.dataset.index),E=parseFloat(O.dataset.knownSize),B=f(O,g);if(B===0&&b("Zero-sized element, this should not happen",{child:O},Na.ERROR),B===E)continue;const M=w[w.length-1];w.length===0||M.size!==B||M.endIndex!==_-1?w.push({endIndex:_,size:B,startIndex:_}):w[w.length-1].endIndex++}return w}function sx(d,f,g){return f!=="normal"&&!(f!=null&&f.endsWith("px"))&&g(`${d} was not resolved to pixel value correctly`,f,Na.WARN),f==="normal"?0:parseInt(f??"0",10)}function Nf(d,f,g){const b=Ue.useRef(null),C=Ue.useCallback(_=>{if(!(_!=null&&_.offsetParent))return;const E=_.getBoundingClientRect(),B=E.width;let M,X;if(f){const W=f.getBoundingClientRect(),fe=E.top-W.top;X=W.height-Math.max(0,fe),M=fe+f.scrollTop}else{const W=T.current.ownerDocument.defaultView;X=W.innerHeight-Math.max(0,E.top),M=E.top+W.scrollY}b.current={offsetTop:M,visibleHeight:X,visibleWidth:B},d(b.current)},[d,f]),{callbackRef:w,ref:T}=Sf(C,!0,g),O=Ue.useCallback(()=>{C(T.current)},[C,T]);return Ue.useEffect(()=>{var _;if(f){f.addEventListener("scroll",O);const E=new ResizeObserver(()=>{requestAnimationFrame(O)});return E.observe(f),()=>{f.removeEventListener("scroll",O),E.unobserve(f)}}else{const E=(_=T.current)==null?void 0:_.ownerDocument.defaultView;return E==null||E.addEventListener("scroll",O),E==null||E.addEventListener("resize",O),()=>{E==null||E.removeEventListener("scroll",O),E==null||E.removeEventListener("resize",O)}}},[O,f,T]),w}const ma=Ht(()=>{const d=Mt(),f=Mt(),g=Le(0),b=Mt(),C=Le(0),w=Mt(),T=Mt(),O=Le(0),_=Le(0),E=Le(0),B=Le(0),M=Mt(),X=Mt(),W=Le(!1),fe=Le(!1),te=Le(!1);return Ze(Ie(d,Ve(({scrollTop:ne})=>ne)),f),Ze(Ie(d,Ve(({scrollHeight:ne})=>ne)),T),Ze(f,C),{deviation:g,fixedFooterHeight:E,fixedHeaderHeight:_,footerHeight:B,headerHeight:O,horizontalDirection:fe,scrollBy:X,scrollContainerState:d,scrollHeight:T,scrollingInProgress:W,scrollTo:M,scrollTop:f,skipAnimationFrameInResizeObserver:te,smoothScrollTargetReached:b,statefulScrollTop:C,viewportHeight:w}},[],{singleton:!0}),mo={lvl:0};function Gx(d,f){const g=d.length;if(g===0)return[];let{index:b,value:C}=f(d[0]);const w=[];for(let T=1;T<g;T++){const{index:O,value:_}=f(d[T]);w.push({end:O-1,start:b,value:C}),b=O,C=_}return w.push({end:1/0,start:b,value:C}),w}function nn(d){return d===mo}function po(d,f){if(!nn(d))return f===d.k?d.v:f<d.k?po(d.l,f):po(d.r,f)}function yr(d,f,g="k"){if(nn(d))return[-1/0,void 0];if(Number(d[g])===f)return[d.k,d.v];if(Number(d[g])<f){const b=yr(d.r,f,g);return b[0]===-1/0?[d.k,d.v]:b}return yr(d.l,f,g)}function Ha(d,f,g){return nn(d)?Yx(f,g,1):f===d.k?Zn(d,{k:f,v:g}):f<d.k?ox(Zn(d,{l:Ha(d.l,f,g)})):ox(Zn(d,{r:Ha(d.r,f,g)}))}function hs(){return mo}function iu(d,f,g){if(nn(d))return[];const b=yr(d,f)[0];return y2(pf(d,b,g))}function mf(d,f){if(nn(d))return mo;const{k:g,l:b,r:C}=d;if(f===g){if(nn(b))return C;if(nn(C))return b;{const[w,T]=Xx(b);return Yc(Zn(d,{k:w,l:Vx(b),v:T}))}}else return f<g?Yc(Zn(d,{l:mf(b,f)})):Yc(Zn(d,{r:mf(C,f)}))}function Al(d){return nn(d)?[]:[...Al(d.l),{k:d.k,v:d.v},...Al(d.r)]}function pf(d,f,g){if(nn(d))return[];const{k:b,l:C,r:w,v:T}=d;let O=[];return b>f&&(O=O.concat(pf(C,f,g))),b>=f&&b<=g&&O.push({k:b,v:T}),b<=g&&(O=O.concat(pf(w,f,g))),O}function Yc(d){const{l:f,lvl:g,r:b}=d;if(b.lvl>=g-1&&f.lvl>=g-1)return d;if(g>b.lvl+1){if(uf(f))return qx(Zn(d,{lvl:g-1}));if(!nn(f)&&!nn(f.r))return Zn(f.r,{l:Zn(f,{r:f.r.l}),lvl:g,r:Zn(d,{l:f.r.r,lvl:g-1})});throw new Error("Unexpected empty nodes")}else{if(uf(d))return bf(Zn(d,{lvl:g-1}));if(!nn(b)&&!nn(b.l)){const C=b.l,w=uf(C)?b.lvl-1:b.lvl;return Zn(C,{l:Zn(d,{lvl:g-1,r:C.l}),lvl:C.lvl+1,r:bf(Zn(b,{l:C.r,lvl:w}))})}else throw new Error("Unexpected empty nodes")}}function Zn(d,f){return Yx(f.k!==void 0?f.k:d.k,f.v!==void 0?f.v:d.v,f.lvl!==void 0?f.lvl:d.lvl,f.l!==void 0?f.l:d.l,f.r!==void 0?f.r:d.r)}function Vx(d){return nn(d.r)?d.l:Yc(Zn(d,{r:Vx(d.r)}))}function uf(d){return nn(d)||d.lvl>d.r.lvl}function Xx(d){return nn(d.r)?[d.k,d.v]:Xx(d.r)}function Yx(d,f,g,b=mo,C=mo){return{k:d,l:b,lvl:g,r:C,v:f}}function ox(d){return bf(qx(d))}function qx(d){const{l:f}=d;return!nn(f)&&f.lvl===d.lvl?Zn(f,{r:Zn(d,{l:f.r})}):d}function bf(d){const{lvl:f,r:g}=d;return!nn(g)&&!nn(g.r)&&g.lvl===f&&g.r.lvl===f?Zn(g,{l:Zn(d,{r:g.l}),lvl:f+1}):d}function y2(d){return Gx(d,({k:f,v:g})=>({index:f,value:g}))}function Zx(d,f){return!!(d&&d.startIndex===f.startIndex&&d.endIndex===f.endIndex)}function bo(d,f){return!!(d&&d[0]===f[0]&&d[1]===f[1])}const Tf=Ht(()=>({recalcInProgress:Le(!1)}),[],{singleton:!0});function Wx(d,f,g){return d[Wc(d,f,g)]}function Wc(d,f,g,b=0){let C=d.length-1;for(;b<=C;){const w=Math.floor((b+C)/2),T=d[w],O=g(T,f);if(O===0)return w;if(O===-1){if(C-b<2)return w-1;C=w-1}else{if(C===b)return w;b=w+1}}throw new Error(`Failed binary finding record in array - ${d.join(",")}, searched for ${f}`)}function w2(d,f,g,b){const C=Wc(d,f,b),w=Wc(d,g,b,C);return d.slice(C,w+1)}function wr(d,f){return Math.round(d.getBoundingClientRect()[f])}function lu(d){return!nn(d.groupOffsetTree)}function _f({index:d},f){return f===d?0:f<d?-1:1}function C2(){return{groupIndices:[],groupOffsetTree:hs(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:hs()}}function E2(d,f){let g=nn(d)?0:1/0;for(const b of f){const{endIndex:C,size:w,startIndex:T}=b;if(g=Math.min(g,T),nn(d)){d=Ha(d,0,w);continue}const O=iu(d,T-1,C+1);if(O.some(I2(b)))continue;let _=!1,E=!1;for(const{end:B,start:M,value:X}of O)_?(C>=M||w===X)&&(d=mf(d,M)):(E=X!==w,_=!0),B>C&&C>=M&&X!==w&&(d=Ha(d,C+1,X));E&&(d=Ha(d,T,w))}return[d,g]}function A2(d){return typeof d.groupIndex<"u"}function v2({offset:d},f){return f===d?0:f<d?-1:1}function yo(d,f,g){if(f.length===0)return 0;const{index:b,offset:C,size:w}=Wx(f,d,_f),T=d-b,O=w*T+(T-1)*g+C;return O>0?O+g:O}function Qx(d,f){if(!lu(f))return d;let g=0;for(;f.groupIndices[g]<=d+g;)g++;return d+g}function Kx(d,f,g){if(A2(d))return f.groupIndices[d.groupIndex]+1;{const b=d.index==="LAST"?g:d.index;let C=Qx(b,f);return C=Math.max(0,C,Math.min(g,C)),C}}function S2(d,f,g,b=0){return b>0&&(f=Math.max(f,Wx(d,b,_f).offset)),Gx(w2(d,f,g,v2),_2)}function N2(d,[f,g,b,C]){f.length>0&&b("received item sizes",f,Na.DEBUG);const w=d.sizeTree;let T=w,O=0;if(g.length>0&&nn(w)&&f.length===2){const X=f[0].size,W=f[1].size;T=g.reduce((fe,te)=>Ha(Ha(fe,te,X),te+1,W),T)}else[T,O]=E2(T,f);if(T===w)return d;const{lastIndex:_,lastOffset:E,lastSize:B,offsetTree:M}=yf(d.offsetTree,O,T,C);return{groupIndices:g,groupOffsetTree:g.reduce((X,W)=>Ha(X,W,yo(W,M,C)),hs()),lastIndex:_,lastOffset:E,lastSize:B,offsetTree:M,sizeTree:T}}function T2(d){return Al(d).map(({k:f,v:g},b,C)=>{const w=C[b+1];return{endIndex:w?w.k-1:1/0,size:g,startIndex:f}})}function cx(d,f){let g=0,b=0;for(;g<d;)g+=f[b+1]-f[b]-1,b++;return b-(g===d?0:1)}function yf(d,f,g,b){let C=d,w=0,T=0,O=0,_=0;if(f!==0){_=Wc(C,f-1,_f),O=C[_].offset;const E=yr(g,f-1);w=E[0],T=E[1],C.length&&C[_].size===yr(g,f)[1]&&(_-=1),C=C.slice(0,_+1)}else C=[];for(const{start:E,value:B}of iu(g,f,1/0)){const M=E-w,X=M*T+O+M*b;C.push({index:E,offset:X,size:B}),w=E,O=X,T=B}return{lastIndex:w,lastOffset:O,lastSize:T,offsetTree:C}}function _2(d){return{index:d.index,value:d}}function I2(d){const{endIndex:f,size:g,startIndex:b}=d;return C=>C.start===b&&(C.end===f||C.end===1/0)&&C.value===g}const O2={offsetHeight:"height",offsetWidth:"width"},zr=Ht(([{log:d},{recalcInProgress:f}])=>{const g=Mt(),b=Mt(),C=oa(b,0),w=Mt(),T=Mt(),O=Le(0),_=Le([]),E=Le(void 0),B=Le(void 0),M=Le(void 0),X=Le(void 0),W=Le((D,q)=>wr(D,O2[q])),fe=Le(void 0),te=Le(0),ne=C2(),z=oa(Ie(g,yt(_,d,te),jr(N2,ne),xn()),ne),L=oa(Ie(_,xn(),jr((D,q)=>({current:q,prev:D.current}),{current:[],prev:[]}),Ve(({prev:D})=>D)),[]);Ze(Ie(_,nt(D=>D.length>0),yt(z,te),Ve(([D,q,F])=>{const ie=D.reduce((re,oe,Ae)=>Ha(re,oe,yo(oe,q.offsetTree,F)||Ae),hs());return{...q,groupIndices:D,groupOffsetTree:ie}})),z),Ze(Ie(b,yt(z),nt(([D,{lastIndex:q}])=>D<q),Ve(([D,{lastIndex:q,lastSize:F}])=>[{endIndex:q,size:F,startIndex:D}])),g),Ze(E,B);const G=oa(Ie(E,Ve(D=>D===void 0)),!0);Ze(Ie(B,nt(D=>D!==void 0&&nn(En(z).sizeTree)),Ve(D=>{const q=En(M),F=En(_).length>0;return q?F?[{endIndex:0,size:q,startIndex:0},{endIndex:1,size:D,startIndex:1}]:[]:[{endIndex:0,size:D,startIndex:0}]})),g),Ze(Ie(X,nt(D=>D!==void 0&&D.length>0&&nn(En(z).sizeTree)),Ve(D=>{const q=[];let F=D[0],ie=0;for(let re=1;re<D.length;re++){const oe=D[re];oe!==F&&(q.push({endIndex:re-1,size:F,startIndex:ie}),F=oe,ie=re)}return q.push({endIndex:D.length-1,size:F,startIndex:ie}),q})),g),Ze(Ie(_,yt(M,B),nt(([,D,q])=>D!==void 0&&q!==void 0),Ve(([D,q,F])=>{const ie=[];for(let re=0;re<D.length;re++){const oe=D[re],Ae=D[re+1];ie.push({startIndex:oe,endIndex:oe,size:q}),Ae!==void 0&&ie.push({startIndex:oe+1,endIndex:Ae-1,size:F})}return ie})),g);const $=Fa(Ie(g,yt(z),jr(({sizes:D},[q,F])=>({changed:F!==D,sizes:F}),{changed:!1,sizes:ne}),Ve(D=>D.changed)));qt(Ie(O,jr((D,q)=>({diff:D.prev-q,prev:q}),{diff:0,prev:0}),Ve(D=>D.diff)),D=>{const{groupIndices:q}=En(z);if(D>0)pt(f,!0),pt(w,D+cx(D,q));else if(D<0){const F=En(L);F.length>0&&(D-=cx(-D,F)),pt(T,D)}}),qt(Ie(O,yt(d)),([D,q])=>{D<0&&q("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:O},Na.ERROR)});const xe=Fa(w);Ze(Ie(w,yt(z),Ve(([D,q])=>{const F=q.groupIndices.length>0,ie=[],re=q.lastSize;if(F){const oe=po(q.sizeTree,0);let Ae=0,Ee=0;for(;Ae<D;){const U=q.groupIndices[Ee],J=q.groupIndices.length===Ee+1?1/0:q.groupIndices[Ee+1]-U-1;ie.push({endIndex:U,size:oe,startIndex:U}),ie.push({endIndex:U+1+J-1,size:re,startIndex:U+1}),Ee++,Ae+=J+1}const Q=Al(q.sizeTree);return Ae!==D&&Q.shift(),Q.reduce((U,{k:J,v:ve})=>{let Re=U.ranges;return U.prevSize!==0&&(Re=[...U.ranges,{endIndex:J+D-1,size:U.prevSize,startIndex:U.prevIndex}]),{prevIndex:J+D,prevSize:ve,ranges:Re}},{prevIndex:D,prevSize:0,ranges:ie}).ranges}return Al(q.sizeTree).reduce((oe,{k:Ae,v:Ee})=>({prevIndex:Ae+D,prevSize:Ee,ranges:[...oe.ranges,{endIndex:Ae+D-1,size:oe.prevSize,startIndex:oe.prevIndex}]}),{prevIndex:0,prevSize:re,ranges:[]}).ranges})),g);const K=Fa(Ie(T,yt(z,te),Ve(([D,{offsetTree:q},F])=>{const ie=-D;return yo(ie,q,F)})));return Ze(Ie(T,yt(z,te),Ve(([D,q,F])=>{if(q.groupIndices.length>0){if(nn(q.sizeTree))return q;let ie=hs();const re=En(L);let oe=0,Ae=0,Ee=0;for(;oe<-D;){Ee=re[Ae];const Q=re[Ae+1]-Ee-1;Ae++,oe+=Q+1}if(ie=Al(q.sizeTree).reduce((Q,{k:U,v:J})=>Ha(Q,Math.max(0,U+D),J),ie),oe!==-D){const Q=po(q.sizeTree,Ee);ie=Ha(ie,0,Q);const U=yr(q.sizeTree,-D+1)[1];ie=Ha(ie,1,U)}return{...q,sizeTree:ie,...yf(q.offsetTree,0,ie,F)}}else{const ie=Al(q.sizeTree).reduce((re,{k:oe,v:Ae})=>Ha(re,Math.max(0,oe+D),Ae),hs());return{...q,sizeTree:ie,...yf(q.offsetTree,0,ie,F)}}})),z),{beforeUnshiftWith:xe,data:fe,defaultItemSize:B,firstItemIndex:O,fixedItemSize:E,fixedGroupSize:M,gap:te,groupIndices:_,heightEstimates:X,itemSize:W,listRefresh:$,shiftWith:T,shiftWithOffset:K,sizeRanges:g,sizes:z,statefulTotalCount:C,totalCount:b,trackItemSizes:G,unshiftWith:w}},mn(Zi,Tf),{singleton:!0});function R2(d){return d.reduce((f,g)=>(f.groupIndices.push(f.totalCount),f.totalCount+=g+1,f),{groupIndices:[],totalCount:0})}const Jx=Ht(([{groupIndices:d,sizes:f,totalCount:g},{headerHeight:b,scrollTop:C}])=>{const w=Mt(),T=Mt(),O=Fa(Ie(w,Ve(R2)));return Ze(Ie(O,Ve(_=>_.totalCount)),g),Ze(Ie(O,Ve(_=>_.groupIndices)),d),Ze(Ie(Pn(C,f,b),nt(([_,E])=>lu(E)),Ve(([_,E,B])=>yr(E.groupOffsetTree,Math.max(_-B,0),"v")[0]),xn(),Ve(_=>[_])),T),{groupCounts:w,topItemsIndexes:T}},mn(zr,ma)),Wi=Ht(([{log:d}])=>{const f=Le(!1),g=Fa(Ie(f,nt(b=>b),xn()));return qt(f,b=>{b&&En(d)("props updated",{},Na.DEBUG)}),{didMount:g,propsReady:f}},mn(Zi),{singleton:!0}),D2=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function $x(d){const f=typeof d=="number"?{index:d}:d;return f.align||(f.align="start"),(!f.behavior||!D2)&&(f.behavior="auto"),f.offset||(f.offset=0),f}const Co=Ht(([{gap:d,listRefresh:f,sizes:g,totalCount:b},{fixedFooterHeight:C,fixedHeaderHeight:w,footerHeight:T,headerHeight:O,scrollingInProgress:_,scrollTo:E,smoothScrollTargetReached:B,viewportHeight:M},{log:X}])=>{const W=Mt(),fe=Mt(),te=Le(0);let ne=null,z=null,L=null;function G(){ne&&(ne(),ne=null),L&&(L(),L=null),z&&(clearTimeout(z),z=null),pt(_,!1)}return Ze(Ie(W,yt(g,M,b,te,O,T,X),yt(d,w,C),Ve(([[$,xe,K,D,q,F,ie,re],oe,Ae,Ee])=>{const Q=$x($),{align:U,behavior:J,offset:ve}=Q,Re=D-1,Oe=Kx(Q,xe,Re);let H=yo(Oe,xe.offsetTree,oe)+F;U==="end"?(H+=Ae+yr(xe.sizeTree,Oe)[1]-K+Ee,Oe===Re&&(H+=ie)):U==="center"?H+=(Ae+yr(xe.sizeTree,Oe)[1]-K+Ee)/2:H-=q,ve&&(H+=ve);const ue=_e=>{G(),_e?(re("retrying to scroll to",{location:$},Na.DEBUG),pt(W,$)):(pt(fe,!0),re("list did not change, scroll successful",{},Na.DEBUG))};if(G(),J==="smooth"){let _e=!1;L=qt(f,je=>{_e=_e||je}),ne=pr(B,()=>{ue(_e)})}else ne=pr(Ie(f,M2(150)),ue);return z=setTimeout(()=>{G()},1200),pt(_,!0),re("scrolling from index to",{behavior:J,index:Oe,top:H},Na.DEBUG),{behavior:J,top:H}})),E),{scrollTargetReached:fe,scrollToIndex:W,topListHeight:te}},mn(zr,ma,Zi),{singleton:!0});function M2(d){return f=>{const g=setTimeout(()=>{f(!1)},d);return b=>{b&&(f(!0),clearTimeout(g))}}}function If(d,f){d==0?f():requestAnimationFrame(()=>{If(d-1,f)})}function Of(d,f){const g=f-1;return typeof d=="number"?d:d.index==="LAST"?g:d.index}const Eo=Ht(([{defaultItemSize:d,listRefresh:f,sizes:g},{scrollTop:b},{scrollTargetReached:C,scrollToIndex:w},{didMount:T}])=>{const O=Le(!0),_=Le(0),E=Le(!0);return Ze(Ie(T,yt(_),nt(([B,M])=>!!M),Br(!1)),O),Ze(Ie(T,yt(_),nt(([B,M])=>!!M),Br(!1)),E),qt(Ie(Pn(f,T),yt(O,g,d,E),nt(([[,B],M,{sizeTree:X},W,fe])=>B&&(!nn(X)||Af(W))&&!M&&!fe),yt(_)),([,B])=>{pr(C,()=>{pt(E,!0)}),If(4,()=>{pr(b,()=>{pt(O,!0)}),pt(w,B)})}),{initialItemFinalLocationReached:E,initialTopMostItemIndex:_,scrolledToInitialItem:O}},mn(zr,ma,Co,Wi),{singleton:!0});function eg(d,f){return Math.abs(d-f)<1.01}const wo="up",ho="down",k2="none",B2={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},j2=0,Ao=Ht(([{footerHeight:d,headerHeight:f,scrollBy:g,scrollContainerState:b,scrollTop:C,viewportHeight:w}])=>{const T=Le(!1),O=Le(!0),_=Mt(),E=Mt(),B=Le(4),M=Le(j2),X=oa(Ie(gf(Ie(at(C),Nl(1),Br(!0)),Ie(at(C),Nl(1),Br(!1),lx(100))),xn()),!1),W=oa(Ie(gf(Ie(g,Br(!0)),Ie(g,Br(!1),lx(200))),xn()),!1);Ze(Ie(Pn(at(C),at(M)),Ve(([L,G])=>L<=G),xn()),O),Ze(Ie(O,ci(50)),E);const fe=Fa(Ie(Pn(b,at(w),at(f),at(d),at(B)),jr((L,[{scrollHeight:G,scrollTop:$},xe,K,D,q])=>{const F=$+xe-G>-q,ie={scrollHeight:G,scrollTop:$,viewportHeight:xe};if(F){let oe,Ae;return $>L.state.scrollTop?(oe="SCROLLED_DOWN",Ae=L.state.scrollTop-$):(oe="SIZE_DECREASED",Ae=L.state.scrollTop-$||L.scrollTopDelta),{atBottom:!0,atBottomBecause:oe,scrollTopDelta:Ae,state:ie}}let re;return ie.scrollHeight>L.state.scrollHeight?re="SIZE_INCREASED":xe<L.state.viewportHeight?re="VIEWPORT_HEIGHT_DECREASING":$<L.state.scrollTop?re="SCROLLING_UPWARDS":re="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:re,state:ie}},B2),xn((L,G)=>L&&L.atBottom===G.atBottom))),te=oa(Ie(b,jr((L,{scrollHeight:G,scrollTop:$,viewportHeight:xe})=>{if(eg(L.scrollHeight,G))return{changed:!1,jump:0,scrollHeight:G,scrollTop:$};{const K=G-($+xe)<1;return L.scrollTop!==$&&K?{changed:!0,jump:L.scrollTop-$,scrollHeight:G,scrollTop:$}:{changed:!0,jump:0,scrollHeight:G,scrollTop:$}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),nt(L=>L.changed),Ve(L=>L.jump)),0);Ze(Ie(fe,Ve(L=>L.atBottom)),T),Ze(Ie(T,ci(50)),_);const ne=Le(ho);Ze(Ie(b,Ve(({scrollTop:L})=>L),xn(),jr((L,G)=>En(W)?{direction:L.direction,prevScrollTop:G}:{direction:G<L.prevScrollTop?wo:ho,prevScrollTop:G},{direction:ho,prevScrollTop:0}),Ve(L=>L.direction)),ne),Ze(Ie(b,ci(50),Br(k2)),ne);const z=Le(0);return Ze(Ie(X,nt(L=>!L),Br(0)),z),Ze(Ie(C,ci(100),yt(X),nt(([L,G])=>!!G),jr(([L,G],[$])=>[G,$],[0,0]),Ve(([L,G])=>G-L)),z),{atBottomState:fe,atBottomStateChange:_,atBottomThreshold:B,atTopStateChange:E,atTopThreshold:M,isAtBottom:T,isAtTop:O,isScrolling:X,lastJumpDueToItemResize:te,scrollDirection:ne,scrollVelocity:z}},mn(ma)),Qc="top",Kc="bottom",ux="none";function dx(d,f,g){return typeof d=="number"?g===wo&&f===Qc||g===ho&&f===Kc?d:0:g===wo?f===Qc?d.main:d.reverse:f===Kc?d.main:d.reverse}function fx(d,f){var g;return typeof d=="number"?d:(g=d[f])!=null?g:0}const Rf=Ht(([{deviation:d,fixedHeaderHeight:f,headerHeight:g,scrollTop:b,viewportHeight:C}])=>{const w=Mt(),T=Le(0),O=Le(0),_=Le(0),E=oa(Ie(Pn(at(b),at(C),at(g),at(w,bo),at(_),at(T),at(f),at(d),at(O)),Ve(([B,M,X,[W,fe],te,ne,z,L,G])=>{const $=B-L,xe=ne+z,K=Math.max(X-$,0);let D=ux;const q=fx(G,Qc),F=fx(G,Kc);return W-=L,W+=X+z,fe+=X+z,fe-=L,W>B+xe-q&&(D=wo),fe<B-K+M+F&&(D=ho),D!==ux?[Math.max($-X-dx(te,Qc,D)-q,0),$-K-z+M+dx(te,Kc,D)+F]:null}),nt(B=>B!=null),xn(bo)),[0,0]);return{increaseViewportBy:O,listBoundary:w,overscan:_,topListHeight:T,visibleRange:E}},mn(ma),{singleton:!0});function L2(d,f,g){if(lu(f)){const b=Qx(d,f);return[{index:yr(f.groupOffsetTree,b)[0],offset:0,size:0},{data:g==null?void 0:g[0],index:b,offset:0,size:0}]}return[{data:g==null?void 0:g[0],index:d,offset:0,size:0}]}const df={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function qc(d,f,g,b,C,w){const{lastIndex:T,lastOffset:O,lastSize:_}=C;let E=0,B=0;if(d.length>0){E=d[0].offset;const te=d[d.length-1];B=te.offset+te.size}const M=g-T,X=O+M*_+(M-1)*b,W=E,fe=X-B;return{bottom:B,firstItemIndex:w,items:hx(d,C,w),offsetBottom:fe,offsetTop:E,top:W,topItems:hx(f,C,w),topListHeight:f.reduce((te,ne)=>ne.size+te,0),totalCount:g}}function tg(d,f,g,b,C,w){let T=0;if(g.groupIndices.length>0)for(const B of g.groupIndices){if(B-T>=d)break;T++}const O=d+T,_=Of(f,O),E=Array.from({length:O}).map((B,M)=>({data:w[M+_],index:M+_,offset:0,size:0}));return qc(E,[],O,C,g,b)}function hx(d,f,g){if(d.length===0)return[];if(!lu(f))return d.map(E=>({...E,index:E.index+g,originalIndex:E.index}));const b=d[0].index,C=d[d.length-1].index,w=[],T=iu(f.groupOffsetTree,b,C);let O,_=0;for(const E of d){(!O||O.end<E.index)&&(O=T.shift(),_=f.groupIndices.indexOf(O.start));let B;E.index===O.start?B={index:_,type:"group"}:B={groupIndex:_,index:E.index-(_+1)+g},w.push({...B,data:E.data,offset:E.offset,originalIndex:E.index,size:E.size})}return w}const Tl=Ht(([{data:d,firstItemIndex:f,gap:g,sizes:b,totalCount:C},w,{listBoundary:T,topListHeight:O,visibleRange:_},{initialTopMostItemIndex:E,scrolledToInitialItem:B},{topListHeight:M},X,{didMount:W},{recalcInProgress:fe}])=>{const te=Le([]),ne=Le(0),z=Mt();Ze(w.topItemsIndexes,te);const L=oa(Ie(Pn(W,fe,at(_,bo),at(C),at(b),at(E),B,at(te),at(f),at(g),d),nt(([K,D,,q,,,,,,,F])=>{const ie=F&&F.length!==q;return K&&!D&&!ie}),Ve(([,,[K,D],q,F,ie,re,oe,Ae,Ee,Q])=>{const U=F,{offsetTree:J,sizeTree:ve}=U,Re=En(ne);if(q===0)return{...df,totalCount:q};if(K===0&&D===0)return Re===0?{...df,totalCount:q}:tg(Re,ie,F,Ae,Ee,Q||[]);if(nn(ve))return Re>0?null:qc(L2(Of(ie,q),U,Q),[],q,Ee,U,Ae);const Oe=[];if(oe.length>0){const Fe=oe[0],Se=oe[oe.length-1];let tt=0;for(const ye of iu(ve,Fe,Se)){const He=ye.value,Et=Math.max(ye.start,Fe),wt=Math.min(ye.end,Se);for(let Rt=Et;Rt<=wt;Rt++)Oe.push({data:Q==null?void 0:Q[Rt],index:Rt,offset:tt,size:He}),tt+=He}}if(!re)return qc([],Oe,q,Ee,U,Ae);const H=oe.length>0?oe[oe.length-1]+1:0,ue=S2(J,K,D,H);if(ue.length===0)return null;const _e=q-1,je=ru([],Fe=>{for(const Se of ue){const tt=Se.value;let ye=tt.offset,He=Se.start;const Et=tt.size;if(tt.offset<K){He+=Math.floor((K-tt.offset+Ee)/(Et+Ee));const Rt=He-Se.start;ye+=Rt*Et+Rt*Ee}He<H&&(ye+=(H-He)*Et,He=H);const wt=Math.min(Se.end,_e);for(let Rt=He;Rt<=wt&&!(ye>=D);Rt++)Fe.push({data:Q==null?void 0:Q[Rt],index:Rt,offset:ye,size:Et}),ye+=Et+Ee}});return qc(je,Oe,q,Ee,U,Ae)}),nt(K=>K!==null),xn()),df);Ze(Ie(d,nt(Af),Ve(K=>K==null?void 0:K.length)),C),Ze(Ie(L,Ve(K=>K.topListHeight)),M),Ze(M,O),Ze(Ie(L,Ve(K=>[K.top,K.bottom])),T),Ze(Ie(L,Ve(K=>K.items)),z);const G=Fa(Ie(L,nt(({items:K})=>K.length>0),yt(C,d),nt(([{items:K},D])=>K[K.length-1].originalIndex===D-1),Ve(([,K,D])=>[K-1,D]),xn(bo),Ve(([K])=>K))),$=Fa(Ie(L,ci(200),nt(({items:K,topItems:D})=>K.length>0&&K[0].originalIndex===D.length),Ve(({items:K})=>K[0].index),xn())),xe=Fa(Ie(L,nt(({items:K})=>K.length>0),Ve(({items:K})=>{let D=0,q=K.length-1;for(;K[D].type==="group"&&D<q;)D++;for(;K[q].type==="group"&&q>D;)q--;return{endIndex:K[q].index,startIndex:K[D].index}}),xn(Zx)));return{endReached:G,initialItemCount:ne,itemsRendered:z,listState:L,rangeChanged:xe,startReached:$,topItemsIndexes:te,...X}},mn(zr,Jx,Rf,Eo,Co,Ao,Wi,Tf),{singleton:!0}),ng=Ht(([{fixedFooterHeight:d,fixedHeaderHeight:f,footerHeight:g,headerHeight:b},{listState:C}])=>{const w=Mt(),T=oa(Ie(Pn(g,d,b,f,C),Ve(([O,_,E,B,M])=>O+_+E+B+M.offsetBottom+M.bottom)),0);return Ze(at(T),w),{totalListHeight:T,totalListHeightChanged:w}},mn(ma,Tl),{singleton:!0}),z2=Ht(([{viewportHeight:d},{totalListHeight:f}])=>{const g=Le(!1),b=oa(Ie(Pn(g,d,f),nt(([C])=>C),Ve(([,C,w])=>Math.max(0,C-w)),ci(0),xn()),0);return{alignToBottom:g,paddingTopAddition:b}},mn(ma,ng),{singleton:!0}),ag=Ht(()=>({context:Le(null)})),U2=({itemBottom:d,itemTop:f,locationParams:{align:g,behavior:b,...C},viewportBottom:w,viewportTop:T})=>f<T?{...C,align:g??"start",behavior:b}:d>w?{...C,align:g??"end",behavior:b}:null,rg=Ht(([{gap:d,sizes:f,totalCount:g},{fixedFooterHeight:b,fixedHeaderHeight:C,headerHeight:w,scrollingInProgress:T,scrollTop:O,viewportHeight:_},{scrollToIndex:E}])=>{const B=Mt();return Ze(Ie(B,yt(f,_,g,w,C,b,O),yt(d),Ve(([[M,X,W,fe,te,ne,z,L],G])=>{const{align:$,behavior:xe,calculateViewLocation:K=U2,done:D,...q}=M,F=Kx(M,X,fe-1),ie=yo(F,X.offsetTree,G)+te+ne,re=ie+yr(X.sizeTree,F)[1],oe=L+ne,Ae=L+W-z,Ee=K({itemBottom:re,itemTop:ie,locationParams:{align:$,behavior:xe,...q},viewportBottom:Ae,viewportTop:oe});return Ee?D&&pr(Ie(T,nt(Q=>!Q),Nl(En(T)?1:2)),D):D&&D(),Ee}),nt(M=>M!==null)),E),{scrollIntoView:B}},mn(zr,ma,Co,Tl,Zi),{singleton:!0});function xx(d){return d?d==="smooth"?"smooth":"auto":!1}const H2=(d,f)=>typeof d=="function"?xx(d(f)):f&&xx(d),F2=Ht(([{listRefresh:d,totalCount:f,fixedItemSize:g,data:b},{atBottomState:C,isAtBottom:w},{scrollToIndex:T},{scrolledToInitialItem:O},{didMount:_,propsReady:E},{log:B},{scrollingInProgress:M},{context:X},{scrollIntoView:W}])=>{const fe=Le(!1),te=Mt();let ne=null;function z(xe){pt(T,{align:"end",behavior:xe,index:"LAST"})}qt(Ie(Pn(Ie(at(f),Nl(1)),_),yt(at(fe),w,O,M),Ve(([[xe,K],D,q,F,ie])=>{let re=K&&F,oe="auto";return re&&(oe=H2(D,q||ie),re=re&&!!oe),{followOutputBehavior:oe,shouldFollow:re,totalCount:xe}}),nt(({shouldFollow:xe})=>xe)),({followOutputBehavior:xe,totalCount:K})=>{ne&&(ne(),ne=null),En(g)?requestAnimationFrame(()=>{En(B)("following output to ",{totalCount:K},Na.DEBUG),z(xe)}):ne=pr(d,()=>{En(B)("following output to ",{totalCount:K},Na.DEBUG),z(xe),ne=null})});function L(xe){const K=pr(C,D=>{xe&&!D.atBottom&&D.notAtBottomBecause==="SIZE_INCREASED"&&!ne&&(En(B)("scrolling to bottom due to increased size",{},Na.DEBUG),z("auto"))});setTimeout(K,100)}qt(Ie(Pn(at(fe),f,E),nt(([xe,,K])=>xe&&K),jr(({value:xe},[,K])=>({refreshed:xe===K,value:K}),{refreshed:!1,value:0}),nt(({refreshed:xe})=>xe),yt(fe,f)),([,xe])=>{En(O)&&L(xe!==!1)}),qt(te,()=>{L(En(fe)!==!1)}),qt(Pn(at(fe),C),([xe,K])=>{xe&&!K.atBottom&&K.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&z("auto")});const G=Le(null),$=Mt();return Ze(gf(Ie(at(b),Ve(xe=>{var K;return(K=xe==null?void 0:xe.length)!=null?K:0})),Ie(at(f))),$),qt(Ie(Pn(Ie($,Nl(1)),_),yt(at(G),O,M,X),Ve(([[xe,K],D,q,F,ie])=>K&&q&&(D==null?void 0:D({context:ie,totalCount:xe,scrollingInProgress:F}))),nt(xe=>!!xe),ci(0)),xe=>{ne&&(ne(),ne=null),En(g)?requestAnimationFrame(()=>{En(B)("scrolling into view",{}),pt(W,xe)}):ne=pr(d,()=>{En(B)("scrolling into view",{}),pt(W,xe),ne=null})}),{autoscrollToBottom:te,followOutput:fe,scrollIntoViewOnChange:G}},mn(zr,Ao,Co,Eo,Wi,Zi,ma,ag,rg)),P2=Ht(([{data:d,firstItemIndex:f,gap:g,sizes:b},{initialTopMostItemIndex:C},{initialItemCount:w,listState:T},{didMount:O}])=>(Ze(Ie(O,yt(w),nt(([,_])=>_!==0),yt(C,b,f,g,d),Ve(([[,_],E,B,M,X,W=[]])=>tg(_,E,B,M,X,W))),T),{}),mn(zr,Eo,Tl,Wi),{singleton:!0}),G2=Ht(([{didMount:d},{scrollTo:f},{listState:g}])=>{const b=Le(0);return qt(Ie(d,yt(b),nt(([,C])=>C!==0),Ve(([,C])=>({top:C}))),C=>{pr(Ie(g,Nl(1),nt(w=>w.items.length>1)),()=>{requestAnimationFrame(()=>{pt(f,C)})})}),{initialScrollTop:b}},mn(Wi,ma,Tl),{singleton:!0}),ig=Ht(([{scrollVelocity:d}])=>{const f=Le(!1),g=Mt(),b=Le(!1);return Ze(Ie(d,yt(b,f,g),nt(([C,w])=>!!w),Ve(([C,w,T,O])=>{const{enter:_,exit:E}=w;if(T){if(E(C,O))return!1}else if(_(C,O))return!0;return T}),xn()),f),qt(Ie(Pn(f,d,g),yt(b)),([[C,w,T],O])=>{C&&O&&O.change&&O.change(w,T)}),{isSeeking:f,scrollSeekConfiguration:b,scrollSeekRangeChanged:g,scrollVelocity:d}},mn(Ao),{singleton:!0}),Df=Ht(([{scrollContainerState:d,scrollTo:f}])=>{const g=Mt(),b=Mt(),C=Mt(),w=Le(!1),T=Le(void 0);return Ze(Ie(Pn(g,b),Ve(([{scrollHeight:O,scrollTop:_,viewportHeight:E},{offsetTop:B}])=>({scrollHeight:O,scrollTop:Math.max(0,_-B),viewportHeight:E}))),d),Ze(Ie(f,yt(b),Ve(([O,{offsetTop:_}])=>({...O,top:O.top+_}))),C),{customScrollParent:T,useWindowScroll:w,windowScrollContainerState:g,windowScrollTo:C,windowViewportRect:b}},mn(ma)),V2=Ht(([{sizeRanges:d,sizes:f},{headerHeight:g,scrollTop:b},{initialTopMostItemIndex:C},{didMount:w},{useWindowScroll:T,windowScrollContainerState:O,windowViewportRect:_}])=>{const E=Mt(),B=Le(void 0),M=Le(null),X=Le(null);return Ze(O,M),Ze(_,X),qt(Ie(E,yt(f,b,T,M,X,g)),([W,fe,te,ne,z,L,G])=>{const $=T2(fe.sizeTree);ne&&z!==null&&L!==null&&(te=z.scrollTop-L.offsetTop),te-=G,W({ranges:$,scrollTop:te})}),Ze(Ie(B,nt(Af),Ve(X2)),C),Ze(Ie(w,yt(B),nt(([,W])=>W!==void 0),xn(),Ve(([,W])=>W.ranges)),d),{getState:E,restoreStateFrom:B}},mn(zr,ma,Eo,Wi,Df));function X2(d){return{align:"start",index:0,offset:d.scrollTop}}const Y2=Ht(([{topItemsIndexes:d}])=>{const f=Le(0);return Ze(Ie(f,nt(g=>g>=0),Ve(g=>Array.from({length:g}).map((b,C)=>C))),d),{topItemCount:f}},mn(Tl));function lg(d){let f=!1,g;return()=>(f||(f=!0,g=d()),g)}const q2=lg(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Z2=Ht(([{deviation:d,scrollBy:f,scrollingInProgress:g,scrollTop:b},{isAtBottom:C,isScrolling:w,lastJumpDueToItemResize:T,scrollDirection:O},{listState:_},{beforeUnshiftWith:E,gap:B,shiftWithOffset:M,sizes:X},{log:W},{recalcInProgress:fe}])=>{const te=Fa(Ie(_,yt(T),jr(([,z,L,G],[{bottom:$,items:xe,offsetBottom:K,totalCount:D},q])=>{const F=$+K;let ie=0;return L===D&&z.length>0&&xe.length>0&&(xe[0].originalIndex===0&&z[0].originalIndex===0||(ie=F-G,ie!==0&&(ie+=q))),[ie,xe,D,F]},[0,[],0,0]),nt(([z])=>z!==0),yt(b,O,g,C,W,fe),nt(([,z,L,G,,,$])=>!$&&!G&&z!==0&&L===wo),Ve(([[z],,,,,L])=>(L("Upward scrolling compensation",{amount:z},Na.DEBUG),z))));function ne(z){z>0?(pt(f,{behavior:"auto",top:-z}),pt(d,0)):(pt(d,0),pt(f,{behavior:"auto",top:-z}))}return qt(Ie(te,yt(d,w)),([z,L,G])=>{G&&q2()?pt(d,L-z):ne(-z)}),qt(Ie(Pn(oa(w,!1),d,fe),nt(([z,L,G])=>!z&&!G&&L!==0),Ve(([z,L])=>L),ci(1)),ne),Ze(Ie(M,Ve(z=>({top:-z}))),f),qt(Ie(E,yt(X,B),Ve(([z,{groupIndices:L,lastSize:G,sizeTree:$},xe])=>{function K(D){return D*(G+xe)}if(L.length===0)return K(z);{let D=0;const q=po($,0);let F=0,ie=0;for(;F<z;){F++,D+=q;let re=L.length===ie+1?1/0:L[ie+1]-L[ie]-1;F+re>z&&(D-=q,re=z-F+1),F+=re,D+=K(re),ie++}return D}})),z=>{pt(d,z),requestAnimationFrame(()=>{pt(f,{top:z}),requestAnimationFrame(()=>{pt(d,0),pt(fe,!1)})})}),{deviation:d}},mn(ma,Ao,Tl,zr,Zi,Tf)),W2=Ht(([d,f,g,b,C,w,T,O,_,E,B])=>({...d,...f,...g,...b,...C,...w,...T,...O,..._,...E,...B}),mn(Rf,P2,Wi,ig,ng,G2,z2,Df,rg,Zi,ag)),sg=Ht(([{data:d,defaultItemSize:f,firstItemIndex:g,fixedItemSize:b,fixedGroupSize:C,gap:w,groupIndices:T,heightEstimates:O,itemSize:_,sizeRanges:E,sizes:B,statefulTotalCount:M,totalCount:X,trackItemSizes:W},{initialItemFinalLocationReached:fe,initialTopMostItemIndex:te,scrolledToInitialItem:ne},z,L,G,{listState:$,topItemsIndexes:xe,...K},{scrollToIndex:D},q,{topItemCount:F},{groupCounts:ie},re])=>(Ze(K.rangeChanged,re.scrollSeekRangeChanged),Ze(Ie(re.windowViewportRect,Ve(oe=>oe.visibleHeight)),z.viewportHeight),{data:d,defaultItemHeight:f,firstItemIndex:g,fixedItemHeight:b,fixedGroupHeight:C,gap:w,groupCounts:ie,heightEstimates:O,initialItemFinalLocationReached:fe,initialTopMostItemIndex:te,scrolledToInitialItem:ne,sizeRanges:E,topItemCount:F,topItemsIndexes:xe,totalCount:X,...G,groupIndices:T,itemSize:_,listState:$,scrollToIndex:D,statefulTotalCount:M,trackItemSizes:W,...K,...re,...z,sizes:B,...L}),mn(zr,Eo,ma,V2,F2,Tl,Co,Z2,Y2,Jx,W2));function Q2(d,f){const g={},b={};let C=0;const w=d.length;for(;C<w;)b[d[C]]=1,C+=1;for(const T in f)Object.hasOwn(b,T)||(g[T]=f[T]);return g}const Pc=typeof document<"u"?Ue.useLayoutEffect:Ue.useEffect;function Mf(d,f,g){const b=Object.keys(f.required||{}),C=Object.keys(f.optional||{}),w=Object.keys(f.methods||{}),T=Object.keys(f.events||{}),O=Ue.createContext({});function _(ne,z){ne.propsReady&&pt(ne.propsReady,!1);for(const L of b){const G=ne[f.required[L]];pt(G,z[L])}for(const L of C)if(L in z){const G=ne[f.optional[L]];pt(G,z[L])}ne.propsReady&&pt(ne.propsReady,!0)}function E(ne){return w.reduce((z,L)=>(z[L]=G=>{const $=ne[f.methods[L]];pt($,G)},z),{})}function B(ne){return T.reduce((z,L)=>(z[L]=h2(ne[f.events[L]]),z),{})}const M=Ue.forwardRef((ne,z)=>{const{children:L,...G}=ne,[$]=Ue.useState(()=>ru(g2(d),D=>{_(D,G)})),[xe]=Ue.useState(ix(B,$));Pc(()=>{for(const D of T)D in G&&qt(xe[D],G[D]);return()=>{Object.values(xe).map(vf)}},[G,xe,$]),Pc(()=>{_($,G)}),Ue.useImperativeHandle(z,rx(E($)));const K=g;return p.jsx(O.Provider,{value:$,children:g?p.jsx(K,{...Q2([...b,...C,...T],G),children:L}):L})}),X=ne=>{const z=Ue.useContext(O);return Ue.useCallback(L=>{pt(z[ne],L)},[z,ne])},W=ne=>{const z=Ue.useContext(O)[ne],L=Ue.useCallback(G=>qt(z,G),[z]);return Ue.useSyncExternalStore(L,()=>En(z),()=>En(z))},fe=ne=>{const z=Ue.useContext(O)[ne],[L,G]=Ue.useState(ix(En,z));return Pc(()=>qt(z,$=>{$!==L&&G(rx($))}),[z,L]),L},te=Ue.version.startsWith("18")?W:fe;return{Component:M,useEmitter:(ne,z)=>{const L=Ue.useContext(O)[ne];Pc(()=>qt(L,z),[z,L])},useEmitterValue:te,usePublisher:X}}const su=Ue.createContext(void 0),og=Ue.createContext(void 0),cg=typeof document<"u"?Ue.useLayoutEffect:Ue.useEffect;function ff(d){return"self"in d}function K2(d){return"body"in d}function ug(d,f,g,b=ms,C,w){const T=Ue.useRef(null),O=Ue.useRef(null),_=Ue.useRef(null),E=Ue.useCallback(X=>{let W,fe,te;const ne=X.target;if(K2(ne)||ff(ne)){const L=ff(ne)?ne:ne.defaultView;te=w?L.scrollX:L.scrollY,W=w?L.document.documentElement.scrollWidth:L.document.documentElement.scrollHeight,fe=w?L.innerWidth:L.innerHeight}else te=w?ne.scrollLeft:ne.scrollTop,W=w?ne.scrollWidth:ne.scrollHeight,fe=w?ne.offsetWidth:ne.offsetHeight;const z=()=>{d({scrollHeight:W,scrollTop:Math.max(te,0),viewportHeight:fe})};X.suppressFlushSync?z():s2.flushSync(z),O.current!==null&&(te===O.current||te<=0||te===W-fe)&&(O.current=null,f(!0),_.current&&(clearTimeout(_.current),_.current=null))},[d,f,w]);Ue.useEffect(()=>{const X=C||T.current;return b(C||T.current),E({suppressFlushSync:!0,target:X}),X.addEventListener("scroll",E,{passive:!0}),()=>{b(null),X.removeEventListener("scroll",E)}},[T,E,g,b,C]);function B(X){const W=T.current;if(!W||(w?"offsetWidth"in W&&W.offsetWidth===0:"offsetHeight"in W&&W.offsetHeight===0))return;const fe=X.behavior==="smooth";let te,ne,z;ff(W)?(ne=Math.max(wr(W.document.documentElement,w?"width":"height"),w?W.document.documentElement.scrollWidth:W.document.documentElement.scrollHeight),te=w?W.innerWidth:W.innerHeight,z=w?window.scrollX:window.scrollY):(ne=W[w?"scrollWidth":"scrollHeight"],te=wr(W,w?"width":"height"),z=W[w?"scrollLeft":"scrollTop"]);const L=ne-te;if(X.top=Math.ceil(Math.max(Math.min(L,X.top),0)),eg(te,ne)||X.top===z){d({scrollHeight:ne,scrollTop:z,viewportHeight:te}),fe&&f(!0);return}fe?(O.current=X.top,_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{_.current=null,O.current=null,f(!0)},1e3)):O.current=null,w&&(X={behavior:X.behavior,left:X.top}),W.scrollTo(X)}function M(X){w&&(X={behavior:X.behavior,left:X.top}),T.current.scrollBy(X)}return{scrollByCallback:M,scrollerRef:T,scrollToCallback:B}}const hf="-webkit-sticky",gx="sticky",kf=lg(()=>{if(typeof document>"u")return gx;const d=document.createElement("div");return d.style.position=hf,d.style.position===hf?hf:gx});function Bf(d){return d}const J2=Ht(()=>{const d=Le(O=>`Item ${O}`),f=Le(O=>`Group ${O}`),g=Le({}),b=Le(Bf),C=Le("div"),w=Le(ms),T=(O,_=null)=>oa(Ie(g,Ve(E=>E[O]),xn()),_);return{components:g,computeItemKey:b,EmptyPlaceholder:T("EmptyPlaceholder"),FooterComponent:T("Footer"),GroupComponent:T("Group","div"),groupContent:f,HeaderComponent:T("Header"),HeaderFooterTag:C,ItemComponent:T("Item","div"),itemContent:d,ListComponent:T("List","div"),ScrollerComponent:T("Scroller","div"),scrollerRef:w,ScrollSeekPlaceholder:T("ScrollSeekPlaceholder"),TopItemListComponent:T("TopItemList")}}),$2=Ht(([d,f])=>({...d,...f}),mn(sg,J2)),ep=({height:d})=>p.jsx("div",{style:{height:d}}),tp={overflowAnchor:"none",position:kf(),zIndex:1},dg={overflowAnchor:"none"},np={...dg,display:"inline-block",height:"100%"},mx=Ue.memo(function({showTopList:d=!1}){const f=ct("listState"),g=rr("sizeRanges"),b=ct("useWindowScroll"),C=ct("customScrollParent"),w=rr("windowScrollContainerState"),T=rr("scrollContainerState"),O=C||b?w:T,_=ct("itemContent"),E=ct("context"),B=ct("groupContent"),M=ct("trackItemSizes"),X=ct("itemSize"),W=ct("log"),fe=rr("gap"),te=ct("horizontalDirection"),{callbackRef:ne}=Px(g,X,M,d?ms:O,W,fe,C,te,ct("skipAnimationFrameInResizeObserver")),[z,L]=Ue.useState(0);zf("deviation",Ee=>{z!==Ee&&L(Ee)});const G=ct("EmptyPlaceholder"),$=ct("ScrollSeekPlaceholder")||ep,xe=ct("ListComponent"),K=ct("ItemComponent"),D=ct("GroupComponent"),q=ct("computeItemKey"),F=ct("isSeeking"),ie=ct("groupIndices").length>0,re=ct("alignToBottom"),oe=ct("initialItemFinalLocationReached"),Ae=d?{}:{boxSizing:"border-box",...te?{display:"inline-block",height:"100%",marginLeft:z!==0?z:re?"auto":0,paddingLeft:f.offsetTop,paddingRight:f.offsetBottom,whiteSpace:"nowrap"}:{marginTop:z!==0?z:re?"auto":0,paddingBottom:f.offsetBottom,paddingTop:f.offsetTop},...oe?{}:{visibility:"hidden"}};return!d&&f.totalCount===0&&G?p.jsx(G,{...gn(G,E)}):p.jsx(xe,{...gn(xe,E),"data-testid":d?"virtuoso-top-item-list":"virtuoso-item-list",ref:ne,style:Ae,children:(d?f.topItems:f.items).map(Ee=>{const Q=Ee.originalIndex,U=q(Q+f.firstItemIndex,Ee.data,E);return F?be.createElement($,{...gn($,E),height:Ee.size,index:Ee.index,key:U,type:Ee.type||"item",...Ee.type==="group"?{}:{groupIndex:Ee.groupIndex}}):Ee.type==="group"?be.createElement(D,{...gn(D,E),"data-index":Q,"data-item-index":Ee.index,"data-known-size":Ee.size,key:U,style:tp},B(Ee.index,E)):be.createElement(K,{...gn(K,E),...fg(K,Ee.data),"data-index":Q,"data-item-group-index":Ee.groupIndex,"data-item-index":Ee.index,"data-known-size":Ee.size,key:U,style:te?np:dg},ie?_(Ee.index,Ee.groupIndex,Ee.data,E):_(Ee.index,Ee.data,E))})})}),ap={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},rp={outline:"none",overflowX:"auto",position:"relative"},ps=d=>({height:"100%",position:"absolute",top:0,width:"100%",...d?{display:"flex",flexDirection:"column"}:{}}),ip={position:kf(),top:0,width:"100%",zIndex:1};function gn(d,f){if(typeof d!="string")return{context:f}}function fg(d,f){return{item:typeof d=="string"?void 0:f}}const lp=Ue.memo(function(){const d=ct("HeaderComponent"),f=rr("headerHeight"),g=ct("HeaderFooterTag"),b=Lr(Ue.useMemo(()=>w=>{f(wr(w,"height"))},[f]),!0,ct("skipAnimationFrameInResizeObserver")),C=ct("context");return d?p.jsx(g,{ref:b,children:p.jsx(d,{...gn(d,C)})}):null}),sp=Ue.memo(function(){const d=ct("FooterComponent"),f=rr("footerHeight"),g=ct("HeaderFooterTag"),b=Lr(Ue.useMemo(()=>w=>{f(wr(w,"height"))},[f]),!0,ct("skipAnimationFrameInResizeObserver")),C=ct("context");return d?p.jsx(g,{ref:b,children:p.jsx(d,{...gn(d,C)})}):null});function jf({useEmitter:d,useEmitterValue:f,usePublisher:g}){return Ue.memo(function({children:b,style:C,context:w,...T}){const O=g("scrollContainerState"),_=f("ScrollerComponent"),E=g("smoothScrollTargetReached"),B=f("scrollerRef"),M=f("horizontalDirection")||!1,{scrollByCallback:X,scrollerRef:W,scrollToCallback:fe}=ug(O,E,_,B,void 0,M);return d("scrollTo",fe),d("scrollBy",X),p.jsx(_,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:W,style:{...M?rp:ap,...C},tabIndex:0,...T,...gn(_,w),children:b})})}function Lf({useEmitter:d,useEmitterValue:f,usePublisher:g}){return Ue.memo(function({children:b,style:C,context:w,...T}){const O=g("windowScrollContainerState"),_=f("ScrollerComponent"),E=g("smoothScrollTargetReached"),B=f("totalListHeight"),M=f("deviation"),X=f("customScrollParent"),W=Ue.useRef(null),fe=f("scrollerRef"),{scrollByCallback:te,scrollerRef:ne,scrollToCallback:z}=ug(O,E,_,fe,X);return cg(()=>{var L;return ne.current=X||((L=W.current)==null?void 0:L.ownerDocument.defaultView),()=>{ne.current=null}},[ne,X]),d("windowScrollTo",z),d("scrollBy",te),p.jsx(_,{ref:W,"data-virtuoso-scroller":!0,style:{position:"relative",...C,...B!==0?{height:B+M}:{}},...T,...gn(_,w),children:b})})}const op=({children:d})=>{const f=Ue.useContext(su),g=rr("viewportHeight"),b=rr("fixedItemHeight"),C=ct("alignToBottom"),w=ct("horizontalDirection"),T=Ue.useMemo(()=>go(g,_=>wr(_,w?"width":"height")),[g,w]),O=Lr(T,!0,ct("skipAnimationFrameInResizeObserver"));return Ue.useEffect(()=>{f&&(g(f.viewportHeight),b(f.itemHeight))},[f,g,b]),p.jsx("div",{"data-viewport-type":"element",ref:O,style:ps(C),children:d})},cp=({children:d})=>{const f=Ue.useContext(su),g=rr("windowViewportRect"),b=rr("fixedItemHeight"),C=ct("customScrollParent"),w=Nf(g,C,ct("skipAnimationFrameInResizeObserver")),T=ct("alignToBottom");return Ue.useEffect(()=>{f&&(b(f.itemHeight),g({offsetTop:0,visibleHeight:f.viewportHeight,visibleWidth:100}))},[f,g,b]),p.jsx("div",{"data-viewport-type":"window",ref:w,style:ps(T),children:d})},up=({children:d})=>{const f=ct("TopItemListComponent")||"div",g=ct("headerHeight"),b={...ip,marginTop:`${g}px`},C=ct("context");return p.jsx(f,{style:b,...gn(f,C),children:d})},dp=Ue.memo(function(d){const f=ct("useWindowScroll"),g=ct("topItemsIndexes").length>0,b=ct("customScrollParent"),C=ct("context");return p.jsxs(b||f?xp:hp,{...d,context:C,children:[g&&p.jsx(up,{children:p.jsx(mx,{showTopList:!0})}),p.jsxs(b||f?cp:op,{children:[p.jsx(lp,{}),p.jsx(mx,{}),p.jsx(sp,{})]})]})}),{Component:fp,useEmitter:zf,useEmitterValue:ct,usePublisher:rr}=Mf($2,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},dp),hp=jf({useEmitter:zf,useEmitterValue:ct,usePublisher:rr}),xp=Lf({useEmitter:zf,useEmitterValue:ct,usePublisher:rr}),gp=fp,mp=Ht(()=>{const d=Le(E=>p.jsxs("td",{children:["Item $",E]})),f=Le(null),g=Le(E=>p.jsxs("td",{colSpan:1e3,children:["Group ",E]})),b=Le(null),C=Le(null),w=Le({}),T=Le(Bf),O=Le(ms),_=(E,B=null)=>oa(Ie(w,Ve(M=>M[E]),xn()),B);return{components:w,computeItemKey:T,context:f,EmptyPlaceholder:_("EmptyPlaceholder"),FillerRow:_("FillerRow"),fixedFooterContent:C,fixedHeaderContent:b,itemContent:d,groupContent:g,ScrollerComponent:_("Scroller","div"),scrollerRef:O,ScrollSeekPlaceholder:_("ScrollSeekPlaceholder"),TableBodyComponent:_("TableBody","tbody"),TableComponent:_("Table","table"),TableFooterComponent:_("TableFoot","tfoot"),TableHeadComponent:_("TableHead","thead"),TableRowComponent:_("TableRow","tr"),GroupComponent:_("Group","tr")}}),pp=Ht(([d,f])=>({...d,...f}),mn(sg,mp)),bp=({height:d})=>p.jsx("tr",{children:p.jsx("td",{style:{height:d}})}),yp=({height:d})=>p.jsx("tr",{children:p.jsx("td",{style:{border:0,height:d,padding:0}})}),wp={overflowAnchor:"none"},px={position:kf(),zIndex:2,overflowAnchor:"none"},bx=Ue.memo(function({showTopList:d=!1}){const f=mt("listState"),g=mt("computeItemKey"),b=mt("firstItemIndex"),C=mt("context"),w=mt("isSeeking"),T=mt("fixedHeaderHeight"),O=mt("groupIndices").length>0,_=mt("itemContent"),E=mt("groupContent"),B=mt("ScrollSeekPlaceholder")||bp,M=mt("GroupComponent"),X=mt("TableRowComponent"),W=(d?f.topItems:[]).reduce((te,ne,z)=>(z===0?te.push(ne.size):te.push(te[z-1]+ne.size),te),[]),fe=(d?f.topItems:f.items).map(te=>{const ne=te.originalIndex,z=g(ne+b,te.data,C),L=d?ne===0?0:W[ne-1]:0;return w?be.createElement(B,{...gn(B,C),height:te.size,index:te.index,key:z,type:te.type||"item"}):te.type==="group"?be.createElement(M,{...gn(M,C),"data-index":ne,"data-item-index":te.index,"data-known-size":te.size,key:z,style:{...px,top:T}},E(te.index,C)):be.createElement(X,{...gn(X,C),...fg(X,te.data),"data-index":ne,"data-item-index":te.index,"data-known-size":te.size,"data-item-group-index":te.groupIndex,key:z,style:d?{...px,top:T+L}:wp},O?_(te.index,te.groupIndex,te.data,C):_(te.index,te.data,C))});return p.jsx(p.Fragment,{children:fe})}),Cp=Ue.memo(function(){const d=mt("listState"),f=mt("topItemsIndexes").length>0,g=br("sizeRanges"),b=mt("useWindowScroll"),C=mt("customScrollParent"),w=br("windowScrollContainerState"),T=br("scrollContainerState"),O=C||b?w:T,_=mt("trackItemSizes"),E=mt("itemSize"),B=mt("log"),{callbackRef:M,ref:X}=Px(g,E,_,O,B,void 0,C,!1,mt("skipAnimationFrameInResizeObserver")),[W,fe]=Ue.useState(0);Uf("deviation",ie=>{W!==ie&&(X.current.style.marginTop=`${ie}px`,fe(ie))});const te=mt("EmptyPlaceholder"),ne=mt("FillerRow")||yp,z=mt("TableBodyComponent"),L=mt("paddingTopAddition"),G=mt("statefulTotalCount"),$=mt("context");if(G===0&&te)return p.jsx(te,{...gn(te,$)});const xe=(f?d.topItems:[]).reduce((ie,re)=>ie+re.size,0),K=d.offsetTop+L+W-xe,D=d.offsetBottom,q=K>0?p.jsx(ne,{context:$,height:K},"padding-top"):null,F=D>0?p.jsx(ne,{context:$,height:D},"padding-bottom"):null;return p.jsxs(z,{"data-testid":"virtuoso-item-list",ref:M,...gn(z,$),children:[q,f&&p.jsx(bx,{showTopList:!0}),p.jsx(bx,{}),F]})}),Ep=({children:d})=>{const f=Ue.useContext(su),g=br("viewportHeight"),b=br("fixedItemHeight"),C=Lr(Ue.useMemo(()=>go(g,w=>wr(w,"height")),[g]),!0,mt("skipAnimationFrameInResizeObserver"));return Ue.useEffect(()=>{f&&(g(f.viewportHeight),b(f.itemHeight))},[f,g,b]),p.jsx("div",{"data-viewport-type":"element",ref:C,style:ps(!1),children:d})},Ap=({children:d})=>{const f=Ue.useContext(su),g=br("windowViewportRect"),b=br("fixedItemHeight"),C=mt("customScrollParent"),w=Nf(g,C,mt("skipAnimationFrameInResizeObserver"));return Ue.useEffect(()=>{f&&(b(f.itemHeight),g({offsetTop:0,visibleHeight:f.viewportHeight,visibleWidth:100}))},[f,g,b]),p.jsx("div",{"data-viewport-type":"window",ref:w,style:ps(!1),children:d})},vp=Ue.memo(function(d){const f=mt("useWindowScroll"),g=mt("customScrollParent"),b=br("fixedHeaderHeight"),C=br("fixedFooterHeight"),w=mt("fixedHeaderContent"),T=mt("fixedFooterContent"),O=mt("context"),_=Lr(Ue.useMemo(()=>go(b,z=>wr(z,"height")),[b]),!0,mt("skipAnimationFrameInResizeObserver")),E=Lr(Ue.useMemo(()=>go(C,z=>wr(z,"height")),[C]),!0,mt("skipAnimationFrameInResizeObserver")),B=g||f?Tp:Np,M=g||f?Ap:Ep,X=mt("TableComponent"),W=mt("TableHeadComponent"),fe=mt("TableFooterComponent"),te=w?p.jsx(W,{ref:_,style:{position:"sticky",top:0,zIndex:2},...gn(W,O),children:w()},"TableHead"):null,ne=T?p.jsx(fe,{ref:E,style:{bottom:0,position:"sticky",zIndex:1},...gn(fe,O),children:T()},"TableFoot"):null;return p.jsx(B,{...d,...gn(B,O),children:p.jsx(M,{children:p.jsxs(X,{style:{borderSpacing:0,overflowAnchor:"none"},...gn(X,O),children:[te,p.jsx(Cp,{},"TableBody"),ne]})})})}),{Component:Sp,useEmitter:Uf,useEmitterValue:mt,usePublisher:br}=Mf(pp,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},vp),Np=jf({useEmitter:Uf,useEmitterValue:mt,usePublisher:br}),Tp=Lf({useEmitter:Uf,useEmitterValue:mt,usePublisher:br}),_p=Sp,yx={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},Ip={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:wx,floor:Jc,max:xo,min:xf,round:Cx}=Math;function Ex(d,f,g){return Array.from({length:f-d+1}).map((b,C)=>({data:g===null?null:g[C+d],index:C+d}))}function Op(d){return{...Ip,items:d}}function Gc(d,f){return d&&d.width===f.width&&d.height===f.height}function Rp(d,f){return d&&d.column===f.column&&d.row===f.row}const Dp=Ht(([{increaseViewportBy:d,listBoundary:f,overscan:g,visibleRange:b},{footerHeight:C,headerHeight:w,scrollBy:T,scrollContainerState:O,scrollTo:_,scrollTop:E,smoothScrollTargetReached:B,viewportHeight:M},X,W,{didMount:fe,propsReady:te},{customScrollParent:ne,useWindowScroll:z,windowScrollContainerState:L,windowScrollTo:G,windowViewportRect:$},xe])=>{const K=Le(0),D=Le(0),q=Le(yx),F=Le({height:0,width:0}),ie=Le({height:0,width:0}),re=Mt(),oe=Mt(),Ae=Le(0),Ee=Le(null),Q=Le({column:0,row:0}),U=Mt(),J=Mt(),ve=Le(!1),Re=Le(0),Oe=Le(!0),H=Le(!1),ue=Le(!1);qt(Ie(fe,yt(Re),nt(([ye,He])=>!!He)),()=>{pt(Oe,!1)}),qt(Ie(Pn(fe,Oe,ie,F,Re,H),nt(([ye,He,Et,wt,,Rt])=>ye&&!He&&Et.height!==0&&wt.height!==0&&!Rt)),([,,,,ye])=>{pt(H,!0),If(1,()=>{pt(re,ye)}),pr(Ie(E),()=>{pt(f,[0,0]),pt(Oe,!0)})}),Ze(Ie(J,nt(ye=>ye!=null&&ye.scrollTop>0),Br(0)),D),qt(Ie(fe,yt(J),nt(([,ye])=>ye!=null)),([,ye])=>{ye&&(pt(F,ye.viewport),pt(ie,ye.item),pt(Q,ye.gap),ye.scrollTop>0&&(pt(ve,!0),pr(Ie(E,Nl(1)),He=>{pt(ve,!1)}),pt(_,{top:ye.scrollTop})))}),Ze(Ie(F,Ve(({height:ye})=>ye)),M),Ze(Ie(Pn(at(F,Gc),at(ie,Gc),at(Q,(ye,He)=>ye&&ye.column===He.column&&ye.row===He.row),at(E)),Ve(([ye,He,Et,wt])=>({gap:Et,item:He,scrollTop:wt,viewport:ye}))),U),Ze(Ie(Pn(at(K),b,at(Q,Rp),at(ie,Gc),at(F,Gc),at(Ee),at(D),at(ve),at(Oe),at(Re)),nt(([,,,,,,,ye])=>!ye),Ve(([ye,[He,Et],wt,Rt,st,Me,Ke,,Zt,ut])=>{const{column:ft,row:rt}=wt,{height:la,width:ze}=Rt,{width:Cr}=st;if(Ke===0&&(ye===0||Cr===0))return yx;if(ze===0){const Ur=Of(ut,ye),bs=Ur+Math.max(Ke-1,0);return Op(Ex(Ur,bs,Me))}const Er=hg(Cr,ze,ft);let Bt,Jn;Zt?He===0&&Et===0&&Ke>0?(Bt=0,Jn=Ke-1):(Bt=Er*Jc((He+rt)/(la+rt)),Jn=Er*wx((Et+rt)/(la+rt))-1,Jn=xf(ye-1,xo(Jn,Er-1)),Bt=xf(Jn,xo(0,Bt))):(Bt=0,Jn=-1);const kn=Ex(Bt,Jn,Me),{bottom:lr,top:Bn}=Ax(st,wt,Rt,kn),pn=wx(ye/Er),Qi=pn*la+(pn-1)*rt-lr;return{bottom:lr,itemHeight:la,items:kn,itemWidth:ze,offsetBottom:Qi,offsetTop:Bn,top:Bn}})),q),Ze(Ie(Ee,nt(ye=>ye!==null),Ve(ye=>ye.length)),K),Ze(Ie(Pn(F,ie,q,Q),nt(([ye,He,{items:Et}])=>Et.length>0&&He.height!==0&&ye.height!==0),Ve(([ye,He,{items:Et},wt])=>{const{bottom:Rt,top:st}=Ax(ye,wt,He,Et);return[st,Rt]}),xn(bo)),f);const _e=Le(!1);Ze(Ie(E,yt(_e),Ve(([ye,He])=>He||ye!==0)),_e);const je=Fa(Ie(Pn(q,K),nt(([{items:ye}])=>ye.length>0),yt(_e),nt(([[ye,He],Et])=>{const wt=ye.items[ye.items.length-1].index===He-1;return(Et||ye.bottom>0&&ye.itemHeight>0&&ye.offsetBottom===0&&ye.items.length===He)&&wt}),Ve(([[,ye]])=>ye-1),xn())),Fe=Fa(Ie(at(q),nt(({items:ye})=>ye.length>0&&ye[0].index===0),Br(0),xn())),Se=Fa(Ie(at(q),yt(ve),nt(([{items:ye},He])=>ye.length>0&&!He),Ve(([{items:ye}])=>({endIndex:ye[ye.length-1].index,startIndex:ye[0].index})),xn(Zx),ci(0)));Ze(Se,W.scrollSeekRangeChanged),Ze(Ie(re,yt(F,ie,K,Q),Ve(([ye,He,Et,wt,Rt])=>{const st=$x(ye),{align:Me,behavior:Ke,offset:Zt}=st;let ut=st.index;ut==="LAST"&&(ut=wt-1),ut=xo(0,ut,xf(wt-1,ut));let ft=wf(He,Rt,Et,ut);return Me==="end"?ft=Cx(ft-He.height+Et.height):Me==="center"&&(ft=Cx(ft-He.height/2+Et.height/2)),Zt&&(ft+=Zt),{behavior:Ke,top:ft}})),_);const tt=oa(Ie(q,Ve(ye=>ye.offsetBottom+ye.bottom)),0);return Ze(Ie($,Ve(ye=>({height:ye.visibleHeight,width:ye.visibleWidth}))),F),{customScrollParent:ne,data:Ee,deviation:Ae,footerHeight:C,gap:Q,headerHeight:w,increaseViewportBy:d,initialItemCount:D,itemDimensions:ie,overscan:g,restoreStateFrom:J,scrollBy:T,scrollContainerState:O,scrollHeight:oe,scrollTo:_,scrollToIndex:re,scrollTop:E,smoothScrollTargetReached:B,totalCount:K,useWindowScroll:z,viewportDimensions:F,windowScrollContainerState:L,windowScrollTo:G,windowViewportRect:$,...W,gridState:q,horizontalDirection:ue,initialTopMostItemIndex:Re,totalListHeight:tt,...X,endReached:je,propsReady:te,rangeChanged:Se,startReached:Fe,stateChanged:U,stateRestoreInProgress:ve,...xe}},mn(Rf,ma,Ao,ig,Wi,Df,Zi));function hg(d,f,g){return xo(1,Jc((d+g)/(Jc(f)+g)))}function Ax(d,f,g,b){const{height:C}=g;if(C===void 0||b.length===0)return{bottom:0,top:0};const w=wf(d,f,g,b[0].index);return{bottom:wf(d,f,g,b[b.length-1].index)+C,top:w}}function wf(d,f,g,b){const C=hg(d.width,g.width,f.column),w=Jc(b/C),T=w*g.height+xo(0,w-1)*f.row;return T>0?T+f.row:T}const Mp=Ht(()=>{const d=Le(M=>`Item ${M}`),f=Le({}),g=Le(null),b=Le("virtuoso-grid-item"),C=Le("virtuoso-grid-list"),w=Le(Bf),T=Le("div"),O=Le(ms),_=(M,X=null)=>oa(Ie(f,Ve(W=>W[M]),xn()),X),E=Le(!1),B=Le(!1);return Ze(at(B),E),{components:f,computeItemKey:w,context:g,FooterComponent:_("Footer"),HeaderComponent:_("Header"),headerFooterTag:T,itemClassName:b,ItemComponent:_("Item","div"),itemContent:d,listClassName:C,ListComponent:_("List","div"),readyStateChanged:E,reportReadyState:B,ScrollerComponent:_("Scroller","div"),scrollerRef:O,ScrollSeekPlaceholder:_("ScrollSeekPlaceholder","div")}}),kp=Ht(([d,f])=>({...d,...f}),mn(Dp,Mp)),Bp=Ue.memo(function(){const d=Cn("gridState"),f=Cn("listClassName"),g=Cn("itemClassName"),b=Cn("itemContent"),C=Cn("computeItemKey"),w=Cn("isSeeking"),T=ir("scrollHeight"),O=Cn("ItemComponent"),_=Cn("ListComponent"),E=Cn("ScrollSeekPlaceholder"),B=Cn("context"),M=ir("itemDimensions"),X=ir("gap"),W=Cn("log"),fe=Cn("stateRestoreInProgress"),te=ir("reportReadyState"),ne=Lr(Ue.useMemo(()=>z=>{const L=z.parentElement.parentElement.scrollHeight;T(L);const G=z.firstChild;if(G){const{height:$,width:xe}=G.getBoundingClientRect();M({height:$,width:xe})}X({column:vx("column-gap",getComputedStyle(z).columnGap,W),row:vx("row-gap",getComputedStyle(z).rowGap,W)})},[T,M,X,W]),!0,!1);return cg(()=>{d.itemHeight>0&&d.itemWidth>0&&te(!0)},[d]),fe?null:p.jsx(_,{className:f,ref:ne,...gn(_,B),"data-testid":"virtuoso-item-list",style:{paddingBottom:d.offsetBottom,paddingTop:d.offsetTop},children:d.items.map(z=>{const L=C(z.index,z.data,B);return w?p.jsx(E,{...gn(E,B),height:d.itemHeight,index:z.index,width:d.itemWidth},L):be.createElement(O,{...gn(O,B),className:g,"data-index":z.index,key:L},b(z.index,z.data,B))})})}),jp=Ue.memo(function(){const d=Cn("HeaderComponent"),f=ir("headerHeight"),g=Cn("headerFooterTag"),b=Lr(Ue.useMemo(()=>w=>{f(wr(w,"height"))},[f]),!0,!1),C=Cn("context");return d?p.jsx(g,{ref:b,children:p.jsx(d,{...gn(d,C)})}):null}),Lp=Ue.memo(function(){const d=Cn("FooterComponent"),f=ir("footerHeight"),g=Cn("headerFooterTag"),b=Lr(Ue.useMemo(()=>w=>{f(wr(w,"height"))},[f]),!0,!1),C=Cn("context");return d?p.jsx(g,{ref:b,children:p.jsx(d,{...gn(d,C)})}):null}),zp=({children:d})=>{const f=Ue.useContext(og),g=ir("itemDimensions"),b=ir("viewportDimensions"),C=Lr(Ue.useMemo(()=>w=>{b(w.getBoundingClientRect())},[b]),!0,!1);return Ue.useEffect(()=>{f&&(b({height:f.viewportHeight,width:f.viewportWidth}),g({height:f.itemHeight,width:f.itemWidth}))},[f,b,g]),p.jsx("div",{ref:C,style:ps(!1),children:d})},Up=({children:d})=>{const f=Ue.useContext(og),g=ir("windowViewportRect"),b=ir("itemDimensions"),C=Cn("customScrollParent"),w=Nf(g,C,!1);return Ue.useEffect(()=>{f&&(b({height:f.itemHeight,width:f.itemWidth}),g({offsetTop:0,visibleHeight:f.viewportHeight,visibleWidth:f.viewportWidth}))},[f,g,b]),p.jsx("div",{ref:w,style:ps(!1),children:d})},Hp=Ue.memo(function({...d}){const f=Cn("useWindowScroll"),g=Cn("customScrollParent"),b=g||f?Pp:Fp,C=g||f?Up:zp,w=Cn("context");return p.jsx(b,{...d,...gn(b,w),children:p.jsxs(C,{children:[p.jsx(jp,{}),p.jsx(Bp,{}),p.jsx(Lp,{})]})})}),{useEmitter:xg,useEmitterValue:Cn,usePublisher:ir}=Mf(kp,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},Hp),Fp=jf({useEmitter:xg,useEmitterValue:Cn,usePublisher:ir}),Pp=Lf({useEmitter:xg,useEmitterValue:Cn,usePublisher:ir});function vx(d,f,g){return f!=="normal"&&!(f!=null&&f.endsWith("px"))&&g(`${d} was not resolved to pixel value correctly`,f,Na.WARN),f==="normal"?0:parseInt(f??"0",10)}var Ge;(function(d){d[d.QR_CODE=0]="QR_CODE",d[d.AZTEC=1]="AZTEC",d[d.CODABAR=2]="CODABAR",d[d.CODE_39=3]="CODE_39",d[d.CODE_93=4]="CODE_93",d[d.CODE_128=5]="CODE_128",d[d.DATA_MATRIX=6]="DATA_MATRIX",d[d.MAXICODE=7]="MAXICODE",d[d.ITF=8]="ITF",d[d.EAN_13=9]="EAN_13",d[d.EAN_8=10]="EAN_8",d[d.PDF_417=11]="PDF_417",d[d.RSS_14=12]="RSS_14",d[d.RSS_EXPANDED=13]="RSS_EXPANDED",d[d.UPC_A=14]="UPC_A",d[d.UPC_E=15]="UPC_E",d[d.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ge||(Ge={}));var Sx=new Map([[Ge.QR_CODE,"QR_CODE"],[Ge.AZTEC,"AZTEC"],[Ge.CODABAR,"CODABAR"],[Ge.CODE_39,"CODE_39"],[Ge.CODE_93,"CODE_93"],[Ge.CODE_128,"CODE_128"],[Ge.DATA_MATRIX,"DATA_MATRIX"],[Ge.MAXICODE,"MAXICODE"],[Ge.ITF,"ITF"],[Ge.EAN_13,"EAN_13"],[Ge.EAN_8,"EAN_8"],[Ge.PDF_417,"PDF_417"],[Ge.RSS_14,"RSS_14"],[Ge.RSS_EXPANDED,"RSS_EXPANDED"],[Ge.UPC_A,"UPC_A"],[Ge.UPC_E,"UPC_E"],[Ge.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Nx;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.URL=1]="URL"})(Nx||(Nx={}));function Gp(d){return Object.values(Ge).includes(d)}var $c;(function(d){d[d.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",d[d.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})($c||($c={}));var Vp=(function(){function d(){}return d.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",d.SCAN_DEFAULT_FPS=2,d.DEFAULT_DISABLE_FLIP=!1,d.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,d.DEFAULT_SUPPORTED_SCAN_TYPE=[$c.SCAN_TYPE_CAMERA,$c.SCAN_TYPE_FILE],d})(),gg=(function(){function d(f,g){this.format=f,this.formatName=g}return d.prototype.toString=function(){return this.formatName},d.create=function(f){if(!Sx.has(f))throw"".concat(f," not in html5QrcodeSupportedFormatsTextMap");return new d(f,Sx.get(f))},d})(),Tx=(function(){function d(){}return d.createFromText=function(f){var g={text:f};return{decodedText:f,result:g}},d.createFromQrcodeResult=function(f){return{decodedText:f.text,result:f}},d})(),Cf;(function(d){d[d.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",d[d.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",d[d.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Cf||(Cf={}));var Xp=(function(){function d(){}return d.createFrom=function(f){return{errorMessage:f,type:Cf.UNKWOWN_ERROR}},d})(),Yp=(function(){function d(f){this.verbose=f}return d.prototype.log=function(f){this.verbose&&console.log(f)},d.prototype.warn=function(f){this.verbose&&console.warn(f)},d.prototype.logError=function(f,g){(this.verbose||g===!0)&&console.error(f)},d.prototype.logErrors=function(f){if(f.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(f)},d})();function oi(d){return typeof d>"u"||d===null}var ds=(function(){function d(){}return d.codeParseError=function(f){return"QR code parse error, error = ".concat(f)},d.errorGettingUserMedia=function(f){return"Error getting userMedia, error = ".concat(f)},d.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},d.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},d.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},d.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},d.scannerPaused=function(){return"Scanner paused"},d})(),mg=(function(){function d(){}return d.isMediaStreamConstraintsValid=function(f,g){if(typeof f!="object"){var b=typeof f;return g.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(b,"."),!0),!1}for(var C=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],w=new Set(C),T=Object.keys(f),O=0,_=T;O<_.length;O++){var E=_[O];if(w.has(E))return g.logError("".concat(E," is not supported videoConstaints."),!0),!1}return!0},d})(),fo={exports:{}},qp=fo.exports,_x;function Zp(){return _x||(_x=1,(function(d,f){(function(g,b){b(f)})(qp,(function(g){function b(S){return S==null}var C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,t){S.__proto__=t}||function(S,t){for(var a in t)t.hasOwnProperty(a)&&(S[a]=t[a])};function w(S,t){C(S,t);function a(){this.constructor=S}S.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}function T(S,t){var a=Object.setPrototypeOf;a?a(S,t):S.__proto__=t}function O(S,t){t===void 0&&(t=S.constructor);var a=Error.captureStackTrace;a&&a(S,t)}var _=(function(S){w(t,S);function t(a){var r=this.constructor,l=S.call(this,a)||this;return Object.defineProperty(l,"name",{value:r.name,enumerable:!1}),T(l,r.prototype),O(l),l}return t})(Error);class E extends _{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}E.kind="Exception";class B extends E{}B.kind="ArgumentException";class M extends E{}M.kind="IllegalArgumentException";class X{constructor(t){if(this.binarizer=t,t===null)throw new M("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,a){return this.binarizer.getBlackRow(t,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,a,r,l){const s=this.binarizer.getLuminanceSource().crop(t,a,r,l);return new X(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new X(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new X(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class W extends E{static getChecksumInstance(){return new W}}W.kind="ChecksumException";class fe{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class te{static arraycopy(t,a,r,l,s){for(;s--;)r[l++]=t[a++]}static currentTimeMillis(){return Date.now()}}class ne extends E{}ne.kind="IndexOutOfBoundsException";class z extends ne{constructor(t=void 0,a=void 0){super(a),this.index=t,this.message=a}}z.kind="ArrayIndexOutOfBoundsException";class L{static fill(t,a){for(let r=0,l=t.length;r<l;r++)t[r]=a}static fillWithin(t,a,r,l){L.rangeCheck(t.length,a,r);for(let s=a;s<r;s++)t[s]=l}static rangeCheck(t,a,r){if(a>r)throw new M("fromIndex("+a+") > toIndex("+r+")");if(a<0)throw new z(a);if(r>t)throw new z(r)}static asList(...t){return t}static create(t,a,r){return Array.from({length:t}).map(s=>Array.from({length:a}).fill(r))}static createInt32Array(t,a,r){return Array.from({length:t}).map(s=>Int32Array.from({length:a}).fill(r))}static equals(t,a){if(!t||!a||!t.length||!a.length||t.length!==a.length)return!1;for(let r=0,l=t.length;r<l;r++)if(t[r]!==a[r])return!1;return!0}static hashCode(t){if(t===null)return 0;let a=1;for(const r of t)a=31*a+r;return a}static fillUint8Array(t,a){for(let r=0;r!==t.length;r++)t[r]=a}static copyOf(t,a){return t.slice(0,a)}static copyOfUint8Array(t,a){if(t.length<=a){const r=new Uint8Array(a);return r.set(t),r}return t.slice(0,a)}static copyOfRange(t,a,r){const l=r-a,s=new Int32Array(l);return te.arraycopy(t,a,s,0,l),s}static binarySearch(t,a,r){r===void 0&&(r=L.numberComparator);let l=0,s=t.length-1;for(;l<=s;){const c=s+l>>1,u=r(a,t[c]);if(u>0)l=c+1;else if(u<0)s=c-1;else return c}return-l-1}static numberComparator(t,a){return t-a}}class G{static numberOfTrailingZeros(t){let a;if(t===0)return 32;let r=31;return a=t<<16,a!==0&&(r-=16,t=a),a=t<<8,a!==0&&(r-=8,t=a),a=t<<4,a!==0&&(r-=4,t=a),a=t<<2,a!==0&&(r-=2,t=a),r-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let a=1;return t>>>16||(a+=16,t<<=16),t>>>24||(a+=8,t<<=8),t>>>28||(a+=4,t<<=4),t>>>30||(a+=2,t<<=2),a-=t>>>31,a}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,a){return Math.trunc(t/a)}static parseInt(t,a=void 0){return parseInt(t,a)}}G.MIN_VALUE_32_BITS=-2147483648,G.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ${constructor(t,a){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,a==null?this.bits=$.makeArray(t):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const a=$.makeArray(t);te.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const a=this.size;if(t>=a)return a;const r=this.bits;let l=Math.floor(t/32),s=r[l];s&=~((1<<(t&31))-1);const c=r.length;for(;s===0;){if(++l===c)return a;s=r[l]}const u=l*32+G.numberOfTrailingZeros(s);return u>a?a:u}getNextUnset(t){const a=this.size;if(t>=a)return a;const r=this.bits;let l=Math.floor(t/32),s=~r[l];s&=~((1<<(t&31))-1);const c=r.length;for(;s===0;){if(++l===c)return a;s=~r[l]}const u=l*32+G.numberOfTrailingZeros(s);return u>a?a:u}setBulk(t,a){this.bits[Math.floor(t/32)]=a}setRange(t,a){if(a<t||t<0||a>this.size)throw new M;if(a===t)return;a--;const r=Math.floor(t/32),l=Math.floor(a/32),s=this.bits;for(let c=r;c<=l;c++){const u=c>r?0:t&31,y=(2<<(c<l?31:a&31))-(1<<u);s[c]|=y}}clear(){const t=this.bits.length,a=this.bits;for(let r=0;r<t;r++)a[r]=0}isRange(t,a,r){if(a<t||t<0||a>this.size)throw new M;if(a===t)return!0;a--;const l=Math.floor(t/32),s=Math.floor(a/32),c=this.bits;for(let u=l;u<=s;u++){const x=u>l?0:t&31,A=(2<<(u<s?31:a&31))-(1<<x)&4294967295;if((c[u]&A)!==(r?A:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,a){if(a<0||a>32)throw new M("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let r=a;r>0;r--)this.appendBit((t>>r-1&1)===1)}appendBitArray(t){const a=t.size;this.ensureCapacity(this.size+a);for(let r=0;r<a;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new M("Sizes don't match");const a=this.bits;for(let r=0,l=a.length;r<l;r++)a[r]^=t.bits[r]}toBytes(t,a,r,l){for(let s=0;s<l;s++){let c=0;for(let u=0;u<8;u++)this.get(t)&&(c|=1<<7-u),t++;a[r+s]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),r=a+1,l=this.bits;for(let s=0;s<r;s++){let c=l[s];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[a-s]=c}if(this.size!==r*32){const s=r*32-this.size;let c=t[0]>>>s;for(let u=1;u<r;u++){const x=t[u];c|=x<<32-s,t[u-1]=c,c=x>>>s}t[r-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof $))return!1;const a=t;return this.size===a.size&&L.equals(this.bits,a.bits)}hashCode(){return 31*this.size+L.hashCode(this.bits)}toString(){let t="";for(let a=0,r=this.size;a<r;a++)(a&7)===0&&(t+=" "),t+=this.get(a)?"X":".";return t}clone(){return new $(this.size,this.bits.slice())}}var xe;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(xe||(xe={}));var K=xe;class D extends E{static getFormatInstance(){return new D}}D.kind="FormatException";var q;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(q||(q={}));class F{constructor(t,a,r,...l){this.valueIdentifier=t,this.name=r,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=l,F.VALUE_IDENTIFIER_TO_ECI.set(t,this),F.NAME_TO_ECI.set(r,this);const s=this.values;for(let c=0,u=s.length;c!==u;c++){const x=s[c];F.VALUES_TO_ECI.set(x,this)}for(const c of l)F.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new D("incorect value");const a=F.VALUES_TO_ECI.get(t);if(a===void 0)throw new D("incorect value");return a}static getCharacterSetECIByName(t){const a=F.NAME_TO_ECI.get(t);if(a===void 0)throw new D("incorect value");return a}equals(t){if(!(t instanceof F))return!1;const a=t;return this.getName()===a.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(q.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(q.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(q.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(q.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(q.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(q.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(q.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(q.Big5,28,"Big5"),F.GB18030=new F(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(q.EUC_KR,30,"EUC_KR","EUC-KR");class ie extends E{}ie.kind="UnsupportedOperationException";class re{static decode(t,a){const r=this.encodingName(a);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!re.isBrowser()&&t==="ISO-8859-1"}static encode(t,a){const r=this.encodingName(a);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof F?t:F.getCharacterSetECIByName(t)}static decodeFallback(t,a){const r=this.encodingCharacterSet(a);if(re.isDecodeFallbackSupported(r)){let l="";for(let s=0,c=t.length;s<c;s++){let u=t[s].toString(16);u.length<2&&(u="0"+u),l+="%"+u}return decodeURIComponent(l)}if(r.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new ie(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(F.UTF8)||t.equals(F.ISO8859_1)||t.equals(F.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let s=0;s<r.length;s++)l.push(r[s].charCodeAt(0));return new Uint8Array(l)}}class oe{static castAsNonUtf8Char(t,a=null){const r=a?a.getName():this.ISO88591;return re.decode(new Uint8Array([t]),r)}static guessEncoding(t,a){if(a!=null&&a.get(K.CHARACTER_SET)!==void 0)return a.get(K.CHARACTER_SET).toString();const r=t.length;let l=!0,s=!0,c=!0,u=0,x=0,y=0,A=0,N=0,I=0,j=0,V=0,Y=0,ae=0,he=0;const ke=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let De=0;De<r&&(l||s||c);De++){const Te=t[De]&255;c&&(u>0?(Te&128)===0?c=!1:u--:(Te&128)!==0&&((Te&64)===0?c=!1:(u++,(Te&32)===0?x++:(u++,(Te&16)===0?y++:(u++,(Te&8)===0?A++:c=!1))))),l&&(Te>127&&Te<160?l=!1:Te>159&&(Te<192||Te===215||Te===247)&&he++),s&&(N>0?Te<64||Te===127||Te>252?s=!1:N--:Te===128||Te===160||Te>239?s=!1:Te>160&&Te<224?(I++,V=0,j++,j>Y&&(Y=j)):Te>127?(N++,j=0,V++,V>ae&&(ae=V)):(j=0,V=0))}return c&&u>0&&(c=!1),s&&N>0&&(s=!1),c&&(ke||x+y+A>0)?oe.UTF8:s&&(oe.ASSUME_SHIFT_JIS||Y>=3||ae>=3)?oe.SHIFT_JIS:l&&s?Y===2&&I===2||he*10>=r?oe.SHIFT_JIS:oe.ISO88591:l?oe.ISO88591:s?oe.SHIFT_JIS:c?oe.UTF8:oe.PLATFORM_DEFAULT_ENCODING}static format(t,...a){let r=-1;function l(c,u,x,y,A,N){if(c==="%%")return"%";if(a[++r]===void 0)return;c=y?parseInt(y.substr(1)):void 0;let I=A?parseInt(A.substr(1)):void 0,j;switch(N){case"s":j=a[r];break;case"c":j=a[r][0];break;case"f":j=parseFloat(a[r]).toFixed(c);break;case"p":j=parseFloat(a[r]).toPrecision(c);break;case"e":j=parseFloat(a[r]).toExponential(c);break;case"x":j=parseInt(a[r]).toString(I||16);break;case"d":j=parseFloat(parseInt(a[r],I||10).toPrecision(c)).toFixed(0);break}j=typeof j=="object"?JSON.stringify(j):(+j).toString(I);let V=parseInt(x),Y=x&&x[0]+""=="0"?"0":" ";for(;j.length<V;)j=u!==void 0?j+Y:Y+j;return j}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}static getBytes(t,a){return re.encode(t,a)}static getCharCode(t,a=0){return t.charCodeAt(a)}static getCharAt(t){return String.fromCharCode(t)}}oe.SHIFT_JIS=F.SJIS.getName(),oe.GB2312="GB2312",oe.ISO88591=F.ISO8859_1.getName(),oe.EUC_JP="EUC_JP",oe.UTF8=F.UTF8.getName(),oe.PLATFORM_DEFAULT_ENCODING=oe.UTF8,oe.ASSUME_SHIFT_JIS=!1;class Ae{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=oe.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,a,r){for(let l=a;a<a+r;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+1)}substring(t,a){return this.value.substring(t,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+a.length)}}class Ee{constructor(t,a,r,l){if(this.width=t,this.height=a,this.rowSize=r,this.bits=l,a==null&&(a=t),this.height=a,t<1||a<1)throw new M("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const a=t.length,r=t[0].length,l=new Ee(r,a);for(let s=0;s<a;s++){const c=t[s];for(let u=0;u<r;u++)c[u]&&l.set(u,s)}return l}static parseFromString(t,a,r){if(t===null)throw new M("stringRepresentation cannot be null");const l=new Array(t.length);let s=0,c=0,u=-1,x=0,y=0;for(;y<t.length;)if(t.charAt(y)===`
`||t.charAt(y)==="\r"){if(s>c){if(u===-1)u=s-c;else if(s-c!==u)throw new M("row lengths do not match");c=s,x++}y++}else if(t.substring(y,y+a.length)===a)y+=a.length,l[s]=!0,s++;else if(t.substring(y,y+r.length)===r)y+=r.length,l[s]=!1,s++;else throw new M("illegal character encountered: "+t.substring(y));if(s>c){if(u===-1)u=s-c;else if(s-c!==u)throw new M("row lengths do not match");x++}const A=new Ee(u,x);for(let N=0;N<s;N++)l[N]&&A.set(Math.floor(N%u),Math.floor(N/u));return A}get(t,a){const r=a*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0}set(t,a){const r=a*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295}unset(t,a){const r=a*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)}flip(t,a){const r=a*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new M("input matrix dimensions do not match");const a=new $(Math.floor(this.width/32)+1),r=this.rowSize,l=this.bits;for(let s=0,c=this.height;s<c;s++){const u=s*r,x=t.getRow(s,a).getBitArray();for(let y=0;y<r;y++)l[u+y]^=x[y]}}clear(){const t=this.bits,a=t.length;for(let r=0;r<a;r++)t[r]=0}setRegion(t,a,r,l){if(a<0||t<0)throw new M("Left and top must be nonnegative");if(l<1||r<1)throw new M("Height and width must be at least 1");const s=t+r,c=a+l;if(c>this.height||s>this.width)throw new M("The region must fit inside the matrix");const u=this.rowSize,x=this.bits;for(let y=a;y<c;y++){const A=y*u;for(let N=t;N<s;N++)x[A+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(t,a){a==null||a.getSize()<this.width?a=new $(this.width):a.clear();const r=this.rowSize,l=this.bits,s=t*r;for(let c=0;c<r;c++)a.setBulk(c*32,l[s+c]);return a}setRow(t,a){te.arraycopy(a.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),a=this.getHeight();let r=new $(t),l=new $(t);for(let s=0,c=Math.floor((a+1)/2);s<c;s++)r=this.getRow(s,r),l=this.getRow(a-1-s,l),r.reverse(),l.reverse(),this.setRow(s,l),this.setRow(a-1-s,r)}getEnclosingRectangle(){const t=this.width,a=this.height,r=this.rowSize,l=this.bits;let s=t,c=a,u=-1,x=-1;for(let y=0;y<a;y++)for(let A=0;A<r;A++){const N=l[y*r+A];if(N!==0){if(y<c&&(c=y),y>x&&(x=y),A*32<s){let I=0;for(;(N<<31-I&4294967295)===0;)I++;A*32+I<s&&(s=A*32+I)}if(A*32+31>u){let I=31;for(;!(N>>>I);)I--;A*32+I>u&&(u=A*32+I)}}}return u<s||x<c?null:Int32Array.from([s,c,u-s+1,x-c+1])}getTopLeftOnBit(){const t=this.rowSize,a=this.bits;let r=0;for(;r<a.length&&a[r]===0;)r++;if(r===a.length)return null;const l=r/t;let s=r%t*32;const c=a[r];let u=0;for(;(c<<31-u&4294967295)===0;)u++;return s+=u,Int32Array.from([s,l])}getBottomRightOnBit(){const t=this.rowSize,a=this.bits;let r=a.length-1;for(;r>=0&&a[r]===0;)r--;if(r<0)return null;const l=Math.floor(r/t);let s=Math.floor(r%t)*32;const c=a[r];let u=31;for(;!(c>>>u);)u--;return s+=u,Int32Array.from([s,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Ee))return!1;const a=t;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&L.equals(this.bits,a.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+L.hashCode(this.bits),t}toString(t="X ",a="  ",r=`
`){return this.buildToString(t,a,r)}buildToString(t,a,r){let l=new Ae;for(let s=0,c=this.height;s<c;s++){for(let u=0,x=this.width;u<x;u++)l.append(this.get(u,s)?t:a);l.append(r)}return l.toString()}clone(){return new Ee(this.width,this.height,this.rowSize,this.bits.slice())}}class Q extends E{static getNotFoundInstance(){return new Q}}Q.kind="NotFoundException";class U extends fe{constructor(t){super(t),this.luminances=U.EMPTY,this.buckets=new Int32Array(U.LUMINANCE_BUCKETS)}getBlackRow(t,a){const r=this.getLuminanceSource(),l=r.getWidth();a==null||a.getSize()<l?a=new $(l):a.clear(),this.initArrays(l);const s=r.getRow(t,this.luminances),c=this.buckets;for(let x=0;x<l;x++)c[(s[x]&255)>>U.LUMINANCE_SHIFT]++;const u=U.estimateBlackPoint(c);if(l<3)for(let x=0;x<l;x++)(s[x]&255)<u&&a.set(x);else{let x=s[0]&255,y=s[1]&255;for(let A=1;A<l-1;A++){const N=s[A+1]&255;(y*4-x-N)/2<u&&a.set(A),x=y,y=N}}return a}getBlackMatrix(){const t=this.getLuminanceSource(),a=t.getWidth(),r=t.getHeight(),l=new Ee(a,r);this.initArrays(a);const s=this.buckets;for(let x=1;x<5;x++){const y=Math.floor(r*x/5),A=t.getRow(y,this.luminances),N=Math.floor(a*4/5);for(let I=Math.floor(a/5);I<N;I++){const j=A[I]&255;s[j>>U.LUMINANCE_SHIFT]++}}const c=U.estimateBlackPoint(s),u=t.getMatrix();for(let x=0;x<r;x++){const y=x*a;for(let A=0;A<a;A++)(u[y+A]&255)<c&&l.set(A,x)}return l}createBinarizer(t){return new U(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const a=this.buckets;for(let r=0;r<U.LUMINANCE_BUCKETS;r++)a[r]=0}static estimateBlackPoint(t){const a=t.length;let r=0,l=0,s=0;for(let A=0;A<a;A++)t[A]>s&&(l=A,s=t[A]),t[A]>r&&(r=t[A]);let c=0,u=0;for(let A=0;A<a;A++){const N=A-l,I=t[A]*N*N;I>u&&(c=A,u=I)}if(l>c){const A=l;l=c,c=A}if(c-l<=a/16)throw new Q;let x=c-1,y=-1;for(let A=c-1;A>l;A--){const N=A-l,I=N*N*(c-A)*(r-t[A]);I>y&&(x=A,y=I)}return x<<U.LUMINANCE_SHIFT}}U.LUMINANCE_BITS=5,U.LUMINANCE_SHIFT=8-U.LUMINANCE_BITS,U.LUMINANCE_BUCKETS=1<<U.LUMINANCE_BITS,U.EMPTY=Uint8ClampedArray.from([0]);class J extends U{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),a=t.getWidth(),r=t.getHeight();if(a>=J.MINIMUM_DIMENSION&&r>=J.MINIMUM_DIMENSION){const l=t.getMatrix();let s=a>>J.BLOCK_SIZE_POWER;(a&J.BLOCK_SIZE_MASK)!==0&&s++;let c=r>>J.BLOCK_SIZE_POWER;(r&J.BLOCK_SIZE_MASK)!==0&&c++;const u=J.calculateBlackPoints(l,s,c,a,r),x=new Ee(a,r);J.calculateThresholdForBlock(l,s,c,a,r,u,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new J(t)}static calculateThresholdForBlock(t,a,r,l,s,c,u){const x=s-J.BLOCK_SIZE,y=l-J.BLOCK_SIZE;for(let A=0;A<r;A++){let N=A<<J.BLOCK_SIZE_POWER;N>x&&(N=x);const I=J.cap(A,2,r-3);for(let j=0;j<a;j++){let V=j<<J.BLOCK_SIZE_POWER;V>y&&(V=y);const Y=J.cap(j,2,a-3);let ae=0;for(let ke=-2;ke<=2;ke++){const De=c[I+ke];ae+=De[Y-2]+De[Y-1]+De[Y]+De[Y+1]+De[Y+2]}const he=ae/25;J.thresholdBlock(t,V,N,he,l,u)}}}static cap(t,a,r){return t<a?a:t>r?r:t}static thresholdBlock(t,a,r,l,s,c){for(let u=0,x=r*s+a;u<J.BLOCK_SIZE;u++,x+=s)for(let y=0;y<J.BLOCK_SIZE;y++)(t[x+y]&255)<=l&&c.set(a+y,r+u)}static calculateBlackPoints(t,a,r,l,s){const c=s-J.BLOCK_SIZE,u=l-J.BLOCK_SIZE,x=new Array(r);for(let y=0;y<r;y++){x[y]=new Int32Array(a);let A=y<<J.BLOCK_SIZE_POWER;A>c&&(A=c);for(let N=0;N<a;N++){let I=N<<J.BLOCK_SIZE_POWER;I>u&&(I=u);let j=0,V=255,Y=0;for(let he=0,ke=A*l+I;he<J.BLOCK_SIZE;he++,ke+=l){for(let De=0;De<J.BLOCK_SIZE;De++){const Te=t[ke+De]&255;j+=Te,Te<V&&(V=Te),Te>Y&&(Y=Te)}if(Y-V>J.MIN_DYNAMIC_RANGE)for(he++,ke+=l;he<J.BLOCK_SIZE;he++,ke+=l)for(let De=0;De<J.BLOCK_SIZE;De++)j+=t[ke+De]&255}let ae=j>>J.BLOCK_SIZE_POWER*2;if(Y-V<=J.MIN_DYNAMIC_RANGE&&(ae=V/2,y>0&&N>0)){const he=(x[y-1][N]+2*x[y][N-1]+x[y-1][N-1])/4;V<he&&(ae=he)}x[y][N]=ae}}return x}}J.BLOCK_SIZE_POWER=3,J.BLOCK_SIZE=1<<J.BLOCK_SIZE_POWER,J.BLOCK_SIZE_MASK=J.BLOCK_SIZE-1,J.MINIMUM_DIMENSION=J.BLOCK_SIZE*5,J.MIN_DYNAMIC_RANGE=24;class ve{constructor(t,a){this.width=t,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,a,r,l){throw new ie("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ie("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ie("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let a=new Ae;for(let r=0;r<this.height;r++){const l=this.getRow(r,t);for(let s=0;s<this.width;s++){const c=l[s]&255;let u;c<64?u="#":c<128?u="+":c<192?u=".":u=" ",a.append(u)}a.append(`
`)}return a.toString()}}class Re extends ve{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,a){const r=this.delegate.getRow(t,a),l=this.getWidth();for(let s=0;s<l;s++)r[s]=255-(r[s]&255);return r}getMatrix(){const t=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(a);for(let l=0;l<a;l++)r[l]=255-(t[l]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,a,r,l){return new Re(this.delegate.crop(t,a,r,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Re(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Re(this.delegate.rotateCounterClockwise45())}}class Oe extends ve{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Oe.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const a=t.getContext("2d").getImageData(0,0,t.width,t.height);return Oe.toGrayscaleBuffer(a.data,t.width,t.height)}static toGrayscaleBuffer(t,a,r){const l=new Uint8ClampedArray(a*r);for(let s=0,c=0,u=t.length;s<u;s+=4,c++){let x;if(t[s+3]===0)x=255;else{const A=t[s],N=t[s+1],I=t[s+2];x=306*A+601*N+117*I+512>>10}l[c]=x}return l}getRow(t,a){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const r=this.getWidth(),l=t*r;return a===null?a=this.buffer.slice(l,l+r):(a.length<r&&(a=new Uint8ClampedArray(r)),a.set(this.buffer.slice(l,l+r))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,a,r,l){return super.crop(t,a,r,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const a=this.getTempCanvasElement(),r=a.getContext("2d"),l=t*Oe.DEGREE_TO_RADIANS,s=this.canvas.width,c=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(l))*s+Math.abs(Math.sin(l))*c),x=Math.ceil(Math.abs(Math.sin(l))*s+Math.abs(Math.cos(l))*c);return a.width=u,a.height=x,r.translate(u/2,x/2),r.rotate(l),r.drawImage(this.canvas,s/-2,c/-2),this.buffer=Oe.makeBufferFromCanvasImageData(a),this}invert(){return new Re(this)}}Oe.DEGREE_TO_RADIANS=Math.PI/180;class H{constructor(t,a,r){this.deviceId=t,this.label=a,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ue=(globalThis||Fc||self||window||void 0)&&(globalThis||Fc||self||window||void 0).__awaiter||function(S,t,a,r){function l(s){return s instanceof a?s:new a(function(c){c(s)})}return new(a||(a=Promise))(function(s,c){function u(A){try{y(r.next(A))}catch(N){c(N)}}function x(A){try{y(r.throw(A))}catch(N){c(N)}}function y(A){A.done?s(A.value):l(A.value).then(u,x)}y((r=r.apply(S,t||[])).next())})};class _e{constructor(t,a=500,r){this.reader=t,this.timeBetweenScansMillis=a,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const r of t){const l=r.kind==="video"?"videoinput":r.kind;if(l!=="videoinput")continue;const s=r.deviceId||r.id,c=r.label||`Video device ${a.length+1}`,u=r.groupId,x={deviceId:s,label:c,kind:l,groupId:u};a.push(x)}return a})}getVideoInputDevices(){return ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new H(a.deviceId,a.label))})}findDeviceById(t){return ue(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(r=>r.deviceId===t):null})}decodeFromInputVideoDevice(t,a){return ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,a)})}decodeOnceFromVideoDevice(t,a){return ue(this,void 0,void 0,function*(){this.reset();let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const l={video:r};return yield this.decodeOnceFromConstraints(l,a)})}decodeOnceFromConstraints(t,a){return ue(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,a)})}decodeOnceFromStream(t,a){return ue(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,a);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(t,a,r){return ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,a,r)})}decodeFromVideoDevice(t,a,r){return ue(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const s={video:l};return yield this.decodeFromConstraints(s,a,r)})}decodeFromConstraints(t,a,r){return ue(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,a,r)})}decodeFromStream(t,a,r){return ue(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,a);return yield this.decodeContinuously(l,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,a){return ue(this,void 0,void 0,function*(){const r=this.prepareVideoElement(a);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(t){return new Promise((a,r)=>this.playVideoOnLoad(t,()=>a()))}playVideoOnLoad(t,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",a),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,a){const r=document.getElementById(t);if(!r)throw new B(`element with id '${t}' not found`);if(r.nodeName.toLowerCase()!==a.toLowerCase())throw new B(`element with id '${t}' must be an ${a} element`);return r}decodeFromImage(t,a){if(!t&&!a)throw new B("either imageElement with a src set or an url must be provided");return a&&!t?this.decodeFromImageUrl(a):this.decodeFromImageElement(t)}decodeFromVideo(t,a){if(!t&&!a)throw new B("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,a,r){if(t===void 0&&a===void 0)throw new B("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrlContinuously(a,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new B("An image element must be provided.");this.reset();const a=this.prepareImageElement(t);this.imageElement=a;let r;return this.isImageLoaded(a)?r=this.decodeOnce(a,!1,!0):r=this._decodeOnLoadImage(a),r}decodeFromVideoElement(t){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(t,a){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,a)}_decodeFromVideoElementSetup(t){if(!t)throw new B("A video element must be provided.");this.reset();const a=this.prepareVideoElement(t);return this.videoElement=a,a}decodeFromImageUrl(t){if(!t)throw new B("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const r=this._decodeOnLoadImage(a);return a.src=t,r}decodeFromVideoUrl(t){if(!t)throw new B("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),r=this.decodeFromVideoElement(a);return a.src=t,r}decodeFromVideoUrlContinuously(t,a){if(!t)throw new B("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(r,a);return r.src=t,l}_decodeOnLoadImage(t){return new Promise((a,r)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(a,r),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,a){return ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,a)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let a;return typeof t>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(a=t),a}prepareVideoElement(t){let a;return!t&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(a=t),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(t,a=!0,r=!0){this._stopAsyncDecode=!1;const l=(s,c)=>{if(this._stopAsyncDecode){c(new Q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(t);s(u)}catch(u){const x=a&&u instanceof Q,A=(u instanceof W||u instanceof D)&&r;if(x||A)return setTimeout(l,this._timeBetweenDecodingAttempts,s,c);c(u)}};return new Promise((s,c)=>l(s,c))}decodeContinuously(t,a){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);a(l,null),setTimeout(r,this.timeBetweenScansMillis)}catch(l){a(null,l);const s=l instanceof W||l instanceof D,c=l instanceof Q;(s||c)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const a=this.createBinaryBitmap(t);return this.decodeBitmap(a)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,a,r){a||(a={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(t,a,r=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const a=this.getCaptureCanvas(t),r=new Oe(a),l=new J(r);return new X(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const a=this.createCaptureCanvas(t);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let r,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),a.style.width=r+"px",a.style.height=l+"px",a.width=r,a.height=l,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,a){try{t.srcObject=a}catch{t.src=URL.createObjectURL(a)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class je{constructor(t,a,r=a==null?0:8*a.length,l,s,c=te.currentTimeMillis()){this.text=t,this.rawBytes=a,this.numBits=r,this.resultPoints=l,this.format=s,this.timestamp=c,this.text=t,this.rawBytes=a,r==null?this.numBits=a==null?0:8*a.length:this.numBits=r,this.resultPoints=l,this.format=s,this.resultMetadata=null,c==null?this.timestamp=te.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,a)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const a=this.resultPoints;if(a===null)this.resultPoints=t;else if(t!==null&&t.length>0){const r=new Array(a.length+t.length);te.arraycopy(a,0,r,0,a.length),te.arraycopy(t,0,r,a.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Fe;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Fe||(Fe={}));var Se=Fe,tt;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(tt||(tt={}));var ye=tt;class He{constructor(t,a,r,l,s=-1,c=-1){this.rawBytes=t,this.text=a,this.byteSegments=r,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Et{exp(t){return this.expTable[t]}log(t){if(t===0)throw new M;return this.logTable[t]}static addOrSubtract(t,a){return t^a}}class wt{constructor(t,a){if(a.length===0)throw new M;this.field=t;const r=a.length;if(r>1&&a[0]===0){let l=1;for(;l<r&&a[l]===0;)l++;l===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-l),te.arraycopy(a,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const a=this.coefficients;let r;if(t===1){r=0;for(let c=0,u=a.length;c!==u;c++){const x=a[c];r=Et.addOrSubtract(r,x)}return r}r=a[0];const l=a.length,s=this.field;for(let c=1;c<l;c++)r=Et.addOrSubtract(s.multiply(t,r),a[c]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,r=t.coefficients;if(a.length>r.length){const c=a;a=r,r=c}let l=new Int32Array(r.length);const s=r.length-a.length;te.arraycopy(r,0,l,0,s);for(let c=s;c<r.length;c++)l[c]=Et.addOrSubtract(a[c-s],r[c]);return new wt(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const a=this.coefficients,r=a.length,l=t.coefficients,s=l.length,c=new Int32Array(r+s-1),u=this.field;for(let x=0;x<r;x++){const y=a[x];for(let A=0;A<s;A++)c[x+A]=Et.addOrSubtract(c[x+A],u.multiply(y,l[A]))}return new wt(u,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const a=this.coefficients.length,r=this.field,l=new Int32Array(a),s=this.coefficients;for(let c=0;c<a;c++)l[c]=r.multiply(s[c],t);return new wt(r,l)}multiplyByMonomial(t,a){if(t<0)throw new M;if(a===0)return this.field.getZero();const r=this.coefficients,l=r.length,s=new Int32Array(l+t),c=this.field;for(let u=0;u<l;u++)s[u]=c.multiply(r[u],a);return new wt(c,s)}divide(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new M("Divide by 0");const a=this.field;let r=a.getZero(),l=this;const s=t.getCoefficient(t.getDegree()),c=a.inverse(s);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const u=l.getDegree()-t.getDegree(),x=a.multiply(l.getCoefficient(l.getDegree()),c),y=t.multiplyByMonomial(u,x),A=a.buildMonomial(u,x);r=r.addOrSubtract(A),l=l.addOrSubtract(y)}return[r,l]}toString(){let t="";for(let a=this.getDegree();a>=0;a--){let r=this.getCoefficient(a);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),a===0||r!==1){const l=this.field.log(r);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}a!==0&&(a===1?t+="x":(t+="x^",t+=a))}}return t}}class Rt extends E{}Rt.kind="ArithmeticException";class st extends Et{constructor(t,a,r){super(),this.primitive=t,this.size=a,this.generatorBase=r;const l=new Int32Array(a);let s=1;for(let u=0;u<a;u++)l[u]=s,s*=2,s>=a&&(s^=t,s&=a-1);this.expTable=l;const c=new Int32Array(a);for(let u=0;u<a-1;u++)c[l[u]]=u;this.logTable=c,this.zero=new wt(this,Int32Array.from([0])),this.one=new wt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new M;if(a===0)return this.zero;const r=new Int32Array(t+1);return r[0]=a,new wt(this,r)}inverse(t){if(t===0)throw new Rt;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+G.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}st.AZTEC_DATA_12=new st(4201,4096,1),st.AZTEC_DATA_10=new st(1033,1024,1),st.AZTEC_DATA_6=new st(67,64,1),st.AZTEC_PARAM=new st(19,16,1),st.QR_CODE_FIELD_256=new st(285,256,0),st.DATA_MATRIX_FIELD_256=new st(301,256,1),st.AZTEC_DATA_8=st.DATA_MATRIX_FIELD_256,st.MAXICODE_FIELD_64=st.AZTEC_DATA_6;class Me extends E{}Me.kind="ReedSolomonException";class Ke extends E{}Ke.kind="IllegalStateException";class Zt{constructor(t){this.field=t}decode(t,a){const r=this.field,l=new wt(r,t),s=new Int32Array(a);let c=!0;for(let j=0;j<a;j++){const V=l.evaluateAt(r.exp(j+r.getGeneratorBase()));s[s.length-1-j]=V,V!==0&&(c=!1)}if(c)return;const u=new wt(r,s),x=this.runEuclideanAlgorithm(r.buildMonomial(a,1),u,a),y=x[0],A=x[1],N=this.findErrorLocations(y),I=this.findErrorMagnitudes(A,N);for(let j=0;j<N.length;j++){const V=t.length-1-r.log(N[j]);if(V<0)throw new Me("Bad error location");t[V]=st.addOrSubtract(t[V],I[j])}}runEuclideanAlgorithm(t,a,r){if(t.getDegree()<a.getDegree()){const j=t;t=a,a=j}const l=this.field;let s=t,c=a,u=l.getZero(),x=l.getOne();for(;c.getDegree()>=(r/2|0);){let j=s,V=u;if(s=c,u=x,s.isZero())throw new Me("r_{i-1} was zero");c=j;let Y=l.getZero();const ae=s.getCoefficient(s.getDegree()),he=l.inverse(ae);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const ke=c.getDegree()-s.getDegree(),De=l.multiply(c.getCoefficient(c.getDegree()),he);Y=Y.addOrSubtract(l.buildMonomial(ke,De)),c=c.addOrSubtract(s.multiplyByMonomial(ke,De))}if(x=Y.multiply(u).addOrSubtract(V),c.getDegree()>=s.getDegree())throw new Ke("Division algorithm failed to reduce polynomial?")}const y=x.getCoefficient(0);if(y===0)throw new Me("sigmaTilde(0) was zero");const A=l.inverse(y),N=x.multiplyScalar(A),I=c.multiplyScalar(A);return[N,I]}findErrorLocations(t){const a=t.getDegree();if(a===1)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(a);let l=0;const s=this.field;for(let c=1;c<s.getSize()&&l<a;c++)t.evaluateAt(c)===0&&(r[l]=s.inverse(c),l++);if(l!==a)throw new Me("Error locator degree does not match number of roots");return r}findErrorMagnitudes(t,a){const r=a.length,l=new Int32Array(r),s=this.field;for(let c=0;c<r;c++){const u=s.inverse(a[c]);let x=1;for(let y=0;y<r;y++)if(c!==y){const A=s.multiply(a[y],u),N=(A&1)===0?A|1:A&-2;x=s.multiply(x,N)}l[c]=s.multiply(t.evaluateAt(u),s.inverse(x)),s.getGeneratorBase()!==0&&(l[c]=s.multiply(l[c],u))}return l}}var ut;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(ut||(ut={}));class ft{decode(t){this.ddata=t;let a=t.getBits(),r=this.extractBits(a),l=this.correctBits(r),s=ft.convertBoolArrayToByteArray(l),c=ft.getEncodedData(l),u=new He(s,c,null,null);return u.setNumBits(l.length),u}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let a=t.length,r=ut.UPPER,l=ut.UPPER,s="",c=0;for(;c<a;)if(l===ut.BINARY){if(a-c<5)break;let u=ft.readCode(t,c,5);if(c+=5,u===0){if(a-c<11)break;u=ft.readCode(t,c,11)+31,c+=11}for(let x=0;x<u;x++){if(a-c<8){c=a;break}const y=ft.readCode(t,c,8);s+=oe.castAsNonUtf8Char(y),c+=8}l=r}else{let u=l===ut.DIGIT?4:5;if(a-c<u)break;let x=ft.readCode(t,c,u);c+=u;let y=ft.getCharacter(l,x);y.startsWith("CTRL_")?(r=l,l=ft.getTable(y.charAt(5)),y.charAt(6)==="L"&&(r=l)):(s+=y,l=r)}return s}static getTable(t){switch(t){case"L":return ut.LOWER;case"P":return ut.PUNCT;case"M":return ut.MIXED;case"D":return ut.DIGIT;case"B":return ut.BINARY;case"U":default:return ut.UPPER}}static getCharacter(t,a){switch(t){case ut.UPPER:return ft.UPPER_TABLE[a];case ut.LOWER:return ft.LOWER_TABLE[a];case ut.MIXED:return ft.MIXED_TABLE[a];case ut.PUNCT:return ft.PUNCT_TABLE[a];case ut.DIGIT:return ft.DIGIT_TABLE[a];default:throw new Ke("Bad table")}}correctBits(t){let a,r;this.ddata.getNbLayers()<=2?(r=6,a=st.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,a=st.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,a=st.AZTEC_DATA_10):(r=12,a=st.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),s=t.length/r;if(s<l)throw new D;let c=t.length%r,u=new Int32Array(s);for(let I=0;I<s;I++,c+=r)u[I]=ft.readCode(t,c,r);try{new Zt(a).decode(u,s-l)}catch(I){throw new D(I)}let x=(1<<r)-1,y=0;for(let I=0;I<l;I++){let j=u[I];if(j===0||j===x)throw new D;(j===1||j===x-1)&&y++}let A=new Array(l*r-y),N=0;for(let I=0;I<l;I++){let j=u[I];if(j===1||j===x-1)A.fill(j>1,N,N+r-1),N+=r-1;else for(let V=r-1;V>=0;--V)A[N++]=(j&1<<V)!==0}return A}extractBits(t){let a=this.ddata.isCompact(),r=this.ddata.getNbLayers(),l=(a?11:14)+r*4,s=new Int32Array(l),c=new Array(this.totalBitsInLayer(r,a));if(a)for(let u=0;u<s.length;u++)s[u]=u;else{let u=l+1+2*G.truncDivision(G.truncDivision(l,2)-1,15),x=l/2,y=G.truncDivision(u,2);for(let A=0;A<x;A++){let N=A+G.truncDivision(A,15);s[x-A-1]=y-N-1,s[x+A]=y+N+1}}for(let u=0,x=0;u<r;u++){let y=(r-u)*4+(a?9:12),A=u*2,N=l-1-A;for(let I=0;I<y;I++){let j=I*2;for(let V=0;V<2;V++)c[x+j+V]=t.get(s[A+V],s[A+I]),c[x+2*y+j+V]=t.get(s[A+I],s[N-V]),c[x+4*y+j+V]=t.get(s[N-V],s[N-I]),c[x+6*y+j+V]=t.get(s[N-I],s[A+V])}x+=y*8}return c}static readCode(t,a,r){let l=0;for(let s=a;s<a+r;s++)l<<=1,t[s]&&(l|=1);return l}static readByte(t,a){let r=t.length-a;return r>=8?ft.readCode(t,a,8):ft.readCode(t,a,r)<<8-r}static convertBoolArrayToByteArray(t){let a=new Uint8Array((t.length+7)/8);for(let r=0;r<a.length;r++)a[r]=ft.readByte(t,8*r);return a}totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}ft.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ft.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ft.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ft.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ft.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class rt{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,a,r,l){const s=t-r,c=a-l;return Math.sqrt(s*s+c*c)}static sum(t){let a=0;for(let r=0,l=t.length;r!==l;r++){const s=t[r];a+=s}return a}}class la{static floatToIntBits(t){return t}}la.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ze{constructor(t,a){this.x=t,this.y=a}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof ze){const a=t;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*la.floatToIntBits(this.x)+la.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const a=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let s,c,u;if(r>=a&&r>=l?(c=t[0],s=t[1],u=t[2]):l>=r&&l>=a?(c=t[1],s=t[0],u=t[2]):(c=t[2],s=t[0],u=t[1]),this.crossProductZ(s,c,u)<0){const x=s;s=u,u=x}t[0]=s,t[1]=c,t[2]=u}static distance(t,a){return rt.distance(t.x,t.y,a.x,a.y)}static crossProductZ(t,a,r){const l=a.x,s=a.y;return(r.x-l)*(t.y-s)-(r.y-s)*(t.x-l)}}class Cr{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Er extends Cr{constructor(t,a,r,l,s){super(t,a),this.compact=r,this.nbDatablocks=l,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Bt{constructor(t,a,r,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),a==null&&(a=Bt.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const s=a/2|0;if(this.leftInit=r-s,this.rightInit=r+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Q}detect(){let t=this.leftInit,a=this.rightInit,r=this.upInit,l=this.downInit,s=!1,c=!0,u=!1,x=!1,y=!1,A=!1,N=!1;const I=this.width,j=this.height;for(;c;){c=!1;let V=!0;for(;(V||!x)&&a<I;)V=this.containsBlackPoint(r,l,a,!1),V?(a++,c=!0,x=!0):x||a++;if(a>=I){s=!0;break}let Y=!0;for(;(Y||!y)&&l<j;)Y=this.containsBlackPoint(t,a,l,!0),Y?(l++,c=!0,y=!0):y||l++;if(l>=j){s=!0;break}let ae=!0;for(;(ae||!A)&&t>=0;)ae=this.containsBlackPoint(r,l,t,!1),ae?(t--,c=!0,A=!0):A||t--;if(t<0){s=!0;break}let he=!0;for(;(he||!N)&&r>=0;)he=this.containsBlackPoint(t,a,r,!0),he?(r--,c=!0,N=!0):N||r--;if(r<0){s=!0;break}c&&(u=!0)}if(!s&&u){const V=a-t;let Y=null;for(let De=1;Y===null&&De<V;De++)Y=this.getBlackPointOnSegment(t,l-De,t+De,l);if(Y==null)throw new Q;let ae=null;for(let De=1;ae===null&&De<V;De++)ae=this.getBlackPointOnSegment(t,r+De,t+De,r);if(ae==null)throw new Q;let he=null;for(let De=1;he===null&&De<V;De++)he=this.getBlackPointOnSegment(a,r+De,a-De,r);if(he==null)throw new Q;let ke=null;for(let De=1;ke===null&&De<V;De++)ke=this.getBlackPointOnSegment(a,l-De,a-De,l);if(ke==null)throw new Q;return this.centerEdges(ke,Y,he,ae)}else throw new Q}getBlackPointOnSegment(t,a,r,l){const s=rt.round(rt.distance(t,a,r,l)),c=(r-t)/s,u=(l-a)/s,x=this.image;for(let y=0;y<s;y++){const A=rt.round(t+y*c),N=rt.round(a+y*u);if(x.get(A,N))return new ze(A,N)}return null}centerEdges(t,a,r,l){const s=t.getX(),c=t.getY(),u=a.getX(),x=a.getY(),y=r.getX(),A=r.getY(),N=l.getX(),I=l.getY(),j=Bt.CORR;return s<this.width/2?[new ze(N-j,I+j),new ze(u+j,x+j),new ze(y-j,A-j),new ze(s+j,c-j)]:[new ze(N+j,I+j),new ze(u+j,x-j),new ze(y-j,A+j),new ze(s-j,c-j)]}containsBlackPoint(t,a,r,l){const s=this.image;if(l){for(let c=t;c<=a;c++)if(s.get(c,r))return!0}else for(let c=t;c<=a;c++)if(s.get(r,c))return!0;return!1}}Bt.INIT_SIZE=10,Bt.CORR=1;class Jn{static checkAndNudgePoints(t,a){const r=t.getWidth(),l=t.getHeight();let s=!0;for(let c=0;c<a.length&&s;c+=2){const u=Math.floor(a[c]),x=Math.floor(a[c+1]);if(u<-1||u>r||x<-1||x>l)throw new Q;s=!1,u===-1?(a[c]=0,s=!0):u===r&&(a[c]=r-1,s=!0),x===-1?(a[c+1]=0,s=!0):x===l&&(a[c+1]=l-1,s=!0)}s=!0;for(let c=a.length-2;c>=0&&s;c-=2){const u=Math.floor(a[c]),x=Math.floor(a[c+1]);if(u<-1||u>r||x<-1||x>l)throw new Q;s=!1,u===-1?(a[c]=0,s=!0):u===r&&(a[c]=r-1,s=!0),x===-1?(a[c+1]=0,s=!0):x===l&&(a[c+1]=l-1,s=!0)}}}class kn{constructor(t,a,r,l,s,c,u,x,y){this.a11=t,this.a21=a,this.a31=r,this.a12=l,this.a22=s,this.a32=c,this.a13=u,this.a23=x,this.a33=y}static quadrilateralToQuadrilateral(t,a,r,l,s,c,u,x,y,A,N,I,j,V,Y,ae){const he=kn.quadrilateralToSquare(t,a,r,l,s,c,u,x);return kn.squareToQuadrilateral(y,A,N,I,j,V,Y,ae).times(he)}transformPoints(t){const a=t.length,r=this.a11,l=this.a12,s=this.a13,c=this.a21,u=this.a22,x=this.a23,y=this.a31,A=this.a32,N=this.a33;for(let I=0;I<a;I+=2){const j=t[I],V=t[I+1],Y=s*j+x*V+N;t[I]=(r*j+c*V+y)/Y,t[I+1]=(l*j+u*V+A)/Y}}transformPointsWithValues(t,a){const r=this.a11,l=this.a12,s=this.a13,c=this.a21,u=this.a22,x=this.a23,y=this.a31,A=this.a32,N=this.a33,I=t.length;for(let j=0;j<I;j++){const V=t[j],Y=a[j],ae=s*V+x*Y+N;t[j]=(r*V+c*Y+y)/ae,a[j]=(l*V+u*Y+A)/ae}}static squareToQuadrilateral(t,a,r,l,s,c,u,x){const y=t-r+s-u,A=a-l+c-x;if(y===0&&A===0)return new kn(r-t,s-r,t,l-a,c-l,a,0,0,1);{const N=r-s,I=u-s,j=l-c,V=x-c,Y=N*V-I*j,ae=(y*V-I*A)/Y,he=(N*A-y*j)/Y;return new kn(r-t+ae*r,u-t+he*u,t,l-a+ae*l,x-a+he*x,a,ae,he,1)}}static quadrilateralToSquare(t,a,r,l,s,c,u,x){return kn.squareToQuadrilateral(t,a,r,l,s,c,u,x).buildAdjoint()}buildAdjoint(){return new kn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new kn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class lr extends Jn{sampleGrid(t,a,r,l,s,c,u,x,y,A,N,I,j,V,Y,ae,he,ke,De){const Te=kn.quadrilateralToQuadrilateral(l,s,c,u,x,y,A,N,I,j,V,Y,ae,he,ke,De);return this.sampleGridWithTransform(t,a,r,Te)}sampleGridWithTransform(t,a,r,l){if(a<=0||r<=0)throw new Q;const s=new Ee(a,r),c=new Float32Array(2*a);for(let u=0;u<r;u++){const x=c.length,y=u+.5;for(let A=0;A<x;A+=2)c[A]=A/2+.5,c[A+1]=y;l.transformPoints(c),Jn.checkAndNudgePoints(t,c);try{for(let A=0;A<x;A+=2)t.get(Math.floor(c[A]),Math.floor(c[A+1]))&&s.set(A/2,u)}catch{throw new Q}}return s}}class Bn{static setGridSampler(t){Bn.gridSampler=t}static getInstance(){return Bn.gridSampler}}Bn.gridSampler=new lr;class pn{constructor(t,a){this.x=t,this.y=a}toResultPoint(){return new ze(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Qi{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let a=this.getMatrixCenter(),r=this.getBullsEyeCorners(a);if(t){let c=r[0];r[0]=r[2],r[2]=c}this.extractParameters(r);let l=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new Er(l,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new Q;let a=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],a),this.sampleLine(t[1],t[2],a),this.sampleLine(t[2],t[3],a),this.sampleLine(t[3],t[0],a)]);this.shift=this.getRotation(r,a);let l=0;for(let c=0;c<4;c++){let u=r[(this.shift+c)%4];this.compact?(l<<=7,l+=u>>1&127):(l<<=10,l+=(u>>2&992)+(u>>1&31))}let s=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(t,a){let r=0;t.forEach((l,s,c)=>{let u=(l>>a-2<<1)+(l&1);r=(r<<3)+u}),r=((r&1)<<11)+(r>>1);for(let l=0;l<4;l++)if(G.bitCount(r^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new Q}getCorrectedParameterData(t,a){let r,l;a?(r=7,l=2):(r=10,l=4);let s=r-l,c=new Int32Array(r);for(let x=r-1;x>=0;--x)c[x]=t&15,t>>=4;try{new Zt(st.AZTEC_PARAM).decode(c,s)}catch{throw new Q}let u=0;for(let x=0;x<l;x++)u=(u<<4)+c[x];return u}getBullsEyeCorners(t){let a=t,r=t,l=t,s=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(a,c,1,-1),I=this.getFirstDifferent(r,c,1,1),j=this.getFirstDifferent(l,c,-1,1),V=this.getFirstDifferent(s,c,-1,-1);if(this.nbCenterLayers>2){let Y=this.distancePoint(V,N)*this.nbCenterLayers/(this.distancePoint(s,a)*(this.nbCenterLayers+2));if(Y<.75||Y>1.25||!this.isWhiteOrBlackRectangle(N,I,j,V))break}a=N,r=I,l=j,s=V,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Q;this.compact=this.nbCenterLayers===5;let u=new ze(a.getX()+.5,a.getY()-.5),x=new ze(r.getX()+.5,r.getY()+.5),y=new ze(l.getX()-.5,l.getY()+.5),A=new ze(s.getX()-.5,s.getY()-.5);return this.expandSquare([u,x,y,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,a,r,l;try{let u=new Bt(this.image).detect();t=u[0],a=u[1],r=u[2],l=u[3]}catch{let x=this.image.getWidth()/2,y=this.image.getHeight()/2;t=this.getFirstDifferent(new pn(x+7,y-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new pn(x+7,y+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new pn(x-7,y+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new pn(x-7,y-7),!1,-1,-1).toResultPoint()}let s=rt.round((t.getX()+l.getX()+a.getX()+r.getX())/4),c=rt.round((t.getY()+l.getY()+a.getY()+r.getY())/4);try{let u=new Bt(this.image,15,s,c).detect();t=u[0],a=u[1],r=u[2],l=u[3]}catch{t=this.getFirstDifferent(new pn(s+7,c-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new pn(s+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new pn(s-7,c+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new pn(s-7,c-7),!1,-1,-1).toResultPoint()}return s=rt.round((t.getX()+l.getX()+a.getX()+r.getX())/4),c=rt.round((t.getY()+l.getY()+a.getY()+r.getY())/4),new pn(s,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,a,r,l,s){let c=Bn.getInstance(),u=this.getDimension(),x=u/2-this.nbCenterLayers,y=u/2+this.nbCenterLayers;return c.sampleGrid(t,u,u,x,x,y,x,y,y,x,y,a.getX(),a.getY(),r.getX(),r.getY(),l.getX(),l.getY(),s.getX(),s.getY())}sampleLine(t,a,r){let l=0,s=this.distanceResultPoint(t,a),c=s/r,u=t.getX(),x=t.getY(),y=c*(a.getX()-t.getX())/s,A=c*(a.getY()-t.getY())/s;for(let N=0;N<r;N++)this.image.get(rt.round(u+N*y),rt.round(x+N*A))&&(l|=1<<r-N-1);return l}isWhiteOrBlackRectangle(t,a,r,l){let s=3;t=new pn(t.getX()-s,t.getY()+s),a=new pn(a.getX()-s,a.getY()-s),r=new pn(r.getX()+s,r.getY()-s),l=new pn(l.getX()+s,l.getY()+s);let c=this.getColor(l,t);if(c===0)return!1;let u=this.getColor(t,a);return u!==c||(u=this.getColor(a,r),u!==c)?!1:(u=this.getColor(r,l),u===c)}getColor(t,a){let r=this.distancePoint(t,a),l=(a.getX()-t.getX())/r,s=(a.getY()-t.getY())/r,c=0,u=t.getX(),x=t.getY(),y=this.image.get(t.getX(),t.getY()),A=Math.ceil(r);for(let I=0;I<A;I++)u+=l,x+=s,this.image.get(rt.round(u),rt.round(x))!==y&&c++;let N=c/r;return N>.1&&N<.9?0:N<=.1===y?1:-1}getFirstDifferent(t,a,r,l){let s=t.getX()+r,c=t.getY()+l;for(;this.isValid(s,c)&&this.image.get(s,c)===a;)s+=r,c+=l;for(s-=r,c-=l;this.isValid(s,c)&&this.image.get(s,c)===a;)s+=r;for(s-=r;this.isValid(s,c)&&this.image.get(s,c)===a;)c+=l;return c-=l,new pn(s,c)}expandSquare(t,a,r){let l=r/(2*a),s=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),u=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,y=new ze(u+l*s,x+l*c),A=new ze(u-l*s,x-l*c);s=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),u=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let N=new ze(u+l*s,x+l*c),I=new ze(u-l*s,x-l*c);return[y,N,A,I]}isValid(t,a){return t>=0&&t<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(t){let a=rt.round(t.getX()),r=rt.round(t.getY());return this.isValid(a,r)}distancePoint(t,a){return rt.distance(t.getX(),t.getY(),a.getX(),a.getY())}distanceResultPoint(t,a){return rt.distance(t.getX(),t.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(G.truncDivision(this.nbLayers-4,8)+1)+15}}class Ur{decode(t,a=null){let r=null,l=new Qi(t.getBlackMatrix()),s=null,c=null;try{let A=l.detectMirror(!1);s=A.getPoints(),this.reportFoundResultPoints(a,s),c=new ft().decode(A)}catch(A){r=A}if(c==null)try{let A=l.detectMirror(!0);s=A.getPoints(),this.reportFoundResultPoints(a,s),c=new ft().decode(A)}catch(A){throw r??A}let u=new je(c.getText(),c.getRawBytes(),c.getNumBits(),s,Se.AZTEC,te.currentTimeMillis()),x=c.getByteSegments();x!=null&&u.putMetadata(ye.BYTE_SEGMENTS,x);let y=c.getECLevel();return y!=null&&u.putMetadata(ye.ERROR_CORRECTION_LEVEL,y),u}reportFoundResultPoints(t,a){if(t!=null){let r=t.get(K.NEED_RESULT_POINT_CALLBACK);r!=null&&a.forEach((l,s,c)=>{r.foundPossibleResultPoint(l)})}}reset(){}}class bs extends _e{constructor(t=500){super(new Ur,t)}}class on{decode(t,a){try{return this.doDecode(t,a)}catch{if(a&&a.get(K.TRY_HARDER)===!0&&t.isRotateSupported()){const s=t.rotateCounterClockwise(),c=this.doDecode(s,a),u=c.getResultMetadata();let x=270;u!==null&&u.get(ye.ORIENTATION)===!0&&(x=x+u.get(ye.ORIENTATION)%360),c.putMetadata(ye.ORIENTATION,x);const y=c.getResultPoints();if(y!==null){const A=s.getHeight();for(let N=0;N<y.length;N++)y[N]=new ze(A-y[N].getY()-1,y[N].getX())}return c}else throw new Q}}reset(){}doDecode(t,a){const r=t.getWidth(),l=t.getHeight();let s=new $(r);const c=a&&a.get(K.TRY_HARDER)===!0,u=Math.max(1,l>>(c?8:5));let x;c?x=l:x=15;const y=Math.trunc(l/2);for(let A=0;A<x;A++){const N=Math.trunc((A+1)/2),I=(A&1)===0,j=y+u*(I?N:-N);if(j<0||j>=l)break;try{s=t.getBlackRow(j,s)}catch{continue}for(let V=0;V<2;V++){if(V===1&&(s.reverse(),a&&a.get(K.NEED_RESULT_POINT_CALLBACK)===!0)){const Y=new Map;a.forEach((ae,he)=>Y.set(he,ae)),Y.delete(K.NEED_RESULT_POINT_CALLBACK),a=Y}try{const Y=this.decodeRow(j,s,a);if(V===1){Y.putMetadata(ye.ORIENTATION,180);const ae=Y.getResultPoints();ae!==null&&(ae[0]=new ze(r-ae[0].getX()-1,ae[0].getY()),ae[1]=new ze(r-ae[1].getX()-1,ae[1].getY()))}return Y}catch{}}}throw new Q}static recordPattern(t,a,r){const l=r.length;for(let y=0;y<l;y++)r[y]=0;const s=t.getSize();if(a>=s)throw new Q;let c=!t.get(a),u=0,x=a;for(;x<s;){if(t.get(x)!==c)r[u]++;else{if(++u===l)break;r[u]=1,c=!c}x++}if(!(u===l||u===l-1&&x===s))throw new Q}static recordPatternInReverse(t,a,r){let l=r.length,s=t.get(a);for(;a>0&&l>=0;)t.get(--a)!==s&&(l--,s=!s);if(l>=0)throw new Q;on.recordPattern(t,a+1,r)}static patternMatchVariance(t,a,r){const l=t.length;let s=0,c=0;for(let y=0;y<l;y++)s+=t[y],c+=a[y];if(s<c)return Number.POSITIVE_INFINITY;const u=s/c;r*=u;let x=0;for(let y=0;y<l;y++){const A=t[y],N=a[y]*u,I=A>N?A-N:N-A;if(I>r)return Number.POSITIVE_INFINITY;x+=I}return x/s}}class Be extends on{static findStartPattern(t){const a=t.getSize(),r=t.getNextSet(0);let l=0,s=Int32Array.from([0,0,0,0,0,0]),c=r,u=!1;const x=6;for(let y=r;y<a;y++)if(t.get(y)!==u)s[l]++;else{if(l===x-1){let A=Be.MAX_AVG_VARIANCE,N=-1;for(let I=Be.CODE_START_A;I<=Be.CODE_START_C;I++){const j=on.patternMatchVariance(s,Be.CODE_PATTERNS[I],Be.MAX_INDIVIDUAL_VARIANCE);j<A&&(A=j,N=I)}if(N>=0&&t.isRange(Math.max(0,c-(y-c)/2),c,!1))return Int32Array.from([c,y,N]);c+=s[0]+s[1],s=s.slice(2,s.length-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,u=!u}throw new Q}static decodeCode(t,a,r){on.recordPattern(t,r,a);let l=Be.MAX_AVG_VARIANCE,s=-1;for(let c=0;c<Be.CODE_PATTERNS.length;c++){const u=Be.CODE_PATTERNS[c],x=this.patternMatchVariance(a,u,Be.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,s=c)}if(s>=0)return s;throw new Q}decodeRow(t,a,r){const l=r&&r.get(K.ASSUME_GS1)===!0,s=Be.findStartPattern(a),c=s[2];let u=0;const x=new Uint8Array(20);x[u++]=c;let y;switch(c){case Be.CODE_START_A:y=Be.CODE_CODE_A;break;case Be.CODE_START_B:y=Be.CODE_CODE_B;break;case Be.CODE_START_C:y=Be.CODE_CODE_C;break;default:throw new D}let A=!1,N=!1,I="",j=s[0],V=s[1];const Y=Int32Array.from([0,0,0,0,0,0]);let ae=0,he=0,ke=c,De=0,Te=!0,bt=!1,lt=!1;for(;!A;){const Yr=N;switch(N=!1,ae=he,he=Be.decodeCode(a,Y,V),x[u++]=he,he!==Be.CODE_STOP&&(Te=!0),he!==Be.CODE_STOP&&(De++,ke+=De*he),j=V,V+=Y.reduce((zo,Os)=>zo+Os,0),he){case Be.CODE_START_A:case Be.CODE_START_B:case Be.CODE_START_C:throw new D}switch(y){case Be.CODE_CODE_A:if(he<64)lt===bt?I+=String.fromCharCode(32+he):I+=String.fromCharCode(32+he+128),lt=!1;else if(he<96)lt===bt?I+=String.fromCharCode(he-64):I+=String.fromCharCode(he+64),lt=!1;else switch(he!==Be.CODE_STOP&&(Te=!1),he){case Be.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case Be.CODE_FNC_2:case Be.CODE_FNC_3:break;case Be.CODE_FNC_4_A:!bt&&lt?(bt=!0,lt=!1):bt&&lt?(bt=!1,lt=!1):lt=!0;break;case Be.CODE_SHIFT:N=!0,y=Be.CODE_CODE_B;break;case Be.CODE_CODE_B:y=Be.CODE_CODE_B;break;case Be.CODE_CODE_C:y=Be.CODE_CODE_C;break;case Be.CODE_STOP:A=!0;break}break;case Be.CODE_CODE_B:if(he<96)lt===bt?I+=String.fromCharCode(32+he):I+=String.fromCharCode(32+he+128),lt=!1;else switch(he!==Be.CODE_STOP&&(Te=!1),he){case Be.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case Be.CODE_FNC_2:case Be.CODE_FNC_3:break;case Be.CODE_FNC_4_B:!bt&&lt?(bt=!0,lt=!1):bt&&lt?(bt=!1,lt=!1):lt=!0;break;case Be.CODE_SHIFT:N=!0,y=Be.CODE_CODE_A;break;case Be.CODE_CODE_A:y=Be.CODE_CODE_A;break;case Be.CODE_CODE_C:y=Be.CODE_CODE_C;break;case Be.CODE_STOP:A=!0;break}break;case Be.CODE_CODE_C:if(he<100)he<10&&(I+="0"),I+=he;else switch(he!==Be.CODE_STOP&&(Te=!1),he){case Be.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case Be.CODE_CODE_A:y=Be.CODE_CODE_A;break;case Be.CODE_CODE_B:y=Be.CODE_CODE_B;break;case Be.CODE_STOP:A=!0;break}break}Yr&&(y=y===Be.CODE_CODE_A?Be.CODE_CODE_B:Be.CODE_CODE_A)}const Sn=V-j;if(V=a.getNextUnset(V),!a.isRange(V,Math.min(a.getSize(),V+(V-j)/2),!1))throw new Q;if(ke-=De*ae,ke%103!==ae)throw new W;const wa=I.length;if(wa===0)throw new Q;wa>0&&Te&&(y===Be.CODE_CODE_C?I=I.substring(0,wa-2):I=I.substring(0,wa-1));const ea=(s[1]+s[0])/2,Yt=j+Sn/2,Yn=x.length,xa=new Uint8Array(Yn);for(let Yr=0;Yr<Yn;Yr++)xa[Yr]=x[Yr];const vi=[new ze(ea,t),new ze(Yt,t)];return new je(I,xa,0,vi,Se.CODE_128,new Date().getTime())}}Be.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Be.MAX_AVG_VARIANCE=.25,Be.MAX_INDIVIDUAL_VARIANCE=.7,Be.CODE_SHIFT=98,Be.CODE_CODE_C=99,Be.CODE_CODE_B=100,Be.CODE_CODE_A=101,Be.CODE_FNC_1=102,Be.CODE_FNC_2=97,Be.CODE_FNC_3=96,Be.CODE_FNC_4_A=101,Be.CODE_FNC_4_B=100,Be.CODE_START_A=103,Be.CODE_START_B=104,Be.CODE_START_C=105,Be.CODE_STOP=106;class Jt extends on{constructor(t=!1,a=!1){super(),this.usingCheckDigit=t,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,a,r){let l=this.counters;l.fill(0),this.decodeRowResult="";let s=Jt.findAsteriskPattern(a,l),c=a.getNextSet(s[1]),u=a.getSize(),x,y;do{Jt.recordPattern(a,c,l);let Y=Jt.toNarrowWidePattern(l);if(Y<0)throw new Q;x=Jt.patternToChar(Y),this.decodeRowResult+=x,y=c;for(let ae of l)c+=ae;c=a.getNextSet(c)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let Y of l)A+=Y;let N=c-y-A;if(c!==u&&N*2<A)throw new Q;if(this.usingCheckDigit){let Y=this.decodeRowResult.length-1,ae=0;for(let he=0;he<Y;he++)ae+=Jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(he));if(this.decodeRowResult.charAt(Y)!==Jt.ALPHABET_STRING.charAt(ae%43))throw new W;this.decodeRowResult=this.decodeRowResult.substring(0,Y)}if(this.decodeRowResult.length===0)throw new Q;let I;this.extendedMode?I=Jt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let j=(s[1]+s[0])/2,V=y+A/2;return new je(I,null,0,[new ze(j,t),new ze(V,t)],Se.CODE_39,new Date().getTime())}static findAsteriskPattern(t,a){let r=t.getSize(),l=t.getNextSet(0),s=0,c=l,u=!1,x=a.length;for(let y=l;y<r;y++)if(t.get(y)!==u)a[s]++;else{if(s===x-1){if(this.toNarrowWidePattern(a)===Jt.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((y-c)/2)),c,!1))return[c,y];c+=a[0]+a[1],a.copyWithin(0,2,2+s-1),a[s-1]=0,a[s]=0,s--}else s++;a[s]=1,u=!u}throw new Q}static toNarrowWidePattern(t){let a=t.length,r=0,l;do{let s=2147483647;for(let x of t)x<s&&x>r&&(s=x);r=s,l=0;let c=0,u=0;for(let x=0;x<a;x++){let y=t[x];y>r&&(u|=1<<a-1-x,l++,c+=y)}if(l===3){for(let x=0;x<a&&l>0;x++){let y=t[x];if(y>r&&(l--,y*2>=c))return-1}return u}}while(l>3);return-1}static patternToChar(t){for(let a=0;a<Jt.CHARACTER_ENCODINGS.length;a++)if(Jt.CHARACTER_ENCODINGS[a]===t)return Jt.ALPHABET_STRING.charAt(a);if(t===Jt.ASTERISK_ENCODING)return"*";throw new Q}static decodeExtended(t){let a=t.length,r="";for(let l=0;l<a;l++){let s=t.charAt(l);if(s==="+"||s==="$"||s==="%"||s==="/"){let c=t.charAt(l+1),u="\0";switch(s){case"+":if(c>="A"&&c<="Z")u=String.fromCharCode(c.charCodeAt(0)+32);else throw new D;break;case"$":if(c>="A"&&c<="Z")u=String.fromCharCode(c.charCodeAt(0)-64);else throw new D;break;case"%":if(c>="A"&&c<="E")u=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")u=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")u=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")u=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")u="\0";else if(c==="V")u="@";else if(c==="W")u="`";else if(c==="X"||c==="Y"||c==="Z")u="";else throw new D;break;case"/":if(c>="A"&&c<="O")u=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")u=":";else throw new D;break}r+=u,l++}else r+=s}return r}}Jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Jt.ASTERISK_ENCODING=148;class ht extends on{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,a,r){let l=this.decodeStart(a),s=this.decodeEnd(a),c=new Ae;ht.decodeMiddle(a,l[1],s[0],c);let u=c.toString(),x=null;r!=null&&(x=r.get(K.ALLOWED_LENGTHS)),x==null&&(x=ht.DEFAULT_ALLOWED_LENGTHS);let y=u.length,A=!1,N=0;for(let V of x){if(y===V){A=!0;break}V>N&&(N=V)}if(!A&&y>N&&(A=!0),!A)throw new D;const I=[new ze(l[1],t),new ze(s[0],t)];return new je(u,null,0,I,Se.ITF,new Date().getTime())}static decodeMiddle(t,a,r,l){let s=new Int32Array(10),c=new Int32Array(5),u=new Int32Array(5);for(s.fill(0),c.fill(0),u.fill(0);a<r;){on.recordPattern(t,a,s);for(let y=0;y<5;y++){let A=2*y;c[y]=s[A],u[y]=s[A+1]}let x=ht.decodeDigit(c);l.append(x.toString()),x=this.decodeDigit(u),l.append(x.toString()),s.forEach(function(y){a+=y})}}decodeStart(t){let a=ht.skipWhiteSpace(t),r=ht.findGuardPattern(t,a,ht.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}validateQuietZone(t,a){let r=this.narrowLineWidth*10;r=r<a?r:a;for(let l=a-1;r>0&&l>=0&&!t.get(l);l--)r--;if(r!==0)throw new Q}static skipWhiteSpace(t){const a=t.getSize(),r=t.getNextSet(0);if(r===a)throw new Q;return r}decodeEnd(t){t.reverse();try{let a=ht.skipWhiteSpace(t),r;try{r=ht.findGuardPattern(t,a,ht.END_PATTERN_REVERSED[0])}catch(s){s instanceof Q&&(r=ht.findGuardPattern(t,a,ht.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);let l=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-l,r}finally{t.reverse()}}static findGuardPattern(t,a,r){let l=r.length,s=new Int32Array(l),c=t.getSize(),u=!1,x=0,y=a;s.fill(0);for(let A=a;A<c;A++)if(t.get(A)!==u)s[x]++;else{if(x===l-1){if(on.patternMatchVariance(s,r,ht.MAX_INDIVIDUAL_VARIANCE)<ht.MAX_AVG_VARIANCE)return[y,A];y+=s[0]+s[1],te.arraycopy(s,2,s,0,x-1),s[x-1]=0,s[x]=0,x--}else x++;s[x]=1,u=!u}throw new Q}static decodeDigit(t){let a=ht.MAX_AVG_VARIANCE,r=-1,l=ht.PATTERNS.length;for(let s=0;s<l;s++){let c=ht.PATTERNS[s],u=on.patternMatchVariance(t,c,ht.MAX_INDIVIDUAL_VARIANCE);u<a?(a=u,r=s):u===a&&(r=-1)}if(r>=0)return r%10;throw new Q}}ht.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ht.MAX_AVG_VARIANCE=.38,ht.MAX_INDIVIDUAL_VARIANCE=.5,ht.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ht.START_PATTERN=Int32Array.from([1,1,1,1]),ht.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class bn extends on{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let a=!1,r,l=0,s=Int32Array.from([0,0,0]);for(;!a;){s=Int32Array.from([0,0,0]),r=bn.findGuardPattern(t,l,!1,this.START_END_PATTERN,s);let c=r[0];l=r[1];let u=c-(l-c);u>=0&&(a=t.isRange(u,c,!1))}return r}static checkChecksum(t){return bn.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let r=parseInt(t.charAt(a-1),10);return bn.getStandardUPCEANChecksum(t.substring(0,a-1))===r}static getStandardUPCEANChecksum(t){let a=t.length,r=0;for(let l=a-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new D;r+=s}r*=3;for(let l=a-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new D;r+=s}return(1e3-r)%10}static decodeEnd(t,a){return bn.findGuardPattern(t,a,!1,bn.START_END_PATTERN,new Int32Array(bn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,a,r,l){return this.findGuardPattern(t,a,r,l,new Int32Array(l.length))}static findGuardPattern(t,a,r,l,s){let c=t.getSize();a=r?t.getNextUnset(a):t.getNextSet(a);let u=0,x=a,y=l.length,A=r;for(let N=a;N<c;N++)if(t.get(N)!==A)s[u]++;else{if(u===y-1){if(on.patternMatchVariance(s,l,bn.MAX_INDIVIDUAL_VARIANCE)<bn.MAX_AVG_VARIANCE)return Int32Array.from([x,N]);x+=s[0]+s[1];let I=s.slice(2,s.length-1);for(let j=0;j<u-1;j++)s[j]=I[j];s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,A=!A}throw new Q}static decodeDigit(t,a,r,l){this.recordPattern(t,r,a);let s=this.MAX_AVG_VARIANCE,c=-1,u=l.length;for(let x=0;x<u;x++){let y=l[x],A=on.patternMatchVariance(a,y,bn.MAX_INDIVIDUAL_VARIANCE);A<s&&(s=A,c=x)}if(c>=0)return c;throw new Q}}bn.MAX_AVG_VARIANCE=.48,bn.MAX_INDIVIDUAL_VARIANCE=.7,bn.START_END_PATTERN=Int32Array.from([1,1,1]),bn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),bn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),bn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ki{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,r){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(a,r,l),c=l.toString(),u=Ki.parseExtensionString(c),x=[new ze((r[0]+r[1])/2,t),new ze(s,t)],y=new je(c,null,0,x,Se.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&y.putAllMetadata(u),y}decodeMiddle(t,a,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=a[1],u=0;for(let y=0;y<5&&c<s;y++){let A=bn.decodeDigit(t,l,c,bn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+A%10);for(let N of l)c+=N;A>=10&&(u|=1<<4-y),y!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(r.length!==5)throw new Q;let x=this.determineCheckDigit(u);if(Ki.extensionChecksum(r.toString())!==x)throw new Q;return c}static extensionChecksum(t){let a=t.length,r=0;for(let l=a-2;l>=0;l-=2)r+=t.charAt(l).charCodeAt(0)-48;r*=3;for(let l=a-1;l>=0;l-=2)r+=t.charAt(l).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(t){for(let a=0;a<10;a++)if(t===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new Q}static parseExtensionString(t){if(t.length!==5)return null;let a=Ki.parseExtension5String(t);return a==null?null:new Map([[ye.SUGGESTED_PRICE,a]])}static parseExtension5String(t){let a;switch(t.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let r=parseInt(t.substring(1)),l=(r/100).toString(),s=r%100,c=s<10?"0"+s:s.toString();return a+l+"."+c}}class ys{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,r){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(a,r,l),c=l.toString(),u=ys.parseExtensionString(c),x=[new ze((r[0]+r[1])/2,t),new ze(s,t)],y=new je(c,null,0,x,Se.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&y.putAllMetadata(u),y}decodeMiddle(t,a,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=a[1],u=0;for(let x=0;x<2&&c<s;x++){let y=bn.decodeDigit(t,l,c,bn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+y%10);for(let A of l)c+=A;y>=10&&(u|=1<<1-x),x!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(r.length!==2)throw new Q;if(parseInt(r.toString())%4!==u)throw new Q;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[ye.ISSUE_NUMBER,parseInt(t)]])}}class Ji{static decodeRow(t,a,r){let l=bn.findGuardPattern(a,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ki().decodeRow(t,a,l)}catch{return new ys().decodeRow(t,a,l)}}}Ji.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Nt extends bn{constructor(){super(),this.decodeRowStringBuffer="",Nt.L_AND_G_PATTERNS=Nt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let a=Nt.L_PATTERNS[t-10],r=new Int32Array(a.length);for(let l=0;l<a.length;l++)r[l]=a[a.length-l-1];Nt.L_AND_G_PATTERNS[t]=r}}decodeRow(t,a,r){let l=Nt.findStartGuardPattern(a),s=r==null?null:r.get(K.NEED_RESULT_POINT_CALLBACK);if(s!=null){const Te=new ze((l[0]+l[1])/2,t);s.foundPossibleResultPoint(Te)}let c=this.decodeMiddle(a,l,this.decodeRowStringBuffer),u=c.rowOffset,x=c.resultString;if(s!=null){const Te=new ze(u,t);s.foundPossibleResultPoint(Te)}let y=this.decodeEnd(a,u);if(s!=null){const Te=new ze((y[0]+y[1])/2,t);s.foundPossibleResultPoint(Te)}let A=y[1],N=A+(A-y[0]);if(N>=a.getSize()||!a.isRange(A,N,!1))throw new Q;let I=x.toString();if(I.length<8)throw new D;if(!Nt.checkChecksum(I))throw new W;let j=(l[1]+l[0])/2,V=(y[1]+y[0])/2,Y=this.getBarcodeFormat(),ae=[new ze(j,t),new ze(V,t)],he=new je(I,null,0,ae,Y,new Date().getTime()),ke=0;try{let Te=Ji.decodeRow(t,a,y[1]);he.putMetadata(ye.UPC_EAN_EXTENSION,Te.getText()),he.putAllMetadata(Te.getResultMetadata()),he.addResultPoints(Te.getResultPoints()),ke=Te.getText().length}catch{}let De=r==null?null:r.get(K.ALLOWED_EAN_EXTENSIONS);if(De!=null){let Te=!1;for(let bt in De)if(ke.toString()===bt){Te=!0;break}if(!Te)throw new Q}return he}decodeEnd(t,a){return Nt.findGuardPattern(t,a,!1,Nt.START_END_PATTERN,new Int32Array(Nt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Nt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let r=parseInt(t.charAt(a-1),10);return Nt.getStandardUPCEANChecksum(t.substring(0,a-1))===r}static getStandardUPCEANChecksum(t){let a=t.length,r=0;for(let l=a-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new D;r+=s}r*=3;for(let l=a-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new D;r+=s}return(1e3-r)%10}}class Pa extends Nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=a[1],u=0;for(let y=0;y<6&&c<s;y++){let A=Nt.decodeDigit(t,l,c,Nt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+A%10);for(let N of l)c+=N;A>=10&&(u|=1<<5-y)}r=Pa.determineFirstDigit(r,u),c=Nt.findGuardPattern(t,c,!0,Nt.MIDDLE_PATTERN,new Int32Array(Nt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&c<s;y++){let A=Nt.decodeDigit(t,l,c,Nt.L_PATTERNS);r+=String.fromCharCode(48+A);for(let N of l)c+=N}return{rowOffset:c,resultString:r}}getBarcodeFormat(){return Se.EAN_13}static determineFirstDigit(t,a){for(let r=0;r<10;r++)if(a===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t,t;throw new Q}}Pa.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ar extends Nt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,r){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=a[1];for(let x=0;x<4&&c<s;x++){let y=Nt.decodeDigit(t,l,c,Nt.L_PATTERNS);r+=String.fromCharCode(48+y);for(let A of l)c+=A}c=Nt.findGuardPattern(t,c,!0,Nt.MIDDLE_PATTERN,new Int32Array(Nt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&c<s;x++){let y=Nt.decodeDigit(t,l,c,Nt.L_PATTERNS);r+=String.fromCharCode(48+y);for(let A of l)c+=A}return{rowOffset:c,resultString:r}}getBarcodeFormat(){return Se.EAN_8}}class $i extends Nt{constructor(){super(...arguments),this.ean13Reader=new Pa}getBarcodeFormat(){return Se.UPC_A}decode(t,a){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,a,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,a,r))}decodeMiddle(t,a,r){return this.ean13Reader.decodeMiddle(t,a,r)}maybeReturnResult(t){let a=t.getText();if(a.charAt(0)==="0"){let r=new je(a.substring(1),null,null,t.getResultPoints(),Se.UPC_A);return t.getResultMetadata()!=null&&r.putAllMetadata(t.getResultMetadata()),r}else throw new Q}reset(){this.ean13Reader.reset()}}class $n extends Nt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,a,r){const l=this.decodeMiddleCounters.map(y=>y);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const s=t.getSize();let c=a[1],u=0;for(let y=0;y<6&&c<s;y++){const A=$n.decodeDigit(t,l,c,$n.L_AND_G_PATTERNS);r+=String.fromCharCode(48+A%10);for(let N of l)c+=N;A>=10&&(u|=1<<5-y)}let x=$n.determineNumSysAndCheckDigit(r,u);return{rowOffset:c,resultString:x}}decodeEnd(t,a){return $n.findGuardPatternWithoutCounters(t,a,!0,$n.MIDDLE_END_PATTERN)}checkChecksum(t){return Nt.checkChecksum($n.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,a){for(let r=0;r<=1;r++)for(let l=0;l<10;l++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][l]){let s=String.fromCharCode(48+r),c=String.fromCharCode(48+l);return s+t+c}throw Q.getNotFoundInstance()}getBarcodeFormat(){return Se.UPC_E}static convertUPCEtoUPCA(t){const a=t.slice(1,7).split("").map(s=>s.charCodeAt(0)),r=new Ae;r.append(t.charAt(0));let l=a[5];switch(l){case 0:case 1:case 2:r.appendChars(a,0,2),r.append(l),r.append("0000"),r.appendChars(a,2,3);break;case 3:r.appendChars(a,0,3),r.append("00000"),r.appendChars(a,3,2);break;case 4:r.appendChars(a,0,4),r.append("00000"),r.append(a[4]);break;default:r.appendChars(a,0,5),r.append("0000"),r.append(l);break}return t.length>=8&&r.append(t.charAt(7)),r.toString()}}$n.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),$n.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ws extends on{constructor(t){super();let a=t==null?null:t.get(K.POSSIBLE_FORMATS),r=[];b(a)?(r.push(new Pa),r.push(new $i),r.push(new Ar),r.push(new $n)):(a.indexOf(Se.EAN_13)>-1&&r.push(new Pa),a.indexOf(Se.UPC_A)>-1&&r.push(new $i),a.indexOf(Se.EAN_8)>-1&&r.push(new Ar),a.indexOf(Se.UPC_E)>-1&&r.push(new $n)),this.readers=r}decodeRow(t,a,r){for(let l of this.readers)try{const s=l.decodeRow(t,a,r),c=s.getBarcodeFormat()===Se.EAN_13&&s.getText().charAt(0)==="0",u=r==null?null:r.get(K.POSSIBLE_FORMATS),x=u==null||u.includes(Se.UPC_A);if(c&&x){const y=s.getRawBytes(),A=new je(s.getText().substring(1),y,y?y.length:null,s.getResultPoints(),Se.UPC_A);return A.putAllMetadata(s.getResultMetadata()),A}return s}catch{}throw new Q}reset(){for(let t of this.readers)t.reset()}}class Gn extends on{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,a){for(let r=0;r<a.length;r++)if(on.patternMatchVariance(t,a[r],Gn.MAX_INDIVIDUAL_VARIANCE)<Gn.MAX_AVG_VARIANCE)return r;throw new Q}static count(t){return rt.sum(new Int32Array(t))}static increment(t,a){let r=0,l=a[0];for(let s=1;s<t.length;s++)a[s]>l&&(l=a[s],r=s);t[r]++}static decrement(t,a){let r=0,l=a[0];for(let s=1;s<t.length;s++)a[s]<l&&(l=a[s],r=s);t[r]--}static isFinderPattern(t){let a=t[0]+t[1],r=a+t[2]+t[3],l=a/r;if(l>=Gn.MIN_FINDER_PATTERN_RATIO&&l<=Gn.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let u of t)u>c&&(c=u),u<s&&(s=u);return c<10*s}return!1}}Gn.MAX_AVG_VARIANCE=.2,Gn.MAX_INDIVIDUAL_VARIANCE=.45,Gn.MIN_FINDER_PATTERN_RATIO=9.5/12,Gn.MAX_FINDER_PATTERN_RATIO=12.5/14;class vr{constructor(t,a){this.value=t,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof vr))return!1;const a=t;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Sr{constructor(t,a,r,l,s){this.value=t,this.startEnd=a,this.value=t,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new ze(r,s)),this.resultPoints.push(new ze(l,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Sr))return!1;const a=t;return this.value===a.value}hashCode(){return this.value}}class Ga{constructor(){}static getRSSvalue(t,a,r){let l=0;for(let x of t)l+=x;let s=0,c=0,u=t.length;for(let x=0;x<u-1;x++){let y;for(y=1,c|=1<<x;y<t[x];y++,c&=~(1<<x)){let A=Ga.combins(l-y-1,u-x-2);if(r&&c===0&&l-y-(u-x-1)>=u-x-1&&(A-=Ga.combins(l-y-(u-x),u-x-2)),u-x-1>1){let N=0;for(let I=l-y-(u-x-2);I>a;I--)N+=Ga.combins(l-y-I-1,u-x-3);A-=N*(u-1-x)}else l-y>a&&A--;s+=A}l-=y}return s}static combins(t,a){let r,l;t-a>a?(l=a,r=t-a):(l=t-a,r=a);let s=1,c=1;for(let u=t;u>r;u--)s*=u,c<=l&&(s/=c,c++);for(;c<=l;)s/=c,c++;return s}}class vo{static buildBitArray(t){let a=t.length*2-1;t[t.length-1].getRightChar()==null&&(a-=1);let r=12*a,l=new $(r),s=0,u=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)(u&1<<x)!=0&&l.set(s),s++;for(let x=1;x<t.length;++x){let y=t[x],A=y.getLeftChar().getValue();for(let N=11;N>=0;--N)(A&1<<N)!=0&&l.set(s),s++;if(y.getRightChar()!=null){let N=y.getRightChar().getValue();for(let I=11;I>=0;--I)(N&1<<I)!=0&&l.set(s),s++}}return l}}class Nr{constructor(t,a){a?this.decodedInformation=null:(this.finished=t,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class _l{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Qn extends _l{constructor(t,a){super(t),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Qn.FNC1}}Qn.FNC1="$";class sr extends _l{constructor(t,a,r){super(t),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ca extends _l{constructor(t,a,r){if(super(t),a<0||a>10||r<0||r>10)throw new D;this.firstDigit=a,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ca.FNC1}isSecondDigitFNC1(){return this.secondDigit===ca.FNC1}isAnyFNC1(){return this.firstDigit===ca.FNC1||this.secondDigit===ca.FNC1}}ca.FNC1=10;class Pe{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new Q;let a=t.substring(0,2);for(let s of Pe.TWO_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===Pe.VARIABLE_LENGTH?Pe.processVariableAI(2,s[2],t):Pe.processFixedAI(2,s[1],t);if(t.length<3)throw new Q;let r=t.substring(0,3);for(let s of Pe.THREE_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===Pe.VARIABLE_LENGTH?Pe.processVariableAI(3,s[2],t):Pe.processFixedAI(3,s[1],t);for(let s of Pe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===Pe.VARIABLE_LENGTH?Pe.processVariableAI(4,s[2],t):Pe.processFixedAI(4,s[1],t);if(t.length<4)throw new Q;let l=t.substring(0,4);for(let s of Pe.FOUR_DIGIT_DATA_LENGTH)if(s[0]===l)return s[1]===Pe.VARIABLE_LENGTH?Pe.processVariableAI(4,s[2],t):Pe.processFixedAI(4,s[1],t);throw new Q}static processFixedAI(t,a,r){if(r.length<t)throw new Q;let l=r.substring(0,t);if(r.length<t+a)throw new Q;let s=r.substring(t,t+a),c=r.substring(t+a),u="("+l+")"+s,x=Pe.parseFieldsInGeneralPurpose(c);return x==null?u:u+x}static processVariableAI(t,a,r){let l=r.substring(0,t),s;r.length<t+a?s=r.length:s=t+a;let c=r.substring(t,s),u=r.substring(s),x="("+l+")"+c,y=Pe.parseFieldsInGeneralPurpose(u);return y==null?x:x+y}}Pe.VARIABLE_LENGTH=[],Pe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Pe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Pe.VARIABLE_LENGTH,20],["22",Pe.VARIABLE_LENGTH,29],["30",Pe.VARIABLE_LENGTH,8],["37",Pe.VARIABLE_LENGTH,8],["90",Pe.VARIABLE_LENGTH,30],["91",Pe.VARIABLE_LENGTH,30],["92",Pe.VARIABLE_LENGTH,30],["93",Pe.VARIABLE_LENGTH,30],["94",Pe.VARIABLE_LENGTH,30],["95",Pe.VARIABLE_LENGTH,30],["96",Pe.VARIABLE_LENGTH,30],["97",Pe.VARIABLE_LENGTH,3],["98",Pe.VARIABLE_LENGTH,30],["99",Pe.VARIABLE_LENGTH,30]],Pe.THREE_DIGIT_DATA_LENGTH=[["240",Pe.VARIABLE_LENGTH,30],["241",Pe.VARIABLE_LENGTH,30],["242",Pe.VARIABLE_LENGTH,6],["250",Pe.VARIABLE_LENGTH,30],["251",Pe.VARIABLE_LENGTH,30],["253",Pe.VARIABLE_LENGTH,17],["254",Pe.VARIABLE_LENGTH,20],["400",Pe.VARIABLE_LENGTH,30],["401",Pe.VARIABLE_LENGTH,30],["402",17],["403",Pe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Pe.VARIABLE_LENGTH,20],["421",Pe.VARIABLE_LENGTH,15],["422",3],["423",Pe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Pe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Pe.VARIABLE_LENGTH,15],["391",Pe.VARIABLE_LENGTH,18],["392",Pe.VARIABLE_LENGTH,15],["393",Pe.VARIABLE_LENGTH,18],["703",Pe.VARIABLE_LENGTH,30]],Pe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Pe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Pe.VARIABLE_LENGTH,20],["8003",Pe.VARIABLE_LENGTH,30],["8004",Pe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Pe.VARIABLE_LENGTH,30],["8008",Pe.VARIABLE_LENGTH,12],["8018",18],["8020",Pe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Pe.VARIABLE_LENGTH,70],["8200",Pe.VARIABLE_LENGTH,70]];class ua{constructor(t){this.buffer=new Ae,this.information=t}decodeAllCodes(t,a){let r=a,l=null;do{let s=this.decodeGeneralPurposeField(r,l),c=Pe.parseFieldsInGeneralPurpose(s.getNewString());if(c!=null&&t.append(c),s.isRemaining()?l=""+s.getRemainingValue():l=null,r===s.getNewPosition())break;r=s.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let a=t;a<t+3;++a)if(this.information.get(a))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(t,4);return s===0?new ca(this.information.getSize(),ca.FNC1,ca.FNC1):new ca(this.information.getSize(),s-1,ca.FNC1)}let a=this.extractNumericValueFromBitArray(t,7),r=(a-8)/11,l=(a-8)%11;return new ca(t+7,r,l)}extractNumericValueFromBitArray(t,a){return ua.extractNumericValueFromBitArray(this.information,t,a)}static extractNumericValueFromBitArray(t,a,r){let l=0;for(let s=0;s<r;++s)t.get(a+s)&&(l|=1<<r-s-1);return l}decodeGeneralPurposeField(t,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(t);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new sr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new sr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,a;do{let r=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),t=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),t=a.isFinished()):(a=this.parseNumericBlock(),t=a.isFinished()),!(r!==this.current.getPosition())&&!t)break}while(!t);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let a;return t.isSecondDigitFNC1()?a=new sr(this.current.getPosition(),this.buffer.toString()):a=new sr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Nr(!0,a)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let a=new sr(this.current.getPosition(),this.buffer.toString());return new Nr(!0,a)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Nr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new sr(this.current.getPosition(),this.buffer.toString());return new Nr(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Nr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new sr(this.current.getPosition(),this.buffer.toString());return new Nr(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Nr(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new Qn(t+5,Qn.FNC1);if(a>=5&&a<15)return new Qn(t+5,"0"+(a-5));let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new Qn(t+7,""+(r+1));if(r>=90&&r<116)return new Qn(t+7,""+(r+7));let l=this.extractNumericValueFromBitArray(t,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new D}return new Qn(t+8,s)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63}decodeAlphanumeric(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new Qn(t+5,Qn.FNC1);if(a>=5&&a<15)return new Qn(t+5,"0"+(a-5));let r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new Qn(t+6,""+(r+33));let l;switch(r){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Ke("Decoding invalid alphanumeric value: "+r)}return new Qn(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<5&&a+t<this.information.getSize();++a)if(a===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+a))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let a=t;a<t+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<4&&a+t<this.information.getSize();++a)if(this.information.get(t+a))return!1;return!0}}class In{constructor(t){this.information=t,this.generalDecoder=new ua(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wt extends In{constructor(t){super(t)}encodeCompressedGtin(t,a){t.append("(01)");let r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,a,r)}encodeCompressedGtinWithoutAI(t,a,r){for(let l=0;l<4;++l){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*l,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}Wt.appendCheckDigit(t,r)}static appendCheckDigit(t,a){let r=0;for(let l=0;l<13;l++){let s=t.charAt(l+a).charCodeAt(0)-48;r+=(l&1)===0?3*s:s}r=10-r%10,r===10&&(r=0),t.append(r)}}Wt.GTIN_SIZE=40;class Ta extends Wt{constructor(t){super(t)}parseInformation(){let t=new Ae;t.append("(01)");let a=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(Ta.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,Ta.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(t,Ta.HEADER_SIZE+44)}}Ta.HEADER_SIZE=4;class di extends In{constructor(t){super(t)}parseInformation(){let t=new Ae;return this.getGeneralDecoder().decodeAllCodes(t,di.HEADER_SIZE)}}di.HEADER_SIZE=5;class Il extends Wt{constructor(t){super(t)}encodeCompressedWeight(t,a,r){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,r);this.addWeightCode(t,l);let s=this.checkWeight(l),c=1e5;for(let u=0;u<5;++u)s/c===0&&t.append("0"),c/=10;t.append(s)}}class Va extends Il{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Va.HEADER_SIZE+Il.GTIN_SIZE+Va.WEIGHT_SIZE)throw new Q;let t=new Ae;return this.encodeCompressedGtin(t,Va.HEADER_SIZE),this.encodeCompressedWeight(t,Va.HEADER_SIZE+Il.GTIN_SIZE,Va.WEIGHT_SIZE),t.toString()}}Va.HEADER_SIZE=5,Va.WEIGHT_SIZE=15;class So extends Va{constructor(t){super(t)}addWeightCode(t,a){t.append("(3103)")}checkWeight(t){return t}}class el extends Va{constructor(t){super(t)}addWeightCode(t,a){a<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class pa extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<pa.HEADER_SIZE+Wt.GTIN_SIZE)throw new Q;let t=new Ae;this.encodeCompressedGtin(t,pa.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(pa.HEADER_SIZE+Wt.GTIN_SIZE,pa.LAST_DIGIT_SIZE);t.append("(392"),t.append(a),t.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(pa.HEADER_SIZE+Wt.GTIN_SIZE+pa.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}pa.HEADER_SIZE=8,pa.LAST_DIGIT_SIZE=2;class An extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<An.HEADER_SIZE+Wt.GTIN_SIZE)throw new Q;let t=new Ae;this.encodeCompressedGtin(t,An.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+Wt.GTIN_SIZE,An.LAST_DIGIT_SIZE);t.append("(393"),t.append(a),t.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+Wt.GTIN_SIZE+An.LAST_DIGIT_SIZE,An.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);let l=this.getGeneralDecoder().decodeGeneralPurposeField(An.HEADER_SIZE+Wt.GTIN_SIZE+An.LAST_DIGIT_SIZE+An.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}An.HEADER_SIZE=8,An.LAST_DIGIT_SIZE=2,An.FIRST_THREE_DIGITS_SIZE=10;class Ft extends Il{constructor(t,a,r){super(t),this.dateCode=r,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=Ft.HEADER_SIZE+Ft.GTIN_SIZE+Ft.WEIGHT_SIZE+Ft.DATE_SIZE)throw new Q;let t=new Ae;return this.encodeCompressedGtin(t,Ft.HEADER_SIZE),this.encodeCompressedWeight(t,Ft.HEADER_SIZE+Ft.GTIN_SIZE,Ft.WEIGHT_SIZE),this.encodeCompressedDate(t,Ft.HEADER_SIZE+Ft.GTIN_SIZE+Ft.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,a){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(a,Ft.DATE_SIZE);if(r==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=r%32;r/=32;let s=r%12+1;r/=12;let c=r;c/10==0&&t.append("0"),t.append(c),s/10==0&&t.append("0"),t.append(s),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,a){t.append("("),t.append(this.firstAIdigits),t.append(a/1e5),t.append(")")}checkWeight(t){return t%1e5}}Ft.HEADER_SIZE=8,Ft.WEIGHT_SIZE=20,Ft.DATE_SIZE=16;function fi(S){try{if(S.get(1))return new Ta(S);if(!S.get(2))return new di(S);switch(ua.extractNumericValueFromBitArray(S,1,4)){case 4:return new So(S);case 5:return new el(S)}switch(ua.extractNumericValueFromBitArray(S,1,5)){case 12:return new pa(S);case 13:return new An(S)}switch(ua.extractNumericValueFromBitArray(S,1,7)){case 56:return new Ft(S,"310","11");case 57:return new Ft(S,"320","11");case 58:return new Ft(S,"310","13");case 59:return new Ft(S,"320","13");case 60:return new Ft(S,"310","15");case 61:return new Ft(S,"320","15");case 62:return new Ft(S,"310","17");case 63:return new Ft(S,"320","17")}}catch(t){throw console.log(t),new Ke("unknown decoder: "+S)}}class da{constructor(t,a,r,l){this.leftchar=t,this.rightchar=a,this.finderpattern=r,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,a){return t instanceof da?da.equalsOrNull(t.leftchar,a.leftchar)&&da.equalsOrNull(t.rightchar,a.rightchar)&&da.equalsOrNull(t.finderpattern,a.finderpattern):!1}static equalsOrNull(t,a){return t===null?a===null:da.equals(t,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class vn{constructor(t,a,r){this.pairs=t,this.rowNumber=a,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,a){return t instanceof vn?this.checkEqualitity(t,a)&&t.wasReversed===a.wasReversed:!1}checkEqualitity(t,a){if(!t||!a)return;let r;return t.forEach((l,s)=>{a.forEach(c=>{l.getLeftChar().getValue()===c.getLeftChar().getValue()&&l.getRightChar().getValue()===c.getRightChar().getValue()&&l.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(r=!0)})}),r}}class Ne extends Gn{constructor(t){super(...arguments),this.pairs=new Array(Ne.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,a,r){this.pairs.length=0,this.startFromEven=!1;try{return Ne.constructResult(this.decodeRow2pairs(t,a))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,Ne.constructResult(this.decodeRow2pairs(t,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,a){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,t))}catch(s){if(s instanceof Q){if(!this.pairs.length)throw new Q;r=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new Q}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return t&&(this.rows=this.rows.reverse()),a}checkRows(t,a){for(let r=a;r<this.rows.length;r++){let l=this.rows[r];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(l.getPairs()),!Ne.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(t);s.push(l);try{return this.checkRows(s,r+1)}catch(c){this.verbose&&console.log(c)}}throw new Q}static isValidSequence(t){for(let a of Ne.FINDER_PATTERN_SEQUENCES){if(t.length>a.length)continue;let r=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=a[l]){r=!1;break}if(r)return!0}return!1}storeRow(t,a){let r=0,l=!1,s=!1;for(;r<this.rows.length;){let c=this.rows[r];if(c.getRowNumber()>t){s=c.isEquivalent(this.pairs);break}l=c.isEquivalent(this.pairs),r++}s||l||Ne.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new vn(this.pairs,t,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,a){for(let r of a)if(r.getPairs().length!==t.length){for(let l of r.getPairs())for(let s of t)if(da.equals(l,s))break}}static isPartialRow(t,a){for(let r of a){let l=!0;for(let s of t){let c=!1;for(let u of r.getPairs())if(s.equals(u)){c=!0;break}if(!c){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let a=vo.buildBitArray(t),l=fi(a).parseInformation(),s=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),u=[s[0],s[1],c[0],c[1]];return new je(l,null,null,u,Se.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),a=t.getLeftChar(),r=t.getRightChar();if(r==null)return!1;let l=r.getChecksumPortion(),s=2;for(let u=1;u<this.pairs.size();++u){let x=this.pairs.get(u);l+=x.getLeftChar().getChecksumPortion(),s++;let y=x.getRightChar();y!=null&&(l+=y.getChecksumPortion(),s++)}return l%=211,211*(s-4)+l==a.getValue()}static getNextSecondBar(t,a){let r;return t.get(a)?(r=t.getNextUnset(a),r=t.getNextSet(r)):(r=t.getNextSet(a),r=t.getNextUnset(r)),r}retrieveNextPair(t,a,r){let l=a.length%2==0;this.startFromEven&&(l=!l);let s,c=!0,u=-1;do this.findNextPair(t,a,u),s=this.parseFoundFinderPattern(t,r,l),s==null?u=Ne.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let x=this.decodeDataCharacter(t,s,l,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new Q;let y;try{y=this.decodeDataCharacter(t,s,l,!1)}catch(A){y=null,this.verbose&&console.log(A)}return new da(x,y,s,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,a,r){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c;r>=0?c=r:this.isEmptyPair(a)?c=0:c=a[a.length-1].getFinderPattern().getStartEnd()[1];let u=a.length%2!=0;this.startFromEven&&(u=!u);let x=!1;for(;c<s&&(x=!t.get(c),!!x);)c++;let y=0,A=c;for(let N=c;N<s;N++)if(t.get(N)!=x)l[y]++;else{if(y==3){if(u&&Ne.reverseCounters(l),Ne.isFinderPattern(l)){this.startEnd[0]=A,this.startEnd[1]=N;return}u&&Ne.reverseCounters(l),A+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,y--}else y++;l[y]=1,x=!x}throw new Q}static reverseCounters(t){let a=t.length;for(let r=0;r<a/2;++r){let l=t[r];t[r]=t[a-r-1],t[a-r-1]=l}}parseFoundFinderPattern(t,a,r){let l,s,c;if(r){let y=this.startEnd[0]-1;for(;y>=0&&!t.get(y);)y--;y++,l=this.startEnd[0]-y,s=y,c=this.startEnd[1]}else s=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),l=c-this.startEnd[1];let u=this.getDecodeFinderCounters();te.arraycopy(u,0,u,1,u.length-1),u[0]=l;let x;try{x=this.parseFinderValue(u,Ne.FINDER_PATTERNS)}catch{return null}return new Sr(x,[s,c],s,c,a)}decodeDataCharacter(t,a,r,l){let s=this.getDataCharacterCounters();for(let Yt=0;Yt<s.length;Yt++)s[Yt]=0;if(l)Ne.recordPatternInReverse(t,a.getStartEnd()[0],s);else{Ne.recordPattern(t,a.getStartEnd()[1],s);for(let Yt=0,Yn=s.length-1;Yt<Yn;Yt++,Yn--){let xa=s[Yt];s[Yt]=s[Yn],s[Yn]=xa}}let c=17,u=rt.sum(new Int32Array(s))/c,x=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(u-x)/x>.3)throw new Q;let y=this.getOddCounts(),A=this.getEvenCounts(),N=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Yt=0;Yt<s.length;Yt++){let Yn=1*s[Yt]/u,xa=Yn+.5;if(xa<1){if(Yn<.3)throw new Q;xa=1}else if(xa>8){if(Yn>8.7)throw new Q;xa=8}let vi=Yt/2;(Yt&1)==0?(y[vi]=xa,N[vi]=Yn-xa):(A[vi]=xa,I[vi]=Yn-xa)}this.adjustOddEvenCounts(c);let j=4*a.getValue()+(r?0:2)+(l?0:1)-1,V=0,Y=0;for(let Yt=y.length-1;Yt>=0;Yt--){if(Ne.isNotA1left(a,r,l)){let Yn=Ne.WEIGHTS[j][2*Yt];Y+=y[Yt]*Yn}V+=y[Yt]}let ae=0;for(let Yt=A.length-1;Yt>=0;Yt--)if(Ne.isNotA1left(a,r,l)){let Yn=Ne.WEIGHTS[j][2*Yt+1];ae+=A[Yt]*Yn}let he=Y+ae;if((V&1)!=0||V>13||V<4)throw new Q;let ke=(13-V)/2,De=Ne.SYMBOL_WIDEST[ke],Te=9-De,bt=Ga.getRSSvalue(y,De,!0),lt=Ga.getRSSvalue(A,Te,!1),Sn=Ne.EVEN_TOTAL_SUBSET[ke],wa=Ne.GSUM[ke],ea=bt*Sn+lt+wa;return new vr(ea,he)}static isNotA1left(t,a,r){return!(t.getValue()==0&&a&&r)}adjustOddEvenCounts(t){let a=rt.sum(new Int32Array(this.getOddCounts())),r=rt.sum(new Int32Array(this.getEvenCounts())),l=!1,s=!1;a>13?s=!0:a<4&&(l=!0);let c=!1,u=!1;r>13?u=!0:r<4&&(c=!0);let x=a+r-t,y=(a&1)==1,A=(r&1)==0;if(x==1)if(y){if(A)throw new Q;s=!0}else{if(!A)throw new Q;u=!0}else if(x==-1)if(y){if(A)throw new Q;l=!0}else{if(!A)throw new Q;c=!0}else if(x==0){if(y){if(!A)throw new Q;a<r?(l=!0,u=!0):(s=!0,c=!0)}else if(A)throw new Q}else throw new Q;if(l){if(s)throw new Q;Ne.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Ne.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new Q;Ne.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Ne.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ne.SYMBOL_WIDEST=[7,5,4,3,1],Ne.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ne.GSUM=[0,348,1388,2948,3988],Ne.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ne.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ne.FINDER_PAT_A=0,Ne.FINDER_PAT_B=1,Ne.FINDER_PAT_C=2,Ne.FINDER_PAT_D=3,Ne.FINDER_PAT_E=4,Ne.FINDER_PAT_F=5,Ne.FINDER_PATTERN_SEQUENCES=[[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_C,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_C],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_E,Ne.FINDER_PAT_B,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_E],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F],[Ne.FINDER_PAT_A,Ne.FINDER_PAT_A,Ne.FINDER_PAT_B,Ne.FINDER_PAT_B,Ne.FINDER_PAT_C,Ne.FINDER_PAT_D,Ne.FINDER_PAT_D,Ne.FINDER_PAT_E,Ne.FINDER_PAT_E,Ne.FINDER_PAT_F,Ne.FINDER_PAT_F]],Ne.MAX_PAIRS=11;class No extends vr{constructor(t,a,r){super(t,a),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Vt extends Gn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,a,r){const l=this.decodePair(a,!1,t,r);Vt.addOrTally(this.possibleLeftPairs,l),a.reverse();let s=this.decodePair(a,!0,t,r);Vt.addOrTally(this.possibleRightPairs,s),a.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&Vt.checkChecksum(c,u))return Vt.constructResult(c,u)}throw new Q}static addOrTally(t,a){if(a==null)return;let r=!1;for(let l of t)if(l.getValue()===a.getValue()){l.incrementCount(),r=!0;break}r||t.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,a){let r=4537077*t.getValue()+a.getValue(),l=new String(r).toString(),s=new Ae;for(let y=13-l.length;y>0;y--)s.append("0");s.append(l);let c=0;for(let y=0;y<13;y++){let A=s.charAt(y).charCodeAt(0)-48;c+=(y&1)===0?3*A:A}c=10-c%10,c===10&&(c=0),s.append(c.toString());let u=t.getFinderPattern().getResultPoints(),x=a.getFinderPattern().getResultPoints();return new je(s.toString(),null,0,[u[0],u[1],x[0],x[1]],Se.RSS_14,new Date().getTime())}static checkChecksum(t,a){let r=(t.getChecksumPortion()+16*a.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+a.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,r===l}decodePair(t,a,r,l){try{let s=this.findFinderPattern(t,a),c=this.parseFoundFinderPattern(t,r,a,s),u=l==null?null:l.get(K.NEED_RESULT_POINT_CALLBACK);if(u!=null){let A=(s[0]+s[1])/2;a&&(A=t.getSize()-1-A),u.foundPossibleResultPoint(new ze(A,r))}let x=this.decodeDataCharacter(t,c,!0),y=this.decodeDataCharacter(t,c,!1);return new No(1597*x.getValue()+y.getValue(),x.getChecksumPortion()+4*y.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,a,r){let l=this.getDataCharacterCounters();for(let ae=0;ae<l.length;ae++)l[ae]=0;if(r)on.recordPatternInReverse(t,a.getStartEnd()[0],l);else{on.recordPattern(t,a.getStartEnd()[1]+1,l);for(let ae=0,he=l.length-1;ae<he;ae++,he--){let ke=l[ae];l[ae]=l[he],l[he]=ke}}let s=r?16:15,c=rt.sum(new Int32Array(l))/s,u=this.getOddCounts(),x=this.getEvenCounts(),y=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let ae=0;ae<l.length;ae++){let he=l[ae]/c,ke=Math.floor(he+.5);ke<1?ke=1:ke>8&&(ke=8);let De=Math.floor(ae/2);(ae&1)===0?(u[De]=ke,y[De]=he-ke):(x[De]=ke,A[De]=he-ke)}this.adjustOddEvenCounts(r,s);let N=0,I=0;for(let ae=u.length-1;ae>=0;ae--)I*=9,I+=u[ae],N+=u[ae];let j=0,V=0;for(let ae=x.length-1;ae>=0;ae--)j*=9,j+=x[ae],V+=x[ae];let Y=I+3*j;if(r){if((N&1)!==0||N>12||N<4)throw new Q;let ae=(12-N)/2,he=Vt.OUTSIDE_ODD_WIDEST[ae],ke=9-he,De=Ga.getRSSvalue(u,he,!1),Te=Ga.getRSSvalue(x,ke,!0),bt=Vt.OUTSIDE_EVEN_TOTAL_SUBSET[ae],lt=Vt.OUTSIDE_GSUM[ae];return new vr(De*bt+Te+lt,Y)}else{if((V&1)!==0||V>10||V<4)throw new Q;let ae=(10-V)/2,he=Vt.INSIDE_ODD_WIDEST[ae],ke=9-he,De=Ga.getRSSvalue(u,he,!0),Te=Ga.getRSSvalue(x,ke,!1),bt=Vt.INSIDE_ODD_TOTAL_SUBSET[ae],lt=Vt.INSIDE_GSUM[ae];return new vr(Te*bt+De+lt,Y)}}findFinderPattern(t,a){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let l=t.getSize(),s=!1,c=0;for(;c<l&&(s=!t.get(c),a!==s);)c++;let u=0,x=c;for(let y=c;y<l;y++)if(t.get(y)!==s)r[u]++;else{if(u===3){if(Gn.isFinderPattern(r))return[x,y];x+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,u--}else u++;r[u]=1,s=!s}throw new Q}parseFoundFinderPattern(t,a,r,l){let s=t.get(l[0]),c=l[0]-1;for(;c>=0&&s!==t.get(c);)c--;c++;const u=l[0]-c,x=this.getDecodeFinderCounters(),y=new Int32Array(x.length);te.arraycopy(x,0,y,1,x.length-1),y[0]=u;const A=this.parseFinderValue(y,Vt.FINDER_PATTERNS);let N=c,I=l[1];return r&&(N=t.getSize()-1-N,I=t.getSize()-1-I),new Sr(A,[c,l[1]],N,I,a)}adjustOddEvenCounts(t,a){let r=rt.sum(new Int32Array(this.getOddCounts())),l=rt.sum(new Int32Array(this.getEvenCounts())),s=!1,c=!1,u=!1,x=!1;t?(r>12?c=!0:r<4&&(s=!0),l>12?x=!0:l<4&&(u=!0)):(r>11?c=!0:r<5&&(s=!0),l>10?x=!0:l<4&&(u=!0));let y=r+l-a,A=(r&1)===(t?1:0),N=(l&1)===1;if(y===1)if(A){if(N)throw new Q;c=!0}else{if(!N)throw new Q;x=!0}else if(y===-1)if(A){if(N)throw new Q;s=!0}else{if(!N)throw new Q;u=!0}else if(y===0){if(A){if(!N)throw new Q;r<l?(s=!0,x=!0):(c=!0,u=!0)}else if(N)throw new Q}else throw new Q;if(s){if(c)throw new Q;Gn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Gn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(x)throw new Q;Gn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Gn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Vt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Vt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Vt.OUTSIDE_GSUM=[0,161,961,2015,2715],Vt.INSIDE_GSUM=[0,336,1036,1516],Vt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Vt.INSIDE_ODD_WIDEST=[2,4,6,8],Vt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class _a extends on{constructor(t,a){super(),this.readers=[],this.verbose=a===!0;const r=t?t.get(K.POSSIBLE_FORMATS):null,l=t&&t.get(K.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(Se.EAN_13)||r.includes(Se.UPC_A)||r.includes(Se.EAN_8)||r.includes(Se.UPC_E))&&this.readers.push(new ws(t)),r.includes(Se.CODE_39)&&this.readers.push(new Jt(l)),r.includes(Se.CODE_128)&&this.readers.push(new Be),r.includes(Se.ITF)&&this.readers.push(new ht),r.includes(Se.RSS_14)&&this.readers.push(new Vt),r.includes(Se.RSS_EXPANDED)&&this.readers.push(new Ne(this.verbose))):(this.readers.push(new ws(t)),this.readers.push(new Jt),this.readers.push(new ws(t)),this.readers.push(new Be),this.readers.push(new ht),this.readers.push(new Vt),this.readers.push(new Ne(this.verbose)))}decodeRow(t,a,r){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,a,r)}catch{}throw new Q}reset(){this.readers.forEach(t=>t.reset())}}class ou extends _e{constructor(t=500,a){super(new _a(a),t,a)}}class jt{constructor(t,a,r){this.ecCodewords=t,this.ecBlocks=[a],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class kt{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class At{constructor(t,a,r,l,s,c){this.versionNumber=t,this.symbolSizeRows=a,this.symbolSizeColumns=r,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=c;let u=0;const x=c.getECCodewords(),y=c.getECBlocks();for(let A of y)u+=A.getCount()*(A.getDataCodewords()+x);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,a){if((t&1)!==0||(a&1)!==0)throw new D;for(let r of At.VERSIONS)if(r.symbolSizeRows===t&&r.symbolSizeColumns===a)return r;throw new D}toString(){return""+this.versionNumber}static buildVersions(){return[new At(1,10,10,8,8,new jt(5,new kt(1,3))),new At(2,12,12,10,10,new jt(7,new kt(1,5))),new At(3,14,14,12,12,new jt(10,new kt(1,8))),new At(4,16,16,14,14,new jt(12,new kt(1,12))),new At(5,18,18,16,16,new jt(14,new kt(1,18))),new At(6,20,20,18,18,new jt(18,new kt(1,22))),new At(7,22,22,20,20,new jt(20,new kt(1,30))),new At(8,24,24,22,22,new jt(24,new kt(1,36))),new At(9,26,26,24,24,new jt(28,new kt(1,44))),new At(10,32,32,14,14,new jt(36,new kt(1,62))),new At(11,36,36,16,16,new jt(42,new kt(1,86))),new At(12,40,40,18,18,new jt(48,new kt(1,114))),new At(13,44,44,20,20,new jt(56,new kt(1,144))),new At(14,48,48,22,22,new jt(68,new kt(1,174))),new At(15,52,52,24,24,new jt(42,new kt(2,102))),new At(16,64,64,14,14,new jt(56,new kt(2,140))),new At(17,72,72,16,16,new jt(36,new kt(4,92))),new At(18,80,80,18,18,new jt(48,new kt(4,114))),new At(19,88,88,20,20,new jt(56,new kt(4,144))),new At(20,96,96,22,22,new jt(68,new kt(4,174))),new At(21,104,104,24,24,new jt(56,new kt(6,136))),new At(22,120,120,18,18,new jt(68,new kt(6,175))),new At(23,132,132,20,20,new jt(62,new kt(8,163))),new At(24,144,144,22,22,new jt(62,new kt(8,156),new kt(2,155))),new At(25,8,18,6,16,new jt(7,new kt(1,5))),new At(26,8,32,6,14,new jt(11,new kt(1,10))),new At(27,12,26,10,24,new jt(14,new kt(1,16))),new At(28,12,36,10,16,new jt(18,new kt(1,22))),new At(29,16,36,14,16,new jt(24,new kt(1,32))),new At(30,16,48,14,22,new jt(28,new kt(1,49)))]}}At.VERSIONS=At.buildVersions();class hi{constructor(t){const a=t.getHeight();if(a<8||a>144||(a&1)!==0)throw new D;this.version=hi.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ee(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const a=t.getHeight(),r=t.getWidth();return At.getVersionForDimensions(a,r)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let a=0,r=4,l=0;const s=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let u=!1,x=!1,y=!1,A=!1;do if(r===s&&l===0&&!u)t[a++]=this.readCorner1(s,c)&255,r-=2,l+=2,u=!0;else if(r===s-2&&l===0&&(c&3)!==0&&!x)t[a++]=this.readCorner2(s,c)&255,r-=2,l+=2,x=!0;else if(r===s+4&&l===2&&(c&7)===0&&!y)t[a++]=this.readCorner3(s,c)&255,r-=2,l+=2,y=!0;else if(r===s-2&&l===0&&(c&7)===4&&!A)t[a++]=this.readCorner4(s,c)&255,r-=2,l+=2,A=!0;else{do r<s&&l>=0&&!this.readMappingMatrix.get(l,r)&&(t[a++]=this.readUtah(r,l,s,c)&255),r-=2,l+=2;while(r>=0&&l<c);r+=1,l+=3;do r>=0&&l<c&&!this.readMappingMatrix.get(l,r)&&(t[a++]=this.readUtah(r,l,s,c)&255),r+=2,l-=2;while(r<s&&l>=0);r+=3,l+=1}while(r<s||l<c);if(a!==this.version.getTotalCodewords())throw new D;return t}readModule(t,a,r,l){return t<0&&(t+=r,a+=4-(r+4&7)),a<0&&(a+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(a,t),this.mappingBitMatrix.get(a,t)}readUtah(t,a,r,l){let s=0;return this.readModule(t-2,a-2,r,l)&&(s|=1),s<<=1,this.readModule(t-2,a-1,r,l)&&(s|=1),s<<=1,this.readModule(t-1,a-2,r,l)&&(s|=1),s<<=1,this.readModule(t-1,a-1,r,l)&&(s|=1),s<<=1,this.readModule(t-1,a,r,l)&&(s|=1),s<<=1,this.readModule(t,a-2,r,l)&&(s|=1),s<<=1,this.readModule(t,a-1,r,l)&&(s|=1),s<<=1,this.readModule(t,a,r,l)&&(s|=1),s}readCorner1(t,a){let r=0;return this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,1,t,a)&&(r|=1),r<<=1,this.readModule(t-1,2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r<<=1,this.readModule(2,a-1,t,a)&&(r|=1),r<<=1,this.readModule(3,a-1,t,a)&&(r|=1),r}readCorner2(t,a){let r=0;return this.readModule(t-3,0,t,a)&&(r|=1),r<<=1,this.readModule(t-2,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(0,a-4,t,a)&&(r|=1),r<<=1,this.readModule(0,a-3,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r}readCorner3(t,a){let r=0;return this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,a-1,t,a)&&(r|=1),r<<=1,this.readModule(0,a-3,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-3,t,a)&&(r|=1),r<<=1,this.readModule(1,a-2,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r}readCorner4(t,a){let r=0;return this.readModule(t-3,0,t,a)&&(r|=1),r<<=1,this.readModule(t-2,0,t,a)&&(r|=1),r<<=1,this.readModule(t-1,0,t,a)&&(r|=1),r<<=1,this.readModule(0,a-2,t,a)&&(r|=1),r<<=1,this.readModule(0,a-1,t,a)&&(r|=1),r<<=1,this.readModule(1,a-1,t,a)&&(r|=1),r<<=1,this.readModule(2,a-1,t,a)&&(r|=1),r<<=1,this.readModule(3,a-1,t,a)&&(r|=1),r}extractDataRegion(t){const a=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==a)throw new M("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),c=a/l|0,u=r/s|0,x=c*l,y=u*s,A=new Ee(y,x);for(let N=0;N<c;++N){const I=N*l;for(let j=0;j<u;++j){const V=j*s;for(let Y=0;Y<l;++Y){const ae=N*(l+2)+1+Y,he=I+Y;for(let ke=0;ke<s;++ke){const De=j*(s+2)+1+ke;if(t.get(De,ae)){const Te=V+ke;A.set(Te,he)}}}}}return A}}class xi{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a){const r=a.getECBlocks();let l=0;const s=r.getECBlocks();for(let Y of s)l+=Y.getCount();const c=new Array(l);let u=0;for(let Y of s)for(let ae=0;ae<Y.getCount();ae++){const he=Y.getDataCodewords(),ke=r.getECCodewords()+he;c[u++]=new xi(he,new Uint8Array(ke))}const y=c[0].codewords.length-r.getECCodewords(),A=y-1;let N=0;for(let Y=0;Y<A;Y++)for(let ae=0;ae<u;ae++)c[ae].codewords[Y]=t[N++];const I=a.getVersionNumber()===24,j=I?8:u;for(let Y=0;Y<j;Y++)c[Y].codewords[y-1]=t[N++];const V=c[0].codewords.length;for(let Y=y;Y<V;Y++)for(let ae=0;ae<u;ae++){const he=I?(ae+8)%u:ae,ke=I&&he>7?Y-1:Y;c[he].codewords[ke]=t[N++]}if(N!==t.length)throw new M;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ia{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new M(""+t);let a=0,r=this.bitOffset,l=this.byteOffset;const s=this.bytes;if(r>0){const c=8-r,u=t<c?t:c,x=c-u,y=255>>8-u<<x;a=(s[l]&y)>>x,t-=u,r+=u,r===8&&(r=0,l++)}if(t>0){for(;t>=8;)a=a<<8|s[l]&255,l++,t-=8;if(t>0){const c=8-t,u=255>>c<<c;a=a<<t|(s[l]&u)>>c,r+=t}}return this.bitOffset=r,this.byteOffset=l,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Lt;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(Lt||(Lt={}));class or{static decode(t){const a=new Ia(t),r=new Ae,l=new Ae,s=new Array;let c=Lt.ASCII_ENCODE;do if(c===Lt.ASCII_ENCODE)c=this.decodeAsciiSegment(a,r,l);else{switch(c){case Lt.C40_ENCODE:this.decodeC40Segment(a,r);break;case Lt.TEXT_ENCODE:this.decodeTextSegment(a,r);break;case Lt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,r);break;case Lt.EDIFACT_ENCODE:this.decodeEdifactSegment(a,r);break;case Lt.BASE256_ENCODE:this.decodeBase256Segment(a,r,s);break;default:throw new D}c=Lt.ASCII_ENCODE}while(c!==Lt.PAD_ENCODE&&a.available()>0);return l.length()>0&&r.append(l.toString()),new He(t,r.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(t,a,r){let l=!1;do{let s=t.readBits(8);if(s===0)throw new D;if(s<=128)return l&&(s+=128),a.append(String.fromCharCode(s-1)),Lt.ASCII_ENCODE;if(s===129)return Lt.PAD_ENCODE;if(s<=229){const c=s-130;c<10&&a.append("0"),a.append(""+c)}else switch(s){case 230:return Lt.C40_ENCODE;case 231:return Lt.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:a.append("[)>05"),r.insert(0,"");break;case 237:a.append("[)>06"),r.insert(0,"");break;case 238:return Lt.ANSIX12_ENCODE;case 239:return Lt.TEXT_ENCODE;case 240:return Lt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||t.available()!==0)throw new D;break}}while(t.available()>0);return Lt.ASCII_ENCODE}static decodeC40Segment(t,a){let r=!1;const l=[];let s=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),l);for(let u=0;u<3;u++){const x=l[u];switch(s){case 0:if(x<3)s=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[x];r?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):a.append(y)}else throw new D;break;case 1:r?(a.append(String.fromCharCode(x+128)),r=!1):a.append(String.fromCharCode(x)),s=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[x];r?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):a.append(y)}else switch(x){case 27:a.append("");break;case 30:r=!0;break;default:throw new D}s=0;break;case 3:r?(a.append(String.fromCharCode(x+224)),r=!1):a.append(String.fromCharCode(x+96)),s=0;break;default:throw new D}}}while(t.available()>0)}static decodeTextSegment(t,a){let r=!1,l=[],s=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),l);for(let u=0;u<3;u++){const x=l[u];switch(s){case 0:if(x<3)s=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[x];r?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):a.append(y)}else throw new D;break;case 1:r?(a.append(String.fromCharCode(x+128)),r=!1):a.append(String.fromCharCode(x)),s=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[x];r?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):a.append(y)}else switch(x){case 27:a.append("");break;case 30:r=!0;break;default:throw new D}s=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[x];r?(a.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):a.append(y),s=0}else throw new D;break;default:throw new D}}}while(t.available()>0)}static decodeAnsiX12Segment(t,a){const r=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),r);for(let s=0;s<3;s++){const c=r[s];switch(c){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(c<14)a.append(String.fromCharCode(c+44));else if(c<40)a.append(String.fromCharCode(c+51));else throw new D;break}}}while(t.available()>0)}static parseTwoBytes(t,a,r){let l=(t<<8)+a-1,s=Math.floor(l/1600);r[0]=s,l-=s*1600,s=Math.floor(l/40),r[1]=s,r[2]=l-s*40}static decodeEdifactSegment(t,a){do{if(t.available()<=16)return;for(let r=0;r<4;r++){let l=t.readBits(6);if(l===31){const s=8-t.getBitOffset();s!==8&&t.readBits(s);return}(l&32)===0&&(l|=64),a.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,a,r){let l=1+t.getByteOffset();const s=this.unrandomize255State(t.readBits(8),l++);let c;if(s===0?c=t.available()/8|0:s<250?c=s:c=250*(s-249)+this.unrandomize255State(t.readBits(8),l++),c<0)throw new D;const u=new Uint8Array(c);for(let x=0;x<c;x++){if(t.available()<8)throw new D;u[x]=this.unrandomize255State(t.readBits(8),l++)}r.push(u);try{a.append(re.decode(u,oe.ISO88591))}catch(x){throw new Ke("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,a){const r=149*a%255+1,l=t-r;return l>=0?l:l+256}}or.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],or.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],or.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],or.TEXT_SHIFT2_SET_CHARS=or.C40_SHIFT2_SET_CHARS,or.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class cu{constructor(){this.rsDecoder=new Zt(st.DATA_MATRIX_FIELD_256)}decode(t){const a=new hi(t),r=a.getVersion(),l=a.readCodewords(),s=xi.getDataBlocks(l,r);let c=0;for(let y of s)c+=y.getNumDataCodewords();const u=new Uint8Array(c),x=s.length;for(let y=0;y<x;y++){const A=s[y],N=A.getCodewords(),I=A.getNumDataCodewords();this.correctErrors(N,I);for(let j=0;j<I;j++)u[j*x+y]=N[j]}return or.decode(u)}correctErrors(t,a){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-a)}catch{throw new W}for(let l=0;l<a;l++)t[l]=r[l]}}class cn{constructor(t){this.image=t,this.rectangleDetector=new Bt(this.image)}detect(){const t=this.rectangleDetector.detect();let a=this.detectSolid1(t);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new Q;a=this.shiftToModuleCenter(a);const r=a[0],l=a[1],s=a[2],c=a[3];let u=this.transitionsBetween(r,c)+1,x=this.transitionsBetween(s,c)+1;(u&1)===1&&(u+=1),(x&1)===1&&(x+=1),4*u<7*x&&4*x<7*u&&(u=x=Math.max(u,x));let y=cn.sampleGrid(this.image,r,l,s,c,u,x);return new Cr(y,[r,l,s,c])}static shiftPoint(t,a,r){let l=(a.getX()-t.getX())/(r+1),s=(a.getY()-t.getY())/(r+1);return new ze(t.getX()+l,t.getY()+s)}static moveAway(t,a,r){let l=t.getX(),s=t.getY();return l<a?l-=1:l+=1,s<r?s-=1:s+=1,new ze(l,s)}detectSolid1(t){let a=t[0],r=t[1],l=t[3],s=t[2],c=this.transitionsBetween(a,r),u=this.transitionsBetween(r,l),x=this.transitionsBetween(l,s),y=this.transitionsBetween(s,a),A=c,N=[s,a,r,l];return A>u&&(A=u,N[0]=a,N[1]=r,N[2]=l,N[3]=s),A>x&&(A=x,N[0]=r,N[1]=l,N[2]=s,N[3]=a),A>y&&(N[0]=l,N[1]=s,N[2]=a,N[3]=r),N}detectSolid2(t){let a=t[0],r=t[1],l=t[2],s=t[3],c=this.transitionsBetween(a,s),u=cn.shiftPoint(r,l,(c+1)*4),x=cn.shiftPoint(l,r,(c+1)*4),y=this.transitionsBetween(u,a),A=this.transitionsBetween(x,s);return y<A?(t[0]=a,t[1]=r,t[2]=l,t[3]=s):(t[0]=r,t[1]=l,t[2]=s,t[3]=a),t}correctTopRight(t){let a=t[0],r=t[1],l=t[2],s=t[3],c=this.transitionsBetween(a,s),u=this.transitionsBetween(r,s),x=cn.shiftPoint(a,r,(u+1)*4),y=cn.shiftPoint(l,r,(c+1)*4);c=this.transitionsBetween(x,s),u=this.transitionsBetween(y,s);let A=new ze(s.getX()+(l.getX()-r.getX())/(c+1),s.getY()+(l.getY()-r.getY())/(c+1)),N=new ze(s.getX()+(a.getX()-r.getX())/(u+1),s.getY()+(a.getY()-r.getY())/(u+1));if(!this.isValid(A))return this.isValid(N)?N:null;if(!this.isValid(N))return A;let I=this.transitionsBetween(x,A)+this.transitionsBetween(y,A),j=this.transitionsBetween(x,N)+this.transitionsBetween(y,N);return I>j?A:N}shiftToModuleCenter(t){let a=t[0],r=t[1],l=t[2],s=t[3],c=this.transitionsBetween(a,s)+1,u=this.transitionsBetween(l,s)+1,x=cn.shiftPoint(a,r,u*4),y=cn.shiftPoint(l,r,c*4);c=this.transitionsBetween(x,s)+1,u=this.transitionsBetween(y,s)+1,(c&1)===1&&(c+=1),(u&1)===1&&(u+=1);let A=(a.getX()+r.getX()+l.getX()+s.getX())/4,N=(a.getY()+r.getY()+l.getY()+s.getY())/4;a=cn.moveAway(a,A,N),r=cn.moveAway(r,A,N),l=cn.moveAway(l,A,N),s=cn.moveAway(s,A,N);let I,j;return x=cn.shiftPoint(a,r,u*4),x=cn.shiftPoint(x,s,c*4),I=cn.shiftPoint(r,a,u*4),I=cn.shiftPoint(I,l,c*4),y=cn.shiftPoint(l,s,u*4),y=cn.shiftPoint(y,r,c*4),j=cn.shiftPoint(s,l,u*4),j=cn.shiftPoint(j,a,c*4),[x,I,y,j]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,a,r,l,s,c,u){return Bn.getInstance().sampleGrid(t,c,u,.5,.5,c-.5,.5,c-.5,u-.5,.5,u-.5,a.getX(),a.getY(),s.getX(),s.getY(),l.getX(),l.getY(),r.getX(),r.getY())}transitionsBetween(t,a){let r=Math.trunc(t.getX()),l=Math.trunc(t.getY()),s=Math.trunc(a.getX()),c=Math.trunc(a.getY()),u=Math.abs(c-l)>Math.abs(s-r);if(u){let Y=r;r=l,l=Y,Y=s,s=c,c=Y}let x=Math.abs(s-r),y=Math.abs(c-l),A=-x/2,N=l<c?1:-1,I=r<s?1:-1,j=0,V=this.image.get(u?l:r,u?r:l);for(let Y=r,ae=l;Y!==s;Y+=I){let he=this.image.get(u?ae:Y,u?Y:ae);if(he!==V&&(j++,V=he),A+=y,A>0){if(ae===c)break;ae+=N,A-=x}}return j}}class cr{constructor(){this.decoder=new cu}decode(t,a=null){let r,l;if(a!=null&&a.has(K.PURE_BARCODE)){const y=cr.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(y),l=cr.NO_POINTS}else{const y=new cn(t.getBlackMatrix()).detect();r=this.decoder.decode(y.getBits()),l=y.getPoints()}const s=r.getRawBytes(),c=new je(r.getText(),s,8*s.length,l,Se.DATA_MATRIX,te.currentTimeMillis()),u=r.getByteSegments();u!=null&&c.putMetadata(ye.BYTE_SEGMENTS,u);const x=r.getECLevel();return x!=null&&c.putMetadata(ye.ERROR_CORRECTION_LEVEL,x),c}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(a==null||r==null)throw new Q;const l=this.moduleSize(a,t);let s=a[1];const c=r[1];let u=a[0];const y=(r[0]-u+1)/l,A=(c-s+1)/l;if(y<=0||A<=0)throw new Q;const N=l/2;s+=N,u+=N;const I=new Ee(y,A);for(let j=0;j<A;j++){const V=s+j*l;for(let Y=0;Y<y;Y++)t.get(u+Y*l,V)&&I.set(Y,j)}return I}static moduleSize(t,a){const r=a.getWidth();let l=t[0];const s=t[1];for(;l<r&&a.get(l,s);)l++;if(l===r)throw new Q;const c=l-t[0];if(c===0)throw new Q;return c}}cr.NO_POINTS=[];class Ol extends _e{constructor(t=500){super(new cr,t)}}var gi;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(gi||(gi={}));class Ct{constructor(t,a,r){this.value=t,this.stringValue=a,this.bits=r,Ct.FOR_BITS.set(r,this),Ct.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Ct.L;case"M":return Ct.M;case"Q":return Ct.Q;case"H":return Ct.H;default:throw new B(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Ct))return!1;const a=t;return this.value===a.value}static forBits(t){if(t<0||t>=Ct.FOR_BITS.size)throw new M;return Ct.FOR_BITS.get(t)}}Ct.FOR_BITS=new Map,Ct.FOR_VALUE=new Map,Ct.L=new Ct(gi.L,"L",1),Ct.M=new Ct(gi.M,"M",0),Ct.Q=new Ct(gi.Q,"Q",3),Ct.H=new Ct(gi.H,"H",2);class jn{constructor(t){this.errorCorrectionLevel=Ct.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,a){return G.bitCount(t^a)}static decodeFormatInformation(t,a){const r=jn.doDecodeFormatInformation(t,a);return r!==null?r:jn.doDecodeFormatInformation(t^jn.FORMAT_INFO_MASK_QR,a^jn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,a){let r=Number.MAX_SAFE_INTEGER,l=0;for(const s of jn.FORMAT_INFO_DECODE_LOOKUP){const c=s[0];if(c===t||c===a)return new jn(s[1]);let u=jn.numBitsDiffering(t,c);u<r&&(l=s[1],r=u),t!==a&&(u=jn.numBitsDiffering(a,c),u<r&&(l=s[1],r=u))}return r<=3?new jn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof jn))return!1;const a=t;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}jn.FORMAT_INFO_MASK_QR=21522,jn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class le{constructor(t,...a){this.ecCodewordsPerBlock=t,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const a=this.ecBlocks;for(const r of a)t+=r.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(t,a,...r){this.versionNumber=t,this.alignmentPatternCenters=a,this.ecBlocks=r;let l=0;const s=r[0].getECCodewordsPerBlock(),c=r[0].getECBlocks();for(const u of c)l+=u.getCount()*(u.getDataCodewords()+s);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new D;try{return this.getVersionForNumber((t-17)/4)}catch{throw new D}}static getVersionForNumber(t){if(t<1||t>40)throw new M;return Ye.VERSIONS[t-1]}static decodeVersionInformation(t){let a=Number.MAX_SAFE_INTEGER,r=0;for(let l=0;l<Ye.VERSION_DECODE_INFO.length;l++){const s=Ye.VERSION_DECODE_INFO[l];if(s===t)return Ye.getVersionForNumber(l+7);const c=jn.numBitsDiffering(t,s);c<a&&(r=l+7,a=c)}return a<=3?Ye.getVersionForNumber(r):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),a=new Ee(t);a.setRegion(0,0,9,9),a.setRegion(t-8,0,8,9),a.setRegion(0,t-8,9,8);const r=this.alignmentPatternCenters.length;for(let l=0;l<r;l++){const s=this.alignmentPatternCenters[l]-2;for(let c=0;c<r;c++)l===0&&(c===0||c===r-1)||l===r-1&&c===0||a.setRegion(this.alignmentPatternCenters[c]-2,s,5,5)}return a.setRegion(6,9,1,t-17),a.setRegion(9,6,t-17,1),this.versionNumber>6&&(a.setRegion(t-11,0,3,6),a.setRegion(0,t-11,6,3)),a}toString(){return""+this.versionNumber}}Ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ye.VERSIONS=[new Ye(1,new Int32Array(0),new le(7,new k(1,19)),new le(10,new k(1,16)),new le(13,new k(1,13)),new le(17,new k(1,9))),new Ye(2,Int32Array.from([6,18]),new le(10,new k(1,34)),new le(16,new k(1,28)),new le(22,new k(1,22)),new le(28,new k(1,16))),new Ye(3,Int32Array.from([6,22]),new le(15,new k(1,55)),new le(26,new k(1,44)),new le(18,new k(2,17)),new le(22,new k(2,13))),new Ye(4,Int32Array.from([6,26]),new le(20,new k(1,80)),new le(18,new k(2,32)),new le(26,new k(2,24)),new le(16,new k(4,9))),new Ye(5,Int32Array.from([6,30]),new le(26,new k(1,108)),new le(24,new k(2,43)),new le(18,new k(2,15),new k(2,16)),new le(22,new k(2,11),new k(2,12))),new Ye(6,Int32Array.from([6,34]),new le(18,new k(2,68)),new le(16,new k(4,27)),new le(24,new k(4,19)),new le(28,new k(4,15))),new Ye(7,Int32Array.from([6,22,38]),new le(20,new k(2,78)),new le(18,new k(4,31)),new le(18,new k(2,14),new k(4,15)),new le(26,new k(4,13),new k(1,14))),new Ye(8,Int32Array.from([6,24,42]),new le(24,new k(2,97)),new le(22,new k(2,38),new k(2,39)),new le(22,new k(4,18),new k(2,19)),new le(26,new k(4,14),new k(2,15))),new Ye(9,Int32Array.from([6,26,46]),new le(30,new k(2,116)),new le(22,new k(3,36),new k(2,37)),new le(20,new k(4,16),new k(4,17)),new le(24,new k(4,12),new k(4,13))),new Ye(10,Int32Array.from([6,28,50]),new le(18,new k(2,68),new k(2,69)),new le(26,new k(4,43),new k(1,44)),new le(24,new k(6,19),new k(2,20)),new le(28,new k(6,15),new k(2,16))),new Ye(11,Int32Array.from([6,30,54]),new le(20,new k(4,81)),new le(30,new k(1,50),new k(4,51)),new le(28,new k(4,22),new k(4,23)),new le(24,new k(3,12),new k(8,13))),new Ye(12,Int32Array.from([6,32,58]),new le(24,new k(2,92),new k(2,93)),new le(22,new k(6,36),new k(2,37)),new le(26,new k(4,20),new k(6,21)),new le(28,new k(7,14),new k(4,15))),new Ye(13,Int32Array.from([6,34,62]),new le(26,new k(4,107)),new le(22,new k(8,37),new k(1,38)),new le(24,new k(8,20),new k(4,21)),new le(22,new k(12,11),new k(4,12))),new Ye(14,Int32Array.from([6,26,46,66]),new le(30,new k(3,115),new k(1,116)),new le(24,new k(4,40),new k(5,41)),new le(20,new k(11,16),new k(5,17)),new le(24,new k(11,12),new k(5,13))),new Ye(15,Int32Array.from([6,26,48,70]),new le(22,new k(5,87),new k(1,88)),new le(24,new k(5,41),new k(5,42)),new le(30,new k(5,24),new k(7,25)),new le(24,new k(11,12),new k(7,13))),new Ye(16,Int32Array.from([6,26,50,74]),new le(24,new k(5,98),new k(1,99)),new le(28,new k(7,45),new k(3,46)),new le(24,new k(15,19),new k(2,20)),new le(30,new k(3,15),new k(13,16))),new Ye(17,Int32Array.from([6,30,54,78]),new le(28,new k(1,107),new k(5,108)),new le(28,new k(10,46),new k(1,47)),new le(28,new k(1,22),new k(15,23)),new le(28,new k(2,14),new k(17,15))),new Ye(18,Int32Array.from([6,30,56,82]),new le(30,new k(5,120),new k(1,121)),new le(26,new k(9,43),new k(4,44)),new le(28,new k(17,22),new k(1,23)),new le(28,new k(2,14),new k(19,15))),new Ye(19,Int32Array.from([6,30,58,86]),new le(28,new k(3,113),new k(4,114)),new le(26,new k(3,44),new k(11,45)),new le(26,new k(17,21),new k(4,22)),new le(26,new k(9,13),new k(16,14))),new Ye(20,Int32Array.from([6,34,62,90]),new le(28,new k(3,107),new k(5,108)),new le(26,new k(3,41),new k(13,42)),new le(30,new k(15,24),new k(5,25)),new le(28,new k(15,15),new k(10,16))),new Ye(21,Int32Array.from([6,28,50,72,94]),new le(28,new k(4,116),new k(4,117)),new le(26,new k(17,42)),new le(28,new k(17,22),new k(6,23)),new le(30,new k(19,16),new k(6,17))),new Ye(22,Int32Array.from([6,26,50,74,98]),new le(28,new k(2,111),new k(7,112)),new le(28,new k(17,46)),new le(30,new k(7,24),new k(16,25)),new le(24,new k(34,13))),new Ye(23,Int32Array.from([6,30,54,78,102]),new le(30,new k(4,121),new k(5,122)),new le(28,new k(4,47),new k(14,48)),new le(30,new k(11,24),new k(14,25)),new le(30,new k(16,15),new k(14,16))),new Ye(24,Int32Array.from([6,28,54,80,106]),new le(30,new k(6,117),new k(4,118)),new le(28,new k(6,45),new k(14,46)),new le(30,new k(11,24),new k(16,25)),new le(30,new k(30,16),new k(2,17))),new Ye(25,Int32Array.from([6,32,58,84,110]),new le(26,new k(8,106),new k(4,107)),new le(28,new k(8,47),new k(13,48)),new le(30,new k(7,24),new k(22,25)),new le(30,new k(22,15),new k(13,16))),new Ye(26,Int32Array.from([6,30,58,86,114]),new le(28,new k(10,114),new k(2,115)),new le(28,new k(19,46),new k(4,47)),new le(28,new k(28,22),new k(6,23)),new le(30,new k(33,16),new k(4,17))),new Ye(27,Int32Array.from([6,34,62,90,118]),new le(30,new k(8,122),new k(4,123)),new le(28,new k(22,45),new k(3,46)),new le(30,new k(8,23),new k(26,24)),new le(30,new k(12,15),new k(28,16))),new Ye(28,Int32Array.from([6,26,50,74,98,122]),new le(30,new k(3,117),new k(10,118)),new le(28,new k(3,45),new k(23,46)),new le(30,new k(4,24),new k(31,25)),new le(30,new k(11,15),new k(31,16))),new Ye(29,Int32Array.from([6,30,54,78,102,126]),new le(30,new k(7,116),new k(7,117)),new le(28,new k(21,45),new k(7,46)),new le(30,new k(1,23),new k(37,24)),new le(30,new k(19,15),new k(26,16))),new Ye(30,Int32Array.from([6,26,52,78,104,130]),new le(30,new k(5,115),new k(10,116)),new le(28,new k(19,47),new k(10,48)),new le(30,new k(15,24),new k(25,25)),new le(30,new k(23,15),new k(25,16))),new Ye(31,Int32Array.from([6,30,56,82,108,134]),new le(30,new k(13,115),new k(3,116)),new le(28,new k(2,46),new k(29,47)),new le(30,new k(42,24),new k(1,25)),new le(30,new k(23,15),new k(28,16))),new Ye(32,Int32Array.from([6,34,60,86,112,138]),new le(30,new k(17,115)),new le(28,new k(10,46),new k(23,47)),new le(30,new k(10,24),new k(35,25)),new le(30,new k(19,15),new k(35,16))),new Ye(33,Int32Array.from([6,30,58,86,114,142]),new le(30,new k(17,115),new k(1,116)),new le(28,new k(14,46),new k(21,47)),new le(30,new k(29,24),new k(19,25)),new le(30,new k(11,15),new k(46,16))),new Ye(34,Int32Array.from([6,34,62,90,118,146]),new le(30,new k(13,115),new k(6,116)),new le(28,new k(14,46),new k(23,47)),new le(30,new k(44,24),new k(7,25)),new le(30,new k(59,16),new k(1,17))),new Ye(35,Int32Array.from([6,30,54,78,102,126,150]),new le(30,new k(12,121),new k(7,122)),new le(28,new k(12,47),new k(26,48)),new le(30,new k(39,24),new k(14,25)),new le(30,new k(22,15),new k(41,16))),new Ye(36,Int32Array.from([6,24,50,76,102,128,154]),new le(30,new k(6,121),new k(14,122)),new le(28,new k(6,47),new k(34,48)),new le(30,new k(46,24),new k(10,25)),new le(30,new k(2,15),new k(64,16))),new Ye(37,Int32Array.from([6,28,54,80,106,132,158]),new le(30,new k(17,122),new k(4,123)),new le(28,new k(29,46),new k(14,47)),new le(30,new k(49,24),new k(10,25)),new le(30,new k(24,15),new k(46,16))),new Ye(38,Int32Array.from([6,32,58,84,110,136,162]),new le(30,new k(4,122),new k(18,123)),new le(28,new k(13,46),new k(32,47)),new le(30,new k(48,24),new k(14,25)),new le(30,new k(42,15),new k(32,16))),new Ye(39,Int32Array.from([6,26,54,82,110,138,166]),new le(30,new k(20,117),new k(4,118)),new le(28,new k(40,47),new k(7,48)),new le(30,new k(43,24),new k(22,25)),new le(30,new k(10,15),new k(67,16))),new Ye(40,Int32Array.from([6,30,58,86,114,142,170]),new le(30,new k(19,118),new k(6,119)),new le(28,new k(18,47),new k(31,48)),new le(30,new k(34,24),new k(34,25)),new le(30,new k(20,15),new k(61,16)))];var On;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(On||(On={}));class fa{constructor(t,a){this.value=t,this.isMasked=a}unmaskBitMatrix(t,a){for(let r=0;r<a;r++)for(let l=0;l<a;l++)this.isMasked(r,l)&&t.flip(l,r)}}fa.values=new Map([[On.DATA_MASK_000,new fa(On.DATA_MASK_000,(S,t)=>(S+t&1)===0)],[On.DATA_MASK_001,new fa(On.DATA_MASK_001,(S,t)=>(S&1)===0)],[On.DATA_MASK_010,new fa(On.DATA_MASK_010,(S,t)=>t%3===0)],[On.DATA_MASK_011,new fa(On.DATA_MASK_011,(S,t)=>(S+t)%3===0)],[On.DATA_MASK_100,new fa(On.DATA_MASK_100,(S,t)=>(Math.floor(S/2)+Math.floor(t/3)&1)===0)],[On.DATA_MASK_101,new fa(On.DATA_MASK_101,(S,t)=>S*t%6===0)],[On.DATA_MASK_110,new fa(On.DATA_MASK_110,(S,t)=>S*t%6<3)],[On.DATA_MASK_111,new fa(On.DATA_MASK_111,(S,t)=>(S+t+S*t%3&1)===0)]]);class mi{constructor(t){const a=t.getHeight();if(a<21||(a&3)!==1)throw new D;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let s=0;s<6;s++)t=this.copyBit(s,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let s=5;s>=0;s--)t=this.copyBit(8,s,t);const a=this.bitMatrix.getHeight();let r=0;const l=a-7;for(let s=a-1;s>=l;s--)r=this.copyBit(8,s,r);for(let s=a-8;s<a;s++)r=this.copyBit(s,8,r);if(this.parsedFormatInfo=jn.decodeFormatInformation(t,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new D}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),a=Math.floor((t-17)/4);if(a<=6)return Ye.getVersionForNumber(a);let r=0;const l=t-11;for(let c=5;c>=0;c--)for(let u=t-9;u>=l;u--)r=this.copyBit(u,c,r);let s=Ye.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;r=0;for(let c=5;c>=0;c--)for(let u=t-9;u>=l;u--)r=this.copyBit(c,u,r);if(s=Ye.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new D}copyBit(t,a,r){return(this.isMirror?this.bitMatrix.get(a,t):this.bitMatrix.get(t,a))?r<<1|1:r<<1}readCodewords(){const t=this.readFormatInformation(),a=this.readVersion(),r=fa.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,l);const s=a.buildFunctionPattern();let c=!0;const u=new Uint8Array(a.getTotalCodewords());let x=0,y=0,A=0;for(let N=l-1;N>0;N-=2){N===6&&N--;for(let I=0;I<l;I++){const j=c?l-1-I:I;for(let V=0;V<2;V++)s.get(N-V,j)||(A++,y<<=1,this.bitMatrix.get(N-V,j)&&(y|=1),A===8&&(u[x++]=y,A=0,y=0))}c=!c}if(x!==a.getTotalCodewords())throw new D;return u}remask(){if(this.parsedFormatInfo===null)return;const t=fa.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,a)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let a=0,r=t.getWidth();a<r;a++)for(let l=a+1,s=t.getHeight();l<s;l++)t.get(a,l)!==t.get(l,a)&&(t.flip(l,a),t.flip(a,l))}}class Cs{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a,r){if(t.length!==a.getTotalCodewords())throw new M;const l=a.getECBlocksForLevel(r);let s=0;const c=l.getECBlocks();for(const V of c)s+=V.getCount();const u=new Array(s);let x=0;for(const V of c)for(let Y=0;Y<V.getCount();Y++){const ae=V.getDataCodewords(),he=l.getECCodewordsPerBlock()+ae;u[x++]=new Cs(ae,new Uint8Array(he))}const y=u[0].codewords.length;let A=u.length-1;for(;A>=0&&u[A].codewords.length!==y;)A--;A++;const N=y-l.getECCodewordsPerBlock();let I=0;for(let V=0;V<N;V++)for(let Y=0;Y<x;Y++)u[Y].codewords[V]=t[I++];for(let V=A;V<x;V++)u[V].codewords[N]=t[I++];const j=u[0].codewords.length;for(let V=N;V<j;V++)for(let Y=0;Y<x;Y++){const ae=Y<A?V:V+1;u[Y].codewords[ae]=t[I++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ha;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(ha||(ha={}));class We{constructor(t,a,r,l){this.value=t,this.stringValue=a,this.characterCountBitsForVersions=r,this.bits=l,We.FOR_BITS.set(l,this),We.FOR_VALUE.set(t,this)}static forBits(t){const a=We.FOR_BITS.get(t);if(a===void 0)throw new M;return a}getCharacterCountBits(t){const a=t.getVersionNumber();let r;return a<=9?r=0:a<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof We))return!1;const a=t;return this.value===a.value}toString(){return this.stringValue}}We.FOR_BITS=new Map,We.FOR_VALUE=new Map,We.TERMINATOR=new We(ha.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),We.NUMERIC=new We(ha.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),We.ALPHANUMERIC=new We(ha.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),We.STRUCTURED_APPEND=new We(ha.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),We.BYTE=new We(ha.BYTE,"BYTE",Int32Array.from([8,16,16]),4),We.ECI=new We(ha.ECI,"ECI",Int32Array.from([0,0,0]),7),We.KANJI=new We(ha.KANJI,"KANJI",Int32Array.from([8,10,12]),8),We.FNC1_FIRST_POSITION=new We(ha.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),We.FNC1_SECOND_POSITION=new We(ha.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),We.HANZI=new We(ha.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class an{static decode(t,a,r,l){const s=new Ia(t);let c=new Ae;const u=new Array;let x=-1,y=-1;try{let A=null,N=!1,I;do{if(s.available()<4)I=We.TERMINATOR;else{const j=s.readBits(4);I=We.forBits(j)}switch(I){case We.TERMINATOR:break;case We.FNC1_FIRST_POSITION:case We.FNC1_SECOND_POSITION:N=!0;break;case We.STRUCTURED_APPEND:if(s.available()<16)throw new D;x=s.readBits(8),y=s.readBits(8);break;case We.ECI:const j=an.parseECIValue(s);if(A=F.getCharacterSetECIByValue(j),A===null)throw new D;break;case We.HANZI:const V=s.readBits(4),Y=s.readBits(I.getCharacterCountBits(a));V===an.GB2312_SUBSET&&an.decodeHanziSegment(s,c,Y);break;default:const ae=s.readBits(I.getCharacterCountBits(a));switch(I){case We.NUMERIC:an.decodeNumericSegment(s,c,ae);break;case We.ALPHANUMERIC:an.decodeAlphanumericSegment(s,c,ae,N);break;case We.BYTE:an.decodeByteSegment(s,c,ae,A,u,l);break;case We.KANJI:an.decodeKanjiSegment(s,c,ae);break;default:throw new D}break}}while(I!==We.TERMINATOR)}catch{throw new D}return new He(t,c.toString(),u.length===0?null:u,r===null?null:r.toString(),x,y)}static decodeHanziSegment(t,a,r){if(r*13>t.available())throw new D;const l=new Uint8Array(2*r);let s=0;for(;r>0;){const c=t.readBits(13);let u=c/96<<8&4294967295|c%96;u<959?u+=41377:u+=42657,l[s]=u>>8&255,l[s+1]=u&255,s+=2,r--}try{a.append(re.decode(l,oe.GB2312))}catch(c){throw new D(c)}}static decodeKanjiSegment(t,a,r){if(r*13>t.available())throw new D;const l=new Uint8Array(2*r);let s=0;for(;r>0;){const c=t.readBits(13);let u=c/192<<8&4294967295|c%192;u<7936?u+=33088:u+=49472,l[s]=u>>8,l[s+1]=u,s+=2,r--}try{a.append(re.decode(l,oe.SHIFT_JIS))}catch(c){throw new D(c)}}static decodeByteSegment(t,a,r,l,s,c){if(8*r>t.available())throw new D;const u=new Uint8Array(r);for(let y=0;y<r;y++)u[y]=t.readBits(8);let x;l===null?x=oe.guessEncoding(u,c):x=l.getName();try{a.append(re.decode(u,x))}catch(y){throw new D(y)}s.push(u)}static toAlphaNumericChar(t){if(t>=an.ALPHANUMERIC_CHARS.length)throw new D;return an.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,a,r,l){const s=a.length();for(;r>1;){if(t.available()<11)throw new D;const c=t.readBits(11);a.append(an.toAlphaNumericChar(Math.floor(c/45))),a.append(an.toAlphaNumericChar(c%45)),r-=2}if(r===1){if(t.available()<6)throw new D;a.append(an.toAlphaNumericChar(t.readBits(6)))}if(l)for(let c=s;c<a.length();c++)a.charAt(c)==="%"&&(c<a.length()-1&&a.charAt(c+1)==="%"?a.deleteCharAt(c+1):a.setCharAt(c,""))}static decodeNumericSegment(t,a,r){for(;r>=3;){if(t.available()<10)throw new D;const l=t.readBits(10);if(l>=1e3)throw new D;a.append(an.toAlphaNumericChar(Math.floor(l/100))),a.append(an.toAlphaNumericChar(Math.floor(l/10)%10)),a.append(an.toAlphaNumericChar(l%10)),r-=3}if(r===2){if(t.available()<7)throw new D;const l=t.readBits(7);if(l>=100)throw new D;a.append(an.toAlphaNumericChar(Math.floor(l/10))),a.append(an.toAlphaNumericChar(l%10))}else if(r===1){if(t.available()<4)throw new D;const l=t.readBits(4);if(l>=10)throw new D;a.append(an.toAlphaNumericChar(l))}}static parseECIValue(t){const a=t.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const r=t.readBits(8);return(a&63)<<8&4294967295|r}if((a&224)===192){const r=t.readBits(16);return(a&31)<<16&4294967295|r}throw new D}}an.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",an.GB2312_SUBSET=1;class To{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const a=t[0];t[0]=t[2],t[2]=a}}class uu{constructor(){this.rsDecoder=new Zt(st.QR_CODE_FIELD_256)}decodeBooleanArray(t,a){return this.decodeBitMatrix(Ee.parseFromBooleanArray(t),a)}decodeBitMatrix(t,a){const r=new mi(t);let l=null;try{return this.decodeBitMatrixParser(r,a)}catch(s){l=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const s=this.decodeBitMatrixParser(r,a);return s.setOther(new To(!0)),s}catch(s){throw l!==null?l:s}}decodeBitMatrixParser(t,a){const r=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),s=t.readCodewords(),c=Cs.getDataBlocks(s,r,l);let u=0;for(const A of c)u+=A.getNumDataCodewords();const x=new Uint8Array(u);let y=0;for(const A of c){const N=A.getCodewords(),I=A.getNumDataCodewords();this.correctErrors(N,I);for(let j=0;j<I;j++)x[y++]=N[j]}return an.decode(x,r,l,a)}correctErrors(t,a){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-a)}catch{throw new W}for(let l=0;l<a;l++)t[l]=r[l]}}class pi extends ze{constructor(t,a,r){super(t,a),this.estimatedModuleSize=r}aboutEquals(t,a,r){if(Math.abs(a-this.getY())<=t&&Math.abs(r-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,a,r){const l=(this.getX()+a)/2,s=(this.getY()+t)/2,c=(this.estimatedModuleSize+r)/2;return new pi(l,s,c)}}class ba{constructor(t,a,r,l,s,c,u){this.image=t,this.startX=a,this.startY=r,this.width=l,this.height=s,this.moduleSize=c,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,a=this.height,r=this.width,l=t+r,s=this.startY+a/2,c=new Int32Array(3),u=this.image;for(let x=0;x<a;x++){const y=s+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));c[0]=0,c[1]=0,c[2]=0;let A=t;for(;A<l&&!u.get(A,y);)A++;let N=0;for(;A<l;){if(u.get(A,y))if(N===1)c[1]++;else if(N===2){if(this.foundPatternCross(c)){const I=this.handlePossibleCenter(c,y,A);if(I!==null)return I}c[0]=c[2],c[1]=1,c[2]=0,N=1}else c[++N]++;else N===1&&N++,c[N]++;A++}if(this.foundPatternCross(c)){const I=this.handlePossibleCenter(c,y,l);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Q}static centerFromEnd(t,a){return a-t[2]-t[1]/2}foundPatternCross(t){const a=this.moduleSize,r=a/2;for(let l=0;l<3;l++)if(Math.abs(a-t[l])>=r)return!1;return!0}crossCheckVertical(t,a,r,l){const s=this.image,c=s.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let x=t;for(;x>=0&&s.get(a,x)&&u[1]<=r;)u[1]++,x--;if(x<0||u[1]>r)return NaN;for(;x>=0&&!s.get(a,x)&&u[0]<=r;)u[0]++,x--;if(u[0]>r)return NaN;for(x=t+1;x<c&&s.get(a,x)&&u[1]<=r;)u[1]++,x++;if(x===c||u[1]>r)return NaN;for(;x<c&&!s.get(a,x)&&u[2]<=r;)u[2]++,x++;if(u[2]>r)return NaN;const y=u[0]+u[1]+u[2];return 5*Math.abs(y-l)>=2*l?NaN:this.foundPatternCross(u)?ba.centerFromEnd(u,x):NaN}handlePossibleCenter(t,a,r){const l=t[0]+t[1]+t[2],s=ba.centerFromEnd(t,r),c=this.crossCheckVertical(a,s,2*t[1],l);if(!isNaN(c)){const u=(t[0]+t[1]+t[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(u,c,s))return y.combineEstimate(c,s,u);const x=new pi(s,c,u);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class tl extends ze{constructor(t,a,r,l){super(t,a),this.estimatedModuleSize=r,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,a,r){if(Math.abs(a-this.getY())<=t&&Math.abs(r-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,a,r){const l=this.count+1,s=(this.count*this.getX()+a)/l,c=(this.count*this.getY()+t)/l,u=(this.count*this.estimatedModuleSize+r)/l;return new tl(s,c,u,l)}}class Es{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class un{constructor(t,a){this.image=t,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const a=t!=null&&t.get(K.TRY_HARDER)!==void 0,r=t!=null&&t.get(K.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),c=l.getWidth();let u=Math.floor(3*s/(4*un.MAX_MODULES));(u<un.MIN_SKIP||a)&&(u=un.MIN_SKIP);let x=!1;const y=new Int32Array(5);for(let N=u-1;N<s&&!x;N+=u){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let I=0;for(let j=0;j<c;j++)if(l.get(j,N))(I&1)===1&&I++,y[I]++;else if((I&1)===0)if(I===4)if(un.foundPatternCross(y)){if(this.handlePossibleCenter(y,N,j,r)===!0)if(u=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const Y=this.findRowSkip();Y>y[2]&&(N+=Y-y[2]-u,j=c-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,I=3;continue}I=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,I=3;else y[++I]++;else y[I]++;un.foundPatternCross(y)&&this.handlePossibleCenter(y,N,c,r)===!0&&(u=y[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return ze.orderBestPatterns(A),new Es(A)}static centerFromEnd(t,a){return a-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let a=0;for(let s=0;s<5;s++){const c=t[s];if(c===0)return!1;a+=c}if(a<7)return!1;const r=a/7,l=r/2;return Math.abs(r-t[0])<l&&Math.abs(r-t[1])<l&&Math.abs(3*r-t[2])<3*l&&Math.abs(r-t[3])<l&&Math.abs(r-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,a,r,l){const s=this.getCrossCheckStateCount();let c=0;const u=this.image;for(;t>=c&&a>=c&&u.get(a-c,t-c);)s[2]++,c++;if(t<c||a<c)return!1;for(;t>=c&&a>=c&&!u.get(a-c,t-c)&&s[1]<=r;)s[1]++,c++;if(t<c||a<c||s[1]>r)return!1;for(;t>=c&&a>=c&&u.get(a-c,t-c)&&s[0]<=r;)s[0]++,c++;if(s[0]>r)return!1;const x=u.getHeight(),y=u.getWidth();for(c=1;t+c<x&&a+c<y&&u.get(a+c,t+c);)s[2]++,c++;if(t+c>=x||a+c>=y)return!1;for(;t+c<x&&a+c<y&&!u.get(a+c,t+c)&&s[3]<r;)s[3]++,c++;if(t+c>=x||a+c>=y||s[3]>=r)return!1;for(;t+c<x&&a+c<y&&u.get(a+c,t+c)&&s[4]<r;)s[4]++,c++;if(s[4]>=r)return!1;const A=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(A-l)<2*l&&un.foundPatternCross(s)}crossCheckVertical(t,a,r,l){const s=this.image,c=s.getHeight(),u=this.getCrossCheckStateCount();let x=t;for(;x>=0&&s.get(a,x);)u[2]++,x--;if(x<0)return NaN;for(;x>=0&&!s.get(a,x)&&u[1]<=r;)u[1]++,x--;if(x<0||u[1]>r)return NaN;for(;x>=0&&s.get(a,x)&&u[0]<=r;)u[0]++,x--;if(u[0]>r)return NaN;for(x=t+1;x<c&&s.get(a,x);)u[2]++,x++;if(x===c)return NaN;for(;x<c&&!s.get(a,x)&&u[3]<r;)u[3]++,x++;if(x===c||u[3]>=r)return NaN;for(;x<c&&s.get(a,x)&&u[4]<r;)u[4]++,x++;if(u[4]>=r)return NaN;const y=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(y-l)>=2*l?NaN:un.foundPatternCross(u)?un.centerFromEnd(u,x):NaN}crossCheckHorizontal(t,a,r,l){const s=this.image,c=s.getWidth(),u=this.getCrossCheckStateCount();let x=t;for(;x>=0&&s.get(x,a);)u[2]++,x--;if(x<0)return NaN;for(;x>=0&&!s.get(x,a)&&u[1]<=r;)u[1]++,x--;if(x<0||u[1]>r)return NaN;for(;x>=0&&s.get(x,a)&&u[0]<=r;)u[0]++,x--;if(u[0]>r)return NaN;for(x=t+1;x<c&&s.get(x,a);)u[2]++,x++;if(x===c)return NaN;for(;x<c&&!s.get(x,a)&&u[3]<r;)u[3]++,x++;if(x===c||u[3]>=r)return NaN;for(;x<c&&s.get(x,a)&&u[4]<r;)u[4]++,x++;if(u[4]>=r)return NaN;const y=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(y-l)>=l?NaN:un.foundPatternCross(u)?un.centerFromEnd(u,x):NaN}handlePossibleCenter(t,a,r,l){const s=t[0]+t[1]+t[2]+t[3]+t[4];let c=un.centerFromEnd(t,r),u=this.crossCheckVertical(a,Math.floor(c),t[2],s);if(!isNaN(u)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(u),t[2],s),!isNaN(c)&&(!l||this.crossCheckDiagonal(Math.floor(u),Math.floor(c),t[2],s)))){const x=s/7;let y=!1;const A=this.possibleCenters;for(let N=0,I=A.length;N<I;N++){const j=A[N];if(j.aboutEquals(x,u,c)){A[N]=j.combineEstimate(u,c,x),y=!0;break}}if(!y){const N=new tl(c,u,x);A.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const r of this.possibleCenters)if(r.getCount()>=un.CENTER_QUORUM)if(a==null)a=r;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-r.getX())-Math.abs(a.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,a=0;const r=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=un.CENTER_QUORUM&&(t++,a+=c.getEstimatedModuleSize());if(t<3)return!1;const l=a/r;let s=0;for(const c of this.possibleCenters)s+=Math.abs(c.getEstimatedModuleSize()-l);return s<=.05*a}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new Q;const a=this.possibleCenters;let r;if(t>3){let l=0,s=0;for(const x of this.possibleCenters){const y=x.getEstimatedModuleSize();l+=y,s+=y*y}r=l/t;let c=Math.sqrt(s/t-r*r);a.sort((x,y)=>{const A=Math.abs(y.getEstimatedModuleSize()-r),N=Math.abs(x.getEstimatedModuleSize()-r);return A<N?-1:A>N?1:0});const u=Math.max(.2*r,c);for(let x=0;x<a.length&&a.length>3;x++){const y=a[x];Math.abs(y.getEstimatedModuleSize()-r)>u&&(a.splice(x,1),x--)}}if(a.length>3){let l=0;for(const s of a)l+=s.getEstimatedModuleSize();r=l/a.length,a.sort((s,c)=>{if(c.getCount()===s.getCount()){const u=Math.abs(c.getEstimatedModuleSize()-r),x=Math.abs(s.getEstimatedModuleSize()-r);return u<x?1:u>x?-1:0}else return c.getCount()-s.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}un.CENTER_QUORUM=2,un.MIN_SKIP=3,un.MAX_MODULES=57;class Xa{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(K.NEED_RESULT_POINT_CALLBACK);const r=new un(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const a=t.getTopLeft(),r=t.getTopRight(),l=t.getBottomLeft(),s=this.calculateModuleSize(a,r,l);if(s<1)throw new Q("No pattern found in proccess finder.");const c=Xa.computeDimension(a,r,l,s),u=Ye.getProvisionalVersionForDimension(c),x=u.getDimensionForVersion()-7;let y=null;if(u.getAlignmentPatternCenters().length>0){const j=r.getX()-a.getX()+l.getX(),V=r.getY()-a.getY()+l.getY(),Y=1-3/x,ae=Math.floor(a.getX()+Y*(j-a.getX())),he=Math.floor(a.getY()+Y*(V-a.getY()));for(let ke=4;ke<=16;ke<<=1)try{y=this.findAlignmentInRegion(s,ae,he,ke);break}catch(De){if(!(De instanceof Q))throw De}}const A=Xa.createTransform(a,r,l,y,c),N=Xa.sampleGrid(this.image,A,c);let I;return y===null?I=[l,a,r]:I=[l,a,r,y],new Cr(N,I)}static createTransform(t,a,r,l,s){const c=s-3.5;let u,x,y,A;return l!==null?(u=l.getX(),x=l.getY(),y=c-3,A=y):(u=a.getX()-t.getX()+r.getX(),x=a.getY()-t.getY()+r.getY(),y=c,A=c),kn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,y,A,3.5,c,t.getX(),t.getY(),a.getX(),a.getY(),u,x,r.getX(),r.getY())}static sampleGrid(t,a,r){return Bn.getInstance().sampleGridWithTransform(t,r,r,a)}static computeDimension(t,a,r,l){const s=rt.round(ze.distance(t,a)/l),c=rt.round(ze.distance(t,r)/l);let u=Math.floor((s+c)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new Q("Dimensions could be not found.")}return u}calculateModuleSize(t,a,r){return(this.calculateModuleSizeOneWay(t,a)+this.calculateModuleSizeOneWay(t,r))/2}calculateModuleSizeOneWay(t,a){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(a.getX()),Math.floor(a.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?l/7:isNaN(l)?r/7:(r+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,a,r,l){let s=this.sizeOfBlackWhiteBlackRun(t,a,r,l),c=1,u=t-(r-t);u<0?(c=t/(t-u),u=0):u>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(u-t),u=this.image.getWidth()-1);let x=Math.floor(a-(l-a)*c);return c=1,x<0?(c=a/(a-x),x=0):x>=this.image.getHeight()&&(c=(this.image.getHeight()-1-a)/(x-a),x=this.image.getHeight()-1),u=Math.floor(t+(u-t)*c),s+=this.sizeOfBlackWhiteBlackRun(t,a,u,x),s-1}sizeOfBlackWhiteBlackRun(t,a,r,l){const s=Math.abs(l-a)>Math.abs(r-t);if(s){let j=t;t=a,a=j,j=r,r=l,l=j}const c=Math.abs(r-t),u=Math.abs(l-a);let x=-c/2;const y=t<r?1:-1,A=a<l?1:-1;let N=0;const I=r+y;for(let j=t,V=a;j!==I;j+=y){const Y=s?V:j,ae=s?j:V;if(N===1===this.image.get(Y,ae)){if(N===2)return rt.distance(j,V,t,a);N++}if(x+=u,x>0){if(V===l)break;V+=A,x-=c}}return N===2?rt.distance(r+y,l,t,a):NaN}findAlignmentInRegion(t,a,r,l){const s=Math.floor(l*t),c=Math.max(0,a-s),u=Math.min(this.image.getWidth()-1,a+s);if(u-c<t*3)throw new Q("Alignment top exceeds estimated module size.");const x=Math.max(0,r-s),y=Math.min(this.image.getHeight()-1,r+s);if(y-x<t*3)throw new Q("Alignment bottom exceeds estimated module size.");return new ba(this.image,c,x,u-c,y-x,t,this.resultPointCallback).find()}}class ur{constructor(){this.decoder=new uu}getDecoder(){return this.decoder}decode(t,a){let r,l;if(a!=null&&a.get(K.PURE_BARCODE)!==void 0){const x=ur.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(x,a),l=ur.NO_POINTS}else{const x=new Xa(t.getBlackMatrix()).detect(a);r=this.decoder.decodeBitMatrix(x.getBits(),a),l=x.getPoints()}r.getOther()instanceof To&&r.getOther().applyMirroredCorrection(l);const s=new je(r.getText(),r.getRawBytes(),void 0,l,Se.QR_CODE,void 0),c=r.getByteSegments();c!==null&&s.putMetadata(ye.BYTE_SEGMENTS,c);const u=r.getECLevel();return u!==null&&s.putMetadata(ye.ERROR_CORRECTION_LEVEL,u),r.hasStructuredAppend()&&(s.putMetadata(ye.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(ye.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(a===null||r===null)throw new Q;const l=this.moduleSize(a,t);let s=a[1],c=r[1],u=a[0],x=r[0];if(u>=x||s>=c)throw new Q;if(c-s!==x-u&&(x=u+(c-s),x>=t.getWidth()))throw new Q;const y=Math.round((x-u+1)/l),A=Math.round((c-s+1)/l);if(y<=0||A<=0)throw new Q;if(A!==y)throw new Q;const N=Math.floor(l/2);s+=N,u+=N;const I=u+Math.floor((y-1)*l)-x;if(I>0){if(I>N)throw new Q;u-=I}const j=s+Math.floor((A-1)*l)-c;if(j>0){if(j>N)throw new Q;s-=j}const V=new Ee(y,A);for(let Y=0;Y<A;Y++){const ae=s+Math.floor(Y*l);for(let he=0;he<y;he++)t.get(u+Math.floor(he*l),ae)&&V.set(he,Y)}return V}static moduleSize(t,a){const r=a.getHeight(),l=a.getWidth();let s=t[0],c=t[1],u=!0,x=0;for(;s<l&&c<r;){if(u!==a.get(s,c)){if(++x===5)break;u=!u}s++,c++}if(s===l||c===r)throw new Q;return(s-t[0])/7}}ur.NO_POINTS=new Array;class Je{PDF417Common(){}static getBitCountSum(t){return rt.sum(t)}static toIntArray(t){if(t==null||!t.length)return Je.EMPTY_INT_ARRAY;const a=new Int32Array(t.length);let r=0;for(const l of t)a[r++]=l;return a}static getCodeword(t){const a=L.binarySearch(Je.SYMBOL_TABLE,t&262143);return a<0?-1:(Je.CODEWORD_TABLE[a]-1)%Je.NUMBER_OF_CODEWORDS}}Je.NUMBER_OF_CODEWORDS=929,Je.MAX_CODEWORDS_IN_BARCODE=Je.NUMBER_OF_CODEWORDS-1,Je.MIN_ROWS_IN_BARCODE=3,Je.MAX_ROWS_IN_BARCODE=90,Je.MODULES_IN_CODEWORD=17,Je.MODULES_IN_STOP_PATTERN=18,Je.BARS_IN_MODULE=8,Je.EMPTY_INT_ARRAY=new Int32Array([]),Je.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Je.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class _o{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class it{static detectMultiple(t,a,r){let l=t.getBlackMatrix(),s=it.detect(r,l);return s.length||(l=l.clone(),l.rotate180(),s=it.detect(r,l)),new _o(l,s)}static detect(t,a){const r=new Array;let l=0,s=0,c=!1;for(;l<a.getHeight();){const u=it.findVertices(a,l,s);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,s=0;for(const x of r)x[1]!=null&&(l=Math.trunc(Math.max(l,x[1].getY()))),x[3]!=null&&(l=Math.max(l,Math.trunc(x[3].getY())));l+=it.ROW_STEP;continue}if(c=!0,r.push(u),!t)break;u[2]!=null?(s=Math.trunc(u[2].getX()),l=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),l=Math.trunc(u[4].getY()))}return r}static findVertices(t,a,r){const l=t.getHeight(),s=t.getWidth(),c=new Array(8);return it.copyToResult(c,it.findRowsWithPattern(t,l,s,a,r,it.START_PATTERN),it.INDEXES_START_PATTERN),c[4]!=null&&(r=Math.trunc(c[4].getX()),a=Math.trunc(c[4].getY())),it.copyToResult(c,it.findRowsWithPattern(t,l,s,a,r,it.STOP_PATTERN),it.INDEXES_STOP_PATTERN),c}static copyToResult(t,a,r){for(let l=0;l<r.length;l++)t[r[l]]=a[l]}static findRowsWithPattern(t,a,r,l,s,c){const u=new Array(4);let x=!1;const y=new Int32Array(c.length);for(;l<a;l+=it.ROW_STEP){let N=it.findGuardPattern(t,s,l,r,!1,c,y);if(N!=null){for(;l>0;){const I=it.findGuardPattern(t,s,--l,r,!1,c,y);if(I!=null)N=I;else{l++;break}}u[0]=new ze(N[0],l),u[1]=new ze(N[1],l),x=!0;break}}let A=l+1;if(x){let N=0,I=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;A<a;A++){const j=it.findGuardPattern(t,I[0],A,r,!1,c,y);if(j!=null&&Math.abs(I[0]-j[0])<it.MAX_PATTERN_DRIFT&&Math.abs(I[1]-j[1])<it.MAX_PATTERN_DRIFT)I=j,N=0;else{if(N>it.SKIPPED_ROW_COUNT_MAX)break;N++}}A-=N+1,u[2]=new ze(I[0],A),u[3]=new ze(I[1],A)}return A-l<it.BARCODE_MIN_HEIGHT&&L.fill(u,null),u}static findGuardPattern(t,a,r,l,s,c,u){L.fillWithin(u,0,u.length,0);let x=a,y=0;for(;t.get(x,r)&&x>0&&y++<it.MAX_PIXEL_DRIFT;)x--;let A=x,N=0,I=c.length;for(let j=s;A<l;A++)if(t.get(A,r)!==j)u[N]++;else{if(N===I-1){if(it.patternMatchVariance(u,c,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return new Int32Array([x,A]);x+=u[0]+u[1],te.arraycopy(u,2,u,0,N-1),u[N-1]=0,u[N]=0,N--}else N++;u[N]=1,j=!j}return N===I-1&&it.patternMatchVariance(u,c,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE?new Int32Array([x,A-1]):null}static patternMatchVariance(t,a,r){let l=t.length,s=0,c=0;for(let y=0;y<l;y++)s+=t[y],c+=a[y];if(s<c)return 1/0;let u=s/c;r*=u;let x=0;for(let y=0;y<l;y++){let A=t[y],N=a[y]*u,I=A>N?A-N:N-A;if(I>r)return 1/0;x+=I}return x/s}}it.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),it.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),it.MAX_AVG_VARIANCE=.42,it.MAX_INDIVIDUAL_VARIANCE=.8,it.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),it.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),it.MAX_PIXEL_DRIFT=3,it.MAX_PATTERN_DRIFT=5,it.SKIPPED_ROW_COUNT_MAX=25,it.ROW_STEP=5,it.BARCODE_MIN_HEIGHT=10;class rn{constructor(t,a){if(a.length===0)throw new M;this.field=t;let r=a.length;if(r>1&&a[0]===0){let l=1;for(;l<r&&a[l]===0;)l++;l===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-l),te.arraycopy(a,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let s of this.coefficients)l=this.field.add(l,s);return l}let a=this.coefficients[0],r=this.coefficients.length;for(let l=1;l<r;l++)a=this.field.add(this.field.multiply(t,a),this.coefficients[l]);return a}add(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,r=t.coefficients;if(a.length>r.length){let c=a;a=r,r=c}let l=new Int32Array(r.length),s=r.length-a.length;te.arraycopy(r,0,l,0,s);for(let c=s;c<r.length;c++)l[c]=this.field.add(a[c-s],r[c]);return new rn(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof rn?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new rn(this.field,new Int32Array([0]));let a=this.coefficients,r=a.length,l=t.coefficients,s=l.length,c=new Int32Array(r+s-1);for(let u=0;u<r;u++){let x=a[u];for(let y=0;y<s;y++)c[u+y]=this.field.add(c[u+y],this.field.multiply(x,l[y]))}return new rn(this.field,c)}negative(){let t=this.coefficients.length,a=new Int32Array(t);for(let r=0;r<t;r++)a[r]=this.field.subtract(0,this.coefficients[r]);return new rn(this.field,a)}multiplyScalar(t){if(t===0)return new rn(this.field,new Int32Array([0]));if(t===1)return this;let a=this.coefficients.length,r=new Int32Array(a);for(let l=0;l<a;l++)r[l]=this.field.multiply(this.coefficients[l],t);return new rn(this.field,r)}multiplyByMonomial(t,a){if(t<0)throw new M;if(a===0)return new rn(this.field,new Int32Array([0]));let r=this.coefficients.length,l=new Int32Array(r+t);for(let s=0;s<r;s++)l[s]=this.field.multiply(this.coefficients[s],a);return new rn(this.field,l)}toString(){let t=new Ae;for(let a=this.getDegree();a>=0;a--){let r=this.getCoefficient(a);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(a===0||r!==1)&&t.append(r),a!==0&&(a===1?t.append("x"):(t.append("x^"),t.append(a))))}return t.toString()}}class As{add(t,a){return(t+a)%this.modulus}subtract(t,a){return(this.modulus+t-a)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new M;return this.logTable[t]}inverse(t){if(t===0)throw new Rt;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Hr extends As{constructor(t,a){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let r=1;for(let l=0;l<t;l++)this.expTable[l]=r,r=r*a%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new rn(this,new Int32Array([0])),this.one=new rn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new M;if(a===0)return this.zero;let r=new Int32Array(t+1);return r[0]=a,new rn(this,r)}}Hr.PDF417_GF=new Hr(Je.NUMBER_OF_CODEWORDS,3);class dr{constructor(){this.field=Hr.PDF417_GF}decode(t,a,r){let l=new rn(this.field,t),s=new Int32Array(a),c=!1;for(let V=a;V>0;V--){let Y=l.evaluateAt(this.field.exp(V));s[a-V]=Y,Y!==0&&(c=!0)}if(!c)return 0;let u=this.field.getOne();if(r!=null)for(const V of r){let Y=this.field.exp(t.length-1-V),ae=new rn(this.field,new Int32Array([this.field.subtract(0,Y),1]));u=u.multiply(ae)}let x=new rn(this.field,s),y=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),x,a),A=y[0],N=y[1],I=this.findErrorLocations(A),j=this.findErrorMagnitudes(N,A,I);for(let V=0;V<I.length;V++){let Y=t.length-1-this.field.log(I[V]);if(Y<0)throw W.getChecksumInstance();t[Y]=this.field.subtract(t[Y],j[V])}return I.length}runEuclideanAlgorithm(t,a,r){if(t.getDegree()<a.getDegree()){let I=t;t=a,a=I}let l=t,s=a,c=this.field.getZero(),u=this.field.getOne();for(;s.getDegree()>=Math.round(r/2);){let I=l,j=c;if(l=s,c=u,l.isZero())throw W.getChecksumInstance();s=I;let V=this.field.getZero(),Y=l.getCoefficient(l.getDegree()),ae=this.field.inverse(Y);for(;s.getDegree()>=l.getDegree()&&!s.isZero();){let he=s.getDegree()-l.getDegree(),ke=this.field.multiply(s.getCoefficient(s.getDegree()),ae);V=V.add(this.field.buildMonomial(he,ke)),s=s.subtract(l.multiplyByMonomial(he,ke))}u=V.multiply(c).subtract(j).negative()}let x=u.getCoefficient(0);if(x===0)throw W.getChecksumInstance();let y=this.field.inverse(x),A=u.multiply(y),N=s.multiply(y);return[A,N]}findErrorLocations(t){let a=t.getDegree(),r=new Int32Array(a),l=0;for(let s=1;s<this.field.getSize()&&l<a;s++)t.evaluateAt(s)===0&&(r[l]=this.field.inverse(s),l++);if(l!==a)throw W.getChecksumInstance();return r}findErrorMagnitudes(t,a,r){let l=a.getDegree(),s=new Int32Array(l);for(let y=1;y<=l;y++)s[l-y]=this.field.multiply(y,a.getCoefficient(y));let c=new rn(this.field,s),u=r.length,x=new Int32Array(u);for(let y=0;y<u;y++){let A=this.field.inverse(r[y]),N=this.field.subtract(0,t.evaluateAt(A)),I=this.field.inverse(c.evaluateAt(A));x[y]=this.field.multiply(N,I)}return x}}class fr{constructor(t,a,r,l,s){t instanceof fr?this.constructor_2(t):this.constructor_1(t,a,r,l,s)}constructor_1(t,a,r,l,s){const c=a==null||r==null,u=l==null||s==null;if(c&&u)throw new Q;c?(a=new ze(0,l.getY()),r=new ze(0,s.getY())):u&&(l=new ze(t.getWidth()-1,a.getY()),s=new ze(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=a,this.bottomLeft=r,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(a.getX(),r.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(a.getY(),l.getY())),this.maxY=Math.trunc(Math.max(r.getY(),s.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,a){return t==null?a:a==null?t:new fr(t.image,t.topLeft,t.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(t,a,r){let l=this.topLeft,s=this.bottomLeft,c=this.topRight,u=this.bottomRight;if(t>0){let x=r?this.topLeft:this.topRight,y=Math.trunc(x.getY()-t);y<0&&(y=0);let A=new ze(x.getX(),y);r?l=A:c=A}if(a>0){let x=r?this.bottomLeft:this.bottomRight,y=Math.trunc(x.getY()+a);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let A=new ze(x.getX(),y);r?s=A:u=A}return new fr(this.image,l,s,c,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Rl{constructor(t,a,r,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=a,this.rowCountLowerPart=r,this.rowCount=a+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class bi{constructor(){this.buffer=""}static form(t,a){let r=-1;function l(c,u,x,y,A,N){if(c==="%%")return"%";if(a[++r]===void 0)return;c=y?parseInt(y.substr(1)):void 0;let I=A?parseInt(A.substr(1)):void 0,j;switch(N){case"s":j=a[r];break;case"c":j=a[r][0];break;case"f":j=parseFloat(a[r]).toFixed(c);break;case"p":j=parseFloat(a[r]).toPrecision(c);break;case"e":j=parseFloat(a[r]).toExponential(c);break;case"x":j=parseInt(a[r]).toString(I||16);break;case"d":j=parseFloat(parseInt(a[r],I||10).toPrecision(c)).toFixed(0);break}j=typeof j=="object"?JSON.stringify(j):(+j).toString(I);let V=parseInt(x),Y=x&&x[0]+""=="0"?"0":" ";for(;j.length<V;)j=u!==void 0?j+Y:Y+j;return j}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}format(t,...a){this.buffer+=bi.form(t,a)}toString(){return this.buffer}}class Tr{constructor(t){this.boundingBox=new fr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let a=this.getCodeword(t);if(a!=null)return a;for(let r=1;r<Tr.MAX_NEARBY_DISTANCE;r++){let l=this.imageRowToCodewordIndex(t)-r;if(l>=0&&(a=this.codewords[l],a!=null)||(l=this.imageRowToCodewordIndex(t)+r,l<this.codewords.length&&(a=this.codewords[l],a!=null)))return a}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,a){this.codewords[this.imageRowToCodewordIndex(t)]=a}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new bi;let a=0;for(const r of this.codewords){if(r==null){t.format("%3d:    |   %n",a++);continue}t.format("%3d: %3d|%3d%n",a++,r.getRowNumber(),r.getValue())}return t.toString()}}Tr.MAX_NEARBY_DISTANCE=5;class _r{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let a=this.values.get(t);a==null&&(a=0),a++,this.values.set(t,a)}getValue(){let t=-1,a=new Array;for(const[r,l]of this.values.entries()){const s={getKey:()=>r,getValue:()=>l};s.getValue()>t?(t=s.getValue(),a=[],a.push(s.getKey())):s.getValue()===t&&a.push(s.getKey())}return Je.toIntArray(a)}getConfidence(t){return this.values.get(t)}}class vs extends Tr{constructor(t,a){super(t),this._isLeft=a}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,t);let r=this.getBoundingBox(),l=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),x=-1,y=1,A=0;for(let N=c;N<u;N++){if(a[N]==null)continue;let I=a[N],j=I.getRowNumber()-x;if(j===0)A++;else if(j===1)y=Math.max(y,A),A=1,x=I.getRowNumber();else if(j<0||I.getRowNumber()>=t.getRowCount()||j>N)a[N]=null;else{let V;y>2?V=(y-2)*j:V=j;let Y=V>=N;for(let ae=1;ae<=V&&!Y;ae++)Y=a[N-ae]!=null;Y?a[N]=null:(x=I.getRowNumber(),A=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let a=new Int32Array(t.getRowCount());for(let r of this.getCodewords())if(r!=null){let l=r.getRowNumber();if(l>=a.length)continue;a[l]++}return a}adjustIncompleteIndicatorColumnRowNumbers(t){let a=this.getBoundingBox(),r=this._isLeft?a.getTopLeft():a.getTopRight(),l=this._isLeft?a.getBottomLeft():a.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(r.getY())),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),u=this.getCodewords(),x=-1;for(let y=s;y<c;y++){if(u[y]==null)continue;let A=u[y];A.setRowNumberAsRowIndicatorColumn();let N=A.getRowNumber()-x;N===0||(N===1?x=A.getRowNumber():A.getRowNumber()>=t.getRowCount()?u[y]=null:x=A.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),a=new _r,r=new _r,l=new _r,s=new _r;for(let u of t){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let x=u.getValue()%30,y=u.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:r.setValue(x*3+1);break;case 1:s.setValue(x/3),l.setValue(x%3);break;case 2:a.setValue(x+1);break}}if(a.getValue().length===0||r.getValue().length===0||l.getValue().length===0||s.getValue().length===0||a.getValue()[0]<1||r.getValue()[0]+l.getValue()[0]<Je.MIN_ROWS_IN_BARCODE||r.getValue()[0]+l.getValue()[0]>Je.MAX_ROWS_IN_BARCODE)return null;let c=new Rl(a.getValue()[0],r.getValue()[0],l.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,a){for(let r=0;r<t.length;r++){let l=t[r];if(t[r]==null)continue;let s=l.getValue()%30,c=l.getRowNumber();if(c>a.getRowCount()){t[r]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:s*3+1!==a.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(s/3)!==a.getErrorCorrectionLevel()||s%3!==a.getRowCountLowerPart())&&(t[r]=null);break;case 2:s+1!==a.getColumnCount()&&(t[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ln{constructor(t,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Je.MAX_CODEWORDS_IN_BARCODE,a;do a=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let r=this.detectionResultColumns[a].getCodewords();for(let l=0;l<r.length;l++)r[l]!=null&&(r[l].hasValidRowNumber()||this.adjustRowNumbers(a,l,r))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++)if(t[r]!=null&&a[r]!=null&&t[r].getRowNumber()===a[r].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let s=this.detectionResultColumns[l].getCodewords()[r];s!=null&&(s.setRowNumber(t[r].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<a.length;r++){if(a[r]==null)continue;let l=a[r].getRowNumber(),s=0;for(let c=this.barcodeColumnCount+1;c>0&&s<this.ADJUST_ROW_NUMBER_SKIP;c--){let u=this.detectionResultColumns[c].getCodewords()[r];u!=null&&(s=Ln.adjustRowNumberIfValid(l,s,u),u.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,a=this.detectionResultColumns[0].getCodewords();for(let r=0;r<a.length;r++){if(a[r]==null)continue;let l=a[r].getRowNumber(),s=0;for(let c=1;c<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;c++){let u=this.detectionResultColumns[c].getCodewords()[r];u!=null&&(s=Ln.adjustRowNumberIfValid(l,s,u),u.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,a,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),a=0):++a),a}adjustRowNumbers(t,a,r){if(!this.detectionResultColumns[t-1])return;let l=r[a],s=this.detectionResultColumns[t-1].getCodewords(),c=s;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let u=new Array(14);u[2]=s[a],u[3]=c[a],a>0&&(u[0]=r[a-1],u[4]=s[a-1],u[5]=c[a-1]),a>1&&(u[8]=r[a-2],u[10]=s[a-2],u[11]=c[a-2]),a<r.length-1&&(u[1]=r[a+1],u[6]=s[a+1],u[7]=c[a+1]),a<r.length-2&&(u[9]=r[a+2],u[12]=s[a+2],u[13]=c[a+2]);for(let x of u)if(Ln.adjustRowNumber(l,x))return}static adjustRowNumber(t,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===t.getBucket()?(t.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,a){this.detectionResultColumns[t]=a}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new bi;for(let r=0;r<t.getCodewords().length;r++){a.format("CW %3d:",r);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){a.format("    |   ");continue}let s=this.detectionResultColumns[l].getCodewords()[r];if(s==null){a.format("    |   ");continue}a.format(" %3d|%3d",s.getRowNumber(),s.getValue())}a.format("%n")}return a.toString()}}class Oa{constructor(t,a,r,l){this.rowNumber=Oa.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(a),this.bucket=Math.trunc(r),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Oa.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Oa.BARCODE_ROW_UNKNOWN=-1;class Vn{static initialize(){for(let t=0;t<Je.SYMBOL_TABLE.length;t++){let a=Je.SYMBOL_TABLE[t],r=a&1;for(let l=0;l<Je.BARS_IN_MODULE;l++){let s=0;for(;(a&1)===r;)s+=1,a>>=1;r=a&1,Vn.RATIOS_TABLE[t]||(Vn.RATIOS_TABLE[t]=new Array(Je.BARS_IN_MODULE)),Vn.RATIOS_TABLE[t][Je.BARS_IN_MODULE-l-1]=Math.fround(s/Je.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let a=Vn.getDecodedCodewordValue(Vn.sampleBitCounts(t));return a!==-1?a:Vn.getClosestDecodedValue(t)}static sampleBitCounts(t){let a=rt.sum(t),r=new Int32Array(Je.BARS_IN_MODULE),l=0,s=0;for(let c=0;c<Je.MODULES_IN_CODEWORD;c++){let u=a/(2*Je.MODULES_IN_CODEWORD)+c*a/Je.MODULES_IN_CODEWORD;s+t[l]<=u&&(s+=t[l],l++),r[l]++}return r}static getDecodedCodewordValue(t){let a=Vn.getBitValue(t);return Je.getCodeword(a)===-1?-1:a}static getBitValue(t){let a=0;for(let r=0;r<t.length;r++)for(let l=0;l<t[r];l++)a=a<<1|(r%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(t){let a=rt.sum(t),r=new Array(Je.BARS_IN_MODULE);if(a>1)for(let c=0;c<r.length;c++)r[c]=Math.fround(t[c]/a);let l=la.MAX_VALUE,s=-1;this.bSymbolTableReady||Vn.initialize();for(let c=0;c<Vn.RATIOS_TABLE.length;c++){let u=0,x=Vn.RATIOS_TABLE[c];for(let y=0;y<Je.BARS_IN_MODULE;y++){let A=Math.fround(x[y]-r[y]);if(u+=Math.fround(A*A),u>=l)break}u<l&&(l=u,s=Je.SYMBOL_TABLE[c])}return s}}Vn.bSymbolTableReady=!1,Vn.RATIOS_TABLE=new Array(Je.SYMBOL_TABLE.length).map(S=>new Array(Je.BARS_IN_MODULE));class yi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Io{static parseLong(t,a=void 0){return parseInt(t,a)}}class Dl extends E{}Dl.kind="NullPointerException";class Ss{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,a,r){if(t==null)throw new Dl;if(a<0||a>t.length||r<0||a+r>t.length||a+r<0)throw new ne;if(r===0)return;for(let l=0;l<r;l++)this.write(t[a+l])}flush(){}close(){}}class nl extends E{}class Ml extends Ss{constructor(t=32){if(super(),this.count=0,t<0)throw new M("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new nl;r=G.MAX_VALUE}this.buf=L.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,a,r){if(a<0||a>t.length||r<0||a+r-t.length>0)throw new ne;this.ensureCapacity(this.count+r),te.arraycopy(t,a,this.buf,this.count,r),this.count+=r}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return L.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Pt;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Pt||(Pt={}));function Oo(){if(typeof window<"u")return window.BigInt||null;if(typeof Fc<"u")return Fc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let kl;function Ir(S){if(typeof kl>"u"&&(kl=Oo()),kl===null)throw new Error("BigInt is not supported!");return kl(S)}function Ns(){let S=[];S[0]=Ir(1);let t=Ir(900);S[1]=t;for(let a=2;a<16;a++)S[a]=S[a-1]*t;return S}class ge{static decode(t,a){let r=new Ae(""),l=F.ISO8859_1;r.enableDecoding(l);let s=1,c=t[s++],u=new yi;for(;s<t[0];){switch(c){case ge.TEXT_COMPACTION_MODE_LATCH:s=ge.textCompaction(t,s,r);break;case ge.BYTE_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH_6:s=ge.byteCompaction(c,t,l,s,r);break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s++]);break;case ge.NUMERIC_COMPACTION_MODE_LATCH:s=ge.numericCompaction(t,s,r);break;case ge.ECI_CHARSET:F.getCharacterSetECIByValue(t[s++]);break;case ge.ECI_GENERAL_PURPOSE:s+=2;break;case ge.ECI_USER_DEFINED:s++;break;case ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=ge.decodeMacroBlock(t,s,u);break;case ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ge.MACRO_PDF417_TERMINATOR:throw new D;default:s--,s=ge.textCompaction(t,s,r);break}if(s<t.length)c=t[s++];else throw D.getFormatInstance()}if(r.length()===0)throw D.getFormatInstance();let x=new He(null,r.toString(),null,a);return x.setOther(u),x}static decodeMacroBlock(t,a,r){if(a+ge.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw D.getFormatInstance();let l=new Int32Array(ge.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<ge.NUMBER_OF_SEQUENCE_CODEWORDS;u++,a++)l[u]=t[a];r.setSegmentIndex(G.parseInt(ge.decodeBase900toBase10(l,ge.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Ae;a=ge.textCompaction(t,a,s),r.setFileId(s.toString());let c=-1;for(t[a]===ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=a+1);a<t[0];)switch(t[a]){case ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,t[a]){case ge.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Ae;a=ge.textCompaction(t,a+1,u),r.setFileName(u.toString());break;case ge.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new Ae;a=ge.textCompaction(t,a+1,x),r.setSender(x.toString());break;case ge.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new Ae;a=ge.textCompaction(t,a+1,y),r.setAddressee(y.toString());break;case ge.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new Ae;a=ge.numericCompaction(t,a+1,A),r.setSegmentCount(G.parseInt(A.toString()));break;case ge.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Ae;a=ge.numericCompaction(t,a+1,N),r.setTimestamp(Io.parseLong(N.toString()));break;case ge.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Ae;a=ge.numericCompaction(t,a+1,I),r.setChecksum(G.parseInt(I.toString()));break;case ge.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let j=new Ae;a=ge.numericCompaction(t,a+1,j),r.setFileSize(Io.parseLong(j.toString()));break;default:throw D.getFormatInstance()}break;case ge.MACRO_PDF417_TERMINATOR:a++,r.setLastSegment(!0);break;default:throw D.getFormatInstance()}if(c!==-1){let u=a-c;r.isLastSegment()&&u--,r.setOptionalData(L.copyOfRange(t,c,c+u))}return a}static textCompaction(t,a,r){let l=new Int32Array((t[0]-a)*2),s=new Int32Array((t[0]-a)*2),c=0,u=!1;for(;a<t[0]&&!u;){let x=t[a++];if(x<ge.TEXT_COMPACTION_MODE_LATCH)l[c]=x/30,l[c+1]=x%30,c+=2;else switch(x){case ge.TEXT_COMPACTION_MODE_LATCH:l[c++]=ge.TEXT_COMPACTION_MODE_LATCH;break;case ge.BYTE_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH_6:case ge.NUMERIC_COMPACTION_MODE_LATCH:case ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ge.MACRO_PDF417_TERMINATOR:a--,u=!0;break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[c]=ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[a++],s[c]=x,c++;break}}return ge.decodeTextCompaction(l,s,c,r),a}static decodeTextCompaction(t,a,r,l){let s=Pt.ALPHA,c=Pt.ALPHA,u=0;for(;u<r;){let x=t[u],y="";switch(s){case Pt.ALPHA:if(x<26)y=String.fromCharCode(65+x);else switch(x){case 26:y=" ";break;case ge.LL:s=Pt.LOWER;break;case ge.ML:s=Pt.MIXED;break;case ge.PS:c=s,s=Pt.PUNCT_SHIFT;break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[u]);break;case ge.TEXT_COMPACTION_MODE_LATCH:s=Pt.ALPHA;break}break;case Pt.LOWER:if(x<26)y=String.fromCharCode(97+x);else switch(x){case 26:y=" ";break;case ge.AS:c=s,s=Pt.ALPHA_SHIFT;break;case ge.ML:s=Pt.MIXED;break;case ge.PS:c=s,s=Pt.PUNCT_SHIFT;break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[u]);break;case ge.TEXT_COMPACTION_MODE_LATCH:s=Pt.ALPHA;break}break;case Pt.MIXED:if(x<ge.PL)y=ge.MIXED_CHARS[x];else switch(x){case ge.PL:s=Pt.PUNCT;break;case 26:y=" ";break;case ge.LL:s=Pt.LOWER;break;case ge.AL:s=Pt.ALPHA;break;case ge.PS:c=s,s=Pt.PUNCT_SHIFT;break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[u]);break;case ge.TEXT_COMPACTION_MODE_LATCH:s=Pt.ALPHA;break}break;case Pt.PUNCT:if(x<ge.PAL)y=ge.PUNCT_CHARS[x];else switch(x){case ge.PAL:s=Pt.ALPHA;break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[u]);break;case ge.TEXT_COMPACTION_MODE_LATCH:s=Pt.ALPHA;break}break;case Pt.ALPHA_SHIFT:if(s=c,x<26)y=String.fromCharCode(65+x);else switch(x){case 26:y=" ";break;case ge.TEXT_COMPACTION_MODE_LATCH:s=Pt.ALPHA;break}break;case Pt.PUNCT_SHIFT:if(s=c,x<ge.PAL)y=ge.PUNCT_CHARS[x];else switch(x){case ge.PAL:s=Pt.ALPHA;break;case ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[u]);break;case ge.TEXT_COMPACTION_MODE_LATCH:s=Pt.ALPHA;break}break}y!==""&&l.append(y),u++}}static byteCompaction(t,a,r,l,s){let c=new Ml,u=0,x=0,y=!1;switch(t){case ge.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),N=a[l++];for(;l<a[0]&&!y;)switch(A[u++]=N,x=900*x+N,N=a[l++],N){case ge.TEXT_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH:case ge.NUMERIC_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH_6:case ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ge.MACRO_PDF417_TERMINATOR:l--,y=!0;break;default:if(u%5===0&&u>0){for(let I=0;I<6;++I)c.write(Number(Ir(x)>>Ir(8*(5-I))));x=0,u=0}break}l===a[0]&&N<ge.TEXT_COMPACTION_MODE_LATCH&&(A[u++]=N);for(let I=0;I<u;I++)c.write(A[I]);break;case ge.BYTE_COMPACTION_MODE_LATCH_6:for(;l<a[0]&&!y;){let I=a[l++];if(I<ge.TEXT_COMPACTION_MODE_LATCH)u++,x=900*x+I;else switch(I){case ge.TEXT_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH:case ge.NUMERIC_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH_6:case ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ge.MACRO_PDF417_TERMINATOR:l--,y=!0;break}if(u%5===0&&u>0){for(let j=0;j<6;++j)c.write(Number(Ir(x)>>Ir(8*(5-j))));x=0,u=0}}break}return s.append(re.decode(c.toByteArray(),r)),l}static numericCompaction(t,a,r){let l=0,s=!1,c=new Int32Array(ge.MAX_NUMERIC_CODEWORDS);for(;a<t[0]&&!s;){let u=t[a++];if(a===t[0]&&(s=!0),u<ge.TEXT_COMPACTION_MODE_LATCH)c[l]=u,l++;else switch(u){case ge.TEXT_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH:case ge.BYTE_COMPACTION_MODE_LATCH_6:case ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ge.MACRO_PDF417_TERMINATOR:a--,s=!0;break}(l%ge.MAX_NUMERIC_CODEWORDS===0||u===ge.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(r.append(ge.decodeBase900toBase10(c,l)),l=0)}return a}static decodeBase900toBase10(t,a){let r=Ir(0);for(let s=0;s<a;s++)r+=ge.EXP900[a-s-1]*Ir(t[s]);let l=r.toString();if(l.charAt(0)!=="1")throw new D;return l.substring(1)}}ge.TEXT_COMPACTION_MODE_LATCH=900,ge.BYTE_COMPACTION_MODE_LATCH=901,ge.NUMERIC_COMPACTION_MODE_LATCH=902,ge.BYTE_COMPACTION_MODE_LATCH_6=924,ge.ECI_USER_DEFINED=925,ge.ECI_GENERAL_PURPOSE=926,ge.ECI_CHARSET=927,ge.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ge.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ge.MACRO_PDF417_TERMINATOR=922,ge.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ge.MAX_NUMERIC_CODEWORDS=15,ge.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ge.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ge.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ge.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ge.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ge.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ge.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ge.PL=25,ge.LL=27,ge.AS=27,ge.ML=28,ge.AL=28,ge.PS=29,ge.PAL=29,ge.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ge.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ge.EXP900=Oo()?Ns():[],ge.NUMBER_OF_SEQUENCE_CODEWORDS=2;class xt{constructor(){}static decode(t,a,r,l,s,c,u){let x=new fr(t,a,r,l,s),y=null,A=null,N;for(let V=!0;;V=!1){if(a!=null&&(y=xt.getRowIndicatorColumn(t,x,a,!0,c,u)),l!=null&&(A=xt.getRowIndicatorColumn(t,x,l,!1,c,u)),N=xt.merge(y,A),N==null)throw Q.getNotFoundInstance();let Y=N.getBoundingBox();if(V&&Y!=null&&(Y.getMinY()<x.getMinY()||Y.getMaxY()>x.getMaxY()))x=Y;else break}N.setBoundingBox(x);let I=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,y),N.setDetectionResultColumn(I,A);let j=y!=null;for(let V=1;V<=I;V++){let Y=j?V:I-V;if(N.getDetectionResultColumn(Y)!==void 0)continue;let ae;Y===0||Y===I?ae=new vs(x,Y===0):ae=new Tr(x),N.setDetectionResultColumn(Y,ae);let he=-1,ke=he;for(let De=x.getMinY();De<=x.getMaxY();De++){if(he=xt.getStartColumn(N,Y,De,j),he<0||he>x.getMaxX()){if(ke===-1)continue;he=ke}let Te=xt.detectCodeword(t,x.getMinX(),x.getMaxX(),j,he,De,c,u);Te!=null&&(ae.setCodeword(De,Te),ke=he,c=Math.min(c,Te.getWidth()),u=Math.max(u,Te.getWidth()))}}return xt.createDecoderResult(N)}static merge(t,a){if(t==null&&a==null)return null;let r=xt.getBarcodeMetadata(t,a);if(r==null)return null;let l=fr.merge(xt.adjustBoundingBox(t),xt.adjustBoundingBox(a));return new Ln(r,l)}static adjustBoundingBox(t){if(t==null)return null;let a=t.getRowHeights();if(a==null)return null;let r=xt.getMax(a),l=0;for(let u of a)if(l+=r-u,u>0)break;let s=t.getCodewords();for(let u=0;l>0&&s[u]==null;u++)l--;let c=0;for(let u=a.length-1;u>=0&&(c+=r-a[u],!(a[u]>0));u--);for(let u=s.length-1;c>0&&s[u]==null;u--)c--;return t.getBoundingBox().addMissingRows(l,c,t.isLeft())}static getMax(t){let a=-1;for(let r of t)a=Math.max(a,r);return a}static getBarcodeMetadata(t,a){let r;if(t==null||(r=t.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let l;return a==null||(l=a.getBarcodeMetadata())==null?r:r.getColumnCount()!==l.getColumnCount()&&r.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&r.getRowCount()!==l.getRowCount()?null:r}static getRowIndicatorColumn(t,a,r,l,s,c){let u=new vs(a,l);for(let x=0;x<2;x++){let y=x===0?1:-1,A=Math.trunc(Math.trunc(r.getX()));for(let N=Math.trunc(Math.trunc(r.getY()));N<=a.getMaxY()&&N>=a.getMinY();N+=y){let I=xt.detectCodeword(t,0,t.getWidth(),l,A,N,s,c);I!=null&&(u.setCodeword(N,I),l?A=I.getStartX():A=I.getEndX())}}return u}static adjustCodewordCount(t,a){let r=a[0][1],l=r.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-xt.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(s<1||s>Je.MAX_CODEWORDS_IN_BARCODE)throw Q.getNotFoundInstance();r.setValue(s)}else l[0]!==s&&r.setValue(s)}static createDecoderResult(t){let a=xt.createBarcodeMatrix(t);xt.adjustCodewordCount(t,a);let r=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],c=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let y=0;y<t.getBarcodeColumnCount();y++){let A=a[x][y+1].getValue(),N=x*t.getBarcodeColumnCount()+y;A.length===0?r.push(N):A.length===1?l[N]=A[0]:(c.push(N),s.push(A))}let u=new Array(s.length);for(let x=0;x<u.length;x++)u[x]=s[x];return xt.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,Je.toIntArray(r),Je.toIntArray(c),u)}static createDecoderResultFromAmbiguousValues(t,a,r,l,s){let c=new Int32Array(l.length),u=100;for(;u-- >0;){for(let x=0;x<c.length;x++)a[l[x]]=s[x][c[x]];try{return xt.decodeCodewords(a,t,r)}catch(x){if(!(x instanceof W))throw x}if(c.length===0)throw W.getChecksumInstance();for(let x=0;x<c.length;x++)if(c[x]<s[x].length-1){c[x]++;break}else if(c[x]=0,x===c.length-1)throw W.getChecksumInstance()}throw W.getChecksumInstance()}static createBarcodeMatrix(t){let a=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<a.length;l++)for(let s=0;s<a[l].length;s++)a[l][s]=new _r;let r=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let s of l.getCodewords())if(s!=null){let c=s.getRowNumber();if(c>=0){if(c>=a.length)continue;a[c][r].setValue(s.getValue())}}}r++}return a}static isValidBarcodeColumn(t,a){return a>=0&&a<=t.getBarcodeColumnCount()+1}static getStartColumn(t,a,r,l){let s=l?1:-1,c=null;if(xt.isValidBarcodeColumn(t,a-s)&&(c=t.getDetectionResultColumn(a-s).getCodeword(r)),c!=null)return l?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(a).getCodewordNearby(r),c!=null)return l?c.getStartX():c.getEndX();if(xt.isValidBarcodeColumn(t,a-s)&&(c=t.getDetectionResultColumn(a-s).getCodewordNearby(r)),c!=null)return l?c.getEndX():c.getStartX();let u=0;for(;xt.isValidBarcodeColumn(t,a-s);){a-=s;for(let x of t.getDetectionResultColumn(a).getCodewords())if(x!=null)return(l?x.getEndX():x.getStartX())+s*u*(x.getEndX()-x.getStartX());u++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,a,r,l,s,c,u,x){s=xt.adjustCodewordStartColumn(t,a,r,l,s,c);let y=xt.getModuleBitCount(t,a,r,l,s,c);if(y==null)return null;let A,N=rt.sum(y);if(l)A=s+N;else{for(let V=0;V<y.length/2;V++){let Y=y[V];y[V]=y[y.length-1-V],y[y.length-1-V]=Y}A=s,s=A-N}if(!xt.checkCodewordSkew(N,u,x))return null;let I=Vn.getDecodedValue(y),j=Je.getCodeword(I);return j===-1?null:new Oa(s,A,xt.getCodewordBucketNumber(I),j)}static getModuleBitCount(t,a,r,l,s,c){let u=s,x=new Int32Array(8),y=0,A=l?1:-1,N=l;for(;(l?u<r:u>=a)&&y<x.length;)t.get(u,c)===N?(x[y]++,u+=A):(y++,N=!N);return y===x.length||u===(l?r:a)&&y===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,a,r,l,s,c){let u=s,x=l?-1:1;for(let y=0;y<2;y++){for(;(l?u>=a:u<r)&&l===t.get(u,c);){if(Math.abs(s-u)>xt.CODEWORD_SKEW_SIZE)return s;u+=x}x=-x,l=!l}return u}static checkCodewordSkew(t,a,r){return a-xt.CODEWORD_SKEW_SIZE<=t&&t<=r+xt.CODEWORD_SKEW_SIZE}static decodeCodewords(t,a,r){if(t.length===0)throw D.getFormatInstance();let l=1<<a+1,s=xt.correctErrors(t,r,l);xt.verifyCodewordCount(t,l);let c=ge.decode(t,""+a);return c.setErrorsCorrected(s),c.setErasures(r.length),c}static correctErrors(t,a,r){if(a!=null&&a.length>r/2+xt.MAX_ERRORS||r<0||r>xt.MAX_EC_CODEWORDS)throw W.getChecksumInstance();return xt.errorCorrection.decode(t,r,a)}static verifyCodewordCount(t,a){if(t.length<4)throw D.getFormatInstance();let r=t[0];if(r>t.length)throw D.getFormatInstance();if(r===0)if(a<t.length)t[0]=t.length-a;else throw D.getFormatInstance()}static getBitCountForCodeword(t){let a=new Int32Array(8),r=0,l=a.length-1;for(;!((t&1)!==r&&(r=t&1,l--,l<0));)a[l]++,t>>=1;return a}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return xt.getCodewordBucketNumber(xt.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let a=new bi;for(let r=0;r<t.length;r++){a.format("Row %2d: ",r);for(let l=0;l<t[r].length;l++){let s=t[r][l];s.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}a.format("%n")}return a.toString()}}xt.CODEWORD_SKEW_SIZE=2,xt.MAX_ERRORS=3,xt.MAX_EC_CODEWORDS=512,xt.errorCorrection=new dr;class Xn{decode(t,a=null){let r=Xn.decode(t,a,!1);if(r==null||r.length===0||r[0]==null)throw Q.getNotFoundInstance();return r[0]}decodeMultiple(t,a=null){try{return Xn.decode(t,a,!0)}catch(r){throw r instanceof D||r instanceof W?Q.getNotFoundInstance():r}}static decode(t,a,r){const l=new Array,s=it.detectMultiple(t,a,r);for(const c of s.getPoints()){const u=xt.decode(s.getBits(),c[4],c[5],c[6],c[7],Xn.getMinCodewordWidth(c),Xn.getMaxCodewordWidth(c)),x=new je(u.getText(),u.getRawBytes(),void 0,c,Se.PDF_417);x.putMetadata(ye.ERROR_CORRECTION_LEVEL,u.getECLevel());const y=u.getOther();y!=null&&x.putMetadata(ye.PDF417_EXTRA_METADATA,y),l.push(x)}return l.map(c=>c)}static getMaxWidth(t,a){return t==null||a==null?0:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMinWidth(t,a){return t==null||a==null?G.MAX_VALUE:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Xn.getMaxWidth(t[0],t[4]),Xn.getMaxWidth(t[6],t[2])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN),Math.max(Xn.getMaxWidth(t[1],t[5]),Xn.getMaxWidth(t[7],t[3])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Xn.getMinWidth(t[0],t[4]),Xn.getMinWidth(t[6],t[2])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN),Math.min(Xn.getMinWidth(t[1],t[5]),Xn.getMinWidth(t[7],t[3])*Je.MODULES_IN_CODEWORD/Je.MODULES_IN_STOP_PATTERN)))}reset(){}}class Bl extends E{}Bl.kind="ReaderException";class Ro{constructor(t,a){this.verbose=t===!0,a&&this.setHints(a)}decode(t,a){return a&&this.setHints(a),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const a=!b(t)&&t.get(K.TRY_HARDER)===!0,r=b(t)?null:t.get(K.POSSIBLE_FORMATS),l=new Array;if(!b(r)){const s=r.some(c=>c===Se.UPC_A||c===Se.UPC_E||c===Se.EAN_13||c===Se.EAN_8||c===Se.CODABAR||c===Se.CODE_39||c===Se.CODE_93||c===Se.CODE_128||c===Se.ITF||c===Se.RSS_14||c===Se.RSS_EXPANDED);s&&!a&&l.push(new _a(t,this.verbose)),r.includes(Se.QR_CODE)&&l.push(new ur),r.includes(Se.DATA_MATRIX)&&l.push(new cr),r.includes(Se.AZTEC)&&l.push(new Ur),r.includes(Se.PDF_417)&&l.push(new Xn),s&&a&&l.push(new _a(t,this.verbose))}l.length===0&&(a||l.push(new _a(t,this.verbose)),l.push(new ur),l.push(new cr),l.push(new Ur),l.push(new Xn),a&&l.push(new _a(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Bl("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(t,this.hints)}catch(r){if(r instanceof Bl)continue}throw new Q("No MultiFormat Readers were able to detect the code.")}}class Do extends _e{constructor(t=null,a=500){const r=new Ro;r.setHints(t),super(r,a)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class du extends _e{constructor(t=500){super(new Xn,t)}}class fu extends _e{constructor(t=500){super(new ur,t)}}var Ts;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(Ts||(Ts={}));var Rn=Ts;class al{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new wt(t,Int32Array.from([1])))}buildGenerator(t){const a=this.cachedGenerators;if(t>=a.length){let r=a[a.length-1];const l=this.field;for(let s=a.length;s<=t;s++){const c=r.multiply(new wt(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));a.push(c),r=c}}return a[t]}encode(t,a){if(a===0)throw new M("No error correction bytes");const r=t.length-a;if(r<=0)throw new M("No data bytes provided");const l=this.buildGenerator(a),s=new Int32Array(r);te.arraycopy(t,0,s,0,r);let c=new wt(this.field,s);c=c.multiplyByMonomial(a,1);const x=c.divide(l)[1].getCoefficients(),y=a-x.length;for(let A=0;A<y;A++)t[r+A]=0;te.arraycopy(x,0,t,r+y,x.length)}}class yn{constructor(){}static applyMaskPenaltyRule1(t){return yn.applyMaskPenaltyRule1Internal(t,!0)+yn.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let a=0;const r=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let c=0;c<s-1;c++){const u=r[c];for(let x=0;x<l-1;x++){const y=u[x];y===u[x+1]&&y===r[c+1][x]&&y===r[c+1][x+1]&&a++}}return yn.N2*a}static applyMaskPenaltyRule3(t){let a=0;const r=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let c=0;c<s;c++)for(let u=0;u<l;u++){const x=r[c];u+6<l&&x[u]===1&&x[u+1]===0&&x[u+2]===1&&x[u+3]===1&&x[u+4]===1&&x[u+5]===0&&x[u+6]===1&&(yn.isWhiteHorizontal(x,u-4,u)||yn.isWhiteHorizontal(x,u+7,u+11))&&a++,c+6<s&&r[c][u]===1&&r[c+1][u]===0&&r[c+2][u]===1&&r[c+3][u]===1&&r[c+4][u]===1&&r[c+5][u]===0&&r[c+6][u]===1&&(yn.isWhiteVertical(r,u,c-4,c)||yn.isWhiteVertical(r,u,c+7,c+11))&&a++}return a*yn.N3}static isWhiteHorizontal(t,a,r){a=Math.max(a,0),r=Math.min(r,t.length);for(let l=a;l<r;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,a,r,l){r=Math.max(r,0),l=Math.min(l,t.length);for(let s=r;s<l;s++)if(t[s][a]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let a=0;const r=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let x=0;x<s;x++){const y=r[x];for(let A=0;A<l;A++)y[A]===1&&a++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(a*2-c)*10/c)*yn.N4}static getDataMaskBit(t,a,r){let l,s;switch(t){case 0:l=r+a&1;break;case 1:l=r&1;break;case 2:l=a%3;break;case 3:l=(r+a)%3;break;case 4:l=Math.floor(r/2)+Math.floor(a/3)&1;break;case 5:s=r*a,l=(s&1)+s%3;break;case 6:s=r*a,l=(s&1)+s%3&1;break;case 7:s=r*a,l=s%3+(r+a&1)&1;break;default:throw new M("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,a){let r=0;const l=a?t.getHeight():t.getWidth(),s=a?t.getWidth():t.getHeight(),c=t.getArray();for(let u=0;u<l;u++){let x=0,y=-1;for(let A=0;A<s;A++){const N=a?c[u][A]:c[A][u];N===y?x++:(x>=5&&(r+=yn.N1+(x-5)),x=1,y=N)}x>=5&&(r+=yn.N1+(x-5))}return r}}yn.N1=3,yn.N2=3,yn.N3=40,yn.N4=10;class jl{constructor(t,a){this.width=t,this.height=a;const r=new Array(a);for(let l=0;l!==a;l++)r[l]=new Uint8Array(t);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(t,a){return this.bytes[a][t]}getArray(){return this.bytes}setNumber(t,a,r){this.bytes[a][t]=r}setBoolean(t,a,r){this.bytes[a][t]=r?1:0}clear(t){for(const a of this.bytes)L.fill(a,t)}equals(t){if(!(t instanceof jl))return!1;const a=t;if(this.width!==a.width||this.height!==a.height)return!1;for(let r=0,l=this.height;r<l;++r){const s=this.bytes[r],c=a.bytes[r];for(let u=0,x=this.width;u<x;++u)if(s[u]!==c[u])return!1}return!0}toString(){const t=new Ae;for(let a=0,r=this.height;a<r;++a){const l=this.bytes[a];for(let s=0,c=this.width;s<c;++s)switch(l[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Fr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Ae;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Fr.NUM_MASK_PATTERNS}}Fr.NUM_MASK_PATTERNS=8;class Xt extends E{}Xt.kind="WriterException";class $e{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,a,r,l,s){$e.clearMatrix(s),$e.embedBasicPatterns(r,s),$e.embedTypeInfo(a,l,s),$e.maybeEmbedVersionInfo(r,s),$e.embedDataBits(t,l,s)}static embedBasicPatterns(t,a){$e.embedPositionDetectionPatternsAndSeparators(a),$e.embedDarkDotAtLeftBottomCorner(a),$e.maybeEmbedPositionAdjustmentPatterns(t,a),$e.embedTimingPatterns(a)}static embedTypeInfo(t,a,r){const l=new $;$e.makeTypeInfoBits(t,a,l);for(let s=0,c=l.getSize();s<c;++s){const u=l.get(l.getSize()-1-s),x=$e.TYPE_INFO_COORDINATES[s],y=x[0],A=x[1];if(r.setBoolean(y,A,u),s<8){const N=r.getWidth()-s-1;r.setBoolean(N,8,u)}else{const I=r.getHeight()-7+(s-8);r.setBoolean(8,I,u)}}}static maybeEmbedVersionInfo(t,a){if(t.getVersionNumber()<7)return;const r=new $;$e.makeVersionInfoBits(t,r);let l=17;for(let s=0;s<6;++s)for(let c=0;c<3;++c){const u=r.get(l);l--,a.setBoolean(s,a.getHeight()-11+c,u),a.setBoolean(a.getHeight()-11+c,s,u)}}static embedDataBits(t,a,r){let l=0,s=-1,c=r.getWidth()-1,u=r.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);u>=0&&u<r.getHeight();){for(let x=0;x<2;++x){const y=c-x;if(!$e.isEmpty(r.get(y,u)))continue;let A;l<t.getSize()?(A=t.get(l),++l):A=!1,a!==255&&yn.getDataMaskBit(a,y,u)&&(A=!A),r.setBoolean(y,u,A)}u+=s}s=-s,u+=s,c-=2}if(l!==t.getSize())throw new Xt("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-G.numberOfLeadingZeros(t)}static calculateBCHCode(t,a){if(a===0)throw new M("0 polynomial");const r=$e.findMSBSet(a);for(t<<=r-1;$e.findMSBSet(t)>=r;)t^=a<<$e.findMSBSet(t)-r;return t}static makeTypeInfoBits(t,a,r){if(!Fr.isValidMaskPattern(a))throw new Xt("Invalid mask pattern");const l=t.getBits()<<3|a;r.appendBits(l,5);const s=$e.calculateBCHCode(l,$e.TYPE_INFO_POLY);r.appendBits(s,10);const c=new $;if(c.appendBits($e.TYPE_INFO_MASK_PATTERN,15),r.xor(c),r.getSize()!==15)throw new Xt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(t,a){a.appendBits(t.getVersionNumber(),6);const r=$e.calculateBCHCode(t.getVersionNumber(),$e.VERSION_INFO_POLY);if(a.appendBits(r,12),a.getSize()!==18)throw new Xt("should not happen but we got: "+a.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let a=8;a<t.getWidth()-8;++a){const r=(a+1)%2;$e.isEmpty(t.get(a,6))&&t.setNumber(a,6,r),$e.isEmpty(t.get(6,a))&&t.setNumber(6,a,r)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Xt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,a,r){for(let l=0;l<8;++l){if(!$e.isEmpty(r.get(t+l,a)))throw new Xt;r.setNumber(t+l,a,0)}}static embedVerticalSeparationPattern(t,a,r){for(let l=0;l<7;++l){if(!$e.isEmpty(r.get(t,a+l)))throw new Xt;r.setNumber(t,a+l,0)}}static embedPositionAdjustmentPattern(t,a,r){for(let l=0;l<5;++l){const s=$e.POSITION_ADJUSTMENT_PATTERN[l];for(let c=0;c<5;++c)r.setNumber(t+c,a+l,s[c])}}static embedPositionDetectionPattern(t,a,r){for(let l=0;l<7;++l){const s=$e.POSITION_DETECTION_PATTERN[l];for(let c=0;c<7;++c)r.setNumber(t+c,a+l,s[c])}}static embedPositionDetectionPatternsAndSeparators(t){const a=$e.POSITION_DETECTION_PATTERN[0].length;$e.embedPositionDetectionPattern(0,0,t),$e.embedPositionDetectionPattern(t.getWidth()-a,0,t),$e.embedPositionDetectionPattern(0,t.getWidth()-a,t);const r=8;$e.embedHorizontalSeparationPattern(0,r-1,t),$e.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),$e.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);const l=7;$e.embedVerticalSeparationPattern(l,0,t),$e.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),$e.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,a){if(t.getVersionNumber()<2)return;const r=t.getVersionNumber()-1,l=$e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let s=0,c=l.length;s!==c;s++){const u=l[s];if(u>=0)for(let x=0;x!==c;x++){const y=l[x];y>=0&&$e.isEmpty(a.get(y,u))&&$e.embedPositionAdjustmentPattern(y-2,u-2,a)}}}}$e.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),$e.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),$e.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),$e.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),$e.VERSION_INFO_POLY=7973,$e.TYPE_INFO_POLY=1335,$e.TYPE_INFO_MASK_PATTERN=21522;class hu{constructor(t,a){this.dataBytes=t,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ln{constructor(){}static calculateMaskPenalty(t){return yn.applyMaskPenaltyRule1(t)+yn.applyMaskPenaltyRule2(t)+yn.applyMaskPenaltyRule3(t)+yn.applyMaskPenaltyRule4(t)}static encode(t,a,r=null){let l=ln.DEFAULT_BYTE_MODE_ENCODING;const s=r!==null&&r.get(Rn.CHARACTER_SET)!==void 0;s&&(l=r.get(Rn.CHARACTER_SET).toString());const c=this.chooseMode(t,l),u=new $;if(c===We.BYTE&&(s||ln.DEFAULT_BYTE_MODE_ENCODING!==l)){const De=F.getCharacterSetECIByName(l);De!==void 0&&this.appendECI(De,u)}this.appendModeInfo(c,u);const x=new $;this.appendBytes(t,c,x,l);let y;if(r!==null&&r.get(Rn.QR_VERSION)!==void 0){const De=Number.parseInt(r.get(Rn.QR_VERSION).toString(),10);y=Ye.getVersionForNumber(De);const Te=this.calculateBitsNeeded(c,u,x,y);if(!this.willFit(Te,y,a))throw new Xt("Data too big for requested version")}else y=this.recommendVersion(a,c,u,x);const A=new $;A.appendBitArray(u);const N=c===We.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(N,y,c,A),A.appendBitArray(x);const I=y.getECBlocksForLevel(a),j=y.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(j,A);const V=this.interleaveWithECBytes(A,y.getTotalCodewords(),j,I.getNumBlocks()),Y=new Fr;Y.setECLevel(a),Y.setMode(c),Y.setVersion(y);const ae=y.getDimensionForVersion(),he=new jl(ae,ae),ke=this.chooseMaskPattern(V,a,y,he);return Y.setMaskPattern(ke),$e.buildMatrix(V,a,y,ke,he),Y.setMatrix(he),Y}static recommendVersion(t,a,r,l){const s=this.calculateBitsNeeded(a,r,l,Ye.getVersionForNumber(1)),c=this.chooseVersion(s,t),u=this.calculateBitsNeeded(a,r,l,c);return this.chooseVersion(u,t)}static calculateBitsNeeded(t,a,r,l){return a.getSize()+t.getCharacterCountBits(l)+r.getSize()}static getAlphanumericCode(t){return t<ln.ALPHANUMERIC_TABLE.length?ln.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,a=null){if(F.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(t))return We.KANJI;let r=!1,l=!1;for(let s=0,c=t.length;s<c;++s){const u=t.charAt(s);if(ln.isDigit(u))r=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)l=!0;else return We.BYTE}return l?We.ALPHANUMERIC:r?We.NUMERIC:We.BYTE}static isOnlyDoubleByteKanji(t){let a;try{a=re.encode(t,F.SJIS)}catch{return!1}const r=a.length;if(r%2!==0)return!1;for(let l=0;l<r;l+=2){const s=a[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(t,a,r,l){let s=Number.MAX_SAFE_INTEGER,c=-1;for(let u=0;u<Fr.NUM_MASK_PATTERNS;u++){$e.buildMatrix(t,a,r,u,l);let x=this.calculateMaskPenalty(l);x<s&&(s=x,c=u)}return c}static chooseVersion(t,a){for(let r=1;r<=40;r++){const l=Ye.getVersionForNumber(r);if(ln.willFit(t,l,a))return l}throw new Xt("Data too big")}static willFit(t,a,r){const l=a.getTotalCodewords(),c=a.getECBlocksForLevel(r).getTotalECCodewords(),u=l-c,x=(t+7)/8;return u>=x}static terminateBits(t,a){const r=t*8;if(a.getSize()>r)throw new Xt("data bits cannot fit in the QR Code"+a.getSize()+" > "+r);for(let c=0;c<4&&a.getSize()<r;++c)a.appendBit(!1);const l=a.getSize()&7;if(l>0)for(let c=l;c<8;c++)a.appendBit(!1);const s=t-a.getSizeInBytes();for(let c=0;c<s;++c)a.appendBits((c&1)===0?236:17,8);if(a.getSize()!==r)throw new Xt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,a,r,l,s,c){if(l>=r)throw new Xt("Block ID too large");const u=t%r,x=r-u,y=Math.floor(t/r),A=y+1,N=Math.floor(a/r),I=N+1,j=y-N,V=A-I;if(j!==V)throw new Xt("EC bytes mismatch");if(r!==x+u)throw new Xt("RS blocks mismatch");if(t!==(N+j)*x+(I+V)*u)throw new Xt("Total bytes mismatch");l<x?(s[0]=N,c[0]=j):(s[0]=I,c[0]=V)}static interleaveWithECBytes(t,a,r,l){if(t.getSizeInBytes()!==r)throw new Xt("Number of bits and data bytes does not match");let s=0,c=0,u=0;const x=new Array;for(let A=0;A<l;++A){const N=new Int32Array(1),I=new Int32Array(1);ln.getNumDataBytesAndNumECBytesForBlockID(a,r,l,A,N,I);const j=N[0],V=new Uint8Array(j);t.toBytes(8*s,V,0,j);const Y=ln.generateECBytes(V,I[0]);x.push(new hu(V,Y)),c=Math.max(c,j),u=Math.max(u,Y.length),s+=N[0]}if(r!==s)throw new Xt("Data bytes does not match offset");const y=new $;for(let A=0;A<c;++A)for(const N of x){const I=N.getDataBytes();A<I.length&&y.appendBits(I[A],8)}for(let A=0;A<u;++A)for(const N of x){const I=N.getErrorCorrectionBytes();A<I.length&&y.appendBits(I[A],8)}if(a!==y.getSizeInBytes())throw new Xt("Interleaving error: "+a+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(t,a){const r=t.length,l=new Int32Array(r+a);for(let c=0;c<r;c++)l[c]=t[c]&255;new al(st.QR_CODE_FIELD_256).encode(l,a);const s=new Uint8Array(a);for(let c=0;c<a;c++)s[c]=l[r+c];return s}static appendModeInfo(t,a){a.appendBits(t.getBits(),4)}static appendLengthInfo(t,a,r,l){const s=r.getCharacterCountBits(a);if(t>=1<<s)throw new Xt(t+" is bigger than "+((1<<s)-1));l.appendBits(t,s)}static appendBytes(t,a,r,l){switch(a){case We.NUMERIC:ln.appendNumericBytes(t,r);break;case We.ALPHANUMERIC:ln.appendAlphanumericBytes(t,r);break;case We.BYTE:ln.append8BitBytes(t,r,l);break;case We.KANJI:ln.appendKanjiBytes(t,r);break;default:throw new Xt("Invalid mode: "+a)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const a=ln.getDigit(t);return a>=0&&a<=9}static appendNumericBytes(t,a){const r=t.length;let l=0;for(;l<r;){const s=ln.getDigit(t.charAt(l));if(l+2<r){const c=ln.getDigit(t.charAt(l+1)),u=ln.getDigit(t.charAt(l+2));a.appendBits(s*100+c*10+u,10),l+=3}else if(l+1<r){const c=ln.getDigit(t.charAt(l+1));a.appendBits(s*10+c,7),l+=2}else a.appendBits(s,4),l++}}static appendAlphanumericBytes(t,a){const r=t.length;let l=0;for(;l<r;){const s=ln.getAlphanumericCode(t.charCodeAt(l));if(s===-1)throw new Xt;if(l+1<r){const c=ln.getAlphanumericCode(t.charCodeAt(l+1));if(c===-1)throw new Xt;a.appendBits(s*45+c,11),l+=2}else a.appendBits(s,6),l++}}static append8BitBytes(t,a,r){let l;try{l=re.encode(t,r)}catch(s){throw new Xt(s)}for(let s=0,c=l.length;s!==c;s++){const u=l[s];a.appendBits(u,8)}}static appendKanjiBytes(t,a){let r;try{r=re.encode(t,F.SJIS)}catch(s){throw new Xt(s)}const l=r.length;for(let s=0;s<l;s+=2){const c=r[s]&255,u=r[s+1]&255,x=c<<8&4294967295|u;let y=-1;if(x>=33088&&x<=40956?y=x-33088:x>=57408&&x<=60351&&(y=x-49472),y===-1)throw new Xt("Invalid byte sequence");const A=(y>>8)*192+(y&255);a.appendBits(A,13)}}static appendECI(t,a){a.appendBits(We.ECI.getBits(),4),a.appendBits(t.getValue(),8)}}ln.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ln.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class Pr{write(t,a,r,l=null){if(t.length===0)throw new M("Found empty contents");if(a<0||r<0)throw new M("Requested dimensions are too small: "+a+"x"+r);let s=Ct.L,c=Pr.QUIET_ZONE_SIZE;l!==null&&(l.get(Rn.ERROR_CORRECTION)!==void 0&&(s=Ct.fromString(l.get(Rn.ERROR_CORRECTION).toString())),l.get(Rn.MARGIN)!==void 0&&(c=Number.parseInt(l.get(Rn.MARGIN).toString(),10)));const u=ln.encode(t,s,l);return this.renderResult(u,a,r,c)}writeToDom(t,a,r,l,s=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(a,r,l,s);t&&t.appendChild(c)}renderResult(t,a,r,l){const s=t.getMatrix();if(s===null)throw new Ke;const c=s.getWidth(),u=s.getHeight(),x=c+l*2,y=u+l*2,A=Math.max(a,x),N=Math.max(r,y),I=Math.min(Math.floor(A/x),Math.floor(N/y)),j=Math.floor((A-c*I)/2),V=Math.floor((N-u*I)/2),Y=this.createSVGElement(A,N);for(let ae=0,he=V;ae<u;ae++,he+=I)for(let ke=0,De=j;ke<c;ke++,De+=I)if(s.get(ke,ae)===1){const Te=this.createSvgRectElement(De,he,I,I);Y.appendChild(Te)}return Y}createSVGElement(t,a){const r=document.createElementNS(Pr.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",a.toString()),r}createSvgRectElement(t,a,r,l){const s=document.createElementNS(Pr.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",a.toString()),s.setAttributeNS(null,"height",r.toString()),s.setAttributeNS(null,"width",l.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Pr.QUIET_ZONE_SIZE=4,Pr.SVG_NS="http://www.w3.org/2000/svg";class wi{encode(t,a,r,l,s){if(t.length===0)throw new M("Found empty contents");if(a!==Se.QR_CODE)throw new M("Can only encode QR_CODE, but got "+a);if(r<0||l<0)throw new M(`Requested dimensions are too small: ${r}x${l}`);let c=Ct.L,u=wi.QUIET_ZONE_SIZE;s!==null&&(s.get(Rn.ERROR_CORRECTION)!==void 0&&(c=Ct.fromString(s.get(Rn.ERROR_CORRECTION).toString())),s.get(Rn.MARGIN)!==void 0&&(u=Number.parseInt(s.get(Rn.MARGIN).toString(),10)));const x=ln.encode(t,c,s);return wi.renderResult(x,r,l,u)}static renderResult(t,a,r,l){const s=t.getMatrix();if(s===null)throw new Ke;const c=s.getWidth(),u=s.getHeight(),x=c+l*2,y=u+l*2,A=Math.max(a,x),N=Math.max(r,y),I=Math.min(Math.floor(A/x),Math.floor(N/y)),j=Math.floor((A-c*I)/2),V=Math.floor((N-u*I)/2),Y=new Ee(A,N);for(let ae=0,he=V;ae<u;ae++,he+=I)for(let ke=0,De=j;ke<c;ke++,De+=I)s.get(ke,ae)===1&&Y.setRegion(De,he,I,I);return Y}}wi.QUIET_ZONE_SIZE=4;class xu{encode(t,a,r,l,s){let c;switch(a){case Se.QR_CODE:c=new wi;break;default:throw new M("No encoder available for format "+a)}return c.encode(t,a,r,l,s)}}class Ya extends ve{constructor(t,a,r,l,s,c,u,x){if(super(c,u),this.yuvData=t,this.dataWidth=a,this.dataHeight=r,this.left=l,this.top=s,l+c>a||s+u>r)throw new M("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(c,u)}getRow(t,a){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const r=this.getWidth();(a==null||a.length<r)&&(a=new Uint8ClampedArray(r));const l=(t+this.top)*this.dataWidth+this.left;return te.arraycopy(this.yuvData,l,a,0,r),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.yuvData;const r=t*a,l=new Uint8ClampedArray(r);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return te.arraycopy(this.yuvData,s,l,0,r),l;for(let c=0;c<a;c++){const u=c*t;te.arraycopy(this.yuvData,s,l,u,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,a,r,l){return new Ya(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+a,r,l,!1)}renderThumbnail(){const t=this.getWidth()/Ya.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Ya.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*a),l=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let c=0;c<a;c++){const u=c*t;for(let x=0;x<t;x++){const y=l[s+x*Ya.THUMBNAIL_SCALE_FACTOR]&255;r[u+x]=4278190080|y*65793}s+=this.dataWidth*Ya.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Ya.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ya.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,a){const r=this.yuvData;for(let l=0,s=this.top*this.dataWidth+this.left;l<a;l++,s+=this.dataWidth){const c=s+t/2;for(let u=s,x=s+t-1;u<c;u++,x--){const y=r[u];r[u]=r[x],r[x]=y}}}invert(){return new Re(this)}}Ya.THUMBNAIL_SCALE_FACTOR=2;class _s extends ve{constructor(t,a,r,l,s,c,u){if(super(a,r),this.dataWidth=l,this.dataHeight=s,this.left=c,this.top=u,t.BYTES_PER_ELEMENT===4){const x=a*r,y=new Uint8ClampedArray(x);for(let A=0;A<x;A++){const N=t[A],I=N>>16&255,j=N>>7&510,V=N&255;y[A]=(I+j+V)/4&255}this.luminances=y}else this.luminances=t;if(l===void 0&&(this.dataWidth=a),s===void 0&&(this.dataHeight=r),c===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+r>this.dataHeight)throw new M("Crop rectangle does not fit within image data.")}getRow(t,a){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const r=this.getWidth();(a==null||a.length<r)&&(a=new Uint8ClampedArray(r));const l=(t+this.top)*this.dataWidth+this.left;return te.arraycopy(this.luminances,l,a,0,r),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.luminances;const r=t*a,l=new Uint8ClampedArray(r);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return te.arraycopy(this.luminances,s,l,0,r),l;for(let c=0;c<a;c++){const u=c*t;te.arraycopy(this.luminances,s,l,u,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,a,r,l){return new _s(this.luminances,r,l,this.dataWidth,this.dataHeight,this.left+t,this.top+a)}invert(){return new Re(this)}}class Mo extends F{static forName(t){return this.getCharacterSetECIByName(t)}}class rl{}rl.ISO_8859_1=F.ISO8859_1;class Ci{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class ko{static singletonList(t){return[t]}static min(t,a){return t.sort(a)[0]}}class Bo{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Gr extends Bo{constructor(t,a,r){super(t),this.value=a,this.bitCount=r}appendTo(t,a){t.appendBits(this.value,this.bitCount)}add(t,a){return new Gr(this,t,a)}addBinaryShift(t,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Gr(this,t,a)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+G.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Ll extends Gr{constructor(t,a,r){super(t,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=r}appendTo(t,a){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):r===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(a[this.binaryShiftStart+r],8)}addBinaryShift(t,a){return new Ll(this,t,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function jo(S,t,a){return new Ll(S,t,a)}function Ei(S,t,a){return new Gr(S,t,a)}const Ai=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Or=0,zl=1,ya=2,Is=3,Ra=4,il=new Gr(null,0,0),Vr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function gu(S){for(let t of S)L.fill(t,-1);return S[Or][Ra]=0,S[zl][Ra]=0,S[zl][Or]=28,S[Is][Ra]=0,S[ya][Ra]=0,S[ya][Or]=15,S}const ll=gu(L.createInt32Array(6,6));class Da{constructor(t,a,r,l){this.token=t,this.mode=a,this.binaryShiftByteCount=r,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,a){let r=this.bitCount,l=this.token;if(t!==this.mode){let c=Vr[this.mode][t];l=Ei(l,c&65535,c>>16),r+=c>>16}let s=t===ya?4:5;return l=Ei(l,a,s),new Da(l,t,0,r+s)}shiftAndAppend(t,a){let r=this.token,l=this.mode===ya?4:5;return r=Ei(r,ll[this.mode][t],l),r=Ei(r,a,5),new Da(r,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let a=this.token,r=this.mode,l=this.bitCount;if(this.mode===Ra||this.mode===ya){let u=Vr[r][Or];a=Ei(a,u&65535,u>>16),l+=u>>16,r=Or}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Da(a,r,this.binaryShiftByteCount+1,l+s);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=jo(a,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Da(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let a=this.bitCount+(Vr[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?a+=Da.calculateBinaryShiftCost(t)-Da.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(a+=10),a<=t.bitCount}toBitArray(t){let a=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())a.unshift(l);let r=new $;for(const l of a)l.appendTo(r,t);return r}toString(){return oe.format("%s bits=%d bytes=%d",Ai[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Da.INITIAL_STATE=new Da(il,Or,0,0);function Lo(S){const t=oe.getCharCode(" "),a=oe.getCharCode("."),r=oe.getCharCode(",");S[Or][t]=1;const l=oe.getCharCode("Z"),s=oe.getCharCode("A");for(let I=s;I<=l;I++)S[Or][I]=I-s+2;S[zl][t]=1;const c=oe.getCharCode("z"),u=oe.getCharCode("a");for(let I=u;I<=c;I++)S[zl][I]=I-u+2;S[ya][t]=1;const x=oe.getCharCode("9"),y=oe.getCharCode("0");for(let I=y;I<=x;I++)S[ya][I]=I-y+2;S[ya][r]=12,S[ya][a]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<A.length;I++)S[Is][oe.getCharCode(A[I])]=I;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<N.length;I++)oe.getCharCode(N[I])>0&&(S[Ra][oe.getCharCode(N[I])]=I);return S}const sl=Lo(L.createInt32Array(5,256));class Xr{constructor(t){this.text=t}encode(){const t=oe.getCharCode(" "),a=oe.getCharCode(`
`);let r=ko.singletonList(Da.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let c,u=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case oe.getCharCode("\r"):c=u===a?2:0;break;case oe.getCharCode("."):c=u===t?3:0;break;case oe.getCharCode(","):c=u===t?4:0;break;case oe.getCharCode(":"):c=u===t?5:0;break;default:c=0}c>0?(r=Xr.updateStateListForPair(r,s,c),s++):r=this.updateStateListForChar(r,s)}return ko.min(r,(s,c)=>s.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,a){const r=[];for(let l of t)this.updateStateForChar(l,a,r);return Xr.simplifyStates(r)}updateStateForChar(t,a,r){let l=this.text[a]&255,s=sl[t.getMode()][l]>0,c=null;for(let u=0;u<=Ra;u++){let x=sl[u][l];if(x>0){if(c==null&&(c=t.endBinaryShift(a)),!s||u===t.getMode()||u===ya){const y=c.latchAndAppend(u,x);r.push(y)}if(!s&&ll[t.getMode()][u]>=0){const y=c.shiftAndAppend(u,x);r.push(y)}}}if(t.getBinaryShiftByteCount()>0||sl[t.getMode()][l]===0){let u=t.addBinaryShiftChar(a);r.push(u)}}static updateStateListForPair(t,a,r){const l=[];for(let s of t)this.updateStateForPair(s,a,r,l);return this.simplifyStates(l)}static updateStateForPair(t,a,r,l){let s=t.endBinaryShift(a);if(l.push(s.latchAndAppend(Ra,r)),t.getMode()!==Ra&&l.push(s.shiftAndAppend(Ra,r)),r===3||r===4){let c=s.latchAndAppend(ya,16-r).latchAndAppend(ya,1);l.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(a).addBinaryShiftChar(a+1);l.push(c)}}static simplifyStates(t){let a=[];for(const r of t){let l=!0;for(const s of a){if(s.isBetterThanOrEqualTo(r)){l=!1;break}r.isBetterThanOrEqualTo(s)&&(a=a.filter(c=>c!==s))}l&&a.push(r)}return a}}class Tt{constructor(){}static encodeBytes(t){return Tt.encode(t,Tt.DEFAULT_EC_PERCENT,Tt.DEFAULT_AZTEC_LAYERS)}static encode(t,a,r){let l=new Xr(t).encode(),s=G.truncDivision(l.getSize()*a,100)+11,c=l.getSize()+s,u,x,y,A,N;if(r!==Tt.DEFAULT_AZTEC_LAYERS){if(u=r<0,x=Math.abs(r),x>(u?Tt.MAX_NB_BITS_COMPACT:Tt.MAX_NB_BITS))throw new M(oe.format("Illegal value %s for layers",r));y=Tt.totalBitsInLayer(x,u),A=Tt.WORD_SIZE[x];let Te=y-y%A;if(N=Tt.stuffBits(l,A),N.getSize()+s>Te)throw new M("Data to large for user specified layer");if(u&&N.getSize()>A*64)throw new M("Data to large for user specified layer")}else{A=0,N=null;for(let Te=0;;Te++){if(Te>Tt.MAX_NB_BITS)throw new M("Data too large for an Aztec code");if(u=Te<=3,x=u?Te+1:Te,y=Tt.totalBitsInLayer(x,u),c>y)continue;(N==null||A!==Tt.WORD_SIZE[x])&&(A=Tt.WORD_SIZE[x],N=Tt.stuffBits(l,A));let bt=y-y%A;if(!(u&&N.getSize()>A*64)&&N.getSize()+s<=bt)break}}let I=Tt.generateCheckWords(N,y,A),j=N.getSize()/A,V=Tt.generateModeMessage(u,x,j),Y=(u?11:14)+x*4,ae=new Int32Array(Y),he;if(u){he=Y;for(let Te=0;Te<ae.length;Te++)ae[Te]=Te}else{he=Y+1+2*G.truncDivision(G.truncDivision(Y,2)-1,15);let Te=G.truncDivision(Y,2),bt=G.truncDivision(he,2);for(let lt=0;lt<Te;lt++){let Sn=lt+G.truncDivision(lt,15);ae[Te-lt-1]=bt-Sn-1,ae[Te+lt]=bt+Sn+1}}let ke=new Ee(he);for(let Te=0,bt=0;Te<x;Te++){let lt=(x-Te)*4+(u?9:12);for(let Sn=0;Sn<lt;Sn++){let wa=Sn*2;for(let ea=0;ea<2;ea++)I.get(bt+wa+ea)&&ke.set(ae[Te*2+ea],ae[Te*2+Sn]),I.get(bt+lt*2+wa+ea)&&ke.set(ae[Te*2+Sn],ae[Y-1-Te*2-ea]),I.get(bt+lt*4+wa+ea)&&ke.set(ae[Y-1-Te*2-ea],ae[Y-1-Te*2-Sn]),I.get(bt+lt*6+wa+ea)&&ke.set(ae[Y-1-Te*2-Sn],ae[Te*2+ea])}bt+=lt*8}if(Tt.drawModeMessage(ke,u,he,V),u)Tt.drawBullsEye(ke,G.truncDivision(he,2),5);else{Tt.drawBullsEye(ke,G.truncDivision(he,2),7);for(let Te=0,bt=0;Te<G.truncDivision(Y,2)-1;Te+=15,bt+=16)for(let lt=G.truncDivision(he,2)&1;lt<he;lt+=2)ke.set(G.truncDivision(he,2)-bt,lt),ke.set(G.truncDivision(he,2)+bt,lt),ke.set(lt,G.truncDivision(he,2)-bt),ke.set(lt,G.truncDivision(he,2)+bt)}let De=new Ci;return De.setCompact(u),De.setSize(he),De.setLayers(x),De.setCodeWords(j),De.setMatrix(ke),De}static drawBullsEye(t,a,r){for(let l=0;l<r;l+=2)for(let s=a-l;s<=a+l;s++)t.set(s,a-l),t.set(s,a+l),t.set(a-l,s),t.set(a+l,s);t.set(a-r,a-r),t.set(a-r+1,a-r),t.set(a-r,a-r+1),t.set(a+r,a-r),t.set(a+r,a-r+1),t.set(a+r,a+r-1)}static generateModeMessage(t,a,r){let l=new $;return t?(l.appendBits(a-1,2),l.appendBits(r-1,6),l=Tt.generateCheckWords(l,28,4)):(l.appendBits(a-1,5),l.appendBits(r-1,11),l=Tt.generateCheckWords(l,40,4)),l}static drawModeMessage(t,a,r,l){let s=G.truncDivision(r,2);if(a)for(let c=0;c<7;c++){let u=s-3+c;l.get(c)&&t.set(u,s-5),l.get(c+7)&&t.set(s+5,u),l.get(20-c)&&t.set(u,s+5),l.get(27-c)&&t.set(s-5,u)}else for(let c=0;c<10;c++){let u=s-5+c+G.truncDivision(c,5);l.get(c)&&t.set(u,s-7),l.get(c+10)&&t.set(s+7,u),l.get(29-c)&&t.set(u,s+7),l.get(39-c)&&t.set(s-7,u)}}static generateCheckWords(t,a,r){let l=t.getSize()/r,s=new al(Tt.getGF(r)),c=G.truncDivision(a,r),u=Tt.bitsToWords(t,r,c);s.encode(u,c-l);let x=a%r,y=new $;y.appendBits(0,x);for(const A of Array.from(u))y.appendBits(A,r);return y}static bitsToWords(t,a,r){let l=new Int32Array(r),s,c;for(s=0,c=t.getSize()/a;s<c;s++){let u=0;for(let x=0;x<a;x++)u|=t.get(s*a+x)?1<<a-x-1:0;l[s]=u}return l}static getGF(t){switch(t){case 4:return st.AZTEC_PARAM;case 6:return st.AZTEC_DATA_6;case 8:return st.AZTEC_DATA_8;case 10:return st.AZTEC_DATA_10;case 12:return st.AZTEC_DATA_12;default:throw new M("Unsupported word size "+t)}}static stuffBits(t,a){let r=new $,l=t.getSize(),s=(1<<a)-2;for(let c=0;c<l;c+=a){let u=0;for(let x=0;x<a;x++)(c+x>=l||t.get(c+x))&&(u|=1<<a-1-x);(u&s)===s?(r.appendBits(u&s,a),c--):(u&s)===0?(r.appendBits(u|1,a),c--):r.appendBits(u,a)}return r}static totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}Tt.DEFAULT_EC_PERCENT=33,Tt.DEFAULT_AZTEC_LAYERS=0,Tt.MAX_NB_BITS=32,Tt.MAX_NB_BITS_COMPACT=4,Tt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ol{encode(t,a,r,l){return this.encodeWithHints(t,a,r,l,null)}encodeWithHints(t,a,r,l,s){let c=rl.ISO_8859_1,u=Tt.DEFAULT_EC_PERCENT,x=Tt.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(Rn.CHARACTER_SET)&&(c=Mo.forName(s.get(Rn.CHARACTER_SET).toString())),s.has(Rn.ERROR_CORRECTION)&&(u=G.parseInt(s.get(Rn.ERROR_CORRECTION).toString())),s.has(Rn.AZTEC_LAYERS)&&(x=G.parseInt(s.get(Rn.AZTEC_LAYERS).toString()))),ol.encodeLayers(t,a,r,l,c,u,x)}static encodeLayers(t,a,r,l,s,c,u){if(a!==Se.AZTEC)throw new M("Can only encode AZTEC, but got "+a);let x=Tt.encode(oe.getBytes(t,s),c,u);return ol.renderResult(x,r,l)}static renderResult(t,a,r){let l=t.getMatrix();if(l==null)throw new Ke;let s=l.getWidth(),c=l.getHeight(),u=Math.max(a,s),x=Math.max(r,c),y=Math.min(u/s,x/c),A=(u-s*y)/2,N=(x-c*y)/2,I=new Ee(u,x);for(let j=0,V=N;j<c;j++,V+=y)for(let Y=0,ae=A;Y<s;Y++,ae+=y)l.get(Y,j)&&I.setRegion(ae,V,y,y);return I}}g.AbstractExpandedDecoder=In,g.ArgumentException=B,g.ArithmeticException=Rt,g.AztecCode=Ci,g.AztecCodeReader=Ur,g.AztecCodeWriter=ol,g.AztecDecoder=ft,g.AztecDetector=Qi,g.AztecDetectorResult=Er,g.AztecEncoder=Tt,g.AztecHighLevelEncoder=Xr,g.AztecPoint=pn,g.BarcodeFormat=Se,g.Binarizer=fe,g.BinaryBitmap=X,g.BitArray=$,g.BitMatrix=Ee,g.BitSource=Ia,g.BrowserAztecCodeReader=bs,g.BrowserBarcodeReader=ou,g.BrowserCodeReader=_e,g.BrowserDatamatrixCodeReader=Ol,g.BrowserMultiFormatReader=Do,g.BrowserPDF417Reader=du,g.BrowserQRCodeReader=fu,g.BrowserQRCodeSvgWriter=Pr,g.CharacterSetECI=F,g.ChecksumException=W,g.Code128Reader=Be,g.Code39Reader=Jt,g.DataMatrixDecodedBitStreamParser=or,g.DataMatrixReader=cr,g.DecodeHintType=K,g.DecoderResult=He,g.DefaultGridSampler=lr,g.DetectorResult=Cr,g.EAN13Reader=Pa,g.EncodeHintType=Rn,g.Exception=E,g.FormatException=D,g.GenericGF=st,g.GenericGFPoly=wt,g.GlobalHistogramBinarizer=U,g.GridSampler=Jn,g.GridSamplerInstance=Bn,g.HTMLCanvasElementLuminanceSource=Oe,g.HybridBinarizer=J,g.ITFReader=ht,g.IllegalArgumentException=M,g.IllegalStateException=Ke,g.InvertedLuminanceSource=Re,g.LuminanceSource=ve,g.MathUtils=rt,g.MultiFormatOneDReader=_a,g.MultiFormatReader=Ro,g.MultiFormatWriter=xu,g.NotFoundException=Q,g.OneDReader=on,g.PDF417DecodedBitStreamParser=ge,g.PDF417DecoderErrorCorrection=dr,g.PDF417Reader=Xn,g.PDF417ResultMetadata=yi,g.PerspectiveTransform=kn,g.PlanarYUVLuminanceSource=Ya,g.QRCodeByteMatrix=jl,g.QRCodeDataMask=fa,g.QRCodeDecodedBitStreamParser=an,g.QRCodeDecoderErrorCorrectionLevel=Ct,g.QRCodeDecoderFormatInformation=jn,g.QRCodeEncoder=ln,g.QRCodeEncoderQRCode=Fr,g.QRCodeMaskUtil=yn,g.QRCodeMatrixUtil=$e,g.QRCodeMode=We,g.QRCodeReader=ur,g.QRCodeVersion=Ye,g.QRCodeWriter=wi,g.RGBLuminanceSource=_s,g.RSS14Reader=Vt,g.RSSExpandedReader=Ne,g.ReaderException=Bl,g.ReedSolomonDecoder=Zt,g.ReedSolomonEncoder=al,g.ReedSolomonException=Me,g.Result=je,g.ResultMetadataType=ye,g.ResultPoint=ze,g.StringUtils=oe,g.UnsupportedOperationException=ie,g.VideoInputDevice=H,g.WhiteRectangleDetector=Bt,g.WriterException=Xt,g.ZXingArrays=L,g.ZXingCharset=Mo,g.ZXingInteger=G,g.ZXingStandardCharsets=rl,g.ZXingStringBuilder=Ae,g.ZXingStringEncoding=re,g.ZXingSystem=te,g.createAbstractExpandedDecoder=fi,Object.defineProperty(g,"__esModule",{value:!0})}))})(fo,fo.exports)),fo.exports}var hn=Zp();const Wp=nu(hn),Qp=Um({__proto__:null,default:Wp},[hn]);var Ix=(function(){function d(f,g,b){if(this.formatMap=new Map([[Ge.QR_CODE,hn.BarcodeFormat.QR_CODE],[Ge.AZTEC,hn.BarcodeFormat.AZTEC],[Ge.CODABAR,hn.BarcodeFormat.CODABAR],[Ge.CODE_39,hn.BarcodeFormat.CODE_39],[Ge.CODE_93,hn.BarcodeFormat.CODE_93],[Ge.CODE_128,hn.BarcodeFormat.CODE_128],[Ge.DATA_MATRIX,hn.BarcodeFormat.DATA_MATRIX],[Ge.MAXICODE,hn.BarcodeFormat.MAXICODE],[Ge.ITF,hn.BarcodeFormat.ITF],[Ge.EAN_13,hn.BarcodeFormat.EAN_13],[Ge.EAN_8,hn.BarcodeFormat.EAN_8],[Ge.PDF_417,hn.BarcodeFormat.PDF_417],[Ge.RSS_14,hn.BarcodeFormat.RSS_14],[Ge.RSS_EXPANDED,hn.BarcodeFormat.RSS_EXPANDED],[Ge.UPC_A,hn.BarcodeFormat.UPC_A],[Ge.UPC_E,hn.BarcodeFormat.UPC_E],[Ge.UPC_EAN_EXTENSION,hn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Qp)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=g,this.logger=b;var C=this.createZXingFormats(f),w=new Map;w.set(hn.DecodeHintType.POSSIBLE_FORMATS,C),w.set(hn.DecodeHintType.TRY_HARDER,!1),this.hints=w}return d.prototype.decodeAsync=function(f){var g=this;return new Promise(function(b,C){try{b(g.decode(f))}catch(w){C(w)}})},d.prototype.decode=function(f){var g=new hn.MultiFormatReader(this.verbose,this.hints),b=new hn.HTMLCanvasElementLuminanceSource(f),C=new hn.BinaryBitmap(new hn.HybridBinarizer(b)),w=g.decode(C);return{text:w.text,format:gg.create(this.toHtml5QrcodeSupportedFormats(w.format)),debugData:this.createDebugData()}},d.prototype.createReverseFormatMap=function(){var f=new Map;return this.formatMap.forEach(function(g,b,C){f.set(g,b)}),f},d.prototype.toHtml5QrcodeSupportedFormats=function(f){if(!this.reverseFormatMap.has(f))throw"reverseFormatMap doesn't have ".concat(f);return this.reverseFormatMap.get(f)},d.prototype.createZXingFormats=function(f){for(var g=[],b=0,C=f;b<C.length;b++){var w=C[b];this.formatMap.has(w)?g.push(this.formatMap.get(w)):this.logger.logError("".concat(w," is not supported by")+"ZXingHtml5QrcodeShim")}return g},d.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},d})(),Kp=function(d,f,g,b){function C(w){return w instanceof g?w:new g(function(T){T(w)})}return new(g||(g=Promise))(function(w,T){function O(B){try{E(b.next(B))}catch(M){T(M)}}function _(B){try{E(b.throw(B))}catch(M){T(M)}}function E(B){B.done?w(B.value):C(B.value).then(O,_)}E((b=b.apply(d,f||[])).next())})},Jp=function(d,f){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,C,w,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(E){return function(B){return _([E,B])}}function _(E){if(b)throw new TypeError("Generator is already executing.");for(;T&&(T=0,E[0]&&(g=0)),g;)try{if(b=1,C&&(w=E[0]&2?C.return:E[0]?C.throw||((w=C.return)&&w.call(C),0):C.next)&&!(w=w.call(C,E[1])).done)return w;switch(C=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return g.label++,{value:E[1],done:!1};case 5:g.label++,C=E[1],E=[0];continue;case 7:E=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){g=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){g.label=E[1];break}if(E[0]===6&&g.label<w[1]){g.label=w[1],w=E;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(E);break}w[2]&&g.ops.pop(),g.trys.pop();continue}E=f.call(d,g)}catch(B){E=[6,B],C=0}finally{b=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Ox=(function(){function d(f,g,b){if(this.formatMap=new Map([[Ge.QR_CODE,"qr_code"],[Ge.AZTEC,"aztec"],[Ge.CODABAR,"codabar"],[Ge.CODE_39,"code_39"],[Ge.CODE_93,"code_93"],[Ge.CODE_128,"code_128"],[Ge.DATA_MATRIX,"data_matrix"],[Ge.ITF,"itf"],[Ge.EAN_13,"ean_13"],[Ge.EAN_8,"ean_8"],[Ge.PDF_417,"pdf417"],[Ge.UPC_A,"upc_a"],[Ge.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!d.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=g,this.logger=b;var C=this.createBarcodeDetectorFormats(f);if(this.detector=new BarcodeDetector(C),!this.detector)throw"BarcodeDetector detector not supported"}return d.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var f=new BarcodeDetector({formats:["qr_code"]});return typeof f<"u"},d.prototype.decodeAsync=function(f){return Kp(this,void 0,void 0,function(){var g,b;return Jp(this,function(C){switch(C.label){case 0:return[4,this.detector.detect(f)];case 1:if(g=C.sent(),!g||g.length===0)throw"No barcode or QR code detected.";return b=this.selectLargestBarcode(g),[2,{text:b.rawValue,format:gg.create(this.toHtml5QrcodeSupportedFormats(b.format)),debugData:this.createDebugData()}]}})})},d.prototype.selectLargestBarcode=function(f){for(var g=null,b=0,C=0,w=f;C<w.length;C++){var T=w[C],O=T.boundingBox.width*T.boundingBox.height;O>b&&(b=O,g=T)}if(!g)throw"No largest barcode found";return g},d.prototype.createBarcodeDetectorFormats=function(f){for(var g=[],b=0,C=f;b<C.length;b++){var w=C[b];this.formatMap.has(w)?g.push(this.formatMap.get(w)):this.logger.warn("".concat(w," is not supported by")+"BarcodeDetectorDelegate")}return{formats:g}},d.prototype.toHtml5QrcodeSupportedFormats=function(f){if(!this.reverseFormatMap.has(f))throw"reverseFormatMap doesn't have ".concat(f);return this.reverseFormatMap.get(f)},d.prototype.createReverseFormatMap=function(){var f=new Map;return this.formatMap.forEach(function(g,b,C){f.set(g,b)}),f},d.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},d})(),Rx=function(d,f,g,b){function C(w){return w instanceof g?w:new g(function(T){T(w)})}return new(g||(g=Promise))(function(w,T){function O(B){try{E(b.next(B))}catch(M){T(M)}}function _(B){try{E(b.throw(B))}catch(M){T(M)}}function E(B){B.done?w(B.value):C(B.value).then(O,_)}E((b=b.apply(d,f||[])).next())})},Dx=function(d,f){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,C,w,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(E){return function(B){return _([E,B])}}function _(E){if(b)throw new TypeError("Generator is already executing.");for(;T&&(T=0,E[0]&&(g=0)),g;)try{if(b=1,C&&(w=E[0]&2?C.return:E[0]?C.throw||((w=C.return)&&w.call(C),0):C.next)&&!(w=w.call(C,E[1])).done)return w;switch(C=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return g.label++,{value:E[1],done:!1};case 5:g.label++,C=E[1],E=[0];continue;case 7:E=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){g=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){g.label=E[1];break}if(E[0]===6&&g.label<w[1]){g.label=w[1],w=E;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(E);break}w[2]&&g.ops.pop(),g.trys.pop();continue}E=f.call(d,g)}catch(B){E=[6,B],C=0}finally{b=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},$p=(function(){function d(f,g,b,C){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=b,g&&Ox.isSupported()?(this.primaryDecoder=new Ox(f,b,C),this.secondaryDecoder=new Ix(f,b,C)):this.primaryDecoder=new Ix(f,b,C)}return d.prototype.decodeAsync=function(f){return Rx(this,void 0,void 0,function(){var g;return Dx(this,function(b){switch(b.label){case 0:g=performance.now(),b.label=1;case 1:return b.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(f)];case 2:return[2,b.sent()];case 3:return this.possiblyLogPerformance(g),[7];case 4:return[2]}})})},d.prototype.decodeRobustlyAsync=function(f){return Rx(this,void 0,void 0,function(){var g,b;return Dx(this,function(C){switch(C.label){case 0:g=performance.now(),C.label=1;case 1:return C.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(f)];case 2:return[2,C.sent()];case 3:if(b=C.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(f)];throw b;case 4:return this.possiblyLogPerformance(g),[7];case 5:return[2]}})})},d.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},d.prototype.possiblyLogPerformance=function(f){if(this.verbose){var g=performance.now()-f;this.executionResults.push(g),this.executions++,this.possiblyFlushPerformanceReport()}},d.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var f=0,g=0,b=this.executionResults;g<b.length;g++){var C=b[g];f+=C}var w=f/this.executionResults.length;console.log("".concat(w," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},d})(),Hf=(function(){var d=function(f,g){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,C){b.__proto__=C}||function(b,C){for(var w in C)Object.prototype.hasOwnProperty.call(C,w)&&(b[w]=C[w])},d(f,g)};return function(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");d(f,g);function b(){this.constructor=f}f.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}})(),eu=function(d,f,g,b){function C(w){return w instanceof g?w:new g(function(T){T(w)})}return new(g||(g=Promise))(function(w,T){function O(B){try{E(b.next(B))}catch(M){T(M)}}function _(B){try{E(b.throw(B))}catch(M){T(M)}}function E(B){B.done?w(B.value):C(B.value).then(O,_)}E((b=b.apply(d,f||[])).next())})},tu=function(d,f){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,C,w,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(E){return function(B){return _([E,B])}}function _(E){if(b)throw new TypeError("Generator is already executing.");for(;T&&(T=0,E[0]&&(g=0)),g;)try{if(b=1,C&&(w=E[0]&2?C.return:E[0]?C.throw||((w=C.return)&&w.call(C),0):C.next)&&!(w=w.call(C,E[1])).done)return w;switch(C=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return g.label++,{value:E[1],done:!1};case 5:g.label++,C=E[1],E=[0];continue;case 7:E=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){g=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){g.label=E[1];break}if(E[0]===6&&g.label<w[1]){g.label=w[1],w=E;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(E);break}w[2]&&g.ops.pop(),g.trys.pop();continue}E=f.call(d,g)}catch(B){E=[6,B],C=0}finally{b=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},pg=(function(){function d(f,g){this.name=f,this.track=g}return d.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},d.prototype.apply=function(f){var g={};g[this.name]=f;var b={advanced:[g]};return this.track.applyConstraints(b)},d.prototype.value=function(){var f=this.track.getSettings();if(this.name in f){var g=f[this.name];return g}return null},d})(),eb=(function(d){Hf(f,d);function f(g,b){return d.call(this,g,b)||this}return f.prototype.min=function(){return this.getCapabilities().min},f.prototype.max=function(){return this.getCapabilities().max},f.prototype.step=function(){return this.getCapabilities().step},f.prototype.apply=function(g){var b={};b[this.name]=g;var C={advanced:[b]};return this.track.applyConstraints(C)},f.prototype.getCapabilities=function(){this.failIfNotSupported();var g=this.track.getCapabilities(),b=g[this.name];return{min:b.min,max:b.max,step:b.step}},f.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},f})(pg),tb=(function(d){Hf(f,d);function f(g){return d.call(this,"zoom",g)||this}return f})(eb),nb=(function(d){Hf(f,d);function f(g){return d.call(this,"torch",g)||this}return f})(pg),ab=(function(){function d(f){this.track=f}return d.prototype.zoomFeature=function(){return new tb(this.track)},d.prototype.torchFeature=function(){return new nb(this.track)},d})(),rb=(function(){function d(f,g,b){this.isClosed=!1,this.parentElement=f,this.mediaStream=g,this.callbacks=b,this.surface=this.createVideoElement(this.parentElement.clientWidth),f.append(this.surface)}return d.prototype.createVideoElement=function(f){var g=document.createElement("video");return g.style.width="".concat(f,"px"),g.style.display="block",g.muted=!0,g.setAttribute("muted","true"),g.playsInline=!0,g},d.prototype.setupSurface=function(){var f=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var g=function(){var b=f.surface.clientWidth,C=f.surface.clientHeight;f.callbacks.onRenderSurfaceReady(b,C),f.surface.removeEventListener("playing",g)};this.surface.addEventListener("playing",g),this.surface.srcObject=this.mediaStream,this.surface.play()},d.create=function(f,g,b,C){return eu(this,void 0,void 0,function(){var w,T;return tu(this,function(O){switch(O.label){case 0:return w=new d(f,g,C),b.aspectRatio?(T={aspectRatio:b.aspectRatio},[4,w.getFirstTrackOrFail().applyConstraints(T)]):[3,2];case 1:O.sent(),O.label=2;case 2:return w.setupSurface(),[2,w]}})})},d.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},d.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},d.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},d.prototype.resume=function(f){this.failIfClosed();var g=this,b=function(){setTimeout(f,200),g.surface.removeEventListener("playing",b)};this.surface.addEventListener("playing",b),this.surface.play()},d.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},d.prototype.getSurface=function(){return this.failIfClosed(),this.surface},d.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},d.prototype.applyVideoConstraints=function(f){return eu(this,void 0,void 0,function(){return tu(this,function(g){if("aspectRatio"in f)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(f)]})})},d.prototype.close=function(){if(this.isClosed)return Promise.resolve();var f=this;return new Promise(function(g,b){var C=f.mediaStream.getVideoTracks(),w=C.length,T=0;f.mediaStream.getVideoTracks().forEach(function(O){f.mediaStream.removeTrack(O),O.stop(),++T,T>=w&&(f.isClosed=!0,f.parentElement.removeChild(f.surface),g())})})},d.prototype.getCapabilities=function(){return new ab(this.getFirstTrackOrFail())},d})(),ib=(function(){function d(f){this.mediaStream=f}return d.prototype.render=function(f,g,b){return eu(this,void 0,void 0,function(){return tu(this,function(C){return[2,rb.create(f,this.mediaStream,g,b)]})})},d.create=function(f){return eu(this,void 0,void 0,function(){var g,b;return tu(this,function(C){switch(C.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return g={audio:!1,video:f},[4,navigator.mediaDevices.getUserMedia(g)];case 1:return b=C.sent(),[2,new d(b)]}})})},d})(),Mx=function(d,f,g,b){function C(w){return w instanceof g?w:new g(function(T){T(w)})}return new(g||(g=Promise))(function(w,T){function O(B){try{E(b.next(B))}catch(M){T(M)}}function _(B){try{E(b.throw(B))}catch(M){T(M)}}function E(B){B.done?w(B.value):C(B.value).then(O,_)}E((b=b.apply(d,f||[])).next())})},kx=function(d,f){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,C,w,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(E){return function(B){return _([E,B])}}function _(E){if(b)throw new TypeError("Generator is already executing.");for(;T&&(T=0,E[0]&&(g=0)),g;)try{if(b=1,C&&(w=E[0]&2?C.return:E[0]?C.throw||((w=C.return)&&w.call(C),0):C.next)&&!(w=w.call(C,E[1])).done)return w;switch(C=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return g.label++,{value:E[1],done:!1};case 5:g.label++,C=E[1],E=[0];continue;case 7:E=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){g=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){g.label=E[1];break}if(E[0]===6&&g.label<w[1]){g.label=w[1],w=E;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(E);break}w[2]&&g.ops.pop(),g.trys.pop();continue}E=f.call(d,g)}catch(B){E=[6,B],C=0}finally{b=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},lb=(function(){function d(){}return d.failIfNotSupported=function(){return Mx(this,void 0,void 0,function(){return kx(this,function(f){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new d]})})},d.prototype.create=function(f){return Mx(this,void 0,void 0,function(){return kx(this,function(g){return[2,ib.create(f)]})})},d})(),sb=function(d,f,g,b){function C(w){return w instanceof g?w:new g(function(T){T(w)})}return new(g||(g=Promise))(function(w,T){function O(B){try{E(b.next(B))}catch(M){T(M)}}function _(B){try{E(b.throw(B))}catch(M){T(M)}}function E(B){B.done?w(B.value):C(B.value).then(O,_)}E((b=b.apply(d,f||[])).next())})},ob=function(d,f){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},b,C,w,T;return T={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function O(E){return function(B){return _([E,B])}}function _(E){if(b)throw new TypeError("Generator is already executing.");for(;T&&(T=0,E[0]&&(g=0)),g;)try{if(b=1,C&&(w=E[0]&2?C.return:E[0]?C.throw||((w=C.return)&&w.call(C),0):C.next)&&!(w=w.call(C,E[1])).done)return w;switch(C=0,w&&(E=[E[0]&2,w.value]),E[0]){case 0:case 1:w=E;break;case 4:return g.label++,{value:E[1],done:!1};case 5:g.label++,C=E[1],E=[0];continue;case 7:E=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(E[0]===6||E[0]===2)){g=0;continue}if(E[0]===3&&(!w||E[1]>w[0]&&E[1]<w[3])){g.label=E[1];break}if(E[0]===6&&g.label<w[1]){g.label=w[1],w=E;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(E);break}w[2]&&g.ops.pop(),g.trys.pop();continue}E=f.call(d,g)}catch(B){E=[6,B],C=0}finally{b=w=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},cb=(function(){function d(){}return d.retrieve=function(){if(navigator.mediaDevices)return d.getCamerasFromMediaDevices();var f=MediaStreamTrack;return MediaStreamTrack&&f.getSources?d.getCamerasFromMediaStreamTrack():d.rejectWithError()},d.rejectWithError=function(){var f=ds.unableToQuerySupportedDevices();return d.isHttpsOrLocalhost()||(f=ds.insecureContextCameraQueryError()),Promise.reject(f)},d.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var f=location.host.split(":")[0];return f==="127.0.0.1"||f==="localhost"},d.getCamerasFromMediaDevices=function(){return sb(this,void 0,void 0,function(){var f,g,b,C,w,T,O;return ob(this,function(_){switch(_.label){case 0:return f=function(E){for(var B=E.getVideoTracks(),M=0,X=B;M<X.length;M++){var W=X[M];W.enabled=!1,W.stop(),E.removeTrack(W)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return g=_.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(b=_.sent(),C=[],w=0,T=b;w<T.length;w++)O=T[w],O.kind==="videoinput"&&C.push({id:O.deviceId,label:O.label});return f(g),[2,C]}})})},d.getCamerasFromMediaStreamTrack=function(){return new Promise(function(f,g){var b=function(w){for(var T=[],O=0,_=w;O<_.length;O++){var E=_[O];E.kind==="video"&&T.push({id:E.id,label:E.label})}f(T)},C=MediaStreamTrack;C.getSources(b)})},d})(),_n;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.NOT_STARTED=1]="NOT_STARTED",d[d.SCANNING=2]="SCANNING",d[d.PAUSED=3]="PAUSED"})(_n||(_n={}));var ub=(function(){function d(){this.state=_n.NOT_STARTED,this.onGoingTransactionNewState=_n.UNKNOWN}return d.prototype.directTransition=function(f){this.failIfTransitionOngoing(),this.validateTransition(f),this.state=f},d.prototype.startTransition=function(f){return this.failIfTransitionOngoing(),this.validateTransition(f),this.onGoingTransactionNewState=f,this},d.prototype.execute=function(){if(this.onGoingTransactionNewState===_n.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var f=this.onGoingTransactionNewState;this.onGoingTransactionNewState=_n.UNKNOWN,this.directTransition(f)},d.prototype.cancel=function(){if(this.onGoingTransactionNewState===_n.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=_n.UNKNOWN},d.prototype.getState=function(){return this.state},d.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==_n.UNKNOWN)throw"Cannot transition to a new state, already under transition"},d.prototype.validateTransition=function(f){switch(this.state){case _n.UNKNOWN:throw"Transition from unknown is not allowed";case _n.NOT_STARTED:this.failIfNewStateIs(f,[_n.PAUSED]);break;case _n.SCANNING:break;case _n.PAUSED:break}},d.prototype.failIfNewStateIs=function(f,g){for(var b=0,C=g;b<C.length;b++){var w=C[b];if(f===w)throw"Cannot transition from ".concat(this.state," to ").concat(f)}},d})(),db=(function(){function d(f){this.stateManager=f}return d.prototype.startTransition=function(f){return this.stateManager.startTransition(f)},d.prototype.directTransition=function(f){this.stateManager.directTransition(f)},d.prototype.getState=function(){return this.stateManager.getState()},d.prototype.canScanFile=function(){return this.stateManager.getState()===_n.NOT_STARTED},d.prototype.isScanning=function(){return this.stateManager.getState()!==_n.NOT_STARTED},d.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===_n.SCANNING},d.prototype.isPaused=function(){return this.stateManager.getState()===_n.PAUSED},d})(),fb=(function(){function d(){}return d.create=function(){return new db(new ub)},d})(),hb=(function(){var d=function(f,g){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,C){b.__proto__=C}||function(b,C){for(var w in C)Object.prototype.hasOwnProperty.call(C,w)&&(b[w]=C[w])},d(f,g)};return function(f,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");d(f,g);function b(){this.constructor=f}f.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}})(),Ua=(function(d){hb(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.DEFAULT_WIDTH=300,f.DEFAULT_WIDTH_OFFSET=2,f.FILE_SCAN_MIN_HEIGHT=300,f.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,f.MIN_QR_BOX_SIZE=50,f.SHADED_LEFT=1,f.SHADED_RIGHT=2,f.SHADED_TOP=3,f.SHADED_BOTTOM=4,f.SHADED_REGION_ELEMENT_ID="qr-shaded-region",f.VERBOSE=!1,f.BORDER_SHADER_DEFAULT_COLOR="#ffffff",f.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",f})(Vp),xb=(function(){function d(f,g){this.logger=g,this.fps=Ua.SCAN_DEFAULT_FPS,f?(f.fps&&(this.fps=f.fps),this.disableFlip=f.disableFlip===!0,this.qrbox=f.qrbox,this.aspectRatio=f.aspectRatio,this.videoConstraints=f.videoConstraints):this.disableFlip=Ua.DEFAULT_DISABLE_FLIP}return d.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?mg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},d.prototype.isShadedBoxEnabled=function(){return!oi(this.qrbox)},d.create=function(f,g){return new d(f,g)},d})(),gb=(function(){function d(f,g){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(f))throw"HTML Element with id=".concat(f," not found");this.elementId=f,this.verbose=!1;var b;typeof g=="boolean"?this.verbose=g===!0:g&&(b=g,this.verbose=b.verbose===!0,b.experimentalFeatures),this.logger=new Yp(this.verbose),this.qrcode=new $p(this.getSupportedFormats(g),this.getUseBarCodeDetectorIfSupported(b),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=fb.create()}return d.prototype.start=function(f,g,b,C){var w=this;if(!f)throw"cameraIdOrConfig is required";if(!b||typeof b!="function")throw"qrCodeSuccessCallback is required and should be a function.";var T;C?T=C:T=this.verbose?this.logger.log:function(){};var O=xb.create(g,this.logger);this.clearElement();var _=!1;O.videoConstraints&&(O.isMediaStreamConstraintsValid()?_=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var E=_,B=document.getElementById(this.elementId);B.clientWidth?B.clientWidth:Ua.DEFAULT_WIDTH,B.style.position="relative",this.shouldScan=!0,this.element=B;var M=this,X=this.stateManagerProxy.startTransition(_n.SCANNING);return new Promise(function(W,fe){var te=E?O.videoConstraints:M.createVideoConstraints(f);if(!te){X.cancel(),fe("videoConstraints should be defined");return}var ne={};(!E||O.aspectRatio)&&(ne.aspectRatio=O.aspectRatio);var z={onRenderSurfaceReady:function(L,G){M.setupUi(L,G,O),M.isScanning=!0,M.foreverScan(O,b,T)}};lb.failIfNotSupported().then(function(L){L.create(te).then(function(G){return G.render(w.element,ne,z).then(function($){M.renderedCamera=$,X.execute(),W(null)}).catch(function($){X.cancel(),fe($)})}).catch(function(G){X.cancel(),fe(ds.errorGettingUserMedia(G))})}).catch(function(L){X.cancel(),fe(ds.cameraStreamingNotSupported())})})},d.prototype.pause=function(f){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(_n.PAUSED),this.showPausedState(),(oi(f)||f!==!0)&&(f=!1),f&&this.renderedCamera&&this.renderedCamera.pause()},d.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var f=this,g=function(){f.stateManagerProxy.directTransition(_n.SCANNING),f.hidePausedState()};if(!this.renderedCamera.isPaused()){g();return}this.renderedCamera.resume(function(){g()})},d.prototype.getState=function(){return this.stateManagerProxy.getState()},d.prototype.stop=function(){var f=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var g=this.stateManagerProxy.startTransition(_n.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var b=function(){if(f.element){var w=document.getElementById(Ua.SHADED_REGION_ELEMENT_ID);w&&f.element.removeChild(w)}},C=this;return this.renderedCamera.close().then(function(){return C.renderedCamera=null,C.element&&(C.element.removeChild(C.canvasElement),C.canvasElement=null),b(),C.qrRegion&&(C.qrRegion=null),C.context&&(C.context=null),g.execute(),C.hidePausedState(),C.isScanning=!1,Promise.resolve()})},d.prototype.scanFile=function(f,g){return this.scanFileV2(f,g).then(function(b){return b.decodedText})},d.prototype.scanFileV2=function(f,g){var b=this;if(!f||!(f instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(oi(g)&&(g=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(C,w){b.possiblyCloseLastScanImageFile(),b.clearElement(),b.lastScanImageFile=URL.createObjectURL(f);var T=new Image;T.onload=function(){var O=T.width,_=T.height,E=document.getElementById(b.elementId),B=E.clientWidth?E.clientWidth:Ua.DEFAULT_WIDTH,M=Math.max(E.clientHeight?E.clientHeight:_,Ua.FILE_SCAN_MIN_HEIGHT),X=b.computeCanvasDrawConfig(O,_,B,M);if(g){var W=b.createCanvasElement(B,M,"qr-canvas-visible");W.style.display="inline-block",E.appendChild(W);var fe=W.getContext("2d");if(!fe)throw"Unable to get 2d context from canvas";fe.canvas.width=B,fe.canvas.height=M,fe.drawImage(T,0,0,O,_,X.x,X.y,X.width,X.height)}var te=Ua.FILE_SCAN_HIDDEN_CANVAS_PADDING,ne=Math.max(T.width,X.width),z=Math.max(T.height,X.height),L=ne+2*te,G=z+2*te,$=b.createCanvasElement(L,G);E.appendChild($);var xe=$.getContext("2d");if(!xe)throw"Unable to get 2d context from canvas";xe.canvas.width=L,xe.canvas.height=G,xe.drawImage(T,0,0,O,_,te,te,ne,z);try{b.qrcode.decodeRobustlyAsync($).then(function(K){C(Tx.createFromQrcodeResult(K))}).catch(w)}catch(K){w("QR code parse error, error = ".concat(K))}},T.onerror=w,T.onabort=w,T.onstalled=w,T.onsuspend=w,T.src=URL.createObjectURL(f)})},d.prototype.clear=function(){this.clearElement()},d.getCameras=function(){return cb.retrieve()},d.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},d.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},d.prototype.applyVideoConstraints=function(f){if(f){if(!mg.isMediaStreamConstraintsValid(f,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(f)},d.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},d.prototype.getSupportedFormats=function(f){var g=[Ge.QR_CODE,Ge.AZTEC,Ge.CODABAR,Ge.CODE_39,Ge.CODE_93,Ge.CODE_128,Ge.DATA_MATRIX,Ge.MAXICODE,Ge.ITF,Ge.EAN_13,Ge.EAN_8,Ge.PDF_417,Ge.RSS_14,Ge.RSS_EXPANDED,Ge.UPC_A,Ge.UPC_E,Ge.UPC_EAN_EXTENSION];if(!f||typeof f=="boolean"||!f.formatsToSupport)return g;if(!Array.isArray(f.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(f.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var b=[],C=0,w=f.formatsToSupport;C<w.length;C++){var T=w[C];Gp(T)?b.push(T):this.logger.warn("Invalid format: ".concat(T," passed in config, ignoring."))}if(b.length===0)throw"None of formatsToSupport match supported values.";return b},d.prototype.getUseBarCodeDetectorIfSupported=function(f){if(oi(f))return!0;if(!oi(f.useBarCodeDetectorIfSupported))return f.useBarCodeDetectorIfSupported!==!1;if(oi(f.experimentalFeatures))return!0;var g=f.experimentalFeatures;return oi(g.useBarCodeDetectorIfSupported)?!0:g.useBarCodeDetectorIfSupported!==!1},d.prototype.validateQrboxSize=function(f,g,b){var C=this,w=b.qrbox;this.validateQrboxConfig(w);var T=this.toQrdimensions(f,g,w),O=function(E){if(E<Ua.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ua.MIN_QR_BOX_SIZE,"px.")},_=function(E){return E>f&&(C.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),E=f),E};O(T.width),O(T.height),T.width=_(T.width)},d.prototype.validateQrboxConfig=function(f){if(typeof f!="number"&&typeof f!="function"&&(f.width===void 0||f.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},d.prototype.toQrdimensions=function(f,g,b){if(typeof b=="number")return{width:b,height:b};if(typeof b=="function")try{return b(f,g)}catch(C){throw new Error("qrbox config was passed as a function but it failed with unknown error"+C)}return b},d.prototype.setupUi=function(f,g,b){b.isShadedBoxEnabled()&&this.validateQrboxSize(f,g,b);var C=oi(b.qrbox)?{width:f,height:g}:b.qrbox;this.validateQrboxConfig(C);var w=this.toQrdimensions(f,g,C);w.height>g&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var T=b.isShadedBoxEnabled()&&w.height<=g,O={x:0,y:0,width:f,height:g},_=T?this.getShadedRegionBounds(f,g,w):O,E=this.createCanvasElement(_.width,_.height),B={willReadFrequently:!0},M=E.getContext("2d",B);M.canvas.width=_.width,M.canvas.height=_.height,this.element.append(E),T&&this.possiblyInsertShadingElement(this.element,f,g,w),this.createScannerPausedUiElement(this.element),this.qrRegion=_,this.context=M,this.canvasElement=E},d.prototype.createScannerPausedUiElement=function(f){var g=document.createElement("div");g.innerText=ds.scannerPaused(),g.style.display="none",g.style.position="absolute",g.style.top="0px",g.style.zIndex="1",g.style.background="rgba(9, 9, 9, 0.46)",g.style.color="#FFECEC",g.style.textAlign="center",g.style.width="100%",f.appendChild(g),this.scannerPausedUiElement=g},d.prototype.scanContext=function(f,g){var b=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(C){return f(C.text,Tx.createFromQrcodeResult(C)),b.possiblyUpdateShaders(!0),!0}).catch(function(C){b.possiblyUpdateShaders(!1);var w=ds.codeParseError(C);return g(w,Xp.createFrom(w)),!1})},d.prototype.foreverScan=function(f,g,b){var C=this;if(this.shouldScan&&this.renderedCamera){var w=this.renderedCamera.getSurface(),T=w.videoWidth/w.clientWidth,O=w.videoHeight/w.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var _=this.qrRegion.width*T,E=this.qrRegion.height*O,B=this.qrRegion.x*T,M=this.qrRegion.y*O;this.context.drawImage(w,B,M,_,E,0,0,this.qrRegion.width,this.qrRegion.height);var X=function(){C.foreverScanTimeout=setTimeout(function(){C.foreverScan(f,g,b)},C.getTimeoutFps(f.fps))};this.scanContext(g,b).then(function(W){!W&&f.disableFlip!==!0?(C.context.translate(C.context.canvas.width,0),C.context.scale(-1,1),C.scanContext(g,b).finally(function(){X()})):X()}).catch(function(W){C.logger.logError("Error happend while scanning context",W),X()})}},d.prototype.createVideoConstraints=function(f){if(typeof f=="string")return{deviceId:{exact:f}};if(typeof f=="object"){var g="facingMode",b="deviceId",C={user:!0,environment:!0},w="exact",T=function(fe){if(fe in C)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(fe,"'")},O=Object.keys(f);if(O.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(O.length," keys");var _=Object.keys(f)[0];if(_!==g&&_!==b)throw"Only '".concat(g,"' and '").concat(b,"' ")+" are supported for 'cameraIdOrConfig'";if(_===g){var E=f.facingMode;if(typeof E=="string"){if(T(E))return{facingMode:E}}else if(typeof E=="object")if(w in E){if(T(E["".concat(w)]))return{facingMode:{exact:E["".concat(w)]}}}else throw"'facingMode' should be string or object with"+" ".concat(w," as key.");else{var B=typeof E;throw"Invalid type of 'facingMode' = ".concat(B)}}else{var M=f.deviceId;if(typeof M=="string")return{deviceId:M};if(typeof M=="object"){if(w in M)return{deviceId:{exact:M["".concat(w)]}};throw"'deviceId' should be string or object with"+" ".concat(w," as key.")}else{var X=typeof M;throw"Invalid type of 'deviceId' = ".concat(X)}}}var W=typeof f;throw"Invalid type of 'cameraIdOrConfig' = ".concat(W)},d.prototype.computeCanvasDrawConfig=function(f,g,b,C){if(f<=b&&g<=C){var w=(b-f)/2,T=(C-g)/2;return{x:w,y:T,width:f,height:g}}else{var O=f,_=g;return f>b&&(g=b/f*g,f=b),g>C&&(f=C/g*f,g=C),this.logger.log("Image downsampled from "+"".concat(O,"X").concat(_)+" to ".concat(f,"X").concat(g,".")),this.computeCanvasDrawConfig(f,g,b,C)}},d.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var f=document.getElementById(this.elementId);f&&(f.innerHTML="")},d.prototype.possiblyUpdateShaders=function(f){this.qrMatch!==f&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(g){g.style.backgroundColor=f?Ua.BORDER_SHADER_MATCH_COLOR:Ua.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=f)},d.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},d.prototype.createCanvasElement=function(f,g,b){var C=f,w=g,T=document.createElement("canvas");return T.style.width="".concat(C,"px"),T.style.height="".concat(w,"px"),T.style.display="none",T.id=oi(b)?"qr-canvas":b,T},d.prototype.getShadedRegionBounds=function(f,g,b){if(b.width>f||b.height>g)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(f-b.width)/2,y:(g-b.height)/2,width:b.width,height:b.height}},d.prototype.possiblyInsertShadingElement=function(f,g,b,C){if(!(g-C.width<1||b-C.height<1)){var w=document.createElement("div");w.style.position="absolute";var T=(g-C.width)/2,O=(b-C.height)/2;if(w.style.borderLeft="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderRight="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderTop="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderBottom="".concat(O,"px solid rgba(0, 0, 0, 0.48)"),w.style.boxSizing="border-box",w.style.top="0px",w.style.bottom="0px",w.style.left="0px",w.style.right="0px",w.id="".concat(Ua.SHADED_REGION_ELEMENT_ID),g-C.width<11||b-C.height<11)this.hasBorderShaders=!1;else{var _=5,E=40;this.insertShaderBorders(w,E,_,-_,null,0,!0),this.insertShaderBorders(w,E,_,-_,null,0,!1),this.insertShaderBorders(w,E,_,null,-_,0,!0),this.insertShaderBorders(w,E,_,null,-_,0,!1),this.insertShaderBorders(w,_,E+_,-_,null,-_,!0),this.insertShaderBorders(w,_,E+_,null,-_,-_,!0),this.insertShaderBorders(w,_,E+_,-_,null,-_,!1),this.insertShaderBorders(w,_,E+_,null,-_,-_,!1),this.hasBorderShaders=!0}f.append(w)}},d.prototype.insertShaderBorders=function(f,g,b,C,w,T,O){var _=document.createElement("div");_.style.position="absolute",_.style.backgroundColor=Ua.BORDER_SHADER_DEFAULT_COLOR,_.style.width="".concat(g,"px"),_.style.height="".concat(b,"px"),C!==null&&(_.style.top="".concat(C,"px")),w!==null&&(_.style.bottom="".concat(w,"px")),O?_.style.left="".concat(T,"px"):_.style.right="".concat(T,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(_),f.appendChild(_)},d.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},d.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},d.prototype.getTimeoutFps=function(f){return 1e3/f},d})(),Bx;(function(d){d[d.STATUS_DEFAULT=0]="STATUS_DEFAULT",d[d.STATUS_SUCCESS=1]="STATUS_SUCCESS",d[d.STATUS_WARNING=2]="STATUS_WARNING",d[d.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Bx||(Bx={}));const mb=({onOpenSidebar:d,onNavigate:f,addToCart:g,cartItemCount:b,products:C,cart:w,updateQuantity:T,removeFromCart:O})=>{var q;const _=F=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(F),[E,B]=be.useState(()=>localStorage.getItem("falcon_product_filter")||""),[M,X]=be.useState(C||[]),W=i2(),[fe,te]=be.useState(""),[ne,z]=be.useState(!1),[L,G]=be.useState(!1),[$,xe]=be.useState("");be.useEffect(()=>{Wn("falcon_product_filter",{value:E})},[E]),be.useEffect(()=>{const F=async()=>{const re=await Ot("falcon_products_db");X(re)};F();const ie=()=>F();return window.addEventListener("focus",ie),()=>window.removeEventListener("focus",ie)},[]),be.useEffect(()=>()=>{},[]);const K=be.useMemo(()=>{let F=M;return fe&&(F=F.filter(ie=>ie.category===fe)),F.filter(ie=>ie.name.toLowerCase().includes(E.toLowerCase())||ie.category&&ie.category.toLowerCase().includes(E.toLowerCase())||ie.Codigo&&String(ie.Codigo).toLowerCase().includes(E.toLowerCase()))},[M,E,fe]),D=w.reduce((F,ie)=>F+ie.price*ie.quantity,0);return be.useEffect(()=>{if(L){xe("");const F=new gb("barcode-scanner");let ie=!1;return F.start({facingMode:"environment"},{fps:10,qrbox:280,formatsToSupport:[Ge.EAN_13,Ge.CODE_128,Ge.EAN_8]},re=>{B(re),G(!1),ie||(F.stop().then(()=>{const oe=document.getElementById("barcode-scanner");oe&&(oe.innerHTML="")}),ie=!0)},re=>{xe("No foi possvel acessar a cmera ou ler o cdigo. Verifique as permisses e tente novamente.")}).catch(re=>{xe("Erro ao iniciar a cmera: "+re)}),()=>{ie||(F.stop().then(()=>{const re=document.getElementById("barcode-scanner");re&&(re.innerHTML="")}).catch(()=>{}),ie=!0)}}},[L]),p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("div",{className:"flex flex-col gap-2 bg-background-light dark:bg-background-dark p-4 pb-2 sticky top-0 z-10 shadow-sm lg:shadow-none",children:[p.jsxs("div",{className:"flex h-12 items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:d,className:"lg:hidden text-slate-900 dark:text-white",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"menu"})}),p.jsx("h1",{className:"text-2xl font-bold leading-tight tracking-tight text-slate-900 dark:text-white hidden lg:block",children:"Lista de Produtos"})]}),p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("span",{className:"text-lg font-bold text-blue-700 dark:text-blue-300 whitespace-nowrap",children:["Total: ",_(D)]}),p.jsxs("button",{onClick:()=>f("shop"),className:"relative flex h-12 w-12 cursor-pointer items-center justify-center rounded-lg hover:bg-black/5 dark:hover:bg-white/10 transition-colors text-slate-900 dark:text-white",children:[p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"shopping_cart"}),b>0&&p.jsx("span",{className:"absolute top-2 right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white",children:b})]})]})]}),p.jsx("p",{className:"text-2xl font-bold leading-tight tracking-tight text-slate-900 dark:text-white lg:hidden",children:"Lista de Produtos"})]}),p.jsx("div",{className:"px-4 pt-3 pb-1 sticky top-[100px] lg:top-0 z-10 bg-background-light dark:bg-background-dark",children:p.jsx("div",{className:"mb-2 flex items-center gap-2",children:p.jsxs("div",{className:"relative",children:[p.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-lg shadow-sm text-slate-900 dark:text-white hover:bg-gray-100 dark:hover:bg-slate-700 min-w-[160px]",onClick:()=>z(F=>!F),type:"button",children:[p.jsx("span",{className:"material-symbols-outlined text-base",children:"category"}),fe&&((q=W.find(F=>F.id===fe))==null?void 0:q.name)||"Todas as categorias",p.jsx("span",{className:"material-symbols-outlined ml-2 text-base",children:"expand_more"})]}),ne&&p.jsxs("div",{className:"absolute left-0 mt-2 w-full bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-lg shadow-lg z-20 max-h-60 overflow-y-auto custom-scrollbar",children:[p.jsx("button",{className:`w-full text-left px-4 py-2 hover:bg-blue-100 dark:hover:bg-blue-900/30 ${fe?"":"font-bold text-primary"}`,onClick:()=>{te(""),z(!1)},children:"Todas as categorias"}),W.map(F=>p.jsx("button",{className:`w-full text-left px-4 py-2 hover:bg-blue-100 dark:hover:bg-blue-900/30 ${fe===F.id?"font-bold text-primary":""}`,onClick:()=>{te(F.id),z(!1)},children:F.name},F.id))]})]})})}),p.jsxs("div",{className:"px-4 py-3 bg-background-light dark:bg-background-dark",children:[p.jsx("label",{className:"flex h-12 w-full flex-col",children:p.jsxs("div",{className:"flex h-full w-full flex-1 items-stretch rounded-xl shadow-sm relative",children:[p.jsx("div",{className:"flex items-center justify-center rounded-l-xl border-y border-l border-border-light dark:border-border-dark bg-white dark:bg-surface-dark/50 pl-4 text-slate-400 dark:text-slate-500",children:p.jsx("span",{className:"material-symbols-outlined",children:"search"})}),p.jsx("input",{className:"h-full min-w-0 flex-1 resize-none overflow-hidden rounded-r-xl border-y border-r border-border-light dark:border-border-dark bg-white dark:bg-surface-dark/50 px-4 text-base font-normal leading-normal text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-0",placeholder:"Buscar produtos...",value:E,onChange:F=>B(F.target.value)}),p.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark hover:text-primary",onClick:()=>G(!0),title:"Ler cdigo de barras",children:p.jsx("span",{className:"material-symbols-outlined",children:"photo_camera"})})]})}),L&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center",children:p.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-lg p-6 shadow-lg relative",children:[p.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-red-600",onClick:()=>G(!1),title:"Fechar",children:p.jsx("span",{className:"material-symbols-outlined",children:"close"})}),p.jsx("div",{id:"barcode-scanner",style:{width:320,height:240}}),p.jsx("p",{className:"mt-2 text-center text-sm",children:"Aponte a cmera para o cdigo de barras"}),$&&p.jsx("p",{className:"mt-2 text-center text-sm text-red-600",children:$})]})})]}),p.jsx("div",{className:"p-4 pb-24",children:p.jsx(gp,{style:{height:600},className:"custom-scrollbar",totalCount:K.length,itemContent:F=>{const ie=K[F];return p.jsxs("div",{className:"flex items-stretch justify-between gap-4 rounded-xl bg-white dark:bg-surface-dark/50 p-4 shadow-sm hover:shadow-md transition-shadow mb-2",children:[p.jsxs("div",{className:"flex flex-[2_2_0px] flex-col h-full justify-between",children:[p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("p",{className:"text-base font-bold leading-tight text-slate-500 dark:text-slate-400 break-words",children:ie.name}),p.jsx("p",{className:"text-base font-bold leading-normal text-slate-900 text-blue-600 dark:text-slate-200",children:_(ie.price)})]}),p.jsx("div",{className:"mt-1",children:p.jsx("button",{onClick:()=>g(ie),className:"flex h-9 items-center justify-center overflow-hidden rounded-lg bg-primary px-3 text-sm font-medium leading-normal text-white hover:bg-blue-600 transition-colors active:scale-95",children:p.jsx("span",{className:"truncate",children:"Adicionar ao Pedido"})})})]}),ie.image?p.jsx("div",{className:"aspect-square w-20 sm:w-28 lg:w-32 flex-shrink-0 rounded-lg bg-cover bg-center bg-no-repeat bg-gray-200 dark:bg-gray-800",style:{backgroundImage:`url('${ie.image}')`},"aria-label":ie.name}):p.jsx("div",{className:"aspect-square w-20 sm:w-28 lg:w-32 flex-shrink-0 rounded-lg bg-gray-200 dark:bg-gray-800 flex items-center justify-center",children:p.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"image_not_supported"})})]},ie.id)}})})]})},pb=({cart:d,updateQuantity:f,onNavigate:g,onBack:b,onCancel:C,editingOrder:w})=>{const T=d.reduce((z,L)=>z+L.price*L.quantity,0),O=d.reduce((z,L)=>z+L.quantity,0),[_,E]=Ue.useState({}),[B,M]=Ue.useState(!1),X=z=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(z),W=z=>{E(L=>{var G;return{...L,[z]:{active:!0,value:((G=L[z])==null?void 0:G.value)||""}}})},fe=z=>{E(L=>{var $;return(($=L[z])==null?void 0:$.value)||""?L:{...L,[z]:{active:!1,value:""}}})},te=(z,L)=>{const G=L.replace(/[^0-9.,]/g,"");E($=>({...$,[z]:{active:!0,value:G}}))},ne=z=>{const L=_[z.id];if(L&&L.value!==""){const G=parseFloat(L.value.replace(",","."));!isNaN(G)&&G>0&&(f(z.id,G-z.quantity),E($=>({...$,[z.id]:{active:!1,value:""}})))}};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("header",{className:"flex items-center justify-between p-4 bg-background-light dark:bg-background-dark border-b border-border-light dark:border-border-dark sticky top-0 z-10",children:[p.jsx("button",{onClick:b,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),p.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[p.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white text-center",children:w?`Editando Pedido #${w.id}`:"Itens do Pedido"}),!w&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>M(!0),className:"w-7 h-7 flex items-center justify-center bg-red-100 dark:bg-red-700 rounded-full text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-600 mt-2",title:"Cancelar pedido",children:p.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"})}),p.jsx(ui,{isOpen:B,onClose:()=>M(!1),title:"Cancelar Pedido",footer:p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-slate-800 dark:text-white font-medium hover:bg-gray-300 dark:hover:bg-gray-600",children:"No"}),p.jsx("button",{onClick:()=>{M(!1),typeof C=="function"&&C()},className:"px-4 py-2 rounded-lg bg-red-600 text-white font-bold hover:bg-red-700",children:"Sim, cancelar"})]}),children:"Tem certeza que deseja cancelar este pedido?"})]})]}),w?p.jsx("button",{onClick:C,className:"text-red-500 font-medium text-sm hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1 rounded-lg transition-colors",children:"Cancelar"}):p.jsxs("button",{className:"relative text-slate-800 dark:text-white p-1",children:[p.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"}),O>0&&p.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold w-4 h-4 rounded-full flex items-center justify-center",children:O})]})]}),p.jsx("main",{className:"flex-grow overflow-y-auto p-4 space-y-4 pb-24",children:d.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500 dark:text-slate-400",children:[p.jsx("span",{className:"material-symbols-outlined text-6xl mb-4",children:"remove_shopping_cart"}),p.jsx("p",{children:"Seu pedido est vazio."}),p.jsx("button",{onClick:()=>g("productList"),className:"mt-4 text-primary font-medium hover:underline",children:"Navegar nos Produtos"})]}):d.map(z=>{const L=_[z.id]||{active:!1,value:""};let G=z.quantity;return typeof G=="number"&&(G=G.toString().replace(".",",")),(L.active&&L.value||!L.active&&L.value)&&(G=L.value),p.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg flex items-center space-x-4 shadow-sm",children:[z.image?p.jsx("img",{src:z.image,alt:z.name,className:"w-20 h-20 object-cover rounded-md flex-shrink-0 bg-slate-200 dark:bg-slate-700"}):p.jsx("div",{className:"w-20 h-20 rounded-md flex-shrink-0 bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:p.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"image_not_supported"})}),p.jsxs("div",{className:"flex-grow min-w-0",children:[p.jsx("h2",{className:"font-semibold text-slate-500 dark:text-slate-400",children:z.name}),p.jsx("p",{className:"text-lg text-slate-900 text-blue-600 dark:text-slate-200 font-medium",children:X(z.price)}),p.jsxs("div",{className:"flex items-center mt-2",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[L.active?null:p.jsx("button",{onClick:()=>f(z.id,-1),className:"w-7 h-7 flex items-center justify-center bg-slate-100 dark:bg-slate-700 rounded-full text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:p.jsx("span",{className:"material-symbols-outlined text-base",children:"remove"})}),p.jsx("span",{className:"font-medium text-slate-900 dark:text-white min-w-[2.5rem] text-center mr-2",children:G}),p.jsx("button",{onClick:()=>{L.active&&L.value!==""?ne(z):f(z.id,1)},className:"w-7 h-7 flex items-center justify-center bg-primary text-white rounded-full hover:bg-blue-600",children:p.jsx("span",{className:"material-symbols-outlined text-base",children:"add"})}),p.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",value:L.value,onFocus:()=>W(z.id),onBlur:()=>fe(z.id),onChange:$=>te(z.id,$.target.value),placeholder:"Qtd.",className:"w-20 px-2 py-1 rounded border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark text-slate-900 dark:text-white text-sm ml-2",style:{textAlign:"center"}})]}),p.jsx("button",{onClick:()=>f(z.id,-z.quantity),className:"w-7 h-7 flex items-center justify-center bg-red-100 dark:bg-red-700 rounded-full text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-600 ml-auto",title:"Remover item",children:p.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"})})]})]})]},z.id)})}),d.length>0&&p.jsxs("footer",{className:"p-4 bg-white dark:bg-background-dark border-t border-border-light dark:border-border-dark sticky bottom-16 lg:bottom-0",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Subtotal"}),p.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white",children:X(T)})]}),p.jsx("button",{onClick:()=>g("checkout"),className:"w-full bg-primary text-white font-bold py-3 rounded-lg text-center hover:bg-blue-600 transition-colors shadow-lg shadow-primary/20",children:"Ir para o Pagamento"})]})]})};async function bg(){const d=await Ot("falcon_orders_db"),f=d.filter(b=>b.syncStatus==="sincronizado");if(f.length===0)return;const g=f.map(b=>b.pedidoId).filter(Boolean);if(g.length!==0){for(const b of g)try{const w=await fetch(`${tr}/Pedidos?db=${nr}&filtros=${encodeURIComponent(JSON.stringify([{campo:"PedidoId",valor:b}]))}&code=${ar}`);if(!w.ok)continue;const T=await w.json();if(Array.isArray(T)&&T.length>0&&T[0].Status==="F"){const _=d.findIndex(E=>E.pedidoId===b);_!==-1&&(d[_].syncStatus="Processado",d[_].status="Processado")}}catch{}await Sl("falcon_orders_db"),await Promise.all(d.map(b=>Wn("falcon_orders_db",b)))}}async function Ff(){const d=localStorage.getItem("apiProtocol")||"https",f=localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443",g=`${d}://${f}/api`,b=localStorage.getItem("dbName")||"VNETPedidos",C="vnetapi7474",w=await Ot("ProdutosExcluidosPedidos");for(const O of w)try{if(O.itemUid){const _=[{campo:"itemUid",valor:O.itemUid}];await fetch(`${g}/PedidoItens?db=${b}&filtros=${encodeURIComponent(JSON.stringify(_))}&code=${C}`,{method:"DELETE"}),await vl("ProdutosExcluidosPedidos",O.id)}}catch(_){console.error("Erro ao excluir produto do pedido no servidor:",_)}const T=await Ot("PedidosExcluidos");for(const O of T)try{const _=[{campo:"PedidoId",valor:O.pedidoId}];await fetch(`${g}/Pedidos?db=${b}&filtros=${encodeURIComponent(JSON.stringify(_))}&code=${C}`,{method:"DELETE"});const E=[{campo:"IDPedido",valor:O.pedidoId}];await fetch(`${g}/PedidoItens?db=${b}&filtros=${encodeURIComponent(JSON.stringify(E))}&code=${C}`,{method:"DELETE"}),await vl("PedidosExcluidos",O.id)}catch(_){console.error("Erro ao excluir pedido do servidor:",_)}}const bb=localStorage.getItem("apiProtocol")||"https",yb=localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443",tr=`${bb}://${yb}/api`,nr=localStorage.getItem("dbName")||"VNETPedidos",ar="vnetapi7474";function Vc(d,f,g){if(d==="Usuarios")return{Id:f.Id,Nome:f.Nome,Email:f.Email,Telefone:f.Telefone||"",Bio:f.Bio||"",Avatar:f.Avatar||""};if(d==="Produtos")return{IDProduto:f.id??"",Nome:f.name??"",Descricao:f.description??"",Preco:f.price??0,Categoria:f.category??"",Status:f.status??"",Imagem:f.image??"",Estoque:f.stock??0};if(d==="Pedidos"){let b="";try{const C=new Date(f.date);isNaN(C.getTime())?b=new Date().toISOString().slice(0,19).replace("T"," "):b=C.toISOString().slice(0,19).replace("T"," ")}catch{b=new Date().toISOString().slice(0,19).replace("T"," ")}return{Cliente:f.customer,Data:b,formaPagamento:f.formaPagamento,id:f.id,ItensCount:f.itemsCount,pedidoId:f.pedidoId,status:f.status,total:f.total,IDUsuario:g.id,Usuario:g.Nome,Endereco:f.address,Cidade:f.city,Cep:f.cep}}return d==="PedidoItens"?{IDPedido:f.pedidoId,IDProduto:f.id,Descricao:f.name,Quantidade:f.quantity,PrecoUnitario:f.price,Total:(f.price??0)*(f.quantity??1),Ordem:typeof f.Ordem<"u"?f.Ordem:null,itemUid:f.itemUid??null}:f}function yg({onBack:d,onSyncProdutos:f}){const[g,b]=be.useState({open:!1,message:"",title:""}),[C,w]=be.useState(!1),[T,O]=be.useState(!1),[_,E]=be.useState(!1),[B,M]=be.useState(!1);async function X(){M(!0);try{const ne=encodeURIComponent(JSON.stringify([{campo:"Descricao",operador:"like",valor:"%"}])),z=await fetch(`${tr}/Estoque?db=${nr}&campos=Codigo,Departamento,Obs,IDProduto,Foto,Descricao,Preco,Inativo,Quantidade&filtros=${ne}&code=${ar}`);if(!z.ok)throw new Error(await z.text());const L=await z.json(),G=await Ot("falcon_products_db"),$=L.map(K=>({id:K.IDProduto,name:K.Descricao,description:K.Obs??"",price:K.Preco,image:K.Foto??"",category:K.Departamento??"",stock:K.Quantidade??0,status:K.Inativo===1?"inativo":"ativo",Codigo:K.Codigo})),xe=[...G];$.forEach(K=>{const D=xe.findIndex(q=>q.id===K.id);D>=0?xe[D]={...xe[D],...K}:xe.push(K)}),await Sl("falcon_products_db"),await Ux("falcon_products_db",xe),f&&f(xe),b({open:!0,message:`Produtos importados: ${$.length}. Clique em OK para fechar.`,title:"Importao"})}catch(ne){b({open:!0,message:`Erro ao importar produtos: ${ne.message}`,title:"Erro"})}M(!1)}async function W(){w(!0);const ne=await Ot("falcon_users_db");let z=0,L=0,G=[],$=`Usurios encontrados: ${ne.length}
`;for(const xe of ne)try{const K=Vc("Usuarios",xe);let D=await fetch(`${tr}/Usuarios?db=${nr}&code=${ar}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(D.ok)z++;else{const q=await D.text();if(q.includes("duplicate key"))if(D=await fetch(`${tr}/Usuarios/${K.Id}?db=${nr}&code=${ar}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),D.ok)z++;else throw new Error(await D.text());else throw new Error(q)}}catch(K){L++,G.push(`Usuarios: ${K.message}`)}w(!1),b({open:!0,message:`${$}Usurios sincronizados: ${z}
Erros: ${L}
${G.join(`
`)}`,title:"Sincronizao"})}async function fe(){O(!0);let ne=await Ot("falcon_products_db"),z=0,L=0,G=[],$=ne.filter(xe=>xe.syncStatus==="novo"||xe.syncStatus==="alterado");for(const xe of $)try{const K=Vc("Produtos",xe);let D=await fetch(`${tr}/Produtos?db=${nr}&code=${ar}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)});if(D.ok)z++,xe.syncStatus="sincronizado";else{const q=await D.text();if(q.includes("duplicate key")||q.includes("Violation of PRIMARY KEY"))if(D=await fetch(`${tr}/Produtos?db=${nr}&campo=IDProduto&valor=${K.IDProduto}&code=${ar}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),D.ok)z++,xe.syncStatus="sincronizado";else throw new Error(await D.text());else throw new Error(q)}}catch(K){L++,G.push(`Produtos: ${K.message}`)}localStorage.setItem("falcon_products_db",JSON.stringify(ne)),await Sl("falcon_products_db"),await Promise.all(ne.map(xe=>Wn("falcon_products_db",xe))),O(!1),b({open:!0,message:`Produtos sincronizados: ${z}
Erros: ${L}
${G.join(`
`)}`,title:"Sincronizao"})}async function te(){E(!0),await Ff(),await bg();let ne=await Ot("falcon_orders_db"),z=0,L=0,G=[];const $=await Ot("falcon_user_logged"),xe=$&&$.length>0?$[0]:null;let K=ne.filter(D=>D.syncStatus==="novo"||D.syncStatus==="alterado");for(const D of K)try{const q=Vc("Pedidos",D,xe),F=[{campo:"PedidoId",valor:q.pedidoId}],ie=await fetch(`${tr}/Pedidos?db=${nr}&filtros=${encodeURIComponent(JSON.stringify(F))}&code=${ar}`);let re=!1;if(ie.ok)try{const Ae=await ie.json();re=Array.isArray(Ae)?Ae.length>0:!!Ae}catch{}let oe;if(re?oe=await fetch(`${tr}/Pedidos?db=${nr}&filtros=${encodeURIComponent(JSON.stringify(F))}&code=${ar}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}):oe=await fetch(`${tr}/Pedidos?db=${nr}&code=${ar}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(q)}),!oe.ok)throw new Error(await oe.text());for(const[Ae,Ee]of(D.items||[]).entries()){const Q={...Ee,Ordem:Ae},U=Vc("PedidoItens",Q,xe),J=[{campo:"IDPedido",valor:U.IDPedido},{campo:"IDProduto",valor:U.IDProduto}],ve=await fetch(`${tr}/PedidoItens?db=${nr}&filtros=${encodeURIComponent(JSON.stringify(J))}&code=${ar}`);let Re=!1;if(ve.ok)try{const Oe=await ve.json();Re=Array.isArray(Oe)?Oe.length>0:!!Oe}catch{}if(Re){let Oe=await fetch(`${tr}/PedidoItens?db=${nr}&filtros=${encodeURIComponent(JSON.stringify(J))}&code=${ar}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(!Oe.ok)throw new Error(await Oe.text())}else{let Oe=await fetch(`${tr}/PedidoItens?db=${nr}&code=${ar}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(!Oe.ok)throw new Error(await Oe.text())}}D.syncStatus="sincronizado",D.status="Sincronizado",z++}catch(q){L++,G.push(`Pedido ${D.id}: ${q.message}`)}localStorage.setItem("falcon_orders_db",JSON.stringify(ne)),await Sl("falcon_orders_db"),await Promise.all(ne.map(D=>Wn("falcon_orders_db",D))),E(!1),b({open:!0,message:`Pedidos sincronizados: ${z}
Erros: ${L}
${G.join(`
`)}`,title:"Sincronizao"})}return p.jsxs("div",{className:"flex flex-col min-h-screen bg-[#181C23] text-white dark:bg-[#181C23] bg-[#F5F6FA] dark:text-white text-[#181C23]",children:[p.jsxs("div",{className:"w-full flex items-center px-6 py-4 border-b border-[#232733] dark:border-border-dark",children:[p.jsx("button",{onClick:d,className:"text-[#181C23] dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-[#232733]/10 dark:hover:bg-white/10 rounded-full","aria-label":"Voltar",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),p.jsx("h1",{className:"flex-1 text-lg font-bold text-center",children:"Sincronizao de Dados"})]}),p.jsx("div",{className:"flex flex-1 items-center justify-center",children:p.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-6 w-full max-w-xl px-4",children:[p.jsxs("button",{onClick:W,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[p.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${C?" blinking-icon":""}`,children:"person"}),p.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Sincronizar Usurios"})]}),p.jsxs("button",{onClick:fe,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[p.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${T?" blinking-icon":""}`,children:"inventory_2"}),p.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Sincronizar Produtos"})]}),p.jsxs("button",{onClick:te,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[p.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${_?" blinking-icon":""}`,children:"assignment"}),p.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Sincronizar Pedidos"})]}),p.jsxs("button",{onClick:X,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[p.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${B?" blinking-icon":""}`,children:"cloud_download"}),p.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Importar Produtos do Servidor"})]})]})}),p.jsxs(ui,{isOpen:g.open,onClose:()=>b({...g,open:!1}),title:g.title||"Sincronizao",children:[p.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:g.message}),p.jsx("div",{className:"flex justify-end mt-4",children:p.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded",onClick:()=>b({...g,open:!1}),children:"OK"})})]})]})}const wg=Object.freeze(Object.defineProperty({__proto__:null,default:yg,processarExclusoesPedidosServidor:Ff,verificarPedidosProcessadosServidor:bg},Symbol.toStringTag,{value:"Module"})),jx=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),wb=({cart:d,onBack:f,onComplete:g,editingOrder:b,onSyncOrdersUpdate:C})=>{const w=d.reduce((G,$)=>G+$.price*$.quantity,0),T=w,O=be.useRef(null),_=be.useRef(null),E=be.useRef(null),B=be.useRef(null),[M,X]=Ue.useState("Nenhum");be.useEffect(()=>{if(b&&(O.current&&(O.current.value=b.customer||""),_.current&&(_.current.value=b.address||""),E.current&&(E.current.value=b.city||""),B.current&&(B.current.value=b.cep||""),b.formaPagamento)){const G=["Nenhum","Dinheiro","Carto","Pix"].find($=>$.toLowerCase()===(b.formaPagamento||"").toLowerCase());G&&X(G)}},[b]);const[W,fe]=be.useState({open:!1,message:"",title:""}),[te,ne]=be.useState(!1);async function z(){ne(!0);const G=localStorage.getItem("apiProtocol")||"https",$=localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443",xe=`${G}://${$}/api`,K=localStorage.getItem("dbName")||"VNETPedidos",D="vnetapi7474";function q(F,ie,re){if(F==="Pedidos"){let oe="";try{const Ae=new Date(ie.date);isNaN(Ae.getTime())?oe=new Date().toISOString().slice(0,19).replace("T"," "):oe=Ae.toISOString().slice(0,19).replace("T"," ")}catch{oe=new Date().toISOString().slice(0,19).replace("T"," ")}return{Cliente:ie.customer,Data:oe,formaPagamento:ie.formaPagamento,id:ie.id,ItensCount:ie.itemsCount,pedidoId:ie.pedidoId,status:ie.status,total:ie.total,IDUsuario:re.id,Usuario:re.Nome,Endereco:ie.address,Cidade:ie.city,Cep:ie.cep}}return F==="PedidoItens"?{IDPedido:ie.pedidoId,IDProduto:ie.id,Descricao:ie.name,Quantidade:ie.quantity,PrecoUnitario:ie.price,Total:(ie.price??0)*(ie.quantity??1),Ordem:typeof ie.Ordem<"u"?ie.Ordem:null,itemUid:ie.itemUid??null}:ie}try{let F=await Ot("falcon_orders_db");const ie=await Ot("falcon_user_logged"),re=ie&&ie.length>0?ie[0]:null;let oe=F.filter(U=>U.syncStatus==="novo"||U.syncStatus==="alterado"),Ae=0,Ee=0,Q=[];for(const U of oe)try{const J=q("Pedidos",U,re),ve=[{campo:"PedidoId",valor:J.pedidoId}],Re=await fetch(`${xe}/Pedidos?db=${K}&filtros=${encodeURIComponent(JSON.stringify(ve))}&code=${D}`);let Oe=!1;if(Re.ok)try{const ue=await Re.json();Oe=Array.isArray(ue)?ue.length>0:!!ue}catch{}let H;if(Oe?H=await fetch(`${xe}/Pedidos?db=${K}&filtros=${encodeURIComponent(JSON.stringify(ve))}&code=${D}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(J)}):H=await fetch(`${xe}/Pedidos?db=${K}&code=${D}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(J)}),!H.ok)throw new Error(await H.text());for(const[ue,_e]of(U.items||[]).entries()){const je={..._e,Ordem:ue,itemUid:_e.itemUid},Fe=q("PedidoItens",je,re),Se=[{campo:"IDPedido",valor:Fe.IDPedido},{campo:"IDProduto",valor:Fe.IDProduto}],tt=await fetch(`${xe}/PedidoItens?db=${K}&filtros=${encodeURIComponent(JSON.stringify(Se))}&code=${D}`);let ye=!1;if(tt.ok)try{const He=await tt.json();ye=Array.isArray(He)?He.length>0:!!He}catch{}if(ye){let He=await fetch(`${xe}/PedidoItens?db=${K}&filtros=${encodeURIComponent(JSON.stringify(Se))}&code=${D}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Fe)});if(!He.ok)throw new Error(await He.text())}else{let He=await fetch(`${xe}/PedidoItens?db=${K}&code=${D}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Fe)});if(!He.ok)throw new Error(await He.text())}}U.syncStatus="sincronizado",U.status="Sincronizado",Ae++}catch(J){Ee++,Q.push(`Pedido ${U.id}: ${J.message}`)}await Sl("falcon_orders_db"),await Promise.all(F.map(U=>Wn("falcon_orders_db",U))),fe({open:!0,message:`Pedidos sincronizados: ${Ae}
Erros: ${Ee}
${Q.join(`
`)}`,title:"Sincronizao"}),typeof C=="function"&&C()}catch(F){fe({open:!0,message:`Erro ao sincronizar pedidos: ${F.message}`,title:"Erro"})}ne(!1)}const L=()=>{var D,q,F,ie;const G=((D=O.current)==null?void 0:D.value)||"",$=((q=_.current)==null?void 0:q.value)||"",xe=((F=E.current)==null?void 0:F.value)||"",K=((ie=B.current)==null?void 0:ie.value)||"";g({customer:G,address:$,city:xe,cep:K,paymentMethod:M,status:"Pendente"}),localStorage.getItem("autoSyncPedido")==="true"&&Ff().finally(()=>{setTimeout(async()=>{await z();try{const{verificarPedidosProcessadosServidor:re}=await fs(async()=>{const{verificarPedidosProcessadosServidor:oe}=await Promise.resolve().then(()=>wg);return{verificarPedidosProcessadosServidor:oe}},void 0);typeof re=="function"&&(await re(),typeof C=="function"&&C())}catch{}},500)})};return p.jsxs("div",{className:"flex flex-col h-full",children:[p.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between px-4 py-3 bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark shadow-sm",children:[p.jsx("button",{onClick:f,className:"text-slate-900 dark:text-white p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:p.jsx("span",{className:"material-symbols-outlined",children:"arrow_back_ios_new"})}),p.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:b?"Editar Pedido":"Pagamento"}),p.jsx("div",{className:"w-8"})]}),p.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24",children:[p.jsxs("section",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4 text-slate-900 dark:text-white",children:"Resumo do Pedido"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between text-text-secondary-light dark:text-text-secondary-dark",children:[p.jsx("span",{children:"Subtotal"}),p.jsx("span",{className:"text-slate-900 dark:text-white",children:jx(w)})]}),p.jsx("div",{className:"border-t border-border-light dark:border-border-dark my-3"}),p.jsxs("div",{className:"flex justify-between font-bold text-slate-900 dark:text-white text-lg",children:[p.jsx("span",{children:"Total"}),p.jsx("span",{children:jx(T)})]})]})]}),p.jsxs("section",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Endereo de Entrega"}),p.jsx("button",{className:"text-primary text-sm font-medium hover:underline",children:"Alterar"})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsx("input",{ref:O,className:"w-full bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Nome Completo",defaultValue:""}),p.jsx("input",{ref:_,className:"w-full bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Endereo",defaultValue:""}),p.jsxs("div",{className:"flex space-x-3",children:[p.jsx("input",{ref:E,className:"w-1/2 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Cidade",defaultValue:""}),p.jsx("input",{ref:B,className:"w-1/2 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"CEP",defaultValue:""})]})]})]}),p.jsxs("section",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm",children:[p.jsx("h2",{className:"text-lg font-semibold mb-4 text-slate-900 dark:text-white",children:"Forma de Pagamento"}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[p.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Nenhum",checked:M==="Nenhum",onChange:()=>X("Nenhum")}),p.jsx("span",{className:"material-symbols-outlined mx-3 text-text-secondary-light dark:text-text-secondary-dark",children:"block"}),p.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Nenhum"})]}),p.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[p.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Dinheiro",checked:M==="Dinheiro",onChange:()=>X("Dinheiro")}),p.jsx("span",{className:"material-symbols-outlined mx-3 text-green-500",children:"attach_money"}),p.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Dinheiro"})]}),p.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[p.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Carto",checked:M==="Carto",onChange:()=>X("Carto")}),p.jsx("span",{className:"material-symbols-outlined mx-3 text-blue-500",children:"credit_card"}),p.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Carto"})]}),p.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[p.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Pix",checked:M==="Pix",onChange:()=>X("Pix")}),p.jsx("span",{className:"material-symbols-outlined mx-3 text-purple-500",children:"qr_code_2"}),p.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Pix"})]})]})]}),p.jsx("div",{className:"pt-2",children:p.jsx("button",{onClick:L,className:"w-full bg-primary text-white font-bold py-3 rounded-lg text-lg shadow-md hover:bg-blue-600 transition-colors duration-200 active:scale-95",children:"Finalizar Pedido"})})]}),W.open&&p.jsxs(ui,{isOpen:W.open,onClose:()=>fe({...W,open:!1}),title:W.title,children:[p.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:W.message}),p.jsx("div",{className:"flex justify-end mt-4",children:p.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded",onClick:()=>fe({...W,open:!1}),children:"OK"})})]})]})},Cb={avatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuCmtYBGg27cUA8Az6-R5ao1qFDVklEQMZSu2fF-mjGQ6Rr48DEO2WTkscl3GByvyCA3T6zJAL2DO1oddajH8uwx7s32K3OmUCO935ZQROKdM_da1NlVg6WIWQhKopw7kLBb7YAn7og5GJUU3YFQiaH9VoPoctFBDRcN4phQQYQXjJjmjdouDTt-6SIN_b8pL_Zn37l8GbBT-A0eoneiBi3PHQkHXVlKGPaFkP17AGplUvr2RJ0aBklgK22cz23EgSsOVavWYGKlnD4K"},Lx=[{id:"1",sender:"Diana",avatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuAy54Q84nDigdhGJjVgDtj8HFCehcjGm53oMv-H4UIjkjdy5J5QdBz90VK09S-6luF1QkrNq0X5WBpki9oSQWtbS2vWc4so_Atf1J9Vq3zXw7-sBvWIwtG1XjlgxNRSO7mcpEqBO1-c-r8IxFZiAhUTbmaVtKhHqDBGPu1pMnHF0WW8vaCxOW37iY58bjT6iP03IRJjey0EyyKAQg2w6w1K4rgzSZ8vHaqfdBWfRr_nXt7QRDjFgOeTphkrN5iIU5lKAyBmbZDExYe7",date:"26 Mar",subject:"Resumo Dirio de Trabalho",preview:"E eles provavelmente faro muito estrago em um...",isUnread:!0,isStarred:!0},{id:"2",sender:"Equipe Unsplash",avatar:"",date:"25 Mar",subject:"Participe do Dia Internacional da Mulher",preview:"Junte-se a ns para celebrar...",isUnread:!0,isStarred:!1,labels:[{text:"Inverno",icon:"photo_camera",colorClass:"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400"},{text:"Caf",icon:"coffee",colorClass:"bg-orange-100 text-orange-700 dark:bg-orange-900/50 dark:text-orange-400"}]},{id:"3",sender:"Goodreads",avatar:"",date:"05 Mar",subject:"Newsletter Goodreads: 5 de Maro",preview:"Os livros mais aguardados da primavera...",isUnread:!0,isStarred:!1},{id:"4",sender:"GitHub",avatar:"",date:"11:50",subject:"[GitHub] Inscrito em tech/photogallery",preview:"Voc foi inscrito em...",isUnread:!1,isStarred:!0},{id:"5",sender:"Coursera",avatar:"",date:"03 Mar",subject:"Recomendado: Desenvolvimento Server-side",preview:"Melhore suas habilidades com este curso...",isUnread:!1,isStarred:!1}],Eb=({onOpenSidebar:d})=>p.jsxs("div",{className:"flex flex-col h-screen bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-200",children:[p.jsxs("header",{className:"p-4 flex items-center justify-between border-b border-border-light dark:border-border-dark sticky top-0 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm z-10",children:[p.jsx("button",{onClick:d,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800",children:p.jsx("span",{className:"material-symbols-outlined text-slate-600 dark:text-slate-400",children:"menu"})}),p.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Caixa de Entrada"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("button",{className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800",children:p.jsx("span",{className:"material-symbols-outlined text-slate-600 dark:text-slate-400",children:"add_circle"})}),p.jsx("img",{alt:"User avatar",className:"h-8 w-8 rounded-full border border-border-dark",src:Cb.avatar})]})]}),p.jsxs("main",{className:"flex-1 p-4 space-y-6 overflow-y-auto pb-24",children:[p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500",children:"search"}),p.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-surface-dark border-transparent focus:border-primary focus:ring-primary rounded-lg text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm",placeholder:"Buscar e-mails...",type:"text"})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xs font-bold uppercase text-slate-400 dark:text-slate-500 mb-3 px-2",children:"No Lidos"}),p.jsx("div",{className:"bg-white dark:bg-surface-dark/50 rounded-lg shadow-sm divide-y divide-border-light dark:divide-border-dark",children:Lx.filter(f=>f.isUnread).map(f=>p.jsxs("div",{className:"flex items-start p-4 hover:bg-gray-50 dark:hover:bg-slate-800/80 transition-colors cursor-pointer",children:[f.avatar?p.jsx("img",{alt:f.sender,className:"h-10 w-10 rounded-full mr-4 object-cover",src:f.avatar}):p.jsx("div",{className:"w-10 h-10 mr-4 flex-shrink-0 bg-black dark:bg-white/10 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white font-bold",children:f.sender[0]})}),p.jsxs("div",{className:"flex-grow min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 truncate",children:f.sender}),p.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0 ml-2",children:f.date})]}),p.jsx("p",{className:`text-sm ${f.labels?"font-semibold text-primary":"text-slate-600 dark:text-slate-300"} truncate`,children:f.subject}),f.labels&&p.jsx("div",{className:"mt-2 flex items-center gap-2",children:f.labels.map((g,b)=>p.jsxs("span",{className:`text-xs px-2 py-1 rounded-full flex items-center gap-1 ${g.colorClass}`,children:[p.jsx("span",{className:"material-symbols-outlined !text-sm",children:g.icon})," ",g.text]},b))}),!f.labels&&p.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 truncate",children:f.preview})]}),p.jsx("span",{className:`material-symbols-outlined ml-4 flex-shrink-0 ${f.isStarred?"filled text-amber-500":"text-slate-300"}`,children:"star"})]},f.id))})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xs font-bold uppercase text-slate-400 dark:text-slate-500 mb-3 px-2",children:"Outros"}),p.jsx("div",{className:"bg-white dark:bg-surface-dark/50 rounded-lg shadow-sm divide-y divide-border-light dark:divide-border-dark",children:Lx.filter(f=>!f.isUnread).map(f=>p.jsxs("div",{className:"flex items-center p-4 hover:bg-gray-50 dark:hover:bg-slate-800/80 transition-colors cursor-pointer",children:[p.jsx("div",{className:`w-10 h-10 mr-4 flex-shrink-0 rounded-full flex items-center justify-center text-white font-bold ${f.sender==="Goodreads"?"bg-amber-900":f.sender==="Coursera"?"bg-blue-600":"bg-gray-700"}`,children:f.sender[0]}),p.jsxs("div",{className:"flex-grow min-w-0",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 truncate",children:f.sender}),p.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0 ml-2",children:f.date})]}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 truncate",children:f.subject}),p.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 truncate",children:f.preview})]}),p.jsx("span",{className:`material-symbols-outlined ml-4 flex-shrink-0 ${f.isStarred?"filled text-amber-500":"text-slate-300 dark:text-slate-600"}`,children:"star"})]},f.id))})]})]})]}),Ab=({onBack:d,onProductAdded:f})=>{const[g,b]=be.useState(!1),[C,w]=be.useState(null),[T,O]=be.useState(""),[_,E]=be.useState(""),[B,M]=be.useState(""),[X,W]=be.useState(""),[fe,te]=be.useState(""),[ne,z]=be.useState(1),[L,G]=be.useState([]),[$,xe]=be.useState("");be.useEffect(()=>{Ot("falcon_categories_db").then(q=>G(q))},[]);const K=q=>{var ie;const F=(ie=q.target.files)==null?void 0:ie[0];if(F){const re=new window.Image,oe=new FileReader;oe.onload=Ae=>{var Ee;re.src=(Ee=Ae.target)==null?void 0:Ee.result,re.onload=()=>{const Q=document.createElement("canvas"),ve=Math.min(800/re.width,800/re.height,1);Q.width=re.width*ve,Q.height=re.height*ve;const Re=Q.getContext("2d");if(Re){Re.drawImage(re,0,0,Q.width,Q.height);const Oe=Re.getImageData(0,0,Q.width,Q.height);let H=!1;for(let _e=3;_e<Oe.data.length;_e+=4)if(Oe.data[_e]<255){H=!0;break}let ue;H?ue=Q.toDataURL("image/png"):ue=Q.toDataURL("image/jpeg",ne),w(ue)}}},oe.readAsDataURL(F)}},D=()=>{if(!T||!B)return alert("Preencha todos os campos obrigatrios!");Ot("falcon_products_db").then(q=>{let F=fe;if(!F){const re=q.map(oe=>Number(oe.Codigo)).filter(oe=>!isNaN(oe));F=re.length>0?String(Math.max(...re)+1):"1"}const ie={id:El(),name:T,description:_,price:parseFloat(B.replace(",",".")),image:C||"",category:$,status:"Ativo",stock:X?parseInt(X):0,Codigo:F,syncStatus:"novo"};Wn("falcon_products_db",ie).then(()=>{f&&f(ie),d()})})};return p.jsxs("div",{className:"relative flex flex-col h-full bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display",children:[p.jsxs("div",{className:"sticky top-0 z-10 flex items-center bg-white dark:bg-background-dark p-4 pb-2 justify-between border-b border-border-light dark:border-border-dark",children:[p.jsx("button",{onClick:d,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),p.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Cadastrar Produto"})]}),p.jsx("main",{className:"flex-grow px-4 overflow-y-auto pb-36",children:p.jsxs("div",{className:"flex flex-col gap-4 py-3 max-w-2xl mx-auto",children:[p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Cdigo"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Deixe vazio para gerar automaticamente",value:fe,onChange:q=>te(q.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Nome"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"ex: Fones de Ouvido Sem Fio",value:T,onChange:q=>O(q.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Descrio"}),p.jsx("textarea",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary min-h-36 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Insira as principais caractersticas e detalhes...",value:_,onChange:q=>E(q.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Categoria"}),p.jsxs("select",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",value:$,onChange:q=>xe(q.target.value),children:[p.jsx("option",{value:"",children:"Selecione uma categoria"}),L.map(q=>p.jsx("option",{value:q.id,children:q.name},q.id))]})]}),p.jsxs("div",{className:"flex w-full flex-wrap items-end gap-4",children:[p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Preo"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",inputMode:"decimal",placeholder:"ex: R$ 299.99",type:"text",value:B,onChange:q=>M(q.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Quantidade em Estoque"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",inputMode:"numeric",placeholder:"ex: 50",type:"number",value:X,onChange:q=>W(q.target.value)})]})]}),p.jsxs("div",{className:"pt-4 pb-2",children:[p.jsx("h3",{className:"text-white text-lg font-bold leading-tight tracking-[-0.015em] pb-2",children:"Imagens do Produto"}),p.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[p.jsx("span",{className:"text-sm text-white",children:"Qualidade da foto:"}),p.jsxs("select",{value:ne,onChange:q=>z(Number(q.target.value)),className:"rounded px-2 py-1 bg-surface-dark text-white border border-border-dark",children:[p.jsx("option",{value:.5,children:"Baixa"}),p.jsx("option",{value:.7,children:"Mdia"}),p.jsx("option",{value:1,children:"Alta"})]})]}),p.jsx("div",{className:"flex items-center gap-3 mb-3",children:p.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-primary text-white cursor-pointer hover:bg-blue-700 transition-colors",children:[p.jsx("span",{className:"material-symbols-outlined text-xl",children:"photo_camera"}),p.jsx("span",{className:"text-sm font-medium",children:"Tirar Foto"}),p.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:K})]})}),p.jsx("div",{className:"flex items-center justify-center w-full",children:p.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-border-dark border-dashed rounded-xl cursor-pointer bg-surface-dark hover:bg-primary/10 hover:border-primary transition-all group",children:[p.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[p.jsx("span",{className:"material-symbols-outlined text-text-secondary-dark text-4xl mb-2 group-hover:text-primary transition-colors",children:"add_photo_alternate"}),p.jsx("p",{className:"mb-2 text-sm text-text-secondary-dark",children:p.jsx("span",{className:"font-semibold",children:"Toque para adicionar fotos"})}),p.jsx("p",{className:"text-xs text-text-secondary-dark",children:"PNG, JPG ou GIF"})]}),p.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",accept:"image/*",onChange:K})]})}),C&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col items-center mt-4 gap-2",children:[p.jsx("img",{src:C,alt:"Preview",className:"h-24 w-24 rounded-lg object-cover border border-border-dark"}),p.jsxs("div",{className:"flex gap-3 mt-2",children:[p.jsxs("button",{type:"button",onClick:()=>b(!0),className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-slate-700 dark:text-white hover:bg-primary/10",children:[p.jsx("span",{className:"material-symbols-outlined text-base",children:"visibility"}),p.jsx("span",{className:"text-xs",children:"Visualizar"})]}),p.jsxs("label",{className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-slate-700 dark:text-white cursor-pointer hover:bg-primary/10",children:[p.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"}),p.jsx("span",{className:"text-xs",children:"Alterar"}),p.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:K})]}),p.jsxs("button",{type:"button",onClick:()=>w(null),className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/20",children:[p.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"}),p.jsx("span",{className:"text-xs",children:"Remover"})]})]})]}),g&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70",children:p.jsxs("div",{className:"bg-white dark:bg-background-dark rounded-lg p-4 shadow-lg flex flex-col items-center",children:[p.jsx("img",{src:C,alt:"Visualizao",className:"w-[90vw] h-[80vh] rounded-lg object-contain border border-border-dark"}),p.jsx("button",{onClick:()=>b(!1),className:"mt-4 px-4 py-2 rounded bg-primary text-white font-medium hover:bg-blue-700",children:"Fechar"})]})})]})]})]})}),p.jsx("footer",{className:"fixed bottom-16 left-0 w-full bg-white dark:bg-background-dark p-4 pt-2 pb-6 border-t border-border-light dark:border-border-dark z-40 lg:static lg:bg-transparent lg:border-none",children:p.jsx("button",{onClick:D,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95 max-w-2xl mx-auto",children:"Salvar Produto"})})]})},vb=({onBack:d})=>{const[f,g]=be.useState(""),[b,C]=be.useState(""),[w,T]=be.useState(""),[O,_]=be.useState(""),[E,B]=be.useState(""),[M,X]=be.useState({}),[W,fe]=be.useState(!0);be.useEffect(()=>{(async()=>{const L=await Ot("falcon_user_logged");if(L&&L.length>0){const G=L[0];X(G),g(G.Avatar||""),C(G.Nome||""),T(G.Email||""),_(G.Telefone||""),B(G.Bio||"")}fe(!1)})()},[]);const te=z=>{var G;const L=(G=z.target.files)==null?void 0:G[0];if(L){const $=new FileReader;$.onload=xe=>{var K;g((K=xe.target)==null?void 0:K.result)},$.readAsDataURL(L)}},ne=()=>{const z={...M,Avatar:f,Nome:b,Email:w,Telefone:O,Bio:E};Wn("falcon_user_logged",z).then(()=>{Wn("falcon_users_db",z).then(()=>{d()})})};return W?p.jsx("div",{style:{color:"white",textAlign:"center",marginTop:40},children:"Carregando..."}):p.jsxs("div",{className:"relative flex flex-col h-full bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display",children:[p.jsxs("div",{className:"sticky top-0 z-10 flex items-center bg-white dark:bg-background-dark p-4 pb-2 justify-between border-b border-border-light dark:border-border-dark",children:[p.jsx("button",{onClick:d,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),p.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Editar Perfil"})]}),p.jsx("main",{className:"flex-grow px-4 overflow-y-auto pb-24",children:p.jsxs("div",{className:"flex flex-col gap-4 py-3 max-w-2xl mx-auto",children:[p.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:p.jsxs("div",{className:"relative group cursor-pointer",children:[p.jsx("img",{alt:"User profile picture",className:"h-28 w-28 rounded-full object-cover border-4 border-surface-dark",src:f||"https://ui-avatars.com/api/?name="+encodeURIComponent(b)}),p.jsxs("label",{className:"absolute bottom-0 right-0 flex h-8 w-8 items-center justify-center rounded-full border-2 border-background-dark bg-primary text-white hover:scale-110 transition-transform cursor-pointer",children:[p.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"}),p.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:te})]})]})}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Nome Completo"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Digite seu nome completo",value:b,onChange:z=>C(z.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"E-mail"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Digite seu e-mail",type:"email",value:w,onChange:z=>T(z.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Telefone"}),p.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Digite seu telefone",type:"tel",value:O,onChange:z=>_(z.target.value)})]}),p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Biografia"}),p.jsx("textarea",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary min-h-28 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Conte um pouco sobre voc...",value:E,onChange:z=>B(z.target.value)})]})]})}),p.jsx("footer",{className:"fixed bottom-16 left-0 w-full bg-white dark:bg-background-dark p-4 pt-2 pb-6 border-t border-border-light dark:border-border-dark z-40 lg:static lg:bg-transparent lg:border-none",children:p.jsx("button",{onClick:ne,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95 max-w-2xl mx-auto",children:"Salvar Alteraes"})})]})},Sb=({onOpenSidebar:d,onNavigate:f})=>{const[g,b]=be.useState([]);be.useEffect(()=>{const Me=async()=>{const Zt=await Ot("falcon_products_db");b(Zt)};Me();const Ke=()=>Me();return window.addEventListener("focus",Ke),()=>window.removeEventListener("focus",Ke)},[]);const[C,w]=be.useState("Todos"),[T,O]=be.useState([]),[_,E]=be.useState({});be.useEffect(()=>{Ot("falcon_categories_db").then(Me=>{O(Me);const Ke={};Me.forEach(Zt=>{Ke[Zt.id]=Zt.name}),E(Ke)})},[]);const[B,M]=be.useState("Todos"),[X,W]=be.useState(""),[fe,te]=be.useState(null),[ne,z]=be.useState(null),[L,G]=be.useState(""),[$,xe]=be.useState(""),[K,D]=be.useState(""),[q,F]=be.useState("Ativo"),[ie,re]=be.useState(""),[oe,Ae]=be.useState(1),[Ee,Q]=be.useState(""),[U,J]=be.useState(!1),[ve,Re]=be.useState(!1),[Oe,H]=be.useState(null);be.useEffect(()=>{Ot("falcon_user_logged").then(Me=>{H(Me&&Me.length>0?Me[0]:null)})},[]),be.useMemo(()=>["Todos",...Array.from(new Set(g.map(Ke=>Ke.category).filter(Boolean))),"Sem Categoria"],[g,_]);const ue=be.useMemo(()=>["Todos",...Array.from(new Set(g.map(Me=>Me.status||"Desconhecido"))).sort()],[g]),_e=be.useMemo(()=>g.filter(Me=>{const Ke=Me.name.toLowerCase().includes(X.toLowerCase());let Zt=!0;C!=="Todos"&&(C==="Sem Categoria"?Zt=!Me.category:Zt=Me.category===C);const ut=B==="Todos"||(Me.status||"Desconhecido")===B;return Ke&&Zt&&ut}),[X,C,B,g]),je=()=>{w("Todos"),M("Todos"),W(""),te(null)},Fe=C!=="Todos"||B!=="Todos",Se=Me=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Me),tt=Me=>{z(Me),G(Me.name),xe(Me.price.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})),D(Me.category||""),F(Me.status||"Ativo"),re(Me.image||""),Q(Me.Codigo||""),J(!0)},ye=Me=>{var Zt;const Ke=(Zt=Me.target.files)==null?void 0:Zt[0];if(Ke){const ut=new window.Image,ft=new FileReader;ft.onload=rt=>{var la;ut.src=typeof((la=rt.target)==null?void 0:la.result)=="string"?rt.target.result:"",ut.onload=()=>{const ze=document.createElement("canvas"),Bt=Math.min(800/ut.width,800/ut.height,1);ze.width=ut.width*Bt,ze.height=ut.height*Bt;const Jn=ze.getContext("2d");if(Jn){Jn.drawImage(ut,0,0,ze.width,ze.height);const kn=Jn.getImageData(0,0,ze.width,ze.height);let lr=!1;for(let pn=3;pn<kn.data.length;pn+=4)if(kn.data[pn]<255){lr=!0;break}let Bn;lr?Bn=ze.toDataURL("image/png"):Bn=ze.toDataURL("image/jpeg",oe),re(Bn)}}},ft.readAsDataURL(Ke)}},He=()=>{if(!ne)return;const Me={...ne,name:L,price:parseFloat($.replace(".","").replace(",",".")),category:K,status:q,image:ie,Codigo:Ee,syncStatus:"alterado"};Wn("falcon_products_db",Me).then(()=>{b(Ke=>{const Zt=Ke.findIndex(ut=>ut.id===Me.id);if(Zt>=0){const ut=[...Ke];return ut[Zt]=Me,ut}else return[...Ke,Me]}),J(!1),Re(!0)})},Et=()=>{if(!ne)return;const Me=g.filter(Ke=>Ke.id!==ne.id);Sl("falcon_products_db").then(()=>{Promise.all(Me.map(Ke=>Wn("falcon_products_db",Ke))).then(()=>{b(Me),J(!1),Re(!0)})})},[wt,Rt]=be.useState(!1),st=C==="Todos"?"Todas Categorias":C==="Sem Categoria"?"Sem Categoria":_[C]||"Categoria desconhecida";return p.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[fe&&p.jsx("div",{className:"fixed inset-0 z-10 cursor-default",onClick:()=>te(null)}),p.jsx("header",{className:"flex-shrink-0 bg-surface-light dark:bg-surface-dark/80 backdrop-blur-sm border-b border-border-light dark:border-border-dark",children:p.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex h-16 items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:d,className:"lg:hidden text-text-secondary-light dark:text-text-secondary-dark",children:p.jsx("span",{className:"material-symbols-outlined",children:"menu"})}),p.jsx("h1",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Gerenciamento de Produtos"})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("button",{className:"relative text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:[p.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),p.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"})]}),Oe!=null&&Oe.Avatar?p.jsx("img",{alt:"User avatar",className:"h-8 w-8 rounded-full border border-border-dark",src:Oe.Avatar}):p.jsx("div",{className:"h-8 w-8 rounded-full border border-border-dark bg-slate-200 flex items-center justify-center",children:p.jsx("span",{className:"material-symbols-outlined text-lg text-gray-400",children:"image_not_supported"})})]})]})})}),p.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pb-24",children:p.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[p.jsxs("div",{className:"relative flex-1 w-full sm:w-auto",children:[p.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark",children:"search"}),p.jsx("input",{value:X,onChange:Me=>W(Me.target.value),className:"w-full rounded-lg border-border-light dark:border-border-dark bg-white dark:bg-surface-dark pl-10 pr-4 py-2.5 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-primary focus:border-primary shadow-sm",placeholder:"Buscar produtos...",type:"text"})]}),p.jsxs("button",{onClick:()=>f("addProduct"),className:"w-full sm:w-auto flex items-center justify-center gap-2 rounded-lg bg-primary px-4 py-2.5 text-white font-semibold shadow-sm hover:bg-blue-600 transition-colors",children:[p.jsx("span",{className:"material-symbols-outlined text-xl",children:"add"}),p.jsx("span",{children:"Novo Produto"})]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-4 bg-white dark:bg-surface-dark p-4 rounded-lg border border-border-light dark:border-border-dark shadow-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:[p.jsx("span",{className:"material-symbols-outlined text-lg",children:"filter_list"}),p.jsx("span",{children:"Filtros Rpidos:"})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("button",{type:"button",className:"inline-flex justify-between items-center w-48 rounded-md border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark px-4 py-2 text-sm font-medium text-slate-800 dark:text-slate-200 shadow-sm hover:bg-primary/10 focus:outline-none",onClick:()=>Rt(Me=>!Me),children:[p.jsx("span",{className:"truncate",children:st}),p.jsx("span",{className:"material-symbols-outlined ml-2 text-base",children:"expand_more"})]}),wt&&p.jsx("div",{className:"absolute z-20 mt-1 w-48 rounded-md bg-white dark:bg-surface-dark shadow-lg ring-1 ring-black ring-opacity-5",children:p.jsxs("ul",{className:"py-1",children:[p.jsx("li",{children:p.jsx("button",{className:`w-full text-left px-4 py-2 text-sm ${C==="Todos"?"bg-primary/10 font-semibold":""}`,onClick:()=>{w("Todos"),Rt(!1)},children:"Todas Categorias"})}),T.map(Me=>p.jsx("li",{children:p.jsx("button",{className:`w-full text-left px-4 py-2 text-sm ${C===Me.id?"bg-primary/10 font-semibold":""}`,onClick:()=>{w(Me.id),Rt(!1)},children:Me.name})},Me.id)),p.jsx("li",{children:p.jsx("button",{className:`w-full text-left px-4 py-2 text-sm ${C==="Sem Categoria"?"bg-primary/10 font-semibold":""}`,onClick:()=>{w("Sem Categoria"),Rt(!1)},children:"Sem Categoria"})})]})})]}),p.jsx("select",{value:B,onChange:Me=>M(Me.target.value),className:"rounded-md border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-200 text-sm focus:ring-primary focus:border-primary py-1.5 pl-3 pr-8",children:ue.map(Me=>p.jsx("option",{value:Me,children:Me==="Todos"?"Todos Status":Me},Me))}),Fe&&p.jsxs("button",{onClick:je,className:"ml-auto text-sm text-red-500 hover:text-red-600 font-medium flex items-center gap-1",children:[p.jsx("span",{className:"material-symbols-outlined text-base",children:"close"}),"Limpar"]})]}),p.jsx("div",{className:"rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark shadow-sm",children:p.jsx(_p,{style:{height:600},data:_e,components:{Scroller:Me=>p.jsx("div",{...Me,className:"overflow-auto custom-scrollbar"}),Table:Me=>p.jsxs("table",{style:{tableLayout:"fixed"},className:"w-full table-fixed divide-y divide-border-light dark:divide-border-dark relative",...Me,children:[p.jsxs("colgroup",{children:[p.jsx("col",{style:{width:"48px"}}),p.jsx("col",{}),p.jsx("col",{className:"hidden sm:table-column",style:{width:"200px"}}),p.jsx("col",{className:"hidden sm:table-column",style:{width:"120px"}}),p.jsx("col",{style:{width:"120px"}}),p.jsx("col",{style:{width:"48px"}})]}),Me.children]})},fixedHeaderContent:()=>p.jsxs("tr",{className:"bg-gray-50 dark:bg-slate-800/50",children:[p.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left",children:p.jsx("input",{className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary bg-white dark:bg-surface-dark",type:"checkbox"})}),p.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Produto"}),p.jsx("th",{scope:"col",className:"hidden sm:table-cell py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Categoria"}),p.jsx("th",{scope:"col",className:"hidden sm:table-cell py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Status"}),p.jsx("th",{scope:"col",className:"py-3.5 px-3 text-right text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Preo"}),p.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4",children:p.jsx("span",{className:"sr-only",children:"Editar"})})]}),itemContent:(Me,Ke)=>p.jsxs(p.Fragment,{children:[p.jsx("td",{className:"py-4 pl-4 pr-3",children:p.jsx("input",{className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary bg-white dark:bg-surface-dark",type:"checkbox"})}),p.jsxs("td",{className:"py-4 px-3 text-sm",children:[p.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 truncate",children:Ke.name}),p.jsxs("div",{className:"text-text-secondary-light dark:text-text-secondary-dark text-xs",children:["ID: #",String(Ke.id).padStart(6,"0")]})]}),p.jsx("td",{className:"hidden sm:table-cell whitespace-nowrap py-4 px-3 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:Ke.category?_[Ke.category]||Ke.category:"Sem Categoria"}),p.jsx("td",{className:"hidden sm:table-cell whitespace-nowrap py-4 px-3 text-sm",children:p.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium 
                        ${Ke.status==="Ativo"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":Ke.status==="Rascunho"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:Ke.status||"Desconhecido"})}),p.jsx("td",{className:"whitespace-nowrap py-4 px-3 text-sm font-medium text-slate-800 dark:text-slate-200 text-right",children:Se(Ke.price)}),p.jsx("td",{className:"py-4 pl-3 pr-4 text-right text-sm font-medium",children:p.jsx("button",{className:"text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",onClick:()=>tt(Ke),children:p.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})})})]})})}),p.jsx(ui,{isOpen:U,onClose:()=>J(!1),title:"Editar Produto",footer:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:Et,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Excluir"}),p.jsx("button",{onClick:He,className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-lg hover:bg-blue-700",children:"Salvar"})]}),children:p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-medium mb-1",children:"Cdigo"}),p.jsx("input",{value:Ee,onChange:Me=>Q(Me.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Cdigo do Produto"})]}),p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-medium mb-1",children:"Nome"}),p.jsx("input",{value:L,onChange:Me=>G(Me.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary"})]}),p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-medium mb-1",children:"Preo"}),p.jsx("input",{value:$,onChange:Me=>xe(Me.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",inputMode:"decimal",placeholder:"ex: 1.552,33"})]}),p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-medium mb-1",children:"Categoria"}),p.jsxs("select",{value:K,onChange:Me=>D(Me.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",children:[p.jsx("option",{value:"",children:"Sem Categoria"}),T.map(Me=>p.jsx("option",{value:Me.id,children:Me.name},Me.id))]})]}),p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-medium mb-1",children:"Status"}),p.jsxs("select",{value:q,onChange:Me=>F(Me.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",children:[p.jsx("option",{value:"Ativo",children:"Ativo"}),p.jsx("option",{value:"Rascunho",children:"Rascunho"}),p.jsx("option",{value:"Arquivado",children:"Arquivado"})]})]}),p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-sm font-medium mb-1",children:"Imagem"}),p.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[p.jsx("span",{className:"text-xs",children:"Qualidade da foto:"}),p.jsxs("select",{value:oe,onChange:Me=>Ae(Number(Me.target.value)),className:"rounded px-2 py-1 bg-surface-dark text-white border border-border-dark",children:[p.jsx("option",{value:.5,children:"Baixa"}),p.jsx("option",{value:.7,children:"Mdia"}),p.jsx("option",{value:1,children:"Alta"})]})]}),p.jsx("div",{className:"flex items-center gap-3 mb-3",children:p.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-primary text-white cursor-pointer hover:bg-blue-700 transition-colors",children:[p.jsx("span",{className:"material-symbols-outlined text-xl",children:"photo_camera"}),p.jsx("span",{className:"text-xs font-medium",children:"Tirar Foto"}),p.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:ye})]})}),p.jsx("div",{className:"flex items-center justify-center w-full",children:p.jsxs("label",{htmlFor:"edit-image-upload",className:"flex flex-col items-center justify-center w-full h-24 border-2 border-border-dark border-dashed rounded-xl cursor-pointer bg-surface-dark hover:bg-primary/10 hover:border-primary transition-all group",children:[p.jsxs("div",{className:"flex flex-col items-center justify-center pt-3 pb-3",children:[p.jsx("span",{className:"material-symbols-outlined text-text-secondary-dark text-2xl mb-2 group-hover:text-primary transition-colors",children:"add_photo_alternate"}),p.jsx("p",{className:"mb-1 text-xs text-text-secondary-dark",children:p.jsx("span",{className:"font-semibold",children:"Escolher foto do produto"})}),p.jsx("p",{className:"text-xs text-text-secondary-dark",children:"PNG, JPG ou GIF"})]}),p.jsx("input",{id:"edit-image-upload",type:"file",className:"hidden",accept:"image/*",onChange:ye})]})}),ie&&p.jsx("img",{src:ie,alt:"Preview",className:"h-16 w-16 mt-2 rounded-lg object-cover mx-auto border border-border-dark"})]})]})}),p.jsx(ui,{isOpen:ve,onClose:()=>Re(!1),title:"Sucesso",footer:p.jsx("button",{onClick:()=>Re(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"OK"}),children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:p.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-2xl",children:"check_circle"})}),p.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Produto salvo com sucesso!"}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"As alteraes foram salvas."})]})})]})})]})},Nb=({onOpenSidebar:d,onDeleteOrder:f,onUpdateOrder:g,onEditOrder:b,refreshTrigger:C})=>{const w=()=>{const re=new Date,oe=re.getFullYear(),Ae=String(re.getMonth()+1).padStart(2,"0"),Ee=String(re.getDate()).padStart(2,"0");return`${oe}-${Ae}-${Ee}`},[T,O]=be.useState(w()),[_,E]=be.useState(w()),[B,M]=be.useState(""),[X,W]=be.useState([]),[fe,te]=be.useState(null);Ue.useEffect(()=>{Ot("falcon_user_logged").then(re=>{te(re&&re.length>0?re[0]:null)})},[]);const[ne,z]=be.useState(!1),[L,G]=be.useState(null),[$,xe]=be.useState(!1);Ue.useEffect(()=>{Ot("falcon_orders_db").then(W)},[C]);const K=(re,oe)=>{re.stopPropagation(),G(oe),z(!0)},D=async()=>{L&&typeof f=="function"&&(await f(L),Ot("falcon_orders_db").then(W),z(!1),G(null),xe(!0))},q=re=>{b&&b(re)},F=re=>{switch(re){case"Entregue":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300";case"Enviado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300";case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300";case"Processando":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"Cancelado":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300";case"Sincronizado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},ie=X.slice().sort((re,oe)=>Number(oe.id)-Number(re.id)).filter(re=>{if(re.date){const[oe,Ae,Ee]=re.date.split("/"),Q=`${Ee}-${Ae.padStart(2,"0")}-${oe.padStart(2,"0")}`;if(T&&Q<T||_&&Q>_)return!1}return!0});return p.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[p.jsx("header",{className:"flex-shrink-0 bg-surface-light dark:bg-surface-dark/80 backdrop-blur-sm border-b border-border-light dark:border-border-dark",children:p.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex h-16 items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:d,className:"lg:hidden text-text-secondary-light dark:text-text-secondary-dark",children:p.jsx("span",{className:"material-symbols-outlined",children:"menu"})}),p.jsx("h1",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Lista de Pedidos"})]}),p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("button",{className:"relative text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:[p.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),p.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"})]}),p.jsx("img",{alt:"User avatar",className:"h-8 w-8 rounded-full border border-border-dark",src:(fe==null?void 0:fe.Avatar)||"https://ui-avatars.com/api/?name=User"})]})]})})}),p.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pb-24",children:p.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm border border-border-light dark:border-border-dark",children:[p.jsx("p",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase",children:"Total Pedidos"}),p.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:ie.length})]}),p.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm border border-border-light dark:border-border-dark",children:[p.jsx("p",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase",children:"Receita Total"}),p.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:Xc(ie.reduce((re,oe)=>re+oe.total,0))})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-4 items-center p-4 bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark mt-4",children:[p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Data Inicial"}),p.jsx("input",{type:"date",value:T,onChange:re=>O(re.target.value),className:"rounded-lg border border-border-light dark:border-border-dark p-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-primary focus:border-primary"})]}),p.jsxs("label",{className:"flex flex-col",children:[p.jsx("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Data Final"}),p.jsx("input",{type:"date",value:_,onChange:re=>E(re.target.value),className:"rounded-lg border border-border-light dark:border-border-dark p-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-primary focus:border-primary"})]})]}),p.jsx("div",{className:"overflow-hidden rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark shadow-sm",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"min-w-full divide-y divide-border-light dark:divide-border-dark",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800/50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"ID"}),p.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Cliente"}),p.jsx("th",{scope:"col",className:"hidden sm:table-cell py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Data"}),p.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Status"}),p.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Total"}),p.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4",children:p.jsx("span",{className:"sr-only",children:"Aes"})})]})}),p.jsxs("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:[ie.map(re=>p.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer",onClick:()=>q(re),children:[p.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-primary",children:re.id}),p.jsxs("td",{className:"whitespace-nowrap py-4 px-3 text-sm text-slate-900 dark:text-slate-100",children:[re.customer,p.jsx("div",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark sm:hidden",children:re.date})]}),p.jsx("td",{className:"hidden sm:table-cell whitespace-nowrap py-4 px-3 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:re.date}),p.jsx("td",{className:"whitespace-nowrap py-4 px-3 text-sm",children:p.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${F(re.status)}`,children:re.status})}),p.jsx("td",{className:"whitespace-nowrap py-4 px-3 text-sm font-medium text-slate-900 dark:text-slate-100",children:Xc(re.total)}),p.jsx("td",{className:"whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium",children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[p.jsx("button",{onClick:oe=>{oe.stopPropagation();const Ae=` *Pedido #${re.id}*
 Cliente: ${re.customer}
 Total: ${Xc(re.total)}

 *Itens:*
`+(re.items?re.items.map(Q=>` ${Q.name} (${Q.quantity} x ${Xc(Q.price)})`).join(`
`):"")+`
Status: ${re.status}`,Ee=`https://wa.me/?text=${encodeURIComponent(Ae)}`;window.open(Ee,"_blank")},className:"text-green-600 hover:text-green-700 p-1 rounded-full hover:bg-green-50 dark:hover:bg-green-900/20",title:"Compartilhar no WhatsApp",children:p.jsx("span",{className:"material-symbols-outlined text-lg",children:"share"})}),p.jsx("button",{onClick:oe=>{oe.stopPropagation(),q(re)},className:"text-primary hover:text-blue-600 p-1 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Editar",children:p.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),p.jsx("button",{onClick:oe=>K(oe,re.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20",title:"Excluir",children:p.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})})]},re.id)),ie.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:"py-8 text-center text-text-secondary-light dark:text-text-secondary-dark",children:"Nenhum pedido encontrado."})})]})]})})})]})}),p.jsx(ui,{isOpen:ne,onClose:()=>z(!1),title:"Excluir Pedido",footer:p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Cancelar"}),p.jsx("button",{onClick:D,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Excluir"})]}),children:p.jsx("p",{children:"Tem certeza que deseja excluir este pedido? Esta ao no pode ser desfeita."})}),p.jsx(ui,{isOpen:$,onClose:()=>xe(!1),title:"Sucesso",footer:p.jsx("button",{onClick:()=>xe(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:p.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-2xl",children:"check_circle"})}),p.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Pedido excludo com sucesso!"}),p.jsx("p",{hidden:!0,className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"As alteraes foram salvas com sucesso."})]})})]})},Xc=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d);function Tb({onBack:d,setOrders:f}){const[g,b]=be.useState(localStorage.getItem("dbName")||"VNETPedidos"),[C,w]=be.useState(localStorage.getItem("apiProtocol")||"https"),[T,O]=be.useState(localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443"),[_,E]=be.useState({open:!1,message:"",title:""}),[B,M]=be.useState(()=>localStorage.getItem("autoSyncPedido")==="true");function X($){M($.target.checked),localStorage.setItem("autoSyncPedido",$.target.checked?"true":"false"),E({open:!0,message:`Sincronizar pedido automaticamente ao finalizar: ${$.target.checked?"Ativado":"Desativado"}`,title:"Configurao"})}function W($){b($.target.value)}function fe(){localStorage.setItem("dbName",g),E({open:!0,message:`Nome do banco salvo: ${g}`,title:"Configurao"})}function te($){w($.target.value),localStorage.setItem("apiProtocol",$.target.value),E({open:!0,message:`Protocolo salvo: ${$.target.value}`,title:"Configurao"})}function ne($){O($.target.value)}function z(){localStorage.setItem("apiDomain",T),E({open:!0,message:`Domnio salvo: ${T}`,title:"Configurao"})}async function L(){await fs(()=>Promise.resolve().then(()=>Zc),void 0).then(async({clearStore:$})=>{await $("falcon_orders_db"),await $("PedidosExcluidos"),await $("ProdutosExcluidosPedidos")}),E({open:!0,message:"Todos os pedidos locais, PedidosExcluidos e ProdutosExcluidosPedidos foram excludos.",title:"Limpeza"}),f&&f([])}async function G(){await fs(async()=>{const{clearStore:$}=await Promise.resolve().then(()=>Zc);return{clearStore:$}},void 0).then(({clearStore:$})=>$("falcon_products_db")),E({open:!0,message:"Todos os produtos locais foram excludos.",title:"Limpeza"})}return p.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-white",children:[p.jsxs("div",{className:"flex items-center gap-2 px-4 pt-6 pb-2",children:[d&&p.jsx("button",{onClick:d,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full","aria-label":"Voltar",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),p.jsx("h1",{className:"flex-1 text-2xl font-bold text-center",children:"Configuraes do Sistema"})]}),p.jsx("div",{className:"flex flex-col items-center justify-center flex-1 px-4 pb-8",children:p.jsxs("div",{className:"w-full max-w-md bg-surface-light dark:bg-surface-dark rounded-xl shadow p-6 flex flex-col gap-6",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:B,onChange:X,className:"form-checkbox h-5 w-5 text-primary rounded focus:ring-primary border-gray-300 dark:border-gray-600"}),p.jsx("span",{className:"font-semibold",children:"Sincronizar pedido automaticamente ao finalizar"})]}),p.jsx("p",{className:"text-xs text-slate-500 mt-1 ml-7",children:"Ao finalizar um pedido, ele ser sincronizado automaticamente com o servidor."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"font-semibold block mb-2",children:"Nome do banco de dados:"}),p.jsx("input",{type:"text",value:g,onChange:W,className:"rounded px-3 py-2 w-full text-black dark:text-white bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark"}),p.jsx("button",{onClick:fe,className:"mt-4 w-full bg-primary rounded-lg py-2 px-6 font-semibold text-white hover:bg-blue-600",children:"Salvar Nome do Banco"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"font-semibold block mb-2",children:"Protocolo da API:"}),p.jsxs("select",{value:C,onChange:te,className:"rounded px-3 py-2 w-full text-black dark:text-white bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark",children:[p.jsx("option",{value:"https",children:"HTTPS"}),p.jsx("option",{value:"http",children:"HTTP"})]})]}),p.jsxs("div",{className:"mt-4",children:[p.jsx("label",{className:"font-semibold block mb-2",children:"Domnio da API:"}),p.jsx("input",{type:"text",value:T,onChange:ne,className:"rounded px-3 py-2 w-full text-black dark:text-white bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark"}),p.jsx("button",{onClick:z,className:"mt-2 w-full bg-primary rounded-lg py-2 px-6 font-semibold text-white hover:bg-blue-600",children:"Salvar Domnio"})]}),p.jsx("hr",{className:"my-2 border-border-dark"}),p.jsx("button",{onClick:L,className:"w-full bg-red-600 rounded-lg py-2 px-6 font-semibold text-white hover:bg-red-800",children:"Excluir Todos os Pedidos Locais"}),p.jsx("button",{onClick:G,className:"w-full bg-red-600 rounded-lg py-2 px-6 font-semibold text-white hover:bg-red-800",children:"Excluir Todos os Produtos Locais"})]})}),_.open&&p.jsx(ui,{isOpen:_.open,onClose:()=>{E({..._,open:!1}),_.message.includes("Pedidos locais foram excludos")&&d&&d()},title:_.title,footer:p.jsx("button",{onClick:()=>{E({..._,open:!1}),_.message.includes("Pedidos locais foram excludos")&&d&&d()},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:p.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-2xl",children:"delete"})}),p.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:_.message})]})})]})}const _b=({onBack:d})=>{const[f,g]=be.useState([]),[b,C]=be.useState(""),[w,T]=be.useState(void 0),[O,_]=be.useState(null),[E,B]=be.useState(!1),[M,X]=be.useState(1),[W,fe]=be.useState({open:!1,message:""});be.useRef(null),be.useEffect(()=>{Ot("falcon_categories_db").then(g)},[]);const te=async()=>{if(!b.trim()){fe({open:!0,message:"Informe a descrio da categoria."});return}if(O){const L={id:O,name:b,image:w};try{await Wn("falcon_categories_db",L),g(f.map(G=>G.id===O?L:G)),fe({open:!0,message:"Categoria atualizada com sucesso!"})}catch(G){fe({open:!0,message:"Erro ao atualizar categoria: "+G})}}else{const L={id:El(),name:b,image:w};try{await Wn("falcon_categories_db",L),g([...f,L]),fe({open:!0,message:"Categoria cadastrada com sucesso!"})}catch(G){fe({open:!0,message:"Erro ao salvar categoria: "+G})}}C(""),T(void 0),_(null)},ne=async L=>{await vl("falcon_categories_db",L),g(f.filter(G=>G.id!==L)),O===L&&(C(""),T(void 0),_(null))},z=L=>{var $;const G=($=L.target.files)==null?void 0:$[0];if(G){const xe=new window.Image,K=new FileReader;K.onload=D=>{var q;xe.src=(q=D.target)==null?void 0:q.result,xe.onload=()=>{const F=document.createElement("canvas"),oe=Math.min(800/xe.width,800/xe.height,1);F.width=xe.width*oe,F.height=xe.height*oe;const Ae=F.getContext("2d");if(Ae){Ae.drawImage(xe,0,0,F.width,F.height);const Ee=Ae.getImageData(0,0,F.width,F.height);let Q=!1;for(let J=3;J<Ee.data.length;J+=4)if(Ee.data[J]<255){Q=!0;break}let U;Q?U=F.toDataURL("image/png"):U=F.toDataURL("image/jpeg",M),T(U)}}},K.readAsDataURL(G)}};return p.jsxs("main",{className:"relative flex flex-col h-full bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display",children:[p.jsxs("div",{className:"sticky top-0 z-10 flex items-center bg-white dark:bg-background-dark p-4 pb-2 justify-between border-b border-border-light dark:border-border-dark",children:[p.jsx("button",{onClick:d,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:p.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),p.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Categorias"})]}),p.jsxs("div",{className:"flex flex-col flex-1 items-center px-4 pt-8 pb-8",children:[p.jsxs("form",{className:"w-full max-w-3xl flex flex-col gap-6",children:[p.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[p.jsx("p",{className:"text-slate-900 dark:text-white text-base font-medium leading-normal pb-2",children:"Descrio da Categoria"}),p.jsx("input",{type:"text",value:b,onChange:L=>C(L.target.value),className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"ex: Eletrnicos, Ferramentas, etc."})]}),p.jsxs("div",{className:"pt-4 pb-2 max-w-2xl mx-auto w-full",children:[p.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] pb-2",children:"Foto da Categoria"}),p.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[p.jsx("span",{className:"text-sm text-slate-900 dark:text-white",children:"Qualidade da foto:"}),p.jsxs("select",{value:M,onChange:L=>X(Number(L.target.value)),className:"rounded px-2 py-1 bg-white dark:bg-surface-dark text-slate-900 dark:text-white border border-gray-300 dark:border-border-dark shadow-sm focus:border-primary focus:ring-2 focus:ring-primary/20 transition",children:[p.jsx("option",{value:.5,children:"Baixa"}),p.jsx("option",{value:.7,children:"Mdia"}),p.jsx("option",{value:1,children:"Alta"})]})]}),p.jsx("div",{className:"flex items-center gap-3 mb-3",children:p.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-primary text-white cursor-pointer hover:bg-blue-700 transition-colors",children:[p.jsx("span",{className:"material-symbols-outlined text-xl",children:"photo_camera"}),p.jsx("span",{className:"text-sm font-medium",children:"Tirar Foto"}),p.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:z})]})}),p.jsx("div",{className:"flex items-center justify-center w-full",children:p.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 dark:border-border-dark border-dashed rounded-xl cursor-pointer bg-white dark:bg-surface-dark hover:bg-gray-100 dark:hover:bg-primary/10 hover:border-primary transition-all group",children:[p.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[p.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-text-secondary-dark text-4xl mb-2 group-hover:text-primary transition-colors",children:"add_photo_alternate"}),p.jsx("p",{className:"mb-2 text-sm text-slate-900 dark:text-text-secondary-dark",children:p.jsx("span",{className:"font-semibold",children:"Toque para adicionar fotos"})}),p.jsx("p",{className:"text-xs text-gray-500 dark:text-text-secondary-dark",children:"PNG, JPG ou GIF"})]}),p.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",accept:"image/*",onChange:z})]})}),w&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-col items-center mt-4 gap-2",children:[p.jsx("img",{src:w,alt:"Preview",className:"h-24 w-24 rounded-lg object-cover border border-border-dark"}),p.jsxs("div",{className:"flex gap-3 mt-2",children:[p.jsxs("button",{type:"button",onClick:()=>B(!0),className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-slate-700 dark:text-white hover:bg-primary/10",children:[p.jsx("span",{className:"material-symbols-outlined text-base",children:"visibility"}),p.jsx("span",{className:"text-xs",children:"Visualizar"})]}),p.jsxs("label",{className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-slate-700 dark:text-white cursor-pointer hover:bg-primary/10",children:[p.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"}),p.jsx("span",{className:"text-xs",children:"Alterar"}),p.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:z})]}),p.jsxs("button",{type:"button",onClick:()=>T(void 0),className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/20",children:[p.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"}),p.jsx("span",{className:"text-xs",children:"Remover"})]})]})]}),E&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70",children:p.jsxs("div",{className:"bg-white dark:bg-background-dark rounded-lg p-4 shadow-lg flex flex-col items-center",children:[p.jsx("img",{src:w,alt:"Visualizao",className:"w-[90vw] h-[80vh] rounded-lg object-contain border border-border-dark"}),p.jsx("button",{onClick:()=>B(!1),className:"mt-4 px-4 py-2 rounded bg-primary text-white font-medium hover:bg-blue-700",children:"Fechar"})]})})]})]}),p.jsxs("div",{className:"flex gap-3 w-full",children:[p.jsx("button",{type:"button",onClick:te,className:"flex-1 bg-primary rounded-lg py-2 px-6 font-semibold text-white hover:bg-blue-600",children:"Salvar Categoria"}),p.jsx("button",{type:"button",onClick:()=>{C(""),T(void 0),_(null)},className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-lg py-2 px-6 font-semibold text-slate-800 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600",children:"Nova"})]})]}),p.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[p.jsx("hr",{className:"my-2 border-border-dark"}),p.jsx("h2",{className:"font-semibold text-lg mb-2",children:"Lista de Categorias"}),p.jsx("div",{className:"max-h-96 overflow-y-auto custom-scrollbar pb-24",children:p.jsx("ul",{className:"flex flex-col gap-4 px-4 py-2",children:f.map(L=>p.jsxs("li",{className:`flex items-center gap-4 bg-white dark:bg-surface-dark/50 rounded-2xl px-4 py-3 shadow-md cursor-pointer transition-all hover:bg-gray-100 dark:hover:bg-[#232e22] ${O===L.id?"ring-2 ring-primary ring-offset-2 ring-offset-background-light dark:ring-offset-background-dark":""}`,onClick:()=>{C(L.name),T(L.image),_(L.id)},children:[p.jsx("div",{className:"flex-shrink-0 w-14 h-14 rounded-full bg-[#2c3a2e] flex items-center justify-center overflow-hidden",children:L.image?p.jsx("img",{src:L.image,alt:L.name,className:"w-full h-full object-cover"}):p.jsx("span",{className:"material-symbols-outlined text-4xl text-[#b5cbb7]",children:"image"})}),p.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[p.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg truncate",children:L.name}),p.jsx("span",{className:"text-[#b5cbb7] text-sm truncate",children:"Categoria"})]}),p.jsx("button",{onClick:G=>{G.stopPropagation(),ne(L.id)},className:"ml-4 w-9 h-9 flex items-center justify-center rounded-full bg-red-600 hover:bg-red-700 text-white transition-colors shadow",title:"Excluir categoria",children:p.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]},L.id))})})]})]})]})},Ib=()=>{const[d,f]=be.useState("login"),[g,b]=be.useState(!0),[C,w]=be.useState([]),[T,O]=be.useState(()=>{const U=localStorage.getItem("falcon_cart");return U?JSON.parse(U):[]}),[_,E]=be.useState(()=>{const U=localStorage.getItem("falcon_editingOrder");return U?JSON.parse(U):null});be.useEffect(()=>{localStorage.setItem("falcon_cart",JSON.stringify(T))},[T]),be.useEffect(()=>{localStorage.setItem("falcon_editingOrder",JSON.stringify(_))},[_]),be.useEffect(()=>{Ot("falcon_products_db").then(w)},[]),be.useEffect(()=>{(async()=>{try{const J=await Ot("falcon_user_logged");J&&J.length>0?f("productList"):f("login")}catch{f("login")}finally{b(!1)}})()},[]);const[B,M]=be.useState(!1),[X,W]=be.useState([]),[fe,te]=be.useState(0),[ne,z]=be.useState(!1),[L,G]=be.useState(!1),[$,xe]=be.useState(localStorage.getItem("falcon_theme")||"light");be.useEffect(()=>{document.documentElement.classList.toggle("dark",$==="dark"),localStorage.setItem("falcon_theme",$)},[$]),be.useEffect(()=>{(async()=>{z(!0);try{const J=await Ot("falcon_orders_db");W(J)}catch(J){console.error("Failed to load orders",J)}finally{z(!1)}})()},[]);const K=be.useCallback(U=>{O(J=>J.find(Re=>Re.id===U.id)?J.map(Re=>Re.id===U.id?{...Re,quantity:Re.quantity+1}:Re):[...J,{...U,quantity:1}])},[]),D=be.useCallback((U,J)=>{O(ve=>{if(_&&_.syncStatus&&_.syncStatus.trim().toLowerCase()==="sincronizado"){const Re=ve.find(Oe=>Oe.id===U);Re&&Re.quantity+J<=0&&fs(()=>Promise.resolve().then(()=>Zc),void 0).then(Oe=>Oe.saveItem("ProdutosExcluidosPedidos",{id:`${_.pedidoId||_.id}_${U}`,pedidoId:_.pedidoId||_.id,ordem:ve.findIndex(H=>H.id===U),produtoId:U,dataExclusao:new Date().toISOString()}))}return ve.map(Re=>{if(_&&_.syncStatus&&_.syncStatus.trim().toLowerCase()==="sincronizado"){const Oe=ve.find(H=>H.id===U);Oe&&Oe.quantity+J<=0&&fs(()=>Promise.resolve().then(()=>Zc),void 0).then(H=>H.saveItem("ProdutosExcluidosPedidos",{id:`${_.pedidoId||_.id}_${U}`,pedidoId:_.pedidoId||_.id,ordem:ve.findIndex(ue=>ue.id===U),produtoId:U,itemUid:Oe.itemUid,dataExclusao:new Date().toISOString()}))}if(Re.id===U){const Oe=Math.max(0,Re.quantity+J);return{...Re,quantity:Oe}}return Re}).filter(Re=>Re.quantity>0)})},[_]),q=U=>{E(U),O(U.items||[]),f("shop")},F=async U=>{if(_){const J=T.reduce((Re,Oe)=>Re+Oe.price*Oe.quantity,0),ve={..._,customer:U.customer,address:U.address,city:U.city,cep:U.cep,formaPagamento:U.paymentMethod,items:T.map((Re,Oe)=>({...Re,pedidoId:_.pedidoId||_.id,syncStatus:"alterado",itemUid:Re.itemUid?Re.itemUid:El()})),total:J,itemsCount:T.reduce((Re,Oe)=>Re+Oe.quantity,0),status:"Pendente",syncStatus:"alterado"};await oe(ve),E(null),O([]),f("orderList"),G(!0),te(Re=>Re+1)}else{const J=await Ot("falcon_orders_db"),ve=J.length>0?Math.max(...J.map(Fe=>Number(Fe.id)||0)):0,Re=String(ve+1),Oe=El(),H=T.reduce((Fe,Se)=>Fe+Se.price*Se.quantity,0),ue=await Ot("falcon_user_logged"),_e=ue&&ue.length>0?ue[0].id:1,je={id:Re,pedidoId:Oe,customer:U.customer,address:U.address,city:U.city,cep:U.cep,date:new Date().toLocaleDateString("pt-BR"),total:Number(H),status:"Pendente",itemsCount:Number(T.reduce((Fe,Se)=>Fe+Se.quantity,0)),usuarioId:_e?String(_e):void 0,formaPagamento:U.paymentMethod,items:T.map(Fe=>({...Fe,pedidoId:Oe,syncStatus:"novo",itemUid:El()})),syncStatus:"novo"};await ie(je),te(Fe=>Fe+1)}},ie=async U=>{try{await Wn("falcon_orders_db",U);const J=await Ot("falcon_orders_db");W(J),O([]),f("orderList"),G(!0)}catch(J){console.error("Failed to save order",J)}},re=async U=>{const ve=(await Ot("falcon_orders_db")).find(Oe=>Oe.id===U),Re=[...X];W(Oe=>Oe.filter(H=>H.id!==U));try{if(ve&&ve.syncStatus&&ve.syncStatus.trim().toLowerCase()==="sincronizado"){const H=`${ve.id}_${El()}`;await Wn("PedidosExcluidos",{id:H,pedidoId:ve.pedidoId||ve.id,dataExclusao:new Date().toISOString()}),localStorage.getItem("autoSyncPedido")==="true"&&fs(()=>Promise.resolve().then(()=>wg),void 0).then(ue=>{ue.processarExclusoesPedidosServidor&&ue.processarExclusoesPedidosServidor()})}await vl("falcon_orders_db",U);const Oe=await Ot("falcon_orders_db");W(Oe)}catch(Oe){console.error("Failed to delete order",Oe),W(Re),alert("Erro ao excluir pedido.")}},oe=async U=>{const J={...U,syncStatus:"alterado"};try{await Wn("falcon_orders_db",J);const ve=await Ot("falcon_orders_db");W(ve)}catch(ve){console.error("Failed to update order",ve),alert("Erro ao atualizar pedido.")}},Ae=be.useCallback(U=>{U==="login"&&Ot("falcon_user_logged").then(J=>{J&&J.length>0&&J.forEach(ve=>vl("falcon_user_logged",ve.id))}),U==="orderList"&&(E(null),O([])),f(U),M(!1),window.scrollTo(0,0)},[]),Ee={isSidebarOpen:B,setIsSidebarOpen:M,onNavigate:Ae,currentScreen:d,theme:$,setTheme:xe},Q=()=>{if(g)return p.jsx("div",{style:{color:"white",textAlign:"center",marginTop:40},children:"Carregando..."});switch(d){case"categoryList":return p.jsx(mr,{...Ee,children:p.jsx(_b,{onBack:()=>f("productList")})});case"login":return p.jsx(ax,{onNavigate:Ae});case"register":return p.jsx(r2,{onNavigate:Ae});case"productList":return p.jsx(mr,{...Ee,children:p.jsx(mb,{onOpenSidebar:()=>M(!0),onNavigate:Ae,addToCart:K,cartItemCount:T.reduce((U,J)=>U+J.quantity,0),products:C,cart:T,updateQuantity:D,removeFromCart:U=>O(J=>J.filter(ve=>ve.id!==U))})});case"shop":return p.jsx(mr,{...Ee,children:p.jsx(pb,{cart:T,updateQuantity:D,onNavigate:Ae,onBack:()=>Ae("productList"),onCancel:async()=>{if(_&&_.pedidoId){const J=(await Ot("ProdutosExcluidosPedidos")).filter(ve=>ve.pedidoId===_.pedidoId||ve.pedidoId===_.id);for(const ve of J)await vl("ProdutosExcluidosPedidos",ve.id)}Ae("orderList")},editingOrder:_})});case"checkout":return p.jsx(mr,{...Ee,children:p.jsx(wb,{cart:T,onBack:()=>Ae("shop"),onComplete:F,editingOrder:_,onSyncOrdersUpdate:()=>te(U=>U+1)})});case"inbox":return p.jsx(mr,{...Ee,showBottomNav:!1,children:p.jsx(Eb,{onOpenSidebar:()=>M(!0)})});case"addProduct":return p.jsx(mr,{...Ee,children:p.jsx(Ab,{onBack:()=>Ae("productList"),onProductAdded:U=>w(J=>[U,...J])})});case"profile":return p.jsx(mr,{...Ee,children:p.jsx(vb,{onBack:()=>Ae("productList")})});case"productTable":return p.jsx(mr,{...Ee,children:p.jsx(Sb,{onOpenSidebar:()=>M(!0),onNavigate:Ae,products:C})});case"orderList":return p.jsx(mr,{...Ee,children:p.jsx(Nb,{onOpenSidebar:()=>M(!0),onDeleteOrder:re,onUpdateOrder:oe,onEditOrder:q,refreshTrigger:fe})});case"sync":return p.jsx(mr,{...Ee,showBottomNav:!1,children:p.jsx(yg,{onBack:()=>{Ot("falcon_orders_db").then(W),Ae("productList")},onSyncProdutos:w})});case"config":return p.jsx(mr,{...Ee,showBottomNav:!1,children:p.jsx(Tb,{onBack:()=>Ae("productList"),setOrders:W})});default:return p.jsx(ax,{onNavigate:Ae})}};return p.jsxs(p.Fragment,{children:[Q(),p.jsx(ui,{isOpen:L,onClose:()=>G(!1),title:"Sucesso",footer:p.jsx("button",{onClick:()=>G(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:p.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-2xl",children:"check_circle"})}),p.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Pedido realizado com sucesso!"}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Seu pedido foi processado e logo ser enviado."})]})})]})},Cg=document.getElementById("root");if(!Cg)throw new Error("Could not find root element to mount to");const Ob=Wm.createRoot(Cg);Ob.render(p.jsx(Ue.StrictMode,{children:p.jsx(Ib,{})}));
