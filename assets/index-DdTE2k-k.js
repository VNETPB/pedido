function $2(c,d){for(var f=0;f<d.length;f++){const m=d[f];if(typeof m!="string"&&!Array.isArray(m)){for(const w in m)if(w!=="default"&&!(w in c)){const y=Object.getOwnPropertyDescriptor(m,w);y&&Object.defineProperty(c,w,y.get?y:{enumerable:!0,get:()=>m[w]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))m(w);new MutationObserver(w=>{for(const y of w)if(y.type==="childList")for(const E of y.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&m(E)}).observe(document,{childList:!0,subtree:!0});function f(w){const y={};return w.integrity&&(y.integrity=w.integrity),w.referrerPolicy&&(y.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?y.credentials="include":w.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function m(w){if(w.ep)return;w.ep=!0;const y=f(w);fetch(w.href,y)}})();var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vu(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Af={exports:{}},yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function ep(){if(Sx)return yo;Sx=1;var c=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function f(m,w,y){var E=null;if(y!==void 0&&(E=""+y),w.key!==void 0&&(E=""+w.key),"key"in w){y={};for(var T in w)T!=="key"&&(y[T]=w[T])}else y=w;return w=y.ref,{$$typeof:c,type:m,key:E,ref:w!==void 0?w:null,props:y}}return yo.Fragment=d,yo.jsx=f,yo.jsxs=f,yo}var Nx;function tp(){return Nx||(Nx=1,Af.exports=ep()),Af.exports}var x=tp(),Sf={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx;function np(){if(Tx)return ot;Tx=1;var c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.iterator;function X(V){return V===null||typeof V!="object"?null:(V=P&&V[P]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,K={};function B(V,ae,Ae){this.props=V,this.context=ae,this.refs=K,this.updater=Ae||J}B.prototype.isReactComponent={},B.prototype.setState=function(V,ae){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ae,"setState")},B.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function j(){}j.prototype=B.prototype;function H(V,ae,Ae){this.props=V,this.context=ae,this.refs=K,this.updater=Ae||J}var le=H.prototype=new j;le.constructor=H,Y(le,B.prototype),le.isPureReactComponent=!0;var he=Array.isArray;function ne(){}var z={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function W(V,ae,Ae){var Re=Ae.ref;return{$$typeof:c,type:V,key:ae,ref:Re!==void 0?Re:null,props:Ae}}function fe(V,ae){return W(V.type,ae,V.props)}function Ce(V){return typeof V=="object"&&V!==null&&V.$$typeof===c}function pe(V){var ae={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Ae){return ae[Ae]})}var ve=/\/+/g;function te(V,ae){return typeof V=="object"&&V!==null&&V.key!=null?pe(""+V.key):ae.toString(36)}function M(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ne,ne):(V.status="pending",V.then(function(ae){V.status==="pending"&&(V.status="fulfilled",V.value=ae)},function(ae){V.status==="pending"&&(V.status="rejected",V.reason=ae)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,ae,Ae,Re,Xe){var Te=typeof V;(Te==="undefined"||Te==="boolean")&&(V=null);var qe=!1;if(V===null)qe=!0;else switch(Te){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(V.$$typeof){case c:case d:qe=!0;break;case O:return qe=V._init,G(qe(V._payload),ae,Ae,Re,Xe)}}if(qe)return Xe=Xe(V),qe=Re===""?"."+te(V,0):Re,he(Xe)?(Ae="",qe!=null&&(Ae=qe.replace(ve,"$&/")+"/"),G(Xe,ae,Ae,"",function(ut){return ut})):Xe!=null&&(Ce(Xe)&&(Xe=fe(Xe,Ae+(Xe.key==null||V&&V.key===Xe.key?"":(""+Xe.key).replace(ve,"$&/")+"/")+qe)),ae.push(Xe)),1;qe=0;var we=Re===""?".":Re+":";if(he(V))for(var He=0;He<V.length;He++)Re=V[He],Te=we+te(Re,He),qe+=G(Re,ae,Ae,Te,Xe);else if(He=X(V),typeof He=="function")for(V=He.call(V),He=0;!(Re=V.next()).done;)Re=Re.value,Te=we+te(Re,He++),qe+=G(Re,ae,Ae,Te,Xe);else if(Te==="object"){if(typeof V.then=="function")return G(M(V),ae,Ae,Re,Xe);throw ae=String(V),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return qe}function ie(V,ae,Ae){if(V==null)return V;var Re=[],Xe=0;return G(V,Re,"","",function(Te){return ae.call(Ae,Te,Xe++)}),Re}function oe(V){if(V._status===-1){var ae=V._result;ae=ae(),ae.then(function(Ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=Ae)},function(Ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=Ae)}),V._status===-1&&(V._status=0,V._result=ae)}if(V._status===1)return V._result.default;throw V._result}var Ne=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Me={map:ie,forEach:function(V,ae,Ae){ie(V,function(){ae.apply(this,arguments)},Ae)},count:function(V){var ae=0;return ie(V,function(){ae++}),ae},toArray:function(V){return ie(V,function(ae){return ae})||[]},only:function(V){if(!Ce(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return ot.Activity=R,ot.Children=Me,ot.Component=B,ot.Fragment=f,ot.Profiler=w,ot.PureComponent=H,ot.StrictMode=m,ot.Suspense=S,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,ot.__COMPILER_RUNTIME={__proto__:null,c:function(V){return z.H.useMemoCache(V)}},ot.cache=function(V){return function(){return V.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(V,ae,Ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var Re=Y({},V.props),Xe=V.key;if(ae!=null)for(Te in ae.key!==void 0&&(Xe=""+ae.key),ae)!q.call(ae,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ae.ref===void 0||(Re[Te]=ae[Te]);var Te=arguments.length-2;if(Te===1)Re.children=Ae;else if(1<Te){for(var qe=Array(Te),we=0;we<Te;we++)qe[we]=arguments[we+2];Re.children=qe}return W(V.type,Xe,Re)},ot.createContext=function(V){return V={$$typeof:E,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:y,_context:V},V},ot.createElement=function(V,ae,Ae){var Re,Xe={},Te=null;if(ae!=null)for(Re in ae.key!==void 0&&(Te=""+ae.key),ae)q.call(ae,Re)&&Re!=="key"&&Re!=="__self"&&Re!=="__source"&&(Xe[Re]=ae[Re]);var qe=arguments.length-2;if(qe===1)Xe.children=Ae;else if(1<qe){for(var we=Array(qe),He=0;He<qe;He++)we[He]=arguments[He+2];Xe.children=we}if(V&&V.defaultProps)for(Re in qe=V.defaultProps,qe)Xe[Re]===void 0&&(Xe[Re]=qe[Re]);return W(V,Te,Xe)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(V){return{$$typeof:T,render:V}},ot.isValidElement=Ce,ot.lazy=function(V){return{$$typeof:O,_payload:{_status:-1,_result:V},_init:oe}},ot.memo=function(V,ae){return{$$typeof:C,type:V,compare:ae===void 0?null:ae}},ot.startTransition=function(V){var ae=z.T,Ae={};z.T=Ae;try{var Re=V(),Xe=z.S;Xe!==null&&Xe(Ae,Re),typeof Re=="object"&&Re!==null&&typeof Re.then=="function"&&Re.then(ne,Ne)}catch(Te){Ne(Te)}finally{ae!==null&&Ae.types!==null&&(ae.types=Ae.types),z.T=ae}},ot.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},ot.use=function(V){return z.H.use(V)},ot.useActionState=function(V,ae,Ae){return z.H.useActionState(V,ae,Ae)},ot.useCallback=function(V,ae){return z.H.useCallback(V,ae)},ot.useContext=function(V){return z.H.useContext(V)},ot.useDebugValue=function(){},ot.useDeferredValue=function(V,ae){return z.H.useDeferredValue(V,ae)},ot.useEffect=function(V,ae){return z.H.useEffect(V,ae)},ot.useEffectEvent=function(V){return z.H.useEffectEvent(V)},ot.useId=function(){return z.H.useId()},ot.useImperativeHandle=function(V,ae,Ae){return z.H.useImperativeHandle(V,ae,Ae)},ot.useInsertionEffect=function(V,ae){return z.H.useInsertionEffect(V,ae)},ot.useLayoutEffect=function(V,ae){return z.H.useLayoutEffect(V,ae)},ot.useMemo=function(V,ae){return z.H.useMemo(V,ae)},ot.useOptimistic=function(V,ae){return z.H.useOptimistic(V,ae)},ot.useReducer=function(V,ae,Ae){return z.H.useReducer(V,ae,Ae)},ot.useRef=function(V){return z.H.useRef(V)},ot.useState=function(V){return z.H.useState(V)},ot.useSyncExternalStore=function(V,ae,Ae){return z.H.useSyncExternalStore(V,ae,Ae)},ot.useTransition=function(){return z.H.useTransition()},ot.version="19.2.0",ot}var Ix;function Kf(){return Ix||(Ix=1,Sf.exports=np()),Sf.exports}var U=Kf();const ze=vu(U);var Nf={exports:{}},wo={},Tf={exports:{}},If={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function rp(){return _x||(_x=1,(function(c){function d(G,ie){var oe=G.length;G.push(ie);e:for(;0<oe;){var Ne=oe-1>>>1,Me=G[Ne];if(0<w(Me,ie))G[Ne]=ie,G[oe]=Me,oe=Ne;else break e}}function f(G){return G.length===0?null:G[0]}function m(G){if(G.length===0)return null;var ie=G[0],oe=G.pop();if(oe!==ie){G[0]=oe;e:for(var Ne=0,Me=G.length,V=Me>>>1;Ne<V;){var ae=2*(Ne+1)-1,Ae=G[ae],Re=ae+1,Xe=G[Re];if(0>w(Ae,oe))Re<Me&&0>w(Xe,Ae)?(G[Ne]=Xe,G[Re]=oe,Ne=Re):(G[Ne]=Ae,G[ae]=oe,Ne=ae);else if(Re<Me&&0>w(Xe,oe))G[Ne]=Xe,G[Re]=oe,Ne=Re;else break e}}return ie}function w(G,ie){var oe=G.sortIndex-ie.sortIndex;return oe!==0?oe:G.id-ie.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;c.unstable_now=function(){return y.now()}}else{var E=Date,T=E.now();c.unstable_now=function(){return E.now()-T}}var S=[],C=[],O=1,R=null,P=3,X=!1,J=!1,Y=!1,K=!1,B=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function le(G){for(var ie=f(C);ie!==null;){if(ie.callback===null)m(C);else if(ie.startTime<=G)m(C),ie.sortIndex=ie.expirationTime,d(S,ie);else break;ie=f(C)}}function he(G){if(Y=!1,le(G),!J)if(f(S)!==null)J=!0,ne||(ne=!0,pe());else{var ie=f(C);ie!==null&&M(he,ie.startTime-G)}}var ne=!1,z=-1,q=5,W=-1;function fe(){return K?!0:!(c.unstable_now()-W<q)}function Ce(){if(K=!1,ne){var G=c.unstable_now();W=G;var ie=!0;try{e:{J=!1,Y&&(Y=!1,j(z),z=-1),X=!0;var oe=P;try{t:{for(le(G),R=f(S);R!==null&&!(R.expirationTime>G&&fe());){var Ne=R.callback;if(typeof Ne=="function"){R.callback=null,P=R.priorityLevel;var Me=Ne(R.expirationTime<=G);if(G=c.unstable_now(),typeof Me=="function"){R.callback=Me,le(G),ie=!0;break t}R===f(S)&&m(S),le(G)}else m(S);R=f(S)}if(R!==null)ie=!0;else{var V=f(C);V!==null&&M(he,V.startTime-G),ie=!1}}break e}finally{R=null,P=oe,X=!1}ie=void 0}}finally{ie?pe():ne=!1}}}var pe;if(typeof H=="function")pe=function(){H(Ce)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,te=ve.port2;ve.port1.onmessage=Ce,pe=function(){te.postMessage(null)}}else pe=function(){B(Ce,0)};function M(G,ie){z=B(function(){G(c.unstable_now())},ie)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(G){G.callback=null},c.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<G?Math.floor(1e3/G):5},c.unstable_getCurrentPriorityLevel=function(){return P},c.unstable_next=function(G){switch(P){case 1:case 2:case 3:var ie=3;break;default:ie=P}var oe=P;P=ie;try{return G()}finally{P=oe}},c.unstable_requestPaint=function(){K=!0},c.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var oe=P;P=G;try{return ie()}finally{P=oe}},c.unstable_scheduleCallback=function(G,ie,oe){var Ne=c.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ne+oe:Ne):oe=Ne,G){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=oe+Me,G={id:O++,callback:ie,priorityLevel:G,startTime:oe,expirationTime:Me,sortIndex:-1},oe>Ne?(G.sortIndex=oe,d(C,G),f(S)===null&&G===f(C)&&(Y?(j(z),z=-1):Y=!0,M(he,oe-Ne))):(G.sortIndex=Me,d(S,G),J||X||(J=!0,ne||(ne=!0,pe()))),G},c.unstable_shouldYield=fe,c.unstable_wrapCallback=function(G){var ie=P;return function(){var oe=P;P=ie;try{return G.apply(this,arguments)}finally{P=oe}}}})(If)),If}var Ox;function ap(){return Ox||(Ox=1,Tf.exports=rp()),Tf.exports}var _f={exports:{}},or={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function ip(){if(Rx)return or;Rx=1;var c=Kf();function d(S){var C="https://react.dev/errors/"+S;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var O=2;O<arguments.length;O++)C+="&args[]="+encodeURIComponent(arguments[O])}return"Minified React error #"+S+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(){}var m={d:{f,r:function(){throw Error(d(522))},D:f,C:f,L:f,m:f,X:f,S:f,M:f},p:0,findDOMNode:null},w=Symbol.for("react.portal");function y(S,C,O){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:w,key:R==null?null:""+R,children:S,containerInfo:C,implementation:O}}var E=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function T(S,C){if(S==="font")return"";if(typeof C=="string")return C==="use-credentials"?C:""}return or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=m,or.createPortal=function(S,C){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error(d(299));return y(S,C,null,O)},or.flushSync=function(S){var C=E.T,O=m.p;try{if(E.T=null,m.p=2,S)return S()}finally{E.T=C,m.p=O,m.d.f()}},or.preconnect=function(S,C){typeof S=="string"&&(C?(C=C.crossOrigin,C=typeof C=="string"?C==="use-credentials"?C:"":void 0):C=null,m.d.C(S,C))},or.prefetchDNS=function(S){typeof S=="string"&&m.d.D(S)},or.preinit=function(S,C){if(typeof S=="string"&&C&&typeof C.as=="string"){var O=C.as,R=T(O,C.crossOrigin),P=typeof C.integrity=="string"?C.integrity:void 0,X=typeof C.fetchPriority=="string"?C.fetchPriority:void 0;O==="style"?m.d.S(S,typeof C.precedence=="string"?C.precedence:void 0,{crossOrigin:R,integrity:P,fetchPriority:X}):O==="script"&&m.d.X(S,{crossOrigin:R,integrity:P,fetchPriority:X,nonce:typeof C.nonce=="string"?C.nonce:void 0})}},or.preinitModule=function(S,C){if(typeof S=="string")if(typeof C=="object"&&C!==null){if(C.as==null||C.as==="script"){var O=T(C.as,C.crossOrigin);m.d.M(S,{crossOrigin:O,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0})}}else C==null&&m.d.M(S)},or.preload=function(S,C){if(typeof S=="string"&&typeof C=="object"&&C!==null&&typeof C.as=="string"){var O=C.as,R=T(O,C.crossOrigin);m.d.L(S,O,{crossOrigin:R,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0,type:typeof C.type=="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority=="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy=="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet=="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes=="string"?C.imageSizes:void 0,media:typeof C.media=="string"?C.media:void 0})}},or.preloadModule=function(S,C){if(typeof S=="string")if(C){var O=T(C.as,C.crossOrigin);m.d.m(S,{as:typeof C.as=="string"&&C.as!=="script"?C.as:void 0,crossOrigin:O,integrity:typeof C.integrity=="string"?C.integrity:void 0})}else m.d.m(S)},or.requestFormReset=function(S){m.d.r(S)},or.unstable_batchedUpdates=function(S,C){return S(C)},or.useFormState=function(S,C,O){return E.H.useFormState(S,C,O)},or.useFormStatus=function(){return E.H.useHostTransitionStatus()},or.version="19.2.0",or}var Dx;function Ig(){if(Dx)return _f.exports;Dx=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(d){console.error(d)}}return c(),_f.exports=ip(),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function lp(){if(kx)return wo;kx=1;var c=ap(),d=Kf(),f=Ig();function m(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function w(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function E(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function T(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function S(e){if(y(e)!==e)throw Error(m(188))}function C(e){var n=e.alternate;if(!n){if(n=y(e),n===null)throw Error(m(188));return n!==e?null:e}for(var i=e,o=n;;){var g=i.return;if(g===null)break;var b=g.alternate;if(b===null){if(o=g.return,o!==null){i=o;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===i)return S(g),e;if(b===o)return S(g),n;b=b.sibling}throw Error(m(188))}if(i.return!==o.return)i=g,o=b;else{for(var N=!1,k=g.child;k;){if(k===i){N=!0,i=g,o=b;break}if(k===o){N=!0,o=g,i=b;break}k=k.sibling}if(!N){for(k=b.child;k;){if(k===i){N=!0,i=b,o=g;break}if(k===o){N=!0,o=b,i=g;break}k=k.sibling}if(!N)throw Error(m(189))}}if(i.alternate!==o)throw Error(m(190))}if(i.tag!==3)throw Error(m(188));return i.stateNode.current===i?e:n}function O(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=O(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,P=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),H=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=Ce&&e[Ce]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case B:return"Profiler";case K:return"StrictMode";case he:return"Suspense";case ne:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case H:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case le:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case q:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var M=Array.isArray,G=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ne=[],Me=-1;function V(e){return{current:e}}function ae(e){0>Me||(e.current=Ne[Me],Ne[Me]=null,Me--)}function Ae(e,n){Me++,Ne[Me]=e.current,e.current=n}var Re=V(null),Xe=V(null),Te=V(null),qe=V(null);function we(e,n){switch(Ae(Te,n),Ae(Xe,e),Ae(Re,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zh(n),e=Wh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ae(Re),Ae(Re,e)}function He(){ae(Re),ae(Xe),ae(Te)}function ut(e){e.memoizedState!==null&&Ae(qe,e);var n=Re.current,i=Wh(n,e.type);n!==i&&(Ae(Xe,e),Ae(Re,i))}function ft(e){Xe.current===e&&(ae(Re),ae(Xe)),qe.current===e&&(ae(qe),go._currentValue=oe)}var Et,at;function _e(e){if(Et===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Et=n&&n[1]||"",at=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Et+e+at}var Je=!1;function Zt(e,n){if(!e||Je)return"";Je=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(be){var xe=be}Reflect.construct(e,[],Se)}else{try{Se.call()}catch(be){xe=be}e.call(Se.prototype)}}else{try{throw Error()}catch(be){xe=be}(Se=e())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(be){if(be&&xe&&typeof be.stack=="string")return[be.stack,xe.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=o.DetermineComponentFrameRoot(),N=b[0],k=b[1];if(N&&k){var Z=N.split(`
`),de=k.split(`
`);for(g=o=0;o<Z.length&&!Z[o].includes("DetermineComponentFrameRoot");)o++;for(;g<de.length&&!de[g].includes("DetermineComponentFrameRoot");)g++;if(o===Z.length||g===de.length)for(o=Z.length-1,g=de.length-1;1<=o&&0<=g&&Z[o]!==de[g];)g--;for(;1<=o&&0<=g;o--,g--)if(Z[o]!==de[g]){if(o!==1||g!==1)do if(o--,g--,0>g||Z[o]!==de[g]){var ye=`
`+Z[o].replace(" at new "," at ");return e.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",e.displayName)),ye}while(1<=o&&0<=g);break}}}finally{Je=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?_e(i):""}function dt(e,n){switch(e.tag){case 26:case 27:case 5:return _e(e.type);case 16:return _e("Lazy");case 13:return e.child!==n&&n!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return Zt(e.type,!1);case 11:return Zt(e.type.render,!1);case 1:return Zt(e.type,!0);case 31:return _e("Activity");default:return""}}function xt(e){try{var n="",i=null;do n+=dt(e,i),i=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var it=Object.prototype.hasOwnProperty,sr=c.unstable_scheduleCallback,Ue=c.unstable_cancelCallback,Ca=c.unstable_shouldYield,Ea=c.unstable_requestPaint,Bt=c.unstable_now,$n=c.unstable_getCurrentPriorityLevel,Bn=c.unstable_ImmediatePriority,sa=c.unstable_UserBlockingPriority,jn=c.unstable_NormalPriority,pn=c.unstable_LowPriority,il=c.unstable_IdlePriority,Fa=c.log,Ts=c.unstable_setDisableYieldValue,on=null,je=null;function Jt(e){if(typeof Fa=="function"&&Ts(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(on,e)}catch{}}var gt=Math.clz32?Math.clz32:Is,bn=Math.log,ll=Math.LN2;function Is(e){return e>>>=0,e===0?32:31-(bn(e)/ll|0)|0}var sl=256,Tt=262144,Gr=4194304;function Aa(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ol(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var g=0,b=e.suspendedLanes,N=e.pingedLanes;e=e.warmLanes;var k=o&134217727;return k!==0?(o=k&~b,o!==0?g=Aa(o):(N&=k,N!==0?g=Aa(N):i||(i=k&~e,i!==0&&(g=Aa(i))))):(k=o&~b,k!==0?g=Aa(k):N!==0?g=Aa(N):i||(i=o&~e,i!==0&&(g=Aa(i)))),g===0?0:n!==0&&n!==g&&(n&b)===0&&(b=g&-g,i=n&-n,b>=i||b===32&&(i&4194048)!==0)?n:g}function er(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function _s(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xn(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function Sa(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Na(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xr(e,n,i,o,g,b){var N=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var k=e.entanglements,Z=e.expirationTimes,de=e.hiddenUpdates;for(i=N&~i;0<i;){var ye=31-gt(i),Se=1<<ye;k[ye]=0,Z[ye]=-1;var xe=de[ye];if(xe!==null)for(de[ye]=null,ye=0;ye<xe.length;ye++){var be=xe[ye];be!==null&&(be.lane&=-536870913)}i&=~Se}o!==0&&zo(e,o,0),b!==0&&g===0&&e.tag!==0&&(e.suspendedLanes|=b&~(N&~n))}function zo(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-gt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function Ta(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-gt(i),g=1<<o;g&n|e[o]&n&&(e[o]|=n),i&=~g}}function Ml(e,n){var i=n&-n;return i=(i&42)!==0?1:Kn(i),(i&(e.suspendedLanes|n))!==0?0:i}function Kn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function oa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ur(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:bx(e.type))}function Pe(e,n){var i=ie.p;try{return ie.p=e,n()}finally{ie.p=i}}var dr=Math.random().toString(36).slice(2),On="__reactFiber$"+dr,Wt="__reactProps$"+dr,Ir="__reactContainer$"+dr,gi="__reactEvents$"+dr,Bl="__reactListeners$"+dr,Yr="__reactHandles$"+dr,Uo="__reactResources$"+dr,cl="__reactMarker$"+dr;function br(e){delete e[On],delete e[Wt],delete e[gi],delete e[Bl],delete e[Yr]}function An(e){var n=e[On];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Ir]||i[On]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=nx(e);e!==null;){if(i=e[On])return i;e=nx(e)}return n}e=i,i=e.parentNode}return null}function Ft(e){if(e=e[On]||e[Ir]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(m(33))}function fr(e){var n=e[Uo];return n||(n=e[Uo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Sn(e){e[cl]=!0}var Ie=new Set,Po={};function Gt(e,n){_r(e,n),_r(e+"Capture",n)}function _r(e,n){for(Po[e]=n,e=0;e<n.length;e++)Ie.add(n[e])}var _u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jt={},Mt={};function At(e){return it.call(Mt,e)?!0:it.call(jt,e)?!1:_u.test(e)?Mt[e]=!0:(jt[e]=!0,!1)}function pi(e,n,i){if(At(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function bi(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function Or(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ca(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ou(e,n,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,b=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return g.call(this)},set:function(N){i=""+N,b.call(this,N)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(N){i=""+N},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function cn(e){if(!e._valueTracker){var n=ca(e)?"checked":"value";e._valueTracker=Ou(e,n,""+e[n])}}function ua(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=ca(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function jl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yi=/[\n"\\]/g;function Ct(e){return e.replace(yi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ln(e,n,i,o,g,b,N,k){e.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.type=N:e.removeAttribute("type"),n!=null?N==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Lt(n)):e.value!==""+Lt(n)&&(e.value=""+Lt(n)):N!=="submit"&&N!=="reset"||e.removeAttribute("value"),n!=null?L(e,N,Lt(n)):i!=null?L(e,N,Lt(i)):o!=null&&e.removeAttribute("value"),g==null&&b!=null&&(e.defaultChecked=!!b),g!=null&&(e.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?e.name=""+Lt(k):e.removeAttribute("name")}function ce(e,n,i,o,g,b,N,k){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.type=b),n!=null||i!=null){if(!(b!=="submit"&&b!=="reset"||n!=null)){cn(e);return}i=i!=null?""+Lt(i):"",n=n!=null?""+Lt(n):i,k||n===e.value||(e.value=n),e.defaultValue=n}o=o??g,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=k?e.checked:!!o,e.defaultChecked=!!o,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(e.name=N),cn(e)}function L(e,n,i){n==="number"&&jl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ye(e,n,i,o){if(e=e.options,n){n={};for(var g=0;g<i.length;g++)n["$"+i[g]]=!0;for(i=0;i<e.length;i++)g=n.hasOwnProperty("$"+e[i].value),e[i].selected!==g&&(e[i].selected=g),g&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Lt(i),n=null,g=0;g<e.length;g++){if(e[g].value===i){e[g].selected=!0,o&&(e[g].defaultSelected=!0);return}n!==null||e[g].disabled||(n=e[g])}n!==null&&(n.selected=!0)}}function Rn(e,n,i){if(n!=null&&(n=""+Lt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Lt(i):""}function hr(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(m(92));if(M(o)){if(1<o.length)throw Error(m(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=Lt(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),cn(e)}function wi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xr(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||Os.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Qe(e,n,i){if(n!=null&&typeof n!="object")throw Error(m(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var g in n)o=n[g],n.hasOwnProperty(g)&&i[g]!==o&&xr(e,g,o)}else for(var b in n)n.hasOwnProperty(b)&&xr(e,b,n[b])}function rn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ru=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vi(e){return Ru.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function yr(){}var ul=null;function Rs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var un=null,qr=null;function da(e){var n=Ft(e);if(n&&(e=n.stateNode)){var i=e[Wt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Ln(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ct(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var g=o[Wt]||null;if(!g)throw Error(m(90));Ln(o,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&ua(o)}break e;case"textarea":Rn(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Ye(e,!!i.multiple,n,!1)}}}var $e=!1;function Ho(e,n,i){if($e)return e(n,i);$e=!0;try{var o=e(n);return o}finally{if($e=!1,(un!==null||qr!==null)&&(kc(),un&&(n=un,e=qr,qr=un=null,da(n),e)))for(n=0;n<e.length;n++)da(e[n])}}function lt(e,n){var i=e.stateNode;if(i===null)return null;var o=i[Wt]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(m(231,n,typeof i));return i}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(an)try{var Ha={};Object.defineProperty(Ha,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",Ha,Ha),window.removeEventListener("test",Ha,Ha)}catch{Ds=!1}var fa=null,ha=null,Ll=null;function Ci(){if(Ll)return Ll;var e,n=ha,i=n.length,o,g="value"in fa?fa.value:fa.textContent,b=g.length;for(e=0;e<i&&n[e]===g[e];e++);var N=i-e;for(o=1;o<=N&&n[i-o]===g[b-o];o++);return Ll=g.slice(e,1<o?1-o:void 0)}function Ia(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _a(){return!0}function ks(){return!1}function zn(e){function n(i,o,g,b,N){this._reactName=i,this._targetInst=g,this.type=o,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(i=e[k],this[k]=i?i(b):b[k]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?_a:ks,this.isPropagationStopped=ks,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=_a)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=_a)},persist:function(){},isPersistent:_a}),n}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yn=zn(Rr),Ei=R({},Rr,{view:0,detail:0}),Vo=zn(Ei),zl,Ms,dl,Ul=R({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dl&&(dl&&e.type==="mousemove"?(zl=e.screenX-dl.screenX,Ms=e.screenY-dl.screenY):Ms=zl=0,dl=e),zl)},movementY:function(e){return"movementY"in e?e.movementY:Ms}}),Ht=zn(Ul),Go=R({},Ul,{dataTransfer:0}),Pl=zn(Go),Oa=R({},Ei,{relatedTarget:0}),Bs=zn(Oa),me=R({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),mt=zn(me),qn=R({},Rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fl=zn(qn),Xo=R({},Rr,{data:0}),Yo=zn(Xo),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},js={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dn(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=js[e])?!!n[e]:!1}function fl(){return Dn}var yn=R({},Ei,{key:function(e){if(e.key){var n=Du[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ku[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fl,charCode:function(e){return e.type==="keypress"?Ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Hl=zn(yn),Va=R({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xt=zn(Va),et=R({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fl}),Mu=zn(et),ln=R({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ga=zn(ln),Ai=R({},Ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bu=zn(Ai),Zr=R({},Rr,{newState:0,oldState:0}),Ls=zn(Zr),qo=[9,13,27,32],hl=an&&"CompositionEvent"in window,Si=null;an&&"documentMode"in document&&(Si=document.documentMode);var Zo=an&&"TextEvent"in window&&!Si,Wo=an&&(!hl||Si&&8<Si&&11>=Si),Xa=" ",Vl=!1;function Qo(e,n){switch(e){case"keyup":return qo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ni(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ti=!1;function Ra(e,n){switch(e){case"compositionend":return Ni(n);case"keypress":return n.which!==32?null:(Vl=!0,Xa);case"textInput":return e=n.data,e===Xa&&Vl?null:e;default:return null}}function Gl(e,n){if(Ti)return e==="compositionend"||!hl&&Qo(e,n)?(e=Ci(),Ll=ha=fa=null,Ti=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Wo&&n.locale!=="ko"?null:n.data;default:return null}}var wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!wr[e.type]:n==="textarea"}function Dr(e,n,i,o){un?qr?qr.push(o):qr=[o]:un=o,n=Pc(n,"onChange"),0<n.length&&(i=new Yn("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var xl=null,Ya=null;function ju(e){Hh(e,0)}function gl(e){var n=mi(e);if(ua(n))return e}function kr(e,n){if(e==="change")return n}var Ko=!1;if(an){var ml;if(an){var qa="oninput"in document;if(!qa){var It=document.createElement("div");It.setAttribute("oninput","return;"),qa=typeof It.oninput=="function"}ml=qa}else ml=!1;Ko=ml&&(!document.documentMode||9<document.documentMode)}function pl(){xl&&(xl.detachEvent("onpropertychange",I),Ya=xl=null)}function I(e){if(e.propertyName==="value"&&gl(Ya)){var n=[];Dr(n,Ya,e,Rs(e)),Ho(ju,n)}}function t(e,n,i){e==="focusin"?(pl(),xl=n,Ya=i,xl.attachEvent("onpropertychange",I)):e==="focusout"&&pl()}function r(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gl(Ya)}function a(e,n){if(e==="click")return gl(n)}function l(e,n){if(e==="input"||e==="change")return gl(n)}function s(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var u=typeof Object.is=="function"?Object.is:s;function h(e,n){if(u(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var g=i[o];if(!it.call(n,g)||!u(e[g],n[g]))return!1}return!0}function p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function v(e,n){var i=p(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=p(i)}}function A(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?A(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function _(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=jl(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=jl(e.document)}return n}function D(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var F=an&&"documentMode"in document&&11>=document.documentMode,Q=null,$=null,se=null,ge=!1;function Be(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ge||Q==null||Q!==jl(o)||(o=Q,"selectionStart"in o&&D(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),se&&h(se,o)||(se=o,o=Pc($,"onSelect"),0<o.length&&(n=new Yn("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=Q)))}function ke(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Oe={animationend:ke("Animation","AnimationEnd"),animationiteration:ke("Animation","AnimationIteration"),animationstart:ke("Animation","AnimationStart"),transitionrun:ke("Transition","TransitionRun"),transitionstart:ke("Transition","TransitionStart"),transitioncancel:ke("Transition","TransitionCancel"),transitionend:ke("Transition","TransitionEnd")},wt={},st={};an&&(st=document.createElement("div").style,"AnimationEvent"in window||(delete Oe.animationend.animation,delete Oe.animationiteration.animation,delete Oe.animationstart.animation),"TransitionEvent"in window||delete Oe.transitionend.transition);function Nn(e){if(wt[e])return wt[e];if(!Oe[e])return e;var n=Oe[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in st)return wt[e]=n[i];return e}var vr=Nn("animationend"),tr=Nn("animationiteration"),Yt=Nn("animationstart"),Zn=Nn("transitionrun"),gr=Nn("transitionstart"),Ii=Nn("transitioncancel"),Za=Nn("transitionend"),Jo=new Map,Us="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Us.push("scrollEnd");function xa(e,n){Jo.set(e,n),Gt(n,[e])}var $o=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wr=[],Xl=0,Lu=0;function ec(){for(var e=Xl,n=Lu=Xl=0;n<e;){var i=Wr[n];Wr[n++]=null;var o=Wr[n];Wr[n++]=null;var g=Wr[n];Wr[n++]=null;var b=Wr[n];if(Wr[n++]=null,o!==null&&g!==null){var N=o.pending;N===null?g.next=g:(g.next=N.next,N.next=g),o.pending=g}b!==0&&E0(i,g,b)}}function tc(e,n,i,o){Wr[Xl++]=e,Wr[Xl++]=n,Wr[Xl++]=i,Wr[Xl++]=o,Lu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zu(e,n,i,o){return tc(e,n,i,o),nc(e)}function bl(e,n){return tc(e,null,null,n),nc(e)}function E0(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var g=!1,b=e.return;b!==null;)b.childLanes|=i,o=b.alternate,o!==null&&(o.childLanes|=i),b.tag===22&&(e=b.stateNode,e===null||e._visibility&1||(g=!0)),e=b,b=b.return;return e.tag===3?(b=e.stateNode,g&&n!==null&&(g=31-gt(i),e=b.hiddenUpdates,o=e[g],o===null?e[g]=[n]:o.push(n),n.lane=i|536870912),b):null}function nc(e){if(50<so)throw so=0,qd=null,Error(m(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Yl={};function jm(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,n,i,o){return new jm(e,n,i,o)}function Uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wa(e,n){var i=e.alternate;return i===null?(i=Mr(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function A0(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function rc(e,n,i,o,g,b){var N=0;if(o=e,typeof e=="function")Uu(e)&&(N=1);else if(typeof e=="string")N=F2(e,i,Re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Mr(31,i,n,g),e.elementType=W,e.lanes=b,e;case Y:return yl(i.children,g,b,n);case K:N=8,g|=24;break;case B:return e=Mr(12,i,n,g|2),e.elementType=B,e.lanes=b,e;case he:return e=Mr(13,i,n,g),e.elementType=he,e.lanes=b,e;case ne:return e=Mr(19,i,n,g),e.elementType=ne,e.lanes=b,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:N=10;break e;case j:N=9;break e;case le:N=11;break e;case z:N=14;break e;case q:N=16,o=null;break e}N=29,i=Error(m(130,e===null?"null":typeof e,"")),o=null}return n=Mr(N,i,n,g),n.elementType=e,n.type=o,n.lanes=b,n}function yl(e,n,i,o){return e=Mr(7,e,o,n),e.lanes=i,e}function Pu(e,n,i){return e=Mr(6,e,null,n),e.lanes=i,e}function S0(e){var n=Mr(18,null,null,0);return n.stateNode=e,n}function Fu(e,n,i){return n=Mr(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var N0=new WeakMap;function Qr(e,n){if(typeof e=="object"&&e!==null){var i=N0.get(e);return i!==void 0?i:(n={value:e,source:n,stack:xt(n)},N0.set(e,n),n)}return{value:e,source:n,stack:xt(n)}}var ql=[],Zl=0,ac=null,Ps=0,Kr=[],Jr=0,_i=null,Da=1,ka="";function Qa(e,n){ql[Zl++]=Ps,ql[Zl++]=ac,ac=e,Ps=n}function T0(e,n,i){Kr[Jr++]=Da,Kr[Jr++]=ka,Kr[Jr++]=_i,_i=e;var o=Da;e=ka;var g=32-gt(o)-1;o&=~(1<<g),i+=1;var b=32-gt(n)+g;if(30<b){var N=g-g%5;b=(o&(1<<N)-1).toString(32),o>>=N,g-=N,Da=1<<32-gt(n)+g|i<<g|o,ka=b+e}else Da=1<<b|i<<g|o,ka=e}function Hu(e){e.return!==null&&(Qa(e,1),T0(e,1,0))}function Vu(e){for(;e===ac;)ac=ql[--Zl],ql[Zl]=null,Ps=ql[--Zl],ql[Zl]=null;for(;e===_i;)_i=Kr[--Jr],Kr[Jr]=null,ka=Kr[--Jr],Kr[Jr]=null,Da=Kr[--Jr],Kr[Jr]=null}function I0(e,n){Kr[Jr++]=Da,Kr[Jr++]=ka,Kr[Jr++]=_i,Da=n.id,ka=n.overflow,_i=e}var nr=null,dn=null,Dt=!1,Oi=null,$r=!1,Gu=Error(m(519));function Ri(e){var n=Error(m(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fs(Qr(n,e)),Gu}function _0(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[On]=e,n[Wt]=o,i){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(i=0;i<co.length;i++)Nt(co[i],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),ce(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),hr(n,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||Yh(n.textContent,i)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=yr),n=!0):n=!1,n||Ri(e,!0)}function O0(e){for(nr=e.return;nr;)switch(nr.tag){case 5:case 31:case 13:$r=!1;return;case 27:case 3:$r=!0;return;default:nr=nr.return}}function Wl(e){if(e!==nr)return!1;if(!Dt)return O0(e),Dt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||cf(e.type,e.memoizedProps)),i=!i),i&&dn&&Ri(e),O0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));dn=tx(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(317));dn=tx(e)}else n===27?(n=dn,Xi(e.type)?(e=xf,xf=null,dn=e):dn=n):dn=nr?ta(e.stateNode.nextSibling):null;return!0}function wl(){dn=nr=null,Dt=!1}function Xu(){var e=Oi;return e!==null&&(Sr===null?Sr=e:Sr.push.apply(Sr,e),Oi=null),e}function Fs(e){Oi===null?Oi=[e]:Oi.push(e)}var Yu=V(null),vl=null,Ka=null;function Di(e,n,i){Ae(Yu,n._currentValue),n._currentValue=i}function Ja(e){e._currentValue=Yu.current,ae(Yu)}function qu(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function Zu(e,n,i,o){var g=e.child;for(g!==null&&(g.return=e);g!==null;){var b=g.dependencies;if(b!==null){var N=g.child;b=b.firstContext;e:for(;b!==null;){var k=b;b=g;for(var Z=0;Z<n.length;Z++)if(k.context===n[Z]){b.lanes|=i,k=b.alternate,k!==null&&(k.lanes|=i),qu(b.return,i,e),o||(N=null);break e}b=k.next}}else if(g.tag===18){if(N=g.return,N===null)throw Error(m(341));N.lanes|=i,b=N.alternate,b!==null&&(b.lanes|=i),qu(N,i,e),N=null}else N=g.child;if(N!==null)N.return=g;else for(N=g;N!==null;){if(N===e){N=null;break}if(g=N.sibling,g!==null){g.return=N.return,N=g;break}N=N.return}g=N}}function Ql(e,n,i,o){e=null;for(var g=n,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var N=g.alternate;if(N===null)throw Error(m(387));if(N=N.memoizedProps,N!==null){var k=g.type;u(g.pendingProps.value,N.value)||(e!==null?e.push(k):e=[k])}}else if(g===qe.current){if(N=g.alternate,N===null)throw Error(m(387));N.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(e!==null?e.push(go):e=[go])}g=g.return}e!==null&&Zu(n,e,i,o),n.flags|=262144}function ic(e){for(e=e.firstContext;e!==null;){if(!u(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cl(e){vl=e,Ka=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rr(e){return R0(vl,e)}function lc(e,n){return vl===null&&Cl(e),R0(e,n)}function R0(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Ka===null){if(e===null)throw Error(m(308));Ka=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ka=Ka.next=n;return i}var Lm=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},zm=c.unstable_scheduleCallback,Um=c.unstable_NormalPriority,Un={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wu(){return{controller:new Lm,data:new Map,refCount:0}}function Hs(e){e.refCount--,e.refCount===0&&zm(Um,function(){e.controller.abort()})}var Vs=null,Qu=0,Kl=0,Jl=null;function Pm(e,n){if(Vs===null){var i=Vs=[];Qu=0,Kl=$d(),Jl={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Qu++,n.then(D0,D0),n}function D0(){if(--Qu===0&&Vs!==null){Jl!==null&&(Jl.status="fulfilled");var e=Vs;Vs=null,Kl=0,Jl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Fm(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(g){i.push(g)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var g=0;g<i.length;g++)(0,i[g])(n)},function(g){for(o.status="rejected",o.reason=g,g=0;g<i.length;g++)(0,i[g])(void 0)}),o}var k0=G.S;G.S=function(e,n){mh=Bt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Pm(e,n),k0!==null&&k0(e,n)};var El=V(null);function Ku(){var e=El.current;return e!==null?e:sn.pooledCache}function sc(e,n){n===null?Ae(El,El.current):Ae(El,n.pool)}function M0(){var e=Ku();return e===null?null:{parent:Un._currentValue,pool:e}}var $l=Error(m(460)),Ju=Error(m(474)),oc=Error(m(542)),cc={then:function(){}};function B0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function j0(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(yr,yr),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,z0(e),e;default:if(typeof n.status=="string")n.then(yr,yr);else{if(e=sn,e!==null&&100<e.shellSuspendCounter)throw Error(m(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var g=n;g.status="fulfilled",g.value=o}},function(o){if(n.status==="pending"){var g=n;g.status="rejected",g.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,z0(e),e}throw Sl=n,$l}}function Al(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Sl=i,$l):i}}var Sl=null;function L0(){if(Sl===null)throw Error(m(459));var e=Sl;return Sl=null,e}function z0(e){if(e===$l||e===oc)throw Error(m(483))}var es=null,Gs=0;function uc(e){var n=Gs;return Gs+=1,es===null&&(es=[]),j0(es,e,n)}function Xs(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function dc(e,n){throw n.$$typeof===P?Error(m(525)):(e=Object.prototype.toString.call(n),Error(m(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function U0(e){function n(re,ee){if(e){var ue=re.deletions;ue===null?(re.deletions=[ee],re.flags|=16):ue.push(ee)}}function i(re,ee){if(!e)return null;for(;ee!==null;)n(re,ee),ee=ee.sibling;return null}function o(re){for(var ee=new Map;re!==null;)re.key!==null?ee.set(re.key,re):ee.set(re.index,re),re=re.sibling;return ee}function g(re,ee){return re=Wa(re,ee),re.index=0,re.sibling=null,re}function b(re,ee,ue){return re.index=ue,e?(ue=re.alternate,ue!==null?(ue=ue.index,ue<ee?(re.flags|=67108866,ee):ue):(re.flags|=67108866,ee)):(re.flags|=1048576,ee)}function N(re){return e&&re.alternate===null&&(re.flags|=67108866),re}function k(re,ee,ue,Ee){return ee===null||ee.tag!==6?(ee=Pu(ue,re.mode,Ee),ee.return=re,ee):(ee=g(ee,ue),ee.return=re,ee)}function Z(re,ee,ue,Ee){var Ke=ue.type;return Ke===Y?ye(re,ee,ue.props.children,Ee,ue.key):ee!==null&&(ee.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===q&&Al(Ke)===ee.type)?(ee=g(ee,ue.props),Xs(ee,ue),ee.return=re,ee):(ee=rc(ue.type,ue.key,ue.props,null,re.mode,Ee),Xs(ee,ue),ee.return=re,ee)}function de(re,ee,ue,Ee){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==ue.containerInfo||ee.stateNode.implementation!==ue.implementation?(ee=Fu(ue,re.mode,Ee),ee.return=re,ee):(ee=g(ee,ue.children||[]),ee.return=re,ee)}function ye(re,ee,ue,Ee,Ke){return ee===null||ee.tag!==7?(ee=yl(ue,re.mode,Ee,Ke),ee.return=re,ee):(ee=g(ee,ue),ee.return=re,ee)}function Se(re,ee,ue){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=Pu(""+ee,re.mode,ue),ee.return=re,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case X:return ue=rc(ee.type,ee.key,ee.props,null,re.mode,ue),Xs(ue,ee),ue.return=re,ue;case J:return ee=Fu(ee,re.mode,ue),ee.return=re,ee;case q:return ee=Al(ee),Se(re,ee,ue)}if(M(ee)||pe(ee))return ee=yl(ee,re.mode,ue,null),ee.return=re,ee;if(typeof ee.then=="function")return Se(re,uc(ee),ue);if(ee.$$typeof===H)return Se(re,lc(re,ee),ue);dc(re,ee)}return null}function xe(re,ee,ue,Ee){var Ke=ee!==null?ee.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Ke!==null?null:k(re,ee,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case X:return ue.key===Ke?Z(re,ee,ue,Ee):null;case J:return ue.key===Ke?de(re,ee,ue,Ee):null;case q:return ue=Al(ue),xe(re,ee,ue,Ee)}if(M(ue)||pe(ue))return Ke!==null?null:ye(re,ee,ue,Ee,null);if(typeof ue.then=="function")return xe(re,ee,uc(ue),Ee);if(ue.$$typeof===H)return xe(re,ee,lc(re,ue),Ee);dc(re,ue)}return null}function be(re,ee,ue,Ee,Ke){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return re=re.get(ue)||null,k(ee,re,""+Ee,Ke);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case X:return re=re.get(Ee.key===null?ue:Ee.key)||null,Z(ee,re,Ee,Ke);case J:return re=re.get(Ee.key===null?ue:Ee.key)||null,de(ee,re,Ee,Ke);case q:return Ee=Al(Ee),be(re,ee,ue,Ee,Ke)}if(M(Ee)||pe(Ee))return re=re.get(ue)||null,ye(ee,re,Ee,Ke,null);if(typeof Ee.then=="function")return be(re,ee,ue,uc(Ee),Ke);if(Ee.$$typeof===H)return be(re,ee,ue,lc(ee,Ee),Ke);dc(ee,Ee)}return null}function Ge(re,ee,ue,Ee){for(var Ke=null,zt=null,Ze=ee,pt=ee=0,Ot=null;Ze!==null&&pt<ue.length;pt++){Ze.index>pt?(Ot=Ze,Ze=null):Ot=Ze.sibling;var Ut=xe(re,Ze,ue[pt],Ee);if(Ut===null){Ze===null&&(Ze=Ot);break}e&&Ze&&Ut.alternate===null&&n(re,Ze),ee=b(Ut,ee,pt),zt===null?Ke=Ut:zt.sibling=Ut,zt=Ut,Ze=Ot}if(pt===ue.length)return i(re,Ze),Dt&&Qa(re,pt),Ke;if(Ze===null){for(;pt<ue.length;pt++)Ze=Se(re,ue[pt],Ee),Ze!==null&&(ee=b(Ze,ee,pt),zt===null?Ke=Ze:zt.sibling=Ze,zt=Ze);return Dt&&Qa(re,pt),Ke}for(Ze=o(Ze);pt<ue.length;pt++)Ot=be(Ze,re,pt,ue[pt],Ee),Ot!==null&&(e&&Ot.alternate!==null&&Ze.delete(Ot.key===null?pt:Ot.key),ee=b(Ot,ee,pt),zt===null?Ke=Ot:zt.sibling=Ot,zt=Ot);return e&&Ze.forEach(function(Qi){return n(re,Qi)}),Dt&&Qa(re,pt),Ke}function tt(re,ee,ue,Ee){if(ue==null)throw Error(m(151));for(var Ke=null,zt=null,Ze=ee,pt=ee=0,Ot=null,Ut=ue.next();Ze!==null&&!Ut.done;pt++,Ut=ue.next()){Ze.index>pt?(Ot=Ze,Ze=null):Ot=Ze.sibling;var Qi=xe(re,Ze,Ut.value,Ee);if(Qi===null){Ze===null&&(Ze=Ot);break}e&&Ze&&Qi.alternate===null&&n(re,Ze),ee=b(Qi,ee,pt),zt===null?Ke=Qi:zt.sibling=Qi,zt=Qi,Ze=Ot}if(Ut.done)return i(re,Ze),Dt&&Qa(re,pt),Ke;if(Ze===null){for(;!Ut.done;pt++,Ut=ue.next())Ut=Se(re,Ut.value,Ee),Ut!==null&&(ee=b(Ut,ee,pt),zt===null?Ke=Ut:zt.sibling=Ut,zt=Ut);return Dt&&Qa(re,pt),Ke}for(Ze=o(Ze);!Ut.done;pt++,Ut=ue.next())Ut=be(Ze,re,pt,Ut.value,Ee),Ut!==null&&(e&&Ut.alternate!==null&&Ze.delete(Ut.key===null?pt:Ut.key),ee=b(Ut,ee,pt),zt===null?Ke=Ut:zt.sibling=Ut,zt=Ut);return e&&Ze.forEach(function(J2){return n(re,J2)}),Dt&&Qa(re,pt),Ke}function tn(re,ee,ue,Ee){if(typeof ue=="object"&&ue!==null&&ue.type===Y&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case X:e:{for(var Ke=ue.key;ee!==null;){if(ee.key===Ke){if(Ke=ue.type,Ke===Y){if(ee.tag===7){i(re,ee.sibling),Ee=g(ee,ue.props.children),Ee.return=re,re=Ee;break e}}else if(ee.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===q&&Al(Ke)===ee.type){i(re,ee.sibling),Ee=g(ee,ue.props),Xs(Ee,ue),Ee.return=re,re=Ee;break e}i(re,ee);break}else n(re,ee);ee=ee.sibling}ue.type===Y?(Ee=yl(ue.props.children,re.mode,Ee,ue.key),Ee.return=re,re=Ee):(Ee=rc(ue.type,ue.key,ue.props,null,re.mode,Ee),Xs(Ee,ue),Ee.return=re,re=Ee)}return N(re);case J:e:{for(Ke=ue.key;ee!==null;){if(ee.key===Ke)if(ee.tag===4&&ee.stateNode.containerInfo===ue.containerInfo&&ee.stateNode.implementation===ue.implementation){i(re,ee.sibling),Ee=g(ee,ue.children||[]),Ee.return=re,re=Ee;break e}else{i(re,ee);break}else n(re,ee);ee=ee.sibling}Ee=Fu(ue,re.mode,Ee),Ee.return=re,re=Ee}return N(re);case q:return ue=Al(ue),tn(re,ee,ue,Ee)}if(M(ue))return Ge(re,ee,ue,Ee);if(pe(ue)){if(Ke=pe(ue),typeof Ke!="function")throw Error(m(150));return ue=Ke.call(ue),tt(re,ee,ue,Ee)}if(typeof ue.then=="function")return tn(re,ee,uc(ue),Ee);if(ue.$$typeof===H)return tn(re,ee,lc(re,ue),Ee);dc(re,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,ee!==null&&ee.tag===6?(i(re,ee.sibling),Ee=g(ee,ue),Ee.return=re,re=Ee):(i(re,ee),Ee=Pu(ue,re.mode,Ee),Ee.return=re,re=Ee),N(re)):i(re,ee)}return function(re,ee,ue,Ee){try{Gs=0;var Ke=tn(re,ee,ue,Ee);return es=null,Ke}catch(Ze){if(Ze===$l||Ze===oc)throw Ze;var zt=Mr(29,Ze,null,re.mode);return zt.lanes=Ee,zt.return=re,zt}finally{}}}var Nl=U0(!0),P0=U0(!1),ki=!1;function $u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Vt&2)!==0){var g=o.pending;return g===null?n.next=n:(n.next=g.next,g.next=n),o.pending=n,n=nc(e),E0(e,null,i),n}return tc(e,o,n,i),nc(e)}function Ys(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Ta(e,i)}}function td(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var g=null,b=null;if(i=i.firstBaseUpdate,i!==null){do{var N={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};b===null?g=b=N:b=b.next=N,i=i.next}while(i!==null);b===null?g=b=n:b=b.next=n}else g=b=n;i={baseState:o.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var nd=!1;function qs(){if(nd){var e=Jl;if(e!==null)throw e}}function Zs(e,n,i,o){nd=!1;var g=e.updateQueue;ki=!1;var b=g.firstBaseUpdate,N=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var Z=k,de=Z.next;Z.next=null,N===null?b=de:N.next=de,N=Z;var ye=e.alternate;ye!==null&&(ye=ye.updateQueue,k=ye.lastBaseUpdate,k!==N&&(k===null?ye.firstBaseUpdate=de:k.next=de,ye.lastBaseUpdate=Z))}if(b!==null){var Se=g.baseState;N=0,ye=de=Z=null,k=b;do{var xe=k.lane&-536870913,be=xe!==k.lane;if(be?(_t&xe)===xe:(o&xe)===xe){xe!==0&&xe===Kl&&(nd=!0),ye!==null&&(ye=ye.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ge=e,tt=k;xe=n;var tn=i;switch(tt.tag){case 1:if(Ge=tt.payload,typeof Ge=="function"){Se=Ge.call(tn,Se,xe);break e}Se=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=tt.payload,xe=typeof Ge=="function"?Ge.call(tn,Se,xe):Ge,xe==null)break e;Se=R({},Se,xe);break e;case 2:ki=!0}}xe=k.callback,xe!==null&&(e.flags|=64,be&&(e.flags|=8192),be=g.callbacks,be===null?g.callbacks=[xe]:be.push(xe))}else be={lane:xe,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ye===null?(de=ye=be,Z=Se):ye=ye.next=be,N|=xe;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;be=k,k=be.next,be.next=null,g.lastBaseUpdate=be,g.shared.pending=null}}while(!0);ye===null&&(Z=Se),g.baseState=Z,g.firstBaseUpdate=de,g.lastBaseUpdate=ye,b===null&&(g.shared.lanes=0),Pi|=N,e.lanes=N,e.memoizedState=Se}}function F0(e,n){if(typeof e!="function")throw Error(m(191,e));e.call(n)}function H0(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)F0(i[e],n)}var ts=V(null),fc=V(0);function V0(e,n){e=si,Ae(fc,e),Ae(ts,n),si=e|n.baseLanes}function rd(){Ae(fc,si),Ae(ts,ts.current)}function ad(){si=fc.current,ae(ts),ae(fc)}var Br=V(null),ea=null;function ji(e){var n=e.alternate;Ae(kn,kn.current&1),Ae(Br,e),ea===null&&(n===null||ts.current!==null||n.memoizedState!==null)&&(ea=e)}function id(e){Ae(kn,kn.current),Ae(Br,e),ea===null&&(ea=e)}function G0(e){e.tag===22?(Ae(kn,kn.current),Ae(Br,e),ea===null&&(ea=e)):Li()}function Li(){Ae(kn,kn.current),Ae(Br,Br.current)}function jr(e){ae(Br),ea===e&&(ea=null),ae(kn)}var kn=V(0);function hc(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||ff(i)||hf(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $a=0,ht=null,$t=null,Pn=null,xc=!1,ns=!1,Tl=!1,gc=0,Ws=0,rs=null,Hm=0;function Tn(){throw Error(m(321))}function ld(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!u(e[i],n[i]))return!1;return!0}function sd(e,n,i,o,g,b){return $a=b,ht=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?T1:Cd,Tl=!1,b=i(o,g),Tl=!1,ns&&(b=Y0(n,i,o,g)),X0(e),b}function X0(e){G.H=Js;var n=$t!==null&&$t.next!==null;if($a=0,Pn=$t=ht=null,xc=!1,Ws=0,rs=null,n)throw Error(m(300));e===null||Fn||(e=e.dependencies,e!==null&&ic(e)&&(Fn=!0))}function Y0(e,n,i,o){ht=e;var g=0;do{if(ns&&(rs=null),Ws=0,ns=!1,25<=g)throw Error(m(301));if(g+=1,Pn=$t=null,e.updateQueue!=null){var b=e.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}G.H=I1,b=n(i,o)}while(ns);return b}function Vm(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Qs(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(ht.flags|=1024),n}function od(){var e=gc!==0;return gc=0,e}function cd(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function ud(e){if(xc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xc=!1}$a=0,Pn=$t=ht=null,ns=!1,Ws=gc=0,rs=null}function mr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?ht.memoizedState=Pn=e:Pn=Pn.next=e,Pn}function Mn(){if($t===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Pn===null?ht.memoizedState:Pn.next;if(n!==null)Pn=n,$t=e;else{if(e===null)throw ht.alternate===null?Error(m(467)):Error(m(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Pn===null?ht.memoizedState=Pn=e:Pn=Pn.next=e}return Pn}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qs(e){var n=Ws;return Ws+=1,rs===null&&(rs=[]),e=j0(rs,e,n),n=ht,(Pn===null?n.memoizedState:Pn.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?T1:Cd),e}function pc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qs(e);if(e.$$typeof===H)return rr(e)}throw Error(m(438,String(e)))}function dd(e){var n=null,i=ht.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=ht.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(g){return g.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=mc(),ht.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=fe;return n.index++,i}function ei(e,n){return typeof n=="function"?n(e):n}function bc(e){var n=Mn();return fd(n,$t,e)}function fd(e,n,i){var o=e.queue;if(o===null)throw Error(m(311));o.lastRenderedReducer=i;var g=e.baseQueue,b=o.pending;if(b!==null){if(g!==null){var N=g.next;g.next=b.next,b.next=N}n.baseQueue=g=b,o.pending=null}if(b=e.baseState,g===null)e.memoizedState=b;else{n=g.next;var k=N=null,Z=null,de=n,ye=!1;do{var Se=de.lane&-536870913;if(Se!==de.lane?(_t&Se)===Se:($a&Se)===Se){var xe=de.revertLane;if(xe===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Se===Kl&&(ye=!0);else if(($a&xe)===xe){de=de.next,xe===Kl&&(ye=!0);continue}else Se={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},Z===null?(k=Z=Se,N=b):Z=Z.next=Se,ht.lanes|=xe,Pi|=xe;Se=de.action,Tl&&i(b,Se),b=de.hasEagerState?de.eagerState:i(b,Se)}else xe={lane:Se,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},Z===null?(k=Z=xe,N=b):Z=Z.next=xe,ht.lanes|=Se,Pi|=Se;de=de.next}while(de!==null&&de!==n);if(Z===null?N=b:Z.next=k,!u(b,e.memoizedState)&&(Fn=!0,ye&&(i=Jl,i!==null)))throw i;e.memoizedState=b,e.baseState=N,e.baseQueue=Z,o.lastRenderedState=b}return g===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function hd(e){var n=Mn(),i=n.queue;if(i===null)throw Error(m(311));i.lastRenderedReducer=e;var o=i.dispatch,g=i.pending,b=n.memoizedState;if(g!==null){i.pending=null;var N=g=g.next;do b=e(b,N.action),N=N.next;while(N!==g);u(b,n.memoizedState)||(Fn=!0),n.memoizedState=b,n.baseQueue===null&&(n.baseState=b),i.lastRenderedState=b}return[b,o]}function q0(e,n,i){var o=ht,g=Mn(),b=Dt;if(b){if(i===void 0)throw Error(m(407));i=i()}else i=n();var N=!u(($t||g).memoizedState,i);if(N&&(g.memoizedState=i,Fn=!0),g=g.queue,md(Q0.bind(null,o,g,e),[e]),g.getSnapshot!==n||N||Pn!==null&&Pn.memoizedState.tag&1){if(o.flags|=2048,as(9,{destroy:void 0},W0.bind(null,o,g,i,n),null),sn===null)throw Error(m(349));b||($a&127)!==0||Z0(o,n,i)}return i}function Z0(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=ht.updateQueue,n===null?(n=mc(),ht.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function W0(e,n,i,o){n.value=i,n.getSnapshot=o,K0(n)&&J0(e)}function Q0(e,n,i){return i(function(){K0(n)&&J0(e)})}function K0(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!u(e,i)}catch{return!0}}function J0(e){var n=bl(e,2);n!==null&&Nr(n,e,2)}function xd(e){var n=mr();if(typeof e=="function"){var i=e;if(e=i(),Tl){Jt(!0);try{i()}finally{Jt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},n}function $0(e,n,i,o){return e.baseState=i,fd(e,$t,typeof o=="function"?o:ei)}function Gm(e,n,i,o,g){if(vc(e))throw Error(m(485));if(e=n.action,e!==null){var b={payload:g,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};G.T!==null?i(!0):b.isTransition=!1,o(b),i=n.pending,i===null?(b.next=n.pending=b,e1(n,b)):(b.next=i.next,n.pending=i.next=b)}}function e1(e,n){var i=n.action,o=n.payload,g=e.state;if(n.isTransition){var b=G.T,N={};G.T=N;try{var k=i(g,o),Z=G.S;Z!==null&&Z(N,k),t1(e,n,k)}catch(de){gd(e,n,de)}finally{b!==null&&N.types!==null&&(b.types=N.types),G.T=b}}else try{b=i(g,o),t1(e,n,b)}catch(de){gd(e,n,de)}}function t1(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){n1(e,n,o)},function(o){return gd(e,n,o)}):n1(e,n,i)}function n1(e,n,i){n.status="fulfilled",n.value=i,r1(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,e1(e,i)))}function gd(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,r1(n),n=n.next;while(n!==o)}e.action=null}function r1(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function a1(e,n){return n}function i1(e,n){if(Dt){var i=sn.formState;if(i!==null){e:{var o=ht;if(Dt){if(dn){t:{for(var g=dn,b=$r;g.nodeType!==8;){if(!b){g=null;break t}if(g=ta(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){dn=ta(g.nextSibling),o=g.data==="F!";break e}}Ri(o)}o=!1}o&&(n=i[0])}}return i=mr(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a1,lastRenderedState:n},i.queue=o,i=A1.bind(null,ht,o),o.dispatch=i,o=xd(!1),b=vd.bind(null,ht,!1,o.queue),o=mr(),g={state:n,dispatch:null,action:e,pending:null},o.queue=g,i=Gm.bind(null,ht,g,b,i),g.dispatch=i,o.memoizedState=e,[n,i,!1]}function l1(e){var n=Mn();return s1(n,$t,e)}function s1(e,n,i){if(n=fd(e,n,a1)[0],e=bc(ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Qs(n)}catch(N){throw N===$l?oc:N}else o=n;n=Mn();var g=n.queue,b=g.dispatch;return i!==n.memoizedState&&(ht.flags|=2048,as(9,{destroy:void 0},Xm.bind(null,g,i),null)),[o,b,e]}function Xm(e,n){e.action=n}function o1(e){var n=Mn(),i=$t;if(i!==null)return s1(n,i,e);Mn(),n=n.memoizedState,i=Mn();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function as(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=ht.updateQueue,n===null&&(n=mc(),ht.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function c1(){return Mn().memoizedState}function yc(e,n,i,o){var g=mr();ht.flags|=e,g.memoizedState=as(1|n,{destroy:void 0},i,o===void 0?null:o)}function wc(e,n,i,o){var g=Mn();o=o===void 0?null:o;var b=g.memoizedState.inst;$t!==null&&o!==null&&ld(o,$t.memoizedState.deps)?g.memoizedState=as(n,b,i,o):(ht.flags|=e,g.memoizedState=as(1|n,b,i,o))}function u1(e,n){yc(8390656,8,e,n)}function md(e,n){wc(2048,8,e,n)}function Ym(e){ht.flags|=4;var n=ht.updateQueue;if(n===null)n=mc(),ht.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function d1(e){var n=Mn().memoizedState;return Ym({ref:n,nextImpl:e}),function(){if((Vt&2)!==0)throw Error(m(440));return n.impl.apply(void 0,arguments)}}function f1(e,n){return wc(4,2,e,n)}function h1(e,n){return wc(4,4,e,n)}function x1(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function g1(e,n,i){i=i!=null?i.concat([e]):null,wc(4,4,x1.bind(null,n,e),i)}function pd(){}function m1(e,n){var i=Mn();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&ld(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function p1(e,n){var i=Mn();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&ld(n,o[1]))return o[0];if(o=e(),Tl){Jt(!0);try{e()}finally{Jt(!1)}}return i.memoizedState=[o,n],o}function bd(e,n,i){return i===void 0||($a&1073741824)!==0&&(_t&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=bh(),ht.lanes|=e,Pi|=e,i)}function b1(e,n,i,o){return u(i,n)?i:ts.current!==null?(e=bd(e,i,o),u(e,n)||(Fn=!0),e):($a&42)===0||($a&1073741824)!==0&&(_t&261930)===0?(Fn=!0,e.memoizedState=i):(e=bh(),ht.lanes|=e,Pi|=e,n)}function y1(e,n,i,o,g){var b=ie.p;ie.p=b!==0&&8>b?b:8;var N=G.T,k={};G.T=k,vd(e,!1,n,i);try{var Z=g(),de=G.S;if(de!==null&&de(k,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ye=Fm(Z,o);Ks(e,n,ye,Ur(e))}else Ks(e,n,o,Ur(e))}catch(Se){Ks(e,n,{then:function(){},status:"rejected",reason:Se},Ur())}finally{ie.p=b,N!==null&&k.types!==null&&(N.types=k.types),G.T=N}}function qm(){}function yd(e,n,i,o){if(e.tag!==5)throw Error(m(476));var g=w1(e).queue;y1(e,g,n,oe,i===null?qm:function(){return v1(e),i(o)})}function w1(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:oe},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function v1(e){var n=w1(e);n.next===null&&(n=e.alternate.memoizedState),Ks(e,n.next.queue,{},Ur())}function wd(){return rr(go)}function C1(){return Mn().memoizedState}function E1(){return Mn().memoizedState}function Zm(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=Ur();e=Mi(i);var o=Bi(n,e,i);o!==null&&(Nr(o,n,i),Ys(o,n,i)),n={cache:Wu()},e.payload=n;return}n=n.return}}function Wm(e,n,i){var o=Ur();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},vc(e)?S1(n,i):(i=zu(e,n,i,o),i!==null&&(Nr(i,e,o),N1(i,n,o)))}function A1(e,n,i){var o=Ur();Ks(e,n,i,o)}function Ks(e,n,i,o){var g={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(vc(e))S1(n,g);else{var b=e.alternate;if(e.lanes===0&&(b===null||b.lanes===0)&&(b=n.lastRenderedReducer,b!==null))try{var N=n.lastRenderedState,k=b(N,i);if(g.hasEagerState=!0,g.eagerState=k,u(k,N))return tc(e,n,g,0),sn===null&&ec(),!1}catch{}finally{}if(i=zu(e,n,g,o),i!==null)return Nr(i,e,o),N1(i,n,o),!0}return!1}function vd(e,n,i,o){if(o={lane:2,revertLane:$d(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vc(e)){if(n)throw Error(m(479))}else n=zu(e,i,o,2),n!==null&&Nr(n,e,2)}function vc(e){var n=e.alternate;return e===ht||n!==null&&n===ht}function S1(e,n){ns=xc=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function N1(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Ta(e,i)}}var Js={readContext:rr,use:pc,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useLayoutEffect:Tn,useInsertionEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useSyncExternalStore:Tn,useId:Tn,useHostTransitionStatus:Tn,useFormState:Tn,useActionState:Tn,useOptimistic:Tn,useMemoCache:Tn,useCacheRefresh:Tn};Js.useEffectEvent=Tn;var T1={readContext:rr,use:pc,useCallback:function(e,n){return mr().memoizedState=[e,n===void 0?null:n],e},useContext:rr,useEffect:u1,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,yc(4194308,4,x1.bind(null,n,e),i)},useLayoutEffect:function(e,n){return yc(4194308,4,e,n)},useInsertionEffect:function(e,n){yc(4,2,e,n)},useMemo:function(e,n){var i=mr();n=n===void 0?null:n;var o=e();if(Tl){Jt(!0);try{e()}finally{Jt(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=mr();if(i!==void 0){var g=i(n);if(Tl){Jt(!0);try{i(n)}finally{Jt(!1)}}}else g=n;return o.memoizedState=o.baseState=g,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:g},o.queue=e,e=e.dispatch=Wm.bind(null,ht,e),[o.memoizedState,e]},useRef:function(e){var n=mr();return e={current:e},n.memoizedState=e},useState:function(e){e=xd(e);var n=e.queue,i=A1.bind(null,ht,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:pd,useDeferredValue:function(e,n){var i=mr();return bd(i,e,n)},useTransition:function(){var e=xd(!1);return e=y1.bind(null,ht,e.queue,!0,!1),mr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=ht,g=mr();if(Dt){if(i===void 0)throw Error(m(407));i=i()}else{if(i=n(),sn===null)throw Error(m(349));(_t&127)!==0||Z0(o,n,i)}g.memoizedState=i;var b={value:i,getSnapshot:n};return g.queue=b,u1(Q0.bind(null,o,b,e),[e]),o.flags|=2048,as(9,{destroy:void 0},W0.bind(null,o,b,i,n),null),i},useId:function(){var e=mr(),n=sn.identifierPrefix;if(Dt){var i=ka,o=Da;i=(o&~(1<<32-gt(o)-1)).toString(32)+i,n="_"+n+"R_"+i,i=gc++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=Hm++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wd,useFormState:i1,useActionState:i1,useOptimistic:function(e){var n=mr();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=vd.bind(null,ht,!0,i),i.dispatch=n,[e,n]},useMemoCache:dd,useCacheRefresh:function(){return mr().memoizedState=Zm.bind(null,ht)},useEffectEvent:function(e){var n=mr(),i={impl:e};return n.memoizedState=i,function(){if((Vt&2)!==0)throw Error(m(440));return i.impl.apply(void 0,arguments)}}},Cd={readContext:rr,use:pc,useCallback:m1,useContext:rr,useEffect:md,useImperativeHandle:g1,useInsertionEffect:f1,useLayoutEffect:h1,useMemo:p1,useReducer:bc,useRef:c1,useState:function(){return bc(ei)},useDebugValue:pd,useDeferredValue:function(e,n){var i=Mn();return b1(i,$t.memoizedState,e,n)},useTransition:function(){var e=bc(ei)[0],n=Mn().memoizedState;return[typeof e=="boolean"?e:Qs(e),n]},useSyncExternalStore:q0,useId:C1,useHostTransitionStatus:wd,useFormState:l1,useActionState:l1,useOptimistic:function(e,n){var i=Mn();return $0(i,$t,e,n)},useMemoCache:dd,useCacheRefresh:E1};Cd.useEffectEvent=d1;var I1={readContext:rr,use:pc,useCallback:m1,useContext:rr,useEffect:md,useImperativeHandle:g1,useInsertionEffect:f1,useLayoutEffect:h1,useMemo:p1,useReducer:hd,useRef:c1,useState:function(){return hd(ei)},useDebugValue:pd,useDeferredValue:function(e,n){var i=Mn();return $t===null?bd(i,e,n):b1(i,$t.memoizedState,e,n)},useTransition:function(){var e=hd(ei)[0],n=Mn().memoizedState;return[typeof e=="boolean"?e:Qs(e),n]},useSyncExternalStore:q0,useId:C1,useHostTransitionStatus:wd,useFormState:o1,useActionState:o1,useOptimistic:function(e,n){var i=Mn();return $t!==null?$0(i,$t,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:dd,useCacheRefresh:E1};I1.useEffectEvent=d1;function Ed(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:R({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ad={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=Ur(),g=Mi(o);g.payload=n,i!=null&&(g.callback=i),n=Bi(e,g,o),n!==null&&(Nr(n,e,o),Ys(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=Ur(),g=Mi(o);g.tag=1,g.payload=n,i!=null&&(g.callback=i),n=Bi(e,g,o),n!==null&&(Nr(n,e,o),Ys(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ur(),o=Mi(i);o.tag=2,n!=null&&(o.callback=n),n=Bi(e,o,i),n!==null&&(Nr(n,e,i),Ys(n,e,i))}};function _1(e,n,i,o,g,b,N){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,b,N):n.prototype&&n.prototype.isPureReactComponent?!h(i,o)||!h(g,b):!0}function O1(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&Ad.enqueueReplaceState(n,n.state,null)}function Il(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=R({},i));for(var g in e)i[g]===void 0&&(i[g]=e[g])}return i}function R1(e){$o(e)}function D1(e){console.error(e)}function k1(e){$o(e)}function Cc(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function M1(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Sd(e,n,i){return i=Mi(i),i.tag=3,i.payload={element:null},i.callback=function(){Cc(e,n)},i}function B1(e){return e=Mi(e),e.tag=3,e}function j1(e,n,i,o){var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var b=o.value;e.payload=function(){return g(b)},e.callback=function(){M1(n,i,o)}}var N=i.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(e.callback=function(){M1(n,i,o),typeof g!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})})}function Qm(e,n,i,o,g){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&Ql(n,i,g,!0),i=Br.current,i!==null){switch(i.tag){case 31:case 13:return ea===null?Mc():i.alternate===null&&In===0&&(In=3),i.flags&=-257,i.flags|=65536,i.lanes=g,o===cc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),Qd(e,o,g)),!1;case 22:return i.flags|=65536,o===cc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),Qd(e,o,g)),!1}throw Error(m(435,i.tag))}return Qd(e,o,g),Mc(),!1}if(Dt)return n=Br.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=g,o!==Gu&&(e=Error(m(422),{cause:o}),Fs(Qr(e,i)))):(o!==Gu&&(n=Error(m(423),{cause:o}),Fs(Qr(n,i))),e=e.current.alternate,e.flags|=65536,g&=-g,e.lanes|=g,o=Qr(o,i),g=Sd(e.stateNode,o,g),td(e,g),In!==4&&(In=2)),!1;var b=Error(m(520),{cause:o});if(b=Qr(b,i),lo===null?lo=[b]:lo.push(b),In!==4&&(In=2),n===null)return!0;o=Qr(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=g&-g,i.lanes|=e,e=Sd(i.stateNode,o,e),td(i,e),!1;case 1:if(n=i.type,b=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fi===null||!Fi.has(b))))return i.flags|=65536,g&=-g,i.lanes|=g,g=B1(g),j1(g,e,i,o),td(i,g),!1}i=i.return}while(i!==null);return!1}var Nd=Error(m(461)),Fn=!1;function ar(e,n,i,o){n.child=e===null?P0(n,null,i,o):Nl(n,e.child,i,o)}function L1(e,n,i,o,g){i=i.render;var b=n.ref;if("ref"in o){var N={};for(var k in o)k!=="ref"&&(N[k]=o[k])}else N=o;return Cl(n),o=sd(e,n,i,N,b,g),k=od(),e!==null&&!Fn?(cd(e,n,g),ti(e,n,g)):(Dt&&k&&Hu(n),n.flags|=1,ar(e,n,o,g),n.child)}function z1(e,n,i,o,g){if(e===null){var b=i.type;return typeof b=="function"&&!Uu(b)&&b.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=b,U1(e,n,b,o,g)):(e=rc(i.type,null,o,n,n.mode,g),e.ref=n.ref,e.return=n,n.child=e)}if(b=e.child,!Md(e,g)){var N=b.memoizedProps;if(i=i.compare,i=i!==null?i:h,i(N,o)&&e.ref===n.ref)return ti(e,n,g)}return n.flags|=1,e=Wa(b,o),e.ref=n.ref,e.return=n,n.child=e}function U1(e,n,i,o,g){if(e!==null){var b=e.memoizedProps;if(h(b,o)&&e.ref===n.ref)if(Fn=!1,n.pendingProps=o=b,Md(e,g))(e.flags&131072)!==0&&(Fn=!0);else return n.lanes=e.lanes,ti(e,n,g)}return Td(e,n,i,o,g)}function P1(e,n,i,o){var g=o.children,b=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(b=b!==null?b.baseLanes|i:i,e!==null){for(o=n.child=e.child,g=0;o!==null;)g=g|o.lanes|o.childLanes,o=o.sibling;o=g&~b}else o=0,n.child=null;return F1(e,n,b,i,o)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&sc(n,b!==null?b.cachePool:null),b!==null?V0(n,b):rd(),G0(n);else return o=n.lanes=536870912,F1(e,n,b!==null?b.baseLanes|i:i,i,o)}else b!==null?(sc(n,b.cachePool),V0(n,b),Li(),n.memoizedState=null):(e!==null&&sc(n,null),rd(),Li());return ar(e,n,g,i),n.child}function $s(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function F1(e,n,i,o,g){var b=Ku();return b=b===null?null:{parent:Un._currentValue,pool:b},n.memoizedState={baseLanes:i,cachePool:b},e!==null&&sc(n,null),rd(),G0(n),e!==null&&Ql(e,n,o,!0),n.childLanes=g,null}function Ec(e,n){return n=Sc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function H1(e,n,i){return Nl(n,e.child,null,i),e=Ec(n,n.pendingProps),e.flags|=2,jr(n),n.memoizedState=null,e}function Km(e,n,i){var o=n.pendingProps,g=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Dt){if(o.mode==="hidden")return e=Ec(n,o),n.lanes=536870912,$s(null,e);if(id(n),(e=dn)?(e=ex(e,$r),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_i!==null?{id:Da,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},i=S0(e),i.return=n,n.child=i,nr=n,dn=null)):e=null,e===null)throw Ri(n);return n.lanes=536870912,null}return Ec(n,o)}var b=e.memoizedState;if(b!==null){var N=b.dehydrated;if(id(n),g)if(n.flags&256)n.flags&=-257,n=H1(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(m(558));else if(Fn||Ql(e,n,i,!1),g=(i&e.childLanes)!==0,Fn||g){if(o=sn,o!==null&&(N=Ml(o,i),N!==0&&N!==b.retryLane))throw b.retryLane=N,bl(e,N),Nr(o,e,N),Nd;Mc(),n=H1(e,n,i)}else e=b.treeContext,dn=ta(N.nextSibling),nr=n,Dt=!0,Oi=null,$r=!1,e!==null&&I0(n,e),n=Ec(n,o),n.flags|=4096;return n}return e=Wa(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ac(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(m(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function Td(e,n,i,o,g){return Cl(n),i=sd(e,n,i,o,void 0,g),o=od(),e!==null&&!Fn?(cd(e,n,g),ti(e,n,g)):(Dt&&o&&Hu(n),n.flags|=1,ar(e,n,i,g),n.child)}function V1(e,n,i,o,g,b){return Cl(n),n.updateQueue=null,i=Y0(n,o,i,g),X0(e),o=od(),e!==null&&!Fn?(cd(e,n,b),ti(e,n,b)):(Dt&&o&&Hu(n),n.flags|=1,ar(e,n,i,b),n.child)}function G1(e,n,i,o,g){if(Cl(n),n.stateNode===null){var b=Yl,N=i.contextType;typeof N=="object"&&N!==null&&(b=rr(N)),b=new i(o,b),n.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Ad,n.stateNode=b,b._reactInternals=n,b=n.stateNode,b.props=o,b.state=n.memoizedState,b.refs={},$u(n),N=i.contextType,b.context=typeof N=="object"&&N!==null?rr(N):Yl,b.state=n.memoizedState,N=i.getDerivedStateFromProps,typeof N=="function"&&(Ed(n,i,N,o),b.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&Ad.enqueueReplaceState(b,b.state,null),Zs(n,o,b,g),qs(),b.state=n.memoizedState),typeof b.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){b=n.stateNode;var k=n.memoizedProps,Z=Il(i,k);b.props=Z;var de=b.context,ye=i.contextType;N=Yl,typeof ye=="object"&&ye!==null&&(N=rr(ye));var Se=i.getDerivedStateFromProps;ye=typeof Se=="function"||typeof b.getSnapshotBeforeUpdate=="function",k=n.pendingProps!==k,ye||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k||de!==N)&&O1(n,b,o,N),ki=!1;var xe=n.memoizedState;b.state=xe,Zs(n,o,b,g),qs(),de=n.memoizedState,k||xe!==de||ki?(typeof Se=="function"&&(Ed(n,i,Se,o),de=n.memoizedState),(Z=ki||_1(n,i,Z,o,xe,de,N))?(ye||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=de),b.props=o,b.state=de,b.context=N,o=Z):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{b=n.stateNode,ed(e,n),N=n.memoizedProps,ye=Il(i,N),b.props=ye,Se=n.pendingProps,xe=b.context,de=i.contextType,Z=Yl,typeof de=="object"&&de!==null&&(Z=rr(de)),k=i.getDerivedStateFromProps,(de=typeof k=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==Se||xe!==Z)&&O1(n,b,o,Z),ki=!1,xe=n.memoizedState,b.state=xe,Zs(n,o,b,g),qs();var be=n.memoizedState;N!==Se||xe!==be||ki||e!==null&&e.dependencies!==null&&ic(e.dependencies)?(typeof k=="function"&&(Ed(n,i,k,o),be=n.memoizedState),(ye=ki||_1(n,i,ye,o,xe,be,Z)||e!==null&&e.dependencies!==null&&ic(e.dependencies))?(de||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(o,be,Z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(o,be,Z)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===e.memoizedProps&&xe===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&xe===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=be),b.props=o,b.state=be,b.context=Z,o=ye):(typeof b.componentDidUpdate!="function"||N===e.memoizedProps&&xe===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===e.memoizedProps&&xe===e.memoizedState||(n.flags|=1024),o=!1)}return b=o,Ac(e,n),o=(n.flags&128)!==0,b||o?(b=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:b.render(),n.flags|=1,e!==null&&o?(n.child=Nl(n,e.child,null,g),n.child=Nl(n,null,i,g)):ar(e,n,i,g),n.memoizedState=b.state,e=n.child):e=ti(e,n,g),e}function X1(e,n,i,o){return wl(),n.flags|=256,ar(e,n,i,o),n.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(e){return{baseLanes:e,cachePool:M0()}}function Od(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=zr),e}function Y1(e,n,i){var o=n.pendingProps,g=!1,b=(n.flags&128)!==0,N;if((N=b)||(N=e!==null&&e.memoizedState===null?!1:(kn.current&2)!==0),N&&(g=!0,n.flags&=-129),N=(n.flags&32)!==0,n.flags&=-33,e===null){if(Dt){if(g?ji(n):Li(),(e=dn)?(e=ex(e,$r),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_i!==null?{id:Da,overflow:ka}:null,retryLane:536870912,hydrationErrors:null},i=S0(e),i.return=n,n.child=i,nr=n,dn=null)):e=null,e===null)throw Ri(n);return hf(e)?n.lanes=32:n.lanes=536870912,null}var k=o.children;return o=o.fallback,g?(Li(),g=n.mode,k=Sc({mode:"hidden",children:k},g),o=yl(o,g,i,null),k.return=n,o.return=n,k.sibling=o,n.child=k,o=n.child,o.memoizedState=_d(i),o.childLanes=Od(e,N,i),n.memoizedState=Id,$s(null,o)):(ji(n),Rd(n,k))}var Z=e.memoizedState;if(Z!==null&&(k=Z.dehydrated,k!==null)){if(b)n.flags&256?(ji(n),n.flags&=-257,n=Dd(e,n,i)):n.memoizedState!==null?(Li(),n.child=e.child,n.flags|=128,n=null):(Li(),k=o.fallback,g=n.mode,o=Sc({mode:"visible",children:o.children},g),k=yl(k,g,i,null),k.flags|=2,o.return=n,k.return=n,o.sibling=k,n.child=o,Nl(n,e.child,null,i),o=n.child,o.memoizedState=_d(i),o.childLanes=Od(e,N,i),n.memoizedState=Id,n=$s(null,o));else if(ji(n),hf(k)){if(N=k.nextSibling&&k.nextSibling.dataset,N)var de=N.dgst;N=de,o=Error(m(419)),o.stack="",o.digest=N,Fs({value:o,source:null,stack:null}),n=Dd(e,n,i)}else if(Fn||Ql(e,n,i,!1),N=(i&e.childLanes)!==0,Fn||N){if(N=sn,N!==null&&(o=Ml(N,i),o!==0&&o!==Z.retryLane))throw Z.retryLane=o,bl(e,o),Nr(N,e,o),Nd;ff(k)||Mc(),n=Dd(e,n,i)}else ff(k)?(n.flags|=192,n.child=e.child,n=null):(e=Z.treeContext,dn=ta(k.nextSibling),nr=n,Dt=!0,Oi=null,$r=!1,e!==null&&I0(n,e),n=Rd(n,o.children),n.flags|=4096);return n}return g?(Li(),k=o.fallback,g=n.mode,Z=e.child,de=Z.sibling,o=Wa(Z,{mode:"hidden",children:o.children}),o.subtreeFlags=Z.subtreeFlags&65011712,de!==null?k=Wa(de,k):(k=yl(k,g,i,null),k.flags|=2),k.return=n,o.return=n,o.sibling=k,n.child=o,$s(null,o),o=n.child,k=e.child.memoizedState,k===null?k=_d(i):(g=k.cachePool,g!==null?(Z=Un._currentValue,g=g.parent!==Z?{parent:Z,pool:Z}:g):g=M0(),k={baseLanes:k.baseLanes|i,cachePool:g}),o.memoizedState=k,o.childLanes=Od(e,N,i),n.memoizedState=Id,$s(e.child,o)):(ji(n),i=e.child,e=i.sibling,i=Wa(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(N=n.deletions,N===null?(n.deletions=[e],n.flags|=16):N.push(e)),n.child=i,n.memoizedState=null,i)}function Rd(e,n){return n=Sc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Sc(e,n){return e=Mr(22,e,null,n),e.lanes=0,e}function Dd(e,n,i){return Nl(n,e.child,null,i),e=Rd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function q1(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),qu(e.return,n,i)}function kd(e,n,i,o,g,b){var N=e.memoizedState;N===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:g,treeForkCount:b}:(N.isBackwards=n,N.rendering=null,N.renderingStartTime=0,N.last=o,N.tail=i,N.tailMode=g,N.treeForkCount=b)}function Z1(e,n,i){var o=n.pendingProps,g=o.revealOrder,b=o.tail;o=o.children;var N=kn.current,k=(N&2)!==0;if(k?(N=N&1|2,n.flags|=128):N&=1,Ae(kn,N),ar(e,n,o,i),o=Dt?Ps:0,!k&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&q1(e,i,n);else if(e.tag===19)q1(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(g){case"forwards":for(i=n.child,g=null;i!==null;)e=i.alternate,e!==null&&hc(e)===null&&(g=i),i=i.sibling;i=g,i===null?(g=n.child,n.child=null):(g=i.sibling,i.sibling=null),kd(n,!1,g,i,b,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,g=n.child,n.child=null;g!==null;){if(e=g.alternate,e!==null&&hc(e)===null){n.child=g;break}e=g.sibling,g.sibling=i,i=g,g=e}kd(n,!0,i,null,b,o);break;case"together":kd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ti(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Pi|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Ql(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(m(153));if(n.child!==null){for(e=n.child,i=Wa(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Wa(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Md(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ic(e)))}function Jm(e,n,i){switch(n.tag){case 3:we(n,n.stateNode.containerInfo),Di(n,Un,e.memoizedState.cache),wl();break;case 27:case 5:ut(n);break;case 4:we(n,n.stateNode.containerInfo);break;case 10:Di(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,id(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ji(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Y1(e,n,i):(ji(n),e=ti(e,n,i),e!==null?e.sibling:null);ji(n);break;case 19:var g=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(Ql(e,n,i,!1),o=(i&n.childLanes)!==0),g){if(o)return Z1(e,n,i);n.flags|=128}if(g=n.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ae(kn,kn.current),o)break;return null;case 22:return n.lanes=0,P1(e,n,i,n.pendingProps);case 24:Di(n,Un,e.memoizedState.cache)}return ti(e,n,i)}function W1(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)Fn=!0;else{if(!Md(e,i)&&(n.flags&128)===0)return Fn=!1,Jm(e,n,i);Fn=(e.flags&131072)!==0}else Fn=!1,Dt&&(n.flags&1048576)!==0&&T0(n,Ps,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Al(n.elementType),n.type=e,typeof e=="function")Uu(e)?(o=Il(e,o),n.tag=1,n=G1(null,n,e,o,i)):(n.tag=0,n=Td(null,n,e,o,i));else{if(e!=null){var g=e.$$typeof;if(g===le){n.tag=11,n=L1(null,n,e,o,i);break e}else if(g===z){n.tag=14,n=z1(null,n,e,o,i);break e}}throw n=te(e)||e,Error(m(306,n,""))}}return n;case 0:return Td(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,g=Il(o,n.pendingProps),G1(e,n,o,g,i);case 3:e:{if(we(n,n.stateNode.containerInfo),e===null)throw Error(m(387));o=n.pendingProps;var b=n.memoizedState;g=b.element,ed(e,n),Zs(n,o,null,i);var N=n.memoizedState;if(o=N.cache,Di(n,Un,o),o!==b.cache&&Zu(n,[Un],i,!0),qs(),o=N.element,b.isDehydrated)if(b={element:o,isDehydrated:!1,cache:N.cache},n.updateQueue.baseState=b,n.memoizedState=b,n.flags&256){n=X1(e,n,o,i);break e}else if(o!==g){g=Qr(Error(m(424)),n),Fs(g),n=X1(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(dn=ta(e.firstChild),nr=n,Dt=!0,Oi=null,$r=!0,i=P0(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(wl(),o===g){n=ti(e,n,i);break e}ar(e,n,o,i)}n=n.child}return n;case 26:return Ac(e,n),e===null?(i=lx(n.type,null,n.pendingProps,null))?n.memoizedState=i:Dt||(i=n.type,e=n.pendingProps,o=Fc(Te.current).createElement(i),o[On]=n,o[Wt]=e,ir(o,i,e),Sn(o),n.stateNode=o):n.memoizedState=lx(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ut(n),e===null&&Dt&&(o=n.stateNode=rx(n.type,n.pendingProps,Te.current),nr=n,$r=!0,g=dn,Xi(n.type)?(xf=g,dn=ta(o.firstChild)):dn=g),ar(e,n,n.pendingProps.children,i),Ac(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Dt&&((g=o=dn)&&(o=I2(o,n.type,n.pendingProps,$r),o!==null?(n.stateNode=o,nr=n,dn=ta(o.firstChild),$r=!1,g=!0):g=!1),g||Ri(n)),ut(n),g=n.type,b=n.pendingProps,N=e!==null?e.memoizedProps:null,o=b.children,cf(g,b)?o=null:N!==null&&cf(g,N)&&(n.flags|=32),n.memoizedState!==null&&(g=sd(e,n,Vm,null,null,i),go._currentValue=g),Ac(e,n),ar(e,n,o,i),n.child;case 6:return e===null&&Dt&&((e=i=dn)&&(i=_2(i,n.pendingProps,$r),i!==null?(n.stateNode=i,nr=n,dn=null,e=!0):e=!1),e||Ri(n)),null;case 13:return Y1(e,n,i);case 4:return we(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Nl(n,null,o,i):ar(e,n,o,i),n.child;case 11:return L1(e,n,n.type,n.pendingProps,i);case 7:return ar(e,n,n.pendingProps,i),n.child;case 8:return ar(e,n,n.pendingProps.children,i),n.child;case 12:return ar(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Di(n,n.type,o.value),ar(e,n,o.children,i),n.child;case 9:return g=n.type._context,o=n.pendingProps.children,Cl(n),g=rr(g),o=o(g),n.flags|=1,ar(e,n,o,i),n.child;case 14:return z1(e,n,n.type,n.pendingProps,i);case 15:return U1(e,n,n.type,n.pendingProps,i);case 19:return Z1(e,n,i);case 31:return Km(e,n,i);case 22:return P1(e,n,i,n.pendingProps);case 24:return Cl(n),o=rr(Un),e===null?(g=Ku(),g===null&&(g=sn,b=Wu(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=i),g=b),n.memoizedState={parent:o,cache:g},$u(n),Di(n,Un,g)):((e.lanes&i)!==0&&(ed(e,n),Zs(n,null,null,i),qs()),g=e.memoizedState,b=n.memoizedState,g.parent!==o?(g={parent:o,cache:o},n.memoizedState=g,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=g),Di(n,Un,o)):(o=b.cache,Di(n,Un,o),o!==g.cache&&Zu(n,[Un],i,!0))),ar(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(m(156,n.tag))}function ni(e){e.flags|=4}function Bd(e,n,i,o,g){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(g&335544128)===g)if(e.stateNode.complete)e.flags|=8192;else if(Ch())e.flags|=8192;else throw Sl=cc,Ju}else e.flags&=-16777217}function Q1(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dx(n))if(Ch())e.flags|=8192;else throw Sl=cc,Ju}function Nc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Xn():536870912,e.lanes|=n,os|=n)}function eo(e,n){if(!Dt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function fn(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var g=e.child;g!==null;)i|=g.lanes|g.childLanes,o|=g.subtreeFlags&65011712,o|=g.flags&65011712,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)i|=g.lanes|g.childLanes,o|=g.subtreeFlags,o|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function $m(e,n,i){var o=n.pendingProps;switch(Vu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(n),null;case 1:return fn(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ja(Un),He(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Wl(n)?ni(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xu())),fn(n),null;case 26:var g=n.type,b=n.memoizedState;return e===null?(ni(n),b!==null?(fn(n),Q1(n,b)):(fn(n),Bd(n,g,null,o,i))):b?b!==e.memoizedState?(ni(n),fn(n),Q1(n,b)):(fn(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ni(n),fn(n),Bd(n,g,e,o,i)),null;case 27:if(ft(n),i=Te.current,g=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ni(n);else{if(!o){if(n.stateNode===null)throw Error(m(166));return fn(n),null}e=Re.current,Wl(n)?_0(n):(e=rx(g,o,i),n.stateNode=e,ni(n))}return fn(n),null;case 5:if(ft(n),g=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ni(n);else{if(!o){if(n.stateNode===null)throw Error(m(166));return fn(n),null}if(b=Re.current,Wl(n))_0(n);else{var N=Fc(Te.current);switch(b){case 1:b=N.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=N.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=N.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof o.is=="string"?N.createElement("select",{is:o.is}):N.createElement("select"),o.multiple?b.multiple=!0:o.size&&(b.size=o.size);break;default:b=typeof o.is=="string"?N.createElement(g,{is:o.is}):N.createElement(g)}}b[On]=n,b[Wt]=o;e:for(N=n.child;N!==null;){if(N.tag===5||N.tag===6)b.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===n)break e;for(;N.sibling===null;){if(N.return===null||N.return===n)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}n.stateNode=b;e:switch(ir(b,g,o),g){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ni(n)}}return fn(n),Bd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ni(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(m(166));if(e=Te.current,Wl(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,g=nr,g!==null)switch(g.tag){case 27:case 5:o=g.memoizedProps}e[On]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||Yh(e.nodeValue,i)),e||Ri(n,!0)}else e=Fc(e).createTextNode(o),e[On]=n,n.stateNode=e}return fn(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(o=Wl(n),i!==null){if(e===null){if(!o)throw Error(m(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(m(557));e[On]=n}else wl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fn(n),e=!1}else i=Xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(jr(n),n):(jr(n),null);if((n.flags&128)!==0)throw Error(m(558))}return fn(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(g=Wl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!g)throw Error(m(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(m(317));g[On]=n}else wl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fn(n),g=!1}else g=Xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=g),g=!0;if(!g)return n.flags&256?(jr(n),n):(jr(n),null)}return jr(n),(n.flags&128)!==0?(n.lanes=i,n):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=n.child,g=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(g=o.alternate.memoizedState.cachePool.pool),b=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(b=o.memoizedState.cachePool.pool),b!==g&&(o.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),Nc(n,n.updateQueue),fn(n),null);case 4:return He(),e===null&&rf(n.stateNode.containerInfo),fn(n),null;case 10:return Ja(n.type),fn(n),null;case 19:if(ae(kn),o=n.memoizedState,o===null)return fn(n),null;if(g=(n.flags&128)!==0,b=o.rendering,b===null)if(g)eo(o,!1);else{if(In!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(b=hc(e),b!==null){for(n.flags|=128,eo(o,!1),e=b.updateQueue,n.updateQueue=e,Nc(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)A0(i,e),i=i.sibling;return Ae(kn,kn.current&1|2),Dt&&Qa(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Bt()>Rc&&(n.flags|=128,g=!0,eo(o,!1),n.lanes=4194304)}else{if(!g)if(e=hc(b),e!==null){if(n.flags|=128,g=!0,e=e.updateQueue,n.updateQueue=e,Nc(n,e),eo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!b.alternate&&!Dt)return fn(n),null}else 2*Bt()-o.renderingStartTime>Rc&&i!==536870912&&(n.flags|=128,g=!0,eo(o,!1),n.lanes=4194304);o.isBackwards?(b.sibling=n.child,n.child=b):(e=o.last,e!==null?e.sibling=b:n.child=b,o.last=b)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Bt(),e.sibling=null,i=kn.current,Ae(kn,g?i&1|2:i&1),Dt&&Qa(n,o.treeForkCount),e):(fn(n),null);case 22:case 23:return jr(n),ad(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(fn(n),n.subtreeFlags&6&&(n.flags|=8192)):fn(n),i=n.updateQueue,i!==null&&Nc(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&ae(El),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Ja(Un),fn(n),null;case 25:return null;case 30:return null}throw Error(m(156,n.tag))}function e2(e,n){switch(Vu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ja(Un),He(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ft(n),null;case 31:if(n.memoizedState!==null){if(jr(n),n.alternate===null)throw Error(m(340));wl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(jr(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(m(340));wl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ae(kn),null;case 4:return He(),null;case 10:return Ja(n.type),null;case 22:case 23:return jr(n),ad(),e!==null&&ae(El),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ja(Un),null;case 25:return null;default:return null}}function K1(e,n){switch(Vu(n),n.tag){case 3:Ja(Un),He();break;case 26:case 27:case 5:ft(n);break;case 4:He();break;case 31:n.memoizedState!==null&&jr(n);break;case 13:jr(n);break;case 19:ae(kn);break;case 10:Ja(n.type);break;case 22:case 23:jr(n),ad(),e!==null&&ae(El);break;case 24:Ja(Un)}}function to(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var g=o.next;i=g;do{if((i.tag&e)===e){o=void 0;var b=i.create,N=i.inst;o=b(),N.destroy=o}i=i.next}while(i!==g)}}catch(k){Kt(n,n.return,k)}}function zi(e,n,i){try{var o=n.updateQueue,g=o!==null?o.lastEffect:null;if(g!==null){var b=g.next;o=b;do{if((o.tag&e)===e){var N=o.inst,k=N.destroy;if(k!==void 0){N.destroy=void 0,g=n;var Z=i,de=k;try{de()}catch(ye){Kt(g,Z,ye)}}}o=o.next}while(o!==b)}}catch(ye){Kt(n,n.return,ye)}}function J1(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{H0(n,i)}catch(o){Kt(e,e.return,o)}}}function $1(e,n,i){i.props=Il(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Kt(e,n,o)}}function no(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(g){Kt(e,n,g)}}function Ma(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(g){Kt(e,n,g)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(g){Kt(e,n,g)}else i.current=null}function eh(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(g){Kt(e,e.return,g)}}function jd(e,n,i){try{var o=e.stateNode;C2(o,e.type,i,n),o[Wt]=n}catch(g){Kt(e,e.return,g)}}function th(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xi(e.type)||e.tag===4}function Ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zd(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=yr));else if(o!==4&&(o===27&&Xi(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(zd(e,n,i),e=e.sibling;e!==null;)zd(e,n,i),e=e.sibling}function Tc(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&Xi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Tc(e,n,i),e=e.sibling;e!==null;)Tc(e,n,i),e=e.sibling}function nh(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,g=n.attributes;g.length;)n.removeAttributeNode(g[0]);ir(n,o,i),n[On]=e,n[Wt]=i}catch(b){Kt(e,e.return,b)}}var ri=!1,Hn=!1,Ud=!1,rh=typeof WeakSet=="function"?WeakSet:Set,Jn=null;function t2(e,n){if(e=e.containerInfo,sf=Zc,e=_(e),D(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var g=o.anchorOffset,b=o.focusNode;o=o.focusOffset;try{i.nodeType,b.nodeType}catch{i=null;break e}var N=0,k=-1,Z=-1,de=0,ye=0,Se=e,xe=null;t:for(;;){for(var be;Se!==i||g!==0&&Se.nodeType!==3||(k=N+g),Se!==b||o!==0&&Se.nodeType!==3||(Z=N+o),Se.nodeType===3&&(N+=Se.nodeValue.length),(be=Se.firstChild)!==null;)xe=Se,Se=be;for(;;){if(Se===e)break t;if(xe===i&&++de===g&&(k=N),xe===b&&++ye===o&&(Z=N),(be=Se.nextSibling)!==null)break;Se=xe,xe=Se.parentNode}Se=be}i=k===-1||Z===-1?null:{start:k,end:Z}}else i=null}i=i||{start:0,end:0}}else i=null;for(of={focusedElem:e,selectionRange:i},Zc=!1,Jn=n;Jn!==null;)if(n=Jn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Jn=e;else for(;Jn!==null;){switch(n=Jn,b=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)g=e[i],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&b!==null){e=void 0,i=n,g=b.memoizedProps,b=b.memoizedState,o=i.stateNode;try{var Ge=Il(i.type,g);e=o.getSnapshotBeforeUpdate(Ge,b),o.__reactInternalSnapshotBeforeUpdate=e}catch(tt){Kt(i,i.return,tt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)df(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":df(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(m(163))}if(e=n.sibling,e!==null){e.return=n.return,Jn=e;break}Jn=n.return}}function ah(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:ii(e,i),o&4&&to(5,i);break;case 1:if(ii(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(N){Kt(i,i.return,N)}else{var g=Il(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(g,n,e.__reactInternalSnapshotBeforeUpdate)}catch(N){Kt(i,i.return,N)}}o&64&&J1(i),o&512&&no(i,i.return);break;case 3:if(ii(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{H0(e,n)}catch(N){Kt(i,i.return,N)}}break;case 27:n===null&&o&4&&nh(i);case 26:case 5:ii(e,i),n===null&&o&4&&eh(i),o&512&&no(i,i.return);break;case 12:ii(e,i);break;case 31:ii(e,i),o&4&&sh(e,i);break;case 13:ii(e,i),o&4&&oh(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=u2.bind(null,i),O2(e,i))));break;case 22:if(o=i.memoizedState!==null||ri,!o){n=n!==null&&n.memoizedState!==null||Hn,g=ri;var b=Hn;ri=o,(Hn=n)&&!b?li(e,i,(i.subtreeFlags&8772)!==0):ii(e,i),ri=g,Hn=b}break;case 30:break;default:ii(e,i)}}function ih(e){var n=e.alternate;n!==null&&(e.alternate=null,ih(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&br(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var wn=null,Cr=!1;function ai(e,n,i){for(i=i.child;i!==null;)lh(e,n,i),i=i.sibling}function lh(e,n,i){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(on,i)}catch{}switch(i.tag){case 26:Hn||Ma(i,n),ai(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Hn||Ma(i,n);var o=wn,g=Cr;Xi(i.type)&&(wn=i.stateNode,Cr=!1),ai(e,n,i),fo(i.stateNode),wn=o,Cr=g;break;case 5:Hn||Ma(i,n);case 6:if(o=wn,g=Cr,wn=null,ai(e,n,i),wn=o,Cr=g,wn!==null)if(Cr)try{(wn.nodeType===9?wn.body:wn.nodeName==="HTML"?wn.ownerDocument.body:wn).removeChild(i.stateNode)}catch(b){Kt(i,n,b)}else try{wn.removeChild(i.stateNode)}catch(b){Kt(i,n,b)}break;case 18:wn!==null&&(Cr?(e=wn,Jh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ms(e)):Jh(wn,i.stateNode));break;case 4:o=wn,g=Cr,wn=i.stateNode.containerInfo,Cr=!0,ai(e,n,i),wn=o,Cr=g;break;case 0:case 11:case 14:case 15:zi(2,i,n),Hn||zi(4,i,n),ai(e,n,i);break;case 1:Hn||(Ma(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&$1(i,n,o)),ai(e,n,i);break;case 21:ai(e,n,i);break;case 22:Hn=(o=Hn)||i.memoizedState!==null,ai(e,n,i),Hn=o;break;default:ai(e,n,i)}}function sh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ms(e)}catch(i){Kt(n,n.return,i)}}}function oh(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ms(e)}catch(i){Kt(n,n.return,i)}}function n2(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new rh),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new rh),n;default:throw Error(m(435,e.tag))}}function Ic(e,n){var i=n2(e);n.forEach(function(o){if(!i.has(o)){i.add(o);var g=d2.bind(null,e,o);o.then(g,g)}})}function Er(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var g=i[o],b=e,N=n,k=N;e:for(;k!==null;){switch(k.tag){case 27:if(Xi(k.type)){wn=k.stateNode,Cr=!1;break e}break;case 5:wn=k.stateNode,Cr=!1;break e;case 3:case 4:wn=k.stateNode.containerInfo,Cr=!0;break e}k=k.return}if(wn===null)throw Error(m(160));lh(b,N,g),wn=null,Cr=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ch(n,e),n=n.sibling}var ga=null;function ch(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Er(n,e),Ar(e),o&4&&(zi(3,e,e.return),to(3,e),zi(5,e,e.return));break;case 1:Er(n,e),Ar(e),o&512&&(Hn||i===null||Ma(i,i.return)),o&64&&ri&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var g=ga;if(Er(n,e),Ar(e),o&512&&(Hn||i===null||Ma(i,i.return)),o&4){var b=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,g=g.ownerDocument||g;t:switch(o){case"title":b=g.getElementsByTagName("title")[0],(!b||b[cl]||b[On]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(o),g.head.insertBefore(b,g.querySelector("head > title"))),ir(b,o,i),b[On]=e,Sn(b),o=b;break e;case"link":var N=cx("link","href",g).get(o+(i.href||""));if(N){for(var k=0;k<N.length;k++)if(b=N[k],b.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&b.getAttribute("rel")===(i.rel==null?null:i.rel)&&b.getAttribute("title")===(i.title==null?null:i.title)&&b.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){N.splice(k,1);break t}}b=g.createElement(o),ir(b,o,i),g.head.appendChild(b);break;case"meta":if(N=cx("meta","content",g).get(o+(i.content||""))){for(k=0;k<N.length;k++)if(b=N[k],b.getAttribute("content")===(i.content==null?null:""+i.content)&&b.getAttribute("name")===(i.name==null?null:i.name)&&b.getAttribute("property")===(i.property==null?null:i.property)&&b.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&b.getAttribute("charset")===(i.charSet==null?null:i.charSet)){N.splice(k,1);break t}}b=g.createElement(o),ir(b,o,i),g.head.appendChild(b);break;default:throw Error(m(468,o))}b[On]=e,Sn(b),o=b}e.stateNode=o}else ux(g,e.type,e.stateNode);else e.stateNode=ox(g,o,e.memoizedProps);else b!==o?(b===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):b.count--,o===null?ux(g,e.type,e.stateNode):ox(g,o,e.memoizedProps)):o===null&&e.stateNode!==null&&jd(e,e.memoizedProps,i.memoizedProps)}break;case 27:Er(n,e),Ar(e),o&512&&(Hn||i===null||Ma(i,i.return)),i!==null&&o&4&&jd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Er(n,e),Ar(e),o&512&&(Hn||i===null||Ma(i,i.return)),e.flags&32){g=e.stateNode;try{wi(g,"")}catch(Ge){Kt(e,e.return,Ge)}}o&4&&e.stateNode!=null&&(g=e.memoizedProps,jd(e,g,i!==null?i.memoizedProps:g)),o&1024&&(Ud=!0);break;case 6:if(Er(n,e),Ar(e),o&4){if(e.stateNode===null)throw Error(m(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(Ge){Kt(e,e.return,Ge)}}break;case 3:if(Gc=null,g=ga,ga=Hc(n.containerInfo),Er(n,e),ga=g,Ar(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{ms(n.containerInfo)}catch(Ge){Kt(e,e.return,Ge)}Ud&&(Ud=!1,uh(e));break;case 4:o=ga,ga=Hc(e.stateNode.containerInfo),Er(n,e),Ar(e),ga=o;break;case 12:Er(n,e),Ar(e);break;case 31:Er(n,e),Ar(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ic(e,o)));break;case 13:Er(n,e),Ar(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Oc=Bt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ic(e,o)));break;case 22:g=e.memoizedState!==null;var Z=i!==null&&i.memoizedState!==null,de=ri,ye=Hn;if(ri=de||g,Hn=ye||Z,Er(n,e),Hn=ye,ri=de,Ar(e),o&8192)e:for(n=e.stateNode,n._visibility=g?n._visibility&-2:n._visibility|1,g&&(i===null||Z||ri||Hn||_l(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){Z=i=n;try{if(b=Z.stateNode,g)N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{k=Z.stateNode;var Se=Z.memoizedProps.style,xe=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;k.style.display=xe==null||typeof xe=="boolean"?"":(""+xe).trim()}}catch(Ge){Kt(Z,Z.return,Ge)}}}else if(n.tag===6){if(i===null){Z=n;try{Z.stateNode.nodeValue=g?"":Z.memoizedProps}catch(Ge){Kt(Z,Z.return,Ge)}}}else if(n.tag===18){if(i===null){Z=n;try{var be=Z.stateNode;g?$h(be,!0):$h(Z.stateNode,!1)}catch(Ge){Kt(Z,Z.return,Ge)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Ic(e,i))));break;case 19:Er(n,e),Ar(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ic(e,o)));break;case 30:break;case 21:break;default:Er(n,e),Ar(e)}}function Ar(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(th(o)){i=o;break}o=o.return}if(i==null)throw Error(m(160));switch(i.tag){case 27:var g=i.stateNode,b=Ld(e);Tc(e,b,g);break;case 5:var N=i.stateNode;i.flags&32&&(wi(N,""),i.flags&=-33);var k=Ld(e);Tc(e,k,N);break;case 3:case 4:var Z=i.stateNode.containerInfo,de=Ld(e);zd(e,de,Z);break;default:throw Error(m(161))}}catch(ye){Kt(e,e.return,ye)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function uh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;uh(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ii(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ah(e,n.alternate,n),n=n.sibling}function _l(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:zi(4,n,n.return),_l(n);break;case 1:Ma(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&$1(n,n.return,i),_l(n);break;case 27:fo(n.stateNode);case 26:case 5:Ma(n,n.return),_l(n);break;case 22:n.memoizedState===null&&_l(n);break;case 30:_l(n);break;default:_l(n)}e=e.sibling}}function li(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,g=e,b=n,N=b.flags;switch(b.tag){case 0:case 11:case 15:li(g,b,i),to(4,b);break;case 1:if(li(g,b,i),o=b,g=o.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(de){Kt(o,o.return,de)}if(o=b,g=o.updateQueue,g!==null){var k=o.stateNode;try{var Z=g.shared.hiddenCallbacks;if(Z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Z.length;g++)F0(Z[g],k)}catch(de){Kt(o,o.return,de)}}i&&N&64&&J1(b),no(b,b.return);break;case 27:nh(b);case 26:case 5:li(g,b,i),i&&o===null&&N&4&&eh(b),no(b,b.return);break;case 12:li(g,b,i);break;case 31:li(g,b,i),i&&N&4&&sh(g,b);break;case 13:li(g,b,i),i&&N&4&&oh(g,b);break;case 22:b.memoizedState===null&&li(g,b,i),no(b,b.return);break;case 30:break;default:li(g,b,i)}n=n.sibling}}function Pd(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Hs(i))}function Fd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Hs(e))}function ma(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dh(e,n,i,o),n=n.sibling}function dh(e,n,i,o){var g=n.flags;switch(n.tag){case 0:case 11:case 15:ma(e,n,i,o),g&2048&&to(9,n);break;case 1:ma(e,n,i,o);break;case 3:ma(e,n,i,o),g&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Hs(e)));break;case 12:if(g&2048){ma(e,n,i,o),e=n.stateNode;try{var b=n.memoizedProps,N=b.id,k=b.onPostCommit;typeof k=="function"&&k(N,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Z){Kt(n,n.return,Z)}}else ma(e,n,i,o);break;case 31:ma(e,n,i,o);break;case 13:ma(e,n,i,o);break;case 23:break;case 22:b=n.stateNode,N=n.alternate,n.memoizedState!==null?b._visibility&2?ma(e,n,i,o):ro(e,n):b._visibility&2?ma(e,n,i,o):(b._visibility|=2,is(e,n,i,o,(n.subtreeFlags&10256)!==0||!1)),g&2048&&Pd(N,n);break;case 24:ma(e,n,i,o),g&2048&&Fd(n.alternate,n);break;default:ma(e,n,i,o)}}function is(e,n,i,o,g){for(g=g&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var b=e,N=n,k=i,Z=o,de=N.flags;switch(N.tag){case 0:case 11:case 15:is(b,N,k,Z,g),to(8,N);break;case 23:break;case 22:var ye=N.stateNode;N.memoizedState!==null?ye._visibility&2?is(b,N,k,Z,g):ro(b,N):(ye._visibility|=2,is(b,N,k,Z,g)),g&&de&2048&&Pd(N.alternate,N);break;case 24:is(b,N,k,Z,g),g&&de&2048&&Fd(N.alternate,N);break;default:is(b,N,k,Z,g)}n=n.sibling}}function ro(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,g=o.flags;switch(o.tag){case 22:ro(i,o),g&2048&&Pd(o.alternate,o);break;case 24:ro(i,o),g&2048&&Fd(o.alternate,o);break;default:ro(i,o)}n=n.sibling}}var ao=8192;function ls(e,n,i){if(e.subtreeFlags&ao)for(e=e.child;e!==null;)fh(e,n,i),e=e.sibling}function fh(e,n,i){switch(e.tag){case 26:ls(e,n,i),e.flags&ao&&e.memoizedState!==null&&H2(i,ga,e.memoizedState,e.memoizedProps);break;case 5:ls(e,n,i);break;case 3:case 4:var o=ga;ga=Hc(e.stateNode.containerInfo),ls(e,n,i),ga=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ao,ao=16777216,ls(e,n,i),ao=o):ls(e,n,i));break;default:ls(e,n,i)}}function hh(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function io(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Jn=o,gh(o,e)}hh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xh(e),e=e.sibling}function xh(e){switch(e.tag){case 0:case 11:case 15:io(e),e.flags&2048&&zi(9,e,e.return);break;case 3:io(e);break;case 12:io(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,_c(e)):io(e);break;default:io(e)}}function _c(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];Jn=o,gh(o,e)}hh(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:zi(8,n,n.return),_c(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,_c(n));break;default:_c(n)}e=e.sibling}}function gh(e,n){for(;Jn!==null;){var i=Jn;switch(i.tag){case 0:case 11:case 15:zi(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Hs(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Jn=o;else e:for(i=e;Jn!==null;){o=Jn;var g=o.sibling,b=o.return;if(ih(o),o===i){Jn=null;break e}if(g!==null){g.return=b,Jn=g;break e}Jn=b}}}var r2={getCacheForType:function(e){var n=rr(Un),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return rr(Un).controller.signal}},a2=typeof WeakMap=="function"?WeakMap:Map,Vt=0,sn=null,St=null,_t=0,Qt=0,Lr=null,Ui=!1,ss=!1,Hd=!1,si=0,In=0,Pi=0,Ol=0,Vd=0,zr=0,os=0,lo=null,Sr=null,Gd=!1,Oc=0,mh=0,Rc=1/0,Dc=null,Fi=null,Wn=0,Hi=null,cs=null,oi=0,Xd=0,Yd=null,ph=null,so=0,qd=null;function Ur(){return(Vt&2)!==0&&_t!==0?_t&-_t:G.T!==null?$d():ur()}function bh(){if(zr===0)if((_t&536870912)===0||Dt){var e=Tt;Tt<<=1,(Tt&3932160)===0&&(Tt=262144),zr=e}else zr=536870912;return e=Br.current,e!==null&&(e.flags|=32),zr}function Nr(e,n,i){(e===sn&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(us(e,0),Vi(e,_t,zr,!1)),Na(e,i),((Vt&2)===0||e!==sn)&&(e===sn&&((Vt&2)===0&&(Ol|=i),In===4&&Vi(e,_t,zr,!1)),Ba(e))}function yh(e,n,i){if((Vt&6)!==0)throw Error(m(327));var o=!i&&(n&127)===0&&(n&e.expiredLanes)===0||er(e,n),g=o?s2(e,n):Wd(e,n,!0),b=o;do{if(g===0){ss&&!o&&Vi(e,n,0,!1);break}else{if(i=e.current.alternate,b&&!i2(i)){g=Wd(e,n,!1),b=!1;continue}if(g===2){if(b=n,e.errorRecoveryDisabledLanes&b)var N=0;else N=e.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){n=N;e:{var k=e;g=lo;var Z=k.current.memoizedState.isDehydrated;if(Z&&(us(k,N).flags|=256),N=Wd(k,N,!1),N!==2){if(Hd&&!Z){k.errorRecoveryDisabledLanes|=b,Ol|=b,g=4;break e}b=Sr,Sr=g,b!==null&&(Sr===null?Sr=b:Sr.push.apply(Sr,b))}g=N}if(b=!1,g!==2)continue}}if(g===1){us(e,0),Vi(e,n,0,!0);break}e:{switch(o=e,b=g,b){case 0:case 1:throw Error(m(345));case 4:if((n&4194048)!==n)break;case 6:Vi(o,n,zr,!Ui);break e;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(m(329))}if((n&62914560)===n&&(g=Oc+300-Bt(),10<g)){if(Vi(o,n,zr,!Ui),ol(o,0,!0)!==0)break e;oi=n,o.timeoutHandle=Qh(wh.bind(null,o,i,Sr,Dc,Gd,n,zr,Ol,os,Ui,b,"Throttled",-0,0),g);break e}wh(o,i,Sr,Dc,Gd,n,zr,Ol,os,Ui,b,null,-0,0)}}break}while(!0);Ba(e)}function wh(e,n,i,o,g,b,N,k,Z,de,ye,Se,xe,be){if(e.timeoutHandle=-1,Se=n.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yr},fh(n,b,Se);var Ge=(b&62914560)===b?Oc-Bt():(b&4194048)===b?mh-Bt():0;if(Ge=V2(Se,Ge),Ge!==null){oi=b,e.cancelPendingCommit=Ge(Ih.bind(null,e,n,b,i,o,g,N,k,Z,ye,Se,null,xe,be)),Vi(e,b,N,!de);return}}Ih(e,n,b,i,o,g,N,k,Z)}function i2(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var g=i[o],b=g.getSnapshot;g=g.value;try{if(!u(b(),g))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vi(e,n,i,o){n&=~Vd,n&=~Ol,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var g=n;0<g;){var b=31-gt(g),N=1<<b;o[b]=-1,g&=~N}i!==0&&zo(e,i,n)}function kc(){return(Vt&6)===0?(oo(0),!1):!0}function Zd(){if(St!==null){if(Qt===0)var e=St.return;else e=St,Ka=vl=null,ud(e),es=null,Gs=0,e=St;for(;e!==null;)K1(e.alternate,e),e=e.return;St=null}}function us(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,S2(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),oi=0,Zd(),sn=e,St=i=Wa(e.current,null),_t=n,Qt=0,Lr=null,Ui=!1,ss=er(e,n),Hd=!1,os=zr=Vd=Ol=Pi=In=0,Sr=lo=null,Gd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var g=31-gt(o),b=1<<g;n|=e[g],o&=~b}return si=n,ec(),i}function vh(e,n){ht=null,G.H=Js,n===$l||n===oc?(n=L0(),Qt=3):n===Ju?(n=L0(),Qt=4):Qt=n===Nd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Lr=n,St===null&&(In=1,Cc(e,Qr(n,e.current)))}function Ch(){var e=Br.current;return e===null?!0:(_t&4194048)===_t?ea===null:(_t&62914560)===_t||(_t&536870912)!==0?e===ea:!1}function Eh(){var e=G.H;return G.H=Js,e===null?Js:e}function Ah(){var e=G.A;return G.A=r2,e}function Mc(){In=4,Ui||(_t&4194048)!==_t&&Br.current!==null||(ss=!0),(Pi&134217727)===0&&(Ol&134217727)===0||sn===null||Vi(sn,_t,zr,!1)}function Wd(e,n,i){var o=Vt;Vt|=2;var g=Eh(),b=Ah();(sn!==e||_t!==n)&&(Dc=null,us(e,n)),n=!1;var N=In;e:do try{if(Qt!==0&&St!==null){var k=St,Z=Lr;switch(Qt){case 8:Zd(),N=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(n=!0);var de=Qt;if(Qt=0,Lr=null,ds(e,k,Z,de),i&&ss){N=0;break e}break;default:de=Qt,Qt=0,Lr=null,ds(e,k,Z,de)}}l2(),N=In;break}catch(ye){vh(e,ye)}while(!0);return n&&e.shellSuspendCounter++,Ka=vl=null,Vt=o,G.H=g,G.A=b,St===null&&(sn=null,_t=0,ec()),N}function l2(){for(;St!==null;)Sh(St)}function s2(e,n){var i=Vt;Vt|=2;var o=Eh(),g=Ah();sn!==e||_t!==n?(Dc=null,Rc=Bt()+500,us(e,n)):ss=er(e,n);e:do try{if(Qt!==0&&St!==null){n=St;var b=Lr;t:switch(Qt){case 1:Qt=0,Lr=null,ds(e,n,b,1);break;case 2:case 9:if(B0(b)){Qt=0,Lr=null,Nh(n);break}n=function(){Qt!==2&&Qt!==9||sn!==e||(Qt=7),Ba(e)},b.then(n,n);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:B0(b)?(Qt=0,Lr=null,Nh(n)):(Qt=0,Lr=null,ds(e,n,b,7));break;case 5:var N=null;switch(St.tag){case 26:N=St.memoizedState;case 5:case 27:var k=St;if(N?dx(N):k.stateNode.complete){Qt=0,Lr=null;var Z=k.sibling;if(Z!==null)St=Z;else{var de=k.return;de!==null?(St=de,Bc(de)):St=null}break t}}Qt=0,Lr=null,ds(e,n,b,5);break;case 6:Qt=0,Lr=null,ds(e,n,b,6);break;case 8:Zd(),In=6;break e;default:throw Error(m(462))}}o2();break}catch(ye){vh(e,ye)}while(!0);return Ka=vl=null,G.H=o,G.A=g,Vt=i,St!==null?0:(sn=null,_t=0,ec(),In)}function o2(){for(;St!==null&&!Ca();)Sh(St)}function Sh(e){var n=W1(e.alternate,e,si);e.memoizedProps=e.pendingProps,n===null?Bc(e):St=n}function Nh(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=V1(i,n,n.pendingProps,n.type,void 0,_t);break;case 11:n=V1(i,n,n.pendingProps,n.type.render,n.ref,_t);break;case 5:ud(n);default:K1(i,n),n=St=A0(n,si),n=W1(i,n,si)}e.memoizedProps=e.pendingProps,n===null?Bc(e):St=n}function ds(e,n,i,o){Ka=vl=null,ud(n),es=null,Gs=0;var g=n.return;try{if(Qm(e,g,n,i,_t)){In=1,Cc(e,Qr(i,e.current)),St=null;return}}catch(b){if(g!==null)throw St=g,b;In=1,Cc(e,Qr(i,e.current)),St=null;return}n.flags&32768?(Dt||o===1?e=!0:ss||(_t&536870912)!==0?e=!1:(Ui=e=!0,(o===2||o===9||o===3||o===6)&&(o=Br.current,o!==null&&o.tag===13&&(o.flags|=16384))),Th(n,e)):Bc(n)}function Bc(e){var n=e;do{if((n.flags&32768)!==0){Th(n,Ui);return}e=n.return;var i=$m(n.alternate,n,si);if(i!==null){St=i;return}if(n=n.sibling,n!==null){St=n;return}St=n=e}while(n!==null);In===0&&(In=5)}function Th(e,n){do{var i=e2(e.alternate,e);if(i!==null){i.flags&=32767,St=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){St=e;return}St=e=i}while(e!==null);In=6,St=null}function Ih(e,n,i,o,g,b,N,k,Z){e.cancelPendingCommit=null;do jc();while(Wn!==0);if((Vt&6)!==0)throw Error(m(327));if(n!==null){if(n===e.current)throw Error(m(177));if(b=n.lanes|n.childLanes,b|=Lu,Xr(e,i,b,N,k,Z),e===sn&&(St=sn=null,_t=0),cs=n,Hi=e,oi=i,Xd=b,Yd=g,ph=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,f2(jn,function(){return kh(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,g=ie.p,ie.p=2,N=Vt,Vt|=4;try{t2(e,n,i)}finally{Vt=N,ie.p=g,G.T=o}}Wn=1,_h(),Oh(),Rh()}}function _h(){if(Wn===1){Wn=0;var e=Hi,n=cs,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=G.T,G.T=null;var o=ie.p;ie.p=2;var g=Vt;Vt|=4;try{ch(n,e);var b=of,N=_(e.containerInfo),k=b.focusedElem,Z=b.selectionRange;if(N!==k&&k&&k.ownerDocument&&A(k.ownerDocument.documentElement,k)){if(Z!==null&&D(k)){var de=Z.start,ye=Z.end;if(ye===void 0&&(ye=de),"selectionStart"in k)k.selectionStart=de,k.selectionEnd=Math.min(ye,k.value.length);else{var Se=k.ownerDocument||document,xe=Se&&Se.defaultView||window;if(xe.getSelection){var be=xe.getSelection(),Ge=k.textContent.length,tt=Math.min(Z.start,Ge),tn=Z.end===void 0?tt:Math.min(Z.end,Ge);!be.extend&&tt>tn&&(N=tn,tn=tt,tt=N);var re=v(k,tt),ee=v(k,tn);if(re&&ee&&(be.rangeCount!==1||be.anchorNode!==re.node||be.anchorOffset!==re.offset||be.focusNode!==ee.node||be.focusOffset!==ee.offset)){var ue=Se.createRange();ue.setStart(re.node,re.offset),be.removeAllRanges(),tt>tn?(be.addRange(ue),be.extend(ee.node,ee.offset)):(ue.setEnd(ee.node,ee.offset),be.addRange(ue))}}}}for(Se=[],be=k;be=be.parentNode;)be.nodeType===1&&Se.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Se.length;k++){var Ee=Se[k];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}Zc=!!sf,of=sf=null}finally{Vt=g,ie.p=o,G.T=i}}e.current=n,Wn=2}}function Oh(){if(Wn===2){Wn=0;var e=Hi,n=cs,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=G.T,G.T=null;var o=ie.p;ie.p=2;var g=Vt;Vt|=4;try{ah(e,n.alternate,n)}finally{Vt=g,ie.p=o,G.T=i}}Wn=3}}function Rh(){if(Wn===4||Wn===3){Wn=0,Ea();var e=Hi,n=cs,i=oi,o=ph;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Wn=5:(Wn=0,cs=Hi=null,Dh(e,e.pendingLanes));var g=e.pendingLanes;if(g===0&&(Fi=null),oa(i),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(on,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,g=ie.p,ie.p=2,G.T=null;try{for(var b=e.onRecoverableError,N=0;N<o.length;N++){var k=o[N];b(k.value,{componentStack:k.stack})}}finally{G.T=n,ie.p=g}}(oi&3)!==0&&jc(),Ba(e),g=e.pendingLanes,(i&261930)!==0&&(g&42)!==0?e===qd?so++:(so=0,qd=e):so=0,oo(0)}}function Dh(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Hs(n)))}function jc(){return _h(),Oh(),Rh(),kh()}function kh(){if(Wn!==5)return!1;var e=Hi,n=Xd;Xd=0;var i=oa(oi),o=G.T,g=ie.p;try{ie.p=32>i?32:i,G.T=null,i=Yd,Yd=null;var b=Hi,N=oi;if(Wn=0,cs=Hi=null,oi=0,(Vt&6)!==0)throw Error(m(331));var k=Vt;if(Vt|=4,xh(b.current),dh(b,b.current,N,i),Vt=k,oo(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(on,b)}catch{}return!0}finally{ie.p=g,G.T=o,Dh(e,n)}}function Mh(e,n,i){n=Qr(i,n),n=Sd(e.stateNode,n,2),e=Bi(e,n,2),e!==null&&(Na(e,2),Ba(e))}function Kt(e,n,i){if(e.tag===3)Mh(e,e,i);else for(;n!==null;){if(n.tag===3){Mh(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fi===null||!Fi.has(o))){e=Qr(i,e),i=B1(2),o=Bi(n,i,2),o!==null&&(j1(i,o,n,e),Na(o,2),Ba(o));break}}n=n.return}}function Qd(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new a2;var g=new Set;o.set(n,g)}else g=o.get(n),g===void 0&&(g=new Set,o.set(n,g));g.has(i)||(Hd=!0,g.add(i),e=c2.bind(null,e,n,i),n.then(e,e))}function c2(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,sn===e&&(_t&i)===i&&(In===4||In===3&&(_t&62914560)===_t&&300>Bt()-Oc?(Vt&2)===0&&us(e,0):Vd|=i,os===_t&&(os=0)),Ba(e)}function Bh(e,n){n===0&&(n=Xn()),e=bl(e,n),e!==null&&(Na(e,n),Ba(e))}function u2(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Bh(e,i)}function d2(e,n){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,g=e.memoizedState;g!==null&&(i=g.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(m(314))}o!==null&&o.delete(n),Bh(e,i)}function f2(e,n){return sr(e,n)}var Lc=null,fs=null,Kd=!1,zc=!1,Jd=!1,Gi=0;function Ba(e){e!==fs&&e.next===null&&(fs===null?Lc=fs=e:fs=fs.next=e),zc=!0,Kd||(Kd=!0,x2())}function oo(e,n){if(!Jd&&zc){Jd=!0;do for(var i=!1,o=Lc;o!==null;){if(e!==0){var g=o.pendingLanes;if(g===0)var b=0;else{var N=o.suspendedLanes,k=o.pingedLanes;b=(1<<31-gt(42|e)+1)-1,b&=g&~(N&~k),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(i=!0,Uh(o,b))}else b=_t,b=ol(o,o===sn?b:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(b&3)===0||er(o,b)||(i=!0,Uh(o,b));o=o.next}while(i);Jd=!1}}function h2(){jh()}function jh(){zc=Kd=!1;var e=0;Gi!==0&&A2()&&(e=Gi);for(var n=Bt(),i=null,o=Lc;o!==null;){var g=o.next,b=Lh(o,n);b===0?(o.next=null,i===null?Lc=g:i.next=g,g===null&&(fs=i)):(i=o,(e!==0||(b&3)!==0)&&(zc=!0)),o=g}Wn!==0&&Wn!==5||oo(e),Gi!==0&&(Gi=0)}function Lh(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,g=e.expirationTimes,b=e.pendingLanes&-62914561;0<b;){var N=31-gt(b),k=1<<N,Z=g[N];Z===-1?((k&i)===0||(k&o)!==0)&&(g[N]=_s(k,n)):Z<=n&&(e.expiredLanes|=k),b&=~k}if(n=sn,i=_t,i=ol(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ue(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||er(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&Ue(o),oa(i)){case 2:case 8:i=sa;break;case 32:i=jn;break;case 268435456:i=il;break;default:i=jn}return o=zh.bind(null,e),i=sr(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&Ue(o),e.callbackPriority=2,e.callbackNode=null,2}function zh(e,n){if(Wn!==0&&Wn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(jc()&&e.callbackNode!==i)return null;var o=_t;return o=ol(e,e===sn?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yh(e,o,n),Lh(e,Bt()),e.callbackNode!=null&&e.callbackNode===i?zh.bind(null,e):null)}function Uh(e,n){if(jc())return null;yh(e,n,!0)}function x2(){N2(function(){(Vt&6)!==0?sr(Bn,h2):jh()})}function $d(){if(Gi===0){var e=Kl;e===0&&(e=sl,sl<<=1,(sl&261888)===0&&(sl=256)),Gi=e}return Gi}function Ph(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:vi(""+e)}function Fh(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function g2(e,n,i,o,g){if(n==="submit"&&i&&i.stateNode===g){var b=Ph((g[Wt]||null).action),N=o.submitter;N&&(n=(n=N[Wt]||null)?Ph(n.formAction):N.getAttribute("formAction"),n!==null&&(b=n,N=null));var k=new Yn("action","action",null,o,g);e.push({event:k,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gi!==0){var Z=N?Fh(g,N):new FormData(g);yd(i,{pending:!0,data:Z,method:g.method,action:b},null,Z)}}else typeof b=="function"&&(k.preventDefault(),Z=N?Fh(g,N):new FormData(g),yd(i,{pending:!0,data:Z,method:g.method,action:b},b,Z))},currentTarget:g}]})}}for(var ef=0;ef<Us.length;ef++){var tf=Us[ef],m2=tf.toLowerCase(),p2=tf[0].toUpperCase()+tf.slice(1);xa(m2,"on"+p2)}xa(vr,"onAnimationEnd"),xa(tr,"onAnimationIteration"),xa(Yt,"onAnimationStart"),xa("dblclick","onDoubleClick"),xa("focusin","onFocus"),xa("focusout","onBlur"),xa(Zn,"onTransitionRun"),xa(gr,"onTransitionStart"),xa(Ii,"onTransitionCancel"),xa(Za,"onTransitionEnd"),_r("onMouseEnter",["mouseout","mouseover"]),_r("onMouseLeave",["mouseout","mouseover"]),_r("onPointerEnter",["pointerout","pointerover"]),_r("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function Hh(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],g=o.event;o=o.listeners;e:{var b=void 0;if(n)for(var N=o.length-1;0<=N;N--){var k=o[N],Z=k.instance,de=k.currentTarget;if(k=k.listener,Z!==b&&g.isPropagationStopped())break e;b=k,g.currentTarget=de;try{b(g)}catch(ye){$o(ye)}g.currentTarget=null,b=Z}else for(N=0;N<o.length;N++){if(k=o[N],Z=k.instance,de=k.currentTarget,k=k.listener,Z!==b&&g.isPropagationStopped())break e;b=k,g.currentTarget=de;try{b(g)}catch(ye){$o(ye)}g.currentTarget=null,b=Z}}}}function Nt(e,n){var i=n[gi];i===void 0&&(i=n[gi]=new Set);var o=e+"__bubble";i.has(o)||(Vh(n,e,2,!1),i.add(o))}function nf(e,n,i){var o=0;n&&(o|=4),Vh(i,e,o,n)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function rf(e){if(!e[Uc]){e[Uc]=!0,Ie.forEach(function(i){i!=="selectionchange"&&(b2.has(i)||nf(i,!1,e),nf(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Uc]||(n[Uc]=!0,nf("selectionchange",!1,n))}}function Vh(e,n,i,o){switch(bx(n)){case 2:var g=Y2;break;case 8:g=q2;break;default:g=yf}i=g.bind(null,n,i,e),g=void 0,!Ds||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(g=!0),o?g!==void 0?e.addEventListener(n,i,{capture:!0,passive:g}):e.addEventListener(n,i,!0):g!==void 0?e.addEventListener(n,i,{passive:g}):e.addEventListener(n,i,!1)}function af(e,n,i,o,g){var b=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var N=o.tag;if(N===3||N===4){var k=o.stateNode.containerInfo;if(k===g)break;if(N===4)for(N=o.return;N!==null;){var Z=N.tag;if((Z===3||Z===4)&&N.stateNode.containerInfo===g)return;N=N.return}for(;k!==null;){if(N=An(k),N===null)return;if(Z=N.tag,Z===5||Z===6||Z===26||Z===27){o=b=N;continue e}k=k.parentNode}}o=o.return}Ho(function(){var de=b,ye=Rs(i),Se=[];e:{var xe=Jo.get(e);if(xe!==void 0){var be=Yn,Ge=e;switch(e){case"keypress":if(Ia(i)===0)break e;case"keydown":case"keyup":be=Hl;break;case"focusin":Ge="focus",be=Bs;break;case"focusout":Ge="blur",be=Bs;break;case"beforeblur":case"afterblur":be=Bs;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Ht;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Pl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Mu;break;case vr:case tr:case Yt:be=mt;break;case Za:be=Ga;break;case"scroll":case"scrollend":be=Vo;break;case"wheel":be=Bu;break;case"copy":case"cut":case"paste":be=Fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Xt;break;case"toggle":case"beforetoggle":be=Ls}var tt=(n&4)!==0,tn=!tt&&(e==="scroll"||e==="scrollend"),re=tt?xe!==null?xe+"Capture":null:xe;tt=[];for(var ee=de,ue;ee!==null;){var Ee=ee;if(ue=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||ue===null||re===null||(Ee=lt(ee,re),Ee!=null&&tt.push(uo(ee,Ee,ue))),tn)break;ee=ee.return}0<tt.length&&(xe=new be(xe,Ge,null,i,ye),Se.push({event:xe,listeners:tt}))}}if((n&7)===0){e:{if(xe=e==="mouseover"||e==="pointerover",be=e==="mouseout"||e==="pointerout",xe&&i!==ul&&(Ge=i.relatedTarget||i.fromElement)&&(An(Ge)||Ge[Ir]))break e;if((be||xe)&&(xe=ye.window===ye?ye:(xe=ye.ownerDocument)?xe.defaultView||xe.parentWindow:window,be?(Ge=i.relatedTarget||i.toElement,be=de,Ge=Ge?An(Ge):null,Ge!==null&&(tn=y(Ge),tt=Ge.tag,Ge!==tn||tt!==5&&tt!==27&&tt!==6)&&(Ge=null)):(be=null,Ge=de),be!==Ge)){if(tt=Ht,Ee="onMouseLeave",re="onMouseEnter",ee="mouse",(e==="pointerout"||e==="pointerover")&&(tt=Xt,Ee="onPointerLeave",re="onPointerEnter",ee="pointer"),tn=be==null?xe:mi(be),ue=Ge==null?xe:mi(Ge),xe=new tt(Ee,ee+"leave",be,i,ye),xe.target=tn,xe.relatedTarget=ue,Ee=null,An(ye)===de&&(tt=new tt(re,ee+"enter",Ge,i,ye),tt.target=ue,tt.relatedTarget=tn,Ee=tt),tn=Ee,be&&Ge)t:{for(tt=y2,re=be,ee=Ge,ue=0,Ee=re;Ee;Ee=tt(Ee))ue++;Ee=0;for(var Ke=ee;Ke;Ke=tt(Ke))Ee++;for(;0<ue-Ee;)re=tt(re),ue--;for(;0<Ee-ue;)ee=tt(ee),Ee--;for(;ue--;){if(re===ee||ee!==null&&re===ee.alternate){tt=re;break t}re=tt(re),ee=tt(ee)}tt=null}else tt=null;be!==null&&Gh(Se,xe,be,tt,!1),Ge!==null&&tn!==null&&Gh(Se,tn,Ge,tt,!0)}}e:{if(xe=de?mi(de):window,be=xe.nodeName&&xe.nodeName.toLowerCase(),be==="select"||be==="input"&&xe.type==="file")var zt=kr;else if(zs(xe))if(Ko)zt=l;else{zt=r;var Ze=t}else be=xe.nodeName,!be||be.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?de&&rn(de.elementType)&&(zt=kr):zt=a;if(zt&&(zt=zt(e,de))){Dr(Se,zt,i,ye);break e}Ze&&Ze(e,xe,de),e==="focusout"&&de&&xe.type==="number"&&de.memoizedProps.value!=null&&L(xe,"number",xe.value)}switch(Ze=de?mi(de):window,e){case"focusin":(zs(Ze)||Ze.contentEditable==="true")&&(Q=Ze,$=de,se=null);break;case"focusout":se=$=Q=null;break;case"mousedown":ge=!0;break;case"contextmenu":case"mouseup":case"dragend":ge=!1,Be(Se,i,ye);break;case"selectionchange":if(F)break;case"keydown":case"keyup":Be(Se,i,ye)}var pt;if(hl)e:{switch(e){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else Ti?Qo(e,i)&&(Ot="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ot="onCompositionStart");Ot&&(Wo&&i.locale!=="ko"&&(Ti||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&Ti&&(pt=Ci()):(fa=ye,ha="value"in fa?fa.value:fa.textContent,Ti=!0)),Ze=Pc(de,Ot),0<Ze.length&&(Ot=new Yo(Ot,e,null,i,ye),Se.push({event:Ot,listeners:Ze}),pt?Ot.data=pt:(pt=Ni(i),pt!==null&&(Ot.data=pt)))),(pt=Zo?Ra(e,i):Gl(e,i))&&(Ot=Pc(de,"onBeforeInput"),0<Ot.length&&(Ze=new Yo("onBeforeInput","beforeinput",null,i,ye),Se.push({event:Ze,listeners:Ot}),Ze.data=pt)),g2(Se,e,de,i,ye)}Hh(Se,n)})}function uo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Pc(e,n){for(var i=n+"Capture",o=[];e!==null;){var g=e,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=lt(e,i),g!=null&&o.unshift(uo(e,g,b)),g=lt(e,n),g!=null&&o.push(uo(e,g,b))),e.tag===3)return o;e=e.return}return[]}function y2(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gh(e,n,i,o,g){for(var b=n._reactName,N=[];i!==null&&i!==o;){var k=i,Z=k.alternate,de=k.stateNode;if(k=k.tag,Z!==null&&Z===o)break;k!==5&&k!==26&&k!==27||de===null||(Z=de,g?(de=lt(i,b),de!=null&&N.unshift(uo(i,de,Z))):g||(de=lt(i,b),de!=null&&N.push(uo(i,de,Z)))),i=i.return}N.length!==0&&e.push({event:n,listeners:N})}var w2=/\r\n?/g,v2=/\u0000|\uFFFD/g;function Xh(e){return(typeof e=="string"?e:""+e).replace(w2,`
`).replace(v2,"")}function Yh(e,n){return n=Xh(n),Xh(e)===n}function en(e,n,i,o,g,b){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||wi(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&wi(e,""+o);break;case"className":bi(e,"class",o);break;case"tabIndex":bi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bi(e,i,o);break;case"style":Qe(e,o,b);break;case"data":if(n!=="object"){bi(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=vi(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(i==="formAction"?(n!=="input"&&en(e,n,"name",g.name,g,null),en(e,n,"formEncType",g.formEncType,g,null),en(e,n,"formMethod",g.formMethod,g,null),en(e,n,"formTarget",g.formTarget,g,null)):(en(e,n,"encType",g.encType,g,null),en(e,n,"method",g.method,g,null),en(e,n,"target",g.target,g,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=vi(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=yr);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(m(61));if(i=o.__html,i!=null){if(g.children!=null)throw Error(m(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=vi(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),pi(e,"popover",o);break;case"xlinkActuate":Or(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Or(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Or(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Or(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Or(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Or(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Or(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Or(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Or(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Fo.get(i)||i,pi(e,i,o))}}function lf(e,n,i,o,g,b){switch(i){case"style":Qe(e,o,b);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(m(61));if(i=o.__html,i!=null){if(g.children!=null)throw Error(m(60));e.innerHTML=i}}break;case"children":typeof o=="string"?wi(e,o):(typeof o=="number"||typeof o=="bigint")&&wi(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=yr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Po.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(g=i.endsWith("Capture"),n=i.slice(2,g?i.length-7:void 0),b=e[Wt]||null,b=b!=null?b[i]:null,typeof b=="function"&&e.removeEventListener(n,b,g),typeof o=="function")){typeof b!="function"&&b!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,g);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):pi(e,i,o)}}}function ir(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,g=!1,b;for(b in i)if(i.hasOwnProperty(b)){var N=i[b];if(N!=null)switch(b){case"src":o=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(m(137,n));default:en(e,n,b,N,i,null)}}g&&en(e,n,"srcSet",i.srcSet,i,null),o&&en(e,n,"src",i.src,i,null);return;case"input":Nt("invalid",e);var k=b=N=g=null,Z=null,de=null;for(o in i)if(i.hasOwnProperty(o)){var ye=i[o];if(ye!=null)switch(o){case"name":g=ye;break;case"type":N=ye;break;case"checked":Z=ye;break;case"defaultChecked":de=ye;break;case"value":b=ye;break;case"defaultValue":k=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(m(137,n));break;default:en(e,n,o,ye,i,null)}}ce(e,b,k,Z,de,N,g,!1);return;case"select":Nt("invalid",e),o=N=b=null;for(g in i)if(i.hasOwnProperty(g)&&(k=i[g],k!=null))switch(g){case"value":b=k;break;case"defaultValue":N=k;break;case"multiple":o=k;default:en(e,n,g,k,i,null)}n=b,i=N,e.multiple=!!o,n!=null?Ye(e,!!o,n,!1):i!=null&&Ye(e,!!o,i,!0);return;case"textarea":Nt("invalid",e),b=g=o=null;for(N in i)if(i.hasOwnProperty(N)&&(k=i[N],k!=null))switch(N){case"value":o=k;break;case"defaultValue":g=k;break;case"children":b=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(m(91));break;default:en(e,n,N,k,i,null)}hr(e,o,g,b);return;case"option":for(Z in i)if(i.hasOwnProperty(Z)&&(o=i[Z],o!=null))switch(Z){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:en(e,n,Z,o,i,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<co.length;o++)Nt(co[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in i)if(i.hasOwnProperty(de)&&(o=i[de],o!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(m(137,n));default:en(e,n,de,o,i,null)}return;default:if(rn(n)){for(ye in i)i.hasOwnProperty(ye)&&(o=i[ye],o!==void 0&&lf(e,n,ye,o,i,void 0));return}}for(k in i)i.hasOwnProperty(k)&&(o=i[k],o!=null&&en(e,n,k,o,i,null))}function C2(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,N=null,k=null,Z=null,de=null,ye=null;for(be in i){var Se=i[be];if(i.hasOwnProperty(be)&&Se!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":Z=Se;default:o.hasOwnProperty(be)||en(e,n,be,null,o,Se)}}for(var xe in o){var be=o[xe];if(Se=i[xe],o.hasOwnProperty(xe)&&(be!=null||Se!=null))switch(xe){case"type":b=be;break;case"name":g=be;break;case"checked":de=be;break;case"defaultChecked":ye=be;break;case"value":N=be;break;case"defaultValue":k=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(m(137,n));break;default:be!==Se&&en(e,n,xe,be,o,Se)}}Ln(e,N,k,Z,de,ye,b,g);return;case"select":be=N=k=xe=null;for(b in i)if(Z=i[b],i.hasOwnProperty(b)&&Z!=null)switch(b){case"value":break;case"multiple":be=Z;default:o.hasOwnProperty(b)||en(e,n,b,null,o,Z)}for(g in o)if(b=o[g],Z=i[g],o.hasOwnProperty(g)&&(b!=null||Z!=null))switch(g){case"value":xe=b;break;case"defaultValue":k=b;break;case"multiple":N=b;default:b!==Z&&en(e,n,g,b,o,Z)}n=k,i=N,o=be,xe!=null?Ye(e,!!i,xe,!1):!!o!=!!i&&(n!=null?Ye(e,!!i,n,!0):Ye(e,!!i,i?[]:"",!1));return;case"textarea":be=xe=null;for(k in i)if(g=i[k],i.hasOwnProperty(k)&&g!=null&&!o.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:en(e,n,k,null,o,g)}for(N in o)if(g=o[N],b=i[N],o.hasOwnProperty(N)&&(g!=null||b!=null))switch(N){case"value":xe=g;break;case"defaultValue":be=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(m(91));break;default:g!==b&&en(e,n,N,g,o,b)}Rn(e,xe,be);return;case"option":for(var Ge in i)if(xe=i[Ge],i.hasOwnProperty(Ge)&&xe!=null&&!o.hasOwnProperty(Ge))switch(Ge){case"selected":e.selected=!1;break;default:en(e,n,Ge,null,o,xe)}for(Z in o)if(xe=o[Z],be=i[Z],o.hasOwnProperty(Z)&&xe!==be&&(xe!=null||be!=null))switch(Z){case"selected":e.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:en(e,n,Z,xe,o,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in i)xe=i[tt],i.hasOwnProperty(tt)&&xe!=null&&!o.hasOwnProperty(tt)&&en(e,n,tt,null,o,xe);for(de in o)if(xe=o[de],be=i[de],o.hasOwnProperty(de)&&xe!==be&&(xe!=null||be!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(m(137,n));break;default:en(e,n,de,xe,o,be)}return;default:if(rn(n)){for(var tn in i)xe=i[tn],i.hasOwnProperty(tn)&&xe!==void 0&&!o.hasOwnProperty(tn)&&lf(e,n,tn,void 0,o,xe);for(ye in o)xe=o[ye],be=i[ye],!o.hasOwnProperty(ye)||xe===be||xe===void 0&&be===void 0||lf(e,n,ye,xe,o,be);return}}for(var re in i)xe=i[re],i.hasOwnProperty(re)&&xe!=null&&!o.hasOwnProperty(re)&&en(e,n,re,null,o,xe);for(Se in o)xe=o[Se],be=i[Se],!o.hasOwnProperty(Se)||xe===be||xe==null&&be==null||en(e,n,Se,xe,o,be)}function qh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function E2(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var g=i[o],b=g.transferSize,N=g.initiatorType,k=g.duration;if(b&&k&&qh(N)){for(N=0,k=g.responseEnd,o+=1;o<i.length;o++){var Z=i[o],de=Z.startTime;if(de>k)break;var ye=Z.transferSize,Se=Z.initiatorType;ye&&qh(Se)&&(Z=Z.responseEnd,N+=ye*(Z<k?1:(k-de)/(Z-de)))}if(--o,n+=8*(b+N)/(g.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sf=null,of=null;function Fc(e){return e.nodeType===9?e:e.ownerDocument}function Zh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function cf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uf=null;function A2(){var e=window.event;return e&&e.type==="popstate"?e===uf?!1:(uf=e,!0):(uf=null,!1)}var Qh=typeof setTimeout=="function"?setTimeout:void 0,S2=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(e){return Kh.resolve(null).then(e).catch(T2)}:Qh;function T2(e){setTimeout(function(){throw e})}function Xi(e){return e==="head"}function Jh(e,n){var i=n,o=0;do{var g=i.nextSibling;if(e.removeChild(i),g&&g.nodeType===8)if(i=g.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(g),ms(n);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")fo(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,fo(i);for(var b=i.firstChild;b;){var N=b.nextSibling,k=b.nodeName;b[cl]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||i.removeChild(b),b=N}}else i==="body"&&fo(e.ownerDocument.body);i=g}while(i);ms(n)}function $h(e,n){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function df(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":df(i),br(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function I2(e,n,i,o){for(;e.nodeType===1;){var g=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[cl])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(b=e.getAttribute("rel"),b==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(b!==g.rel||e.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||e.getAttribute("title")!==(g.title==null?null:g.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(b=e.getAttribute("src"),(b!==(g.src==null?null:g.src)||e.getAttribute("type")!==(g.type==null?null:g.type)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&e.getAttribute("name")===b)return e}else return e;if(e=ta(e.nextSibling),e===null)break}return null}function _2(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ta(e.nextSibling),e===null))return null;return e}function ex(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ta(e.nextSibling),e===null))return null;return e}function ff(e){return e.data==="$?"||e.data==="$~"}function hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function O2(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ta(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var xf=null;function tx(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return ta(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function nx(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function rx(e,n,i){switch(n=Fc(i),e){case"html":if(e=n.documentElement,!e)throw Error(m(452));return e;case"head":if(e=n.head,!e)throw Error(m(453));return e;case"body":if(e=n.body,!e)throw Error(m(454));return e;default:throw Error(m(451))}}function fo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);br(e)}var na=new Map,ax=new Set;function Hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ci=ie.d;ie.d={f:R2,r:D2,D:k2,C:M2,L:B2,m:j2,X:z2,S:L2,M:U2};function R2(){var e=ci.f(),n=kc();return e||n}function D2(e){var n=Ft(e);n!==null&&n.tag===5&&n.type==="form"?v1(n):ci.r(e)}var hs=typeof document>"u"?null:document;function ix(e,n,i){var o=hs;if(o&&typeof n=="string"&&n){var g=Ct(n);g='link[rel="'+e+'"][href="'+g+'"]',typeof i=="string"&&(g+='[crossorigin="'+i+'"]'),ax.has(g)||(ax.add(g),e={rel:e,crossOrigin:i,href:n},o.querySelector(g)===null&&(n=o.createElement("link"),ir(n,"link",e),Sn(n),o.head.appendChild(n)))}}function k2(e){ci.D(e),ix("dns-prefetch",e,null)}function M2(e,n){ci.C(e,n),ix("preconnect",e,n)}function B2(e,n,i){ci.L(e,n,i);var o=hs;if(o&&e&&n){var g='link[rel="preload"][as="'+Ct(n)+'"]';n==="image"&&i&&i.imageSrcSet?(g+='[imagesrcset="'+Ct(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(g+='[imagesizes="'+Ct(i.imageSizes)+'"]')):g+='[href="'+Ct(e)+'"]';var b=g;switch(n){case"style":b=xs(e);break;case"script":b=gs(e)}na.has(b)||(e=R({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),na.set(b,e),o.querySelector(g)!==null||n==="style"&&o.querySelector(ho(b))||n==="script"&&o.querySelector(xo(b))||(n=o.createElement("link"),ir(n,"link",e),Sn(n),o.head.appendChild(n)))}}function j2(e,n){ci.m(e,n);var i=hs;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",g='link[rel="modulepreload"][as="'+Ct(o)+'"][href="'+Ct(e)+'"]',b=g;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=gs(e)}if(!na.has(b)&&(e=R({rel:"modulepreload",href:e},n),na.set(b,e),i.querySelector(g)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(xo(b)))return}o=i.createElement("link"),ir(o,"link",e),Sn(o),i.head.appendChild(o)}}}function L2(e,n,i){ci.S(e,n,i);var o=hs;if(o&&e){var g=fr(o).hoistableStyles,b=xs(e);n=n||"default";var N=g.get(b);if(!N){var k={loading:0,preload:null};if(N=o.querySelector(ho(b)))k.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},i),(i=na.get(b))&&gf(e,i);var Z=N=o.createElement("link");Sn(Z),ir(Z,"link",e),Z._p=new Promise(function(de,ye){Z.onload=de,Z.onerror=ye}),Z.addEventListener("load",function(){k.loading|=1}),Z.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Vc(N,n,o)}N={type:"stylesheet",instance:N,count:1,state:k},g.set(b,N)}}}function z2(e,n){ci.X(e,n);var i=hs;if(i&&e){var o=fr(i).hoistableScripts,g=gs(e),b=o.get(g);b||(b=i.querySelector(xo(g)),b||(e=R({src:e,async:!0},n),(n=na.get(g))&&mf(e,n),b=i.createElement("script"),Sn(b),ir(b,"link",e),i.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},o.set(g,b))}}function U2(e,n){ci.M(e,n);var i=hs;if(i&&e){var o=fr(i).hoistableScripts,g=gs(e),b=o.get(g);b||(b=i.querySelector(xo(g)),b||(e=R({src:e,async:!0,type:"module"},n),(n=na.get(g))&&mf(e,n),b=i.createElement("script"),Sn(b),ir(b,"link",e),i.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},o.set(g,b))}}function lx(e,n,i,o){var g=(g=Te.current)?Hc(g):null;if(!g)throw Error(m(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=xs(i.href),i=fr(g).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=xs(i.href);var b=fr(g).hoistableStyles,N=b.get(e);if(N||(g=g.ownerDocument||g,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(e,N),(b=g.querySelector(ho(e)))&&!b._p&&(N.instance=b,N.state.loading=5),na.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},na.set(e,i),b||P2(g,e,i,N.state))),n&&o===null)throw Error(m(528,""));return N}if(n&&o!==null)throw Error(m(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=gs(i),i=fr(g).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(m(444,e))}}function xs(e){return'href="'+Ct(e)+'"'}function ho(e){return'link[rel="stylesheet"]['+e+"]"}function sx(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function P2(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ir(n,"link",i),Sn(n),e.head.appendChild(n))}function gs(e){return'[src="'+Ct(e)+'"]'}function xo(e){return"script[async]"+e}function ox(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Ct(i.href)+'"]');if(o)return n.instance=o,Sn(o),o;var g=R({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Sn(o),ir(o,"style",g),Vc(o,i.precedence,e),n.instance=o;case"stylesheet":g=xs(i.href);var b=e.querySelector(ho(g));if(b)return n.state.loading|=4,n.instance=b,Sn(b),b;o=sx(i),(g=na.get(g))&&gf(o,g),b=(e.ownerDocument||e).createElement("link"),Sn(b);var N=b;return N._p=new Promise(function(k,Z){N.onload=k,N.onerror=Z}),ir(b,"link",o),n.state.loading|=4,Vc(b,i.precedence,e),n.instance=b;case"script":return b=gs(i.src),(g=e.querySelector(xo(b)))?(n.instance=g,Sn(g),g):(o=i,(g=na.get(b))&&(o=R({},i),mf(o,g)),e=e.ownerDocument||e,g=e.createElement("script"),Sn(g),ir(g,"link",o),e.head.appendChild(g),n.instance=g);case"void":return null;default:throw Error(m(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Vc(o,i.precedence,e));return n.instance}function Vc(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=o.length?o[o.length-1]:null,b=g,N=0;N<o.length;N++){var k=o[N];if(k.dataset.precedence===n)b=k;else if(b!==g)break}b?b.parentNode.insertBefore(e,b.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function gf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function mf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Gc=null;function cx(e,n,i){if(Gc===null){var o=new Map,g=Gc=new Map;g.set(i,o)}else g=Gc,o=g.get(i),o||(o=new Map,g.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),g=0;g<i.length;g++){var b=i[g];if(!(b[cl]||b[On]||e==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var N=b.getAttribute(n)||"";N=e+N;var k=o.get(N);k?k.push(b):o.set(N,[b])}}return o}function ux(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function F2(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dx(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function H2(e,n,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=xs(o.href),b=n.querySelector(ho(g));if(b){n=b._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Xc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=b,Sn(b);return}b=n.ownerDocument||n,o=sx(o),(g=na.get(g))&&gf(o,g),b=b.createElement("link"),Sn(b);var N=b;N._p=new Promise(function(k,Z){N.onload=k,N.onerror=Z}),ir(b,"link",o),i.instance=b}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Xc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var pf=0;function V2(e,n){return e.stylesheets&&e.count===0&&qc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&qc(e,e.stylesheets),e.unsuspend){var b=e.unsuspend;e.unsuspend=null,b()}},6e4+n);0<e.imgBytes&&pf===0&&(pf=62500*E2());var g=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&qc(e,e.stylesheets),e.unsuspend)){var b=e.unsuspend;e.unsuspend=null,b()}},(e.imgBytes>pf?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(g)}}:null}function Xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)qc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yc=null;function qc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yc=new Map,n.forEach(G2,e),Yc=null,Xc.call(e))}function G2(e,n){if(!(n.state.loading&4)){var i=Yc.get(e);if(i)var o=i.get(null);else{i=new Map,Yc.set(e,i);for(var g=e.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var N=g[b];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(i.set(N.dataset.precedence,N),o=N)}o&&i.set(null,o)}g=n.instance,N=g.getAttribute("data-precedence"),b=i.get(N)||o,b===o&&i.set(null,g),i.set(N,g),this.count++,o=Xc.bind(this),g.addEventListener("load",o),g.addEventListener("error",o),b?b.parentNode.insertBefore(g,b.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(g,e.firstChild)),n.state.loading|=4}}var go={$$typeof:H,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function X2(e,n,i,o,g,b,N,k,Z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sa(0),this.hiddenUpdates=Sa(null),this.identifierPrefix=o,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function fx(e,n,i,o,g,b,N,k,Z,de,ye,Se){return e=new X2(e,n,i,N,Z,de,ye,Se,k),n=1,b===!0&&(n|=24),b=Mr(3,null,null,n),e.current=b,b.stateNode=e,n=Wu(),n.refCount++,e.pooledCache=n,n.refCount++,b.memoizedState={element:o,isDehydrated:i,cache:n},$u(b),e}function hx(e){return e?(e=Yl,e):Yl}function xx(e,n,i,o,g,b){g=hx(g),o.context===null?o.context=g:o.pendingContext=g,o=Mi(n),o.payload={element:i},b=b===void 0?null:b,b!==null&&(o.callback=b),i=Bi(e,o,n),i!==null&&(Nr(i,e,n),Ys(i,e,n))}function gx(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function bf(e,n){gx(e,n),(e=e.alternate)&&gx(e,n)}function mx(e){if(e.tag===13||e.tag===31){var n=bl(e,67108864);n!==null&&Nr(n,e,67108864),bf(e,67108864)}}function px(e){if(e.tag===13||e.tag===31){var n=Ur();n=Kn(n);var i=bl(e,n);i!==null&&Nr(i,e,n),bf(e,n)}}var Zc=!0;function Y2(e,n,i,o){var g=G.T;G.T=null;var b=ie.p;try{ie.p=2,yf(e,n,i,o)}finally{ie.p=b,G.T=g}}function q2(e,n,i,o){var g=G.T;G.T=null;var b=ie.p;try{ie.p=8,yf(e,n,i,o)}finally{ie.p=b,G.T=g}}function yf(e,n,i,o){if(Zc){var g=wf(o);if(g===null)af(e,n,o,Wc,i),yx(e,o);else if(W2(g,e,n,i,o))o.stopPropagation();else if(yx(e,o),n&4&&-1<Z2.indexOf(e)){for(;g!==null;){var b=Ft(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var N=Aa(b.pendingLanes);if(N!==0){var k=b;for(k.pendingLanes|=2,k.entangledLanes|=2;N;){var Z=1<<31-gt(N);k.entanglements[1]|=Z,N&=~Z}Ba(b),(Vt&6)===0&&(Rc=Bt()+500,oo(0))}}break;case 31:case 13:k=bl(b,2),k!==null&&Nr(k,b,2),kc(),bf(b,2)}if(b=wf(o),b===null&&af(e,n,o,Wc,i),b===g)break;g=b}g!==null&&o.stopPropagation()}else af(e,n,o,null,i)}}function wf(e){return e=Rs(e),vf(e)}var Wc=null;function vf(e){if(Wc=null,e=An(e),e!==null){var n=y(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=E(n),e!==null)return e;e=null}else if(i===31){if(e=T(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Wc=e,null}function bx(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($n()){case Bn:return 2;case sa:return 8;case jn:case pn:return 32;case il:return 268435456;default:return 32}default:return 32}}var Cf=!1,Yi=null,qi=null,Zi=null,mo=new Map,po=new Map,Wi=[],Z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yx(e,n){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":mo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function bo(e,n,i,o,g,b){return e===null||e.nativeEvent!==b?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:b,targetContainers:[g]},n!==null&&(n=Ft(n),n!==null&&mx(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,g!==null&&n.indexOf(g)===-1&&n.push(g),e)}function W2(e,n,i,o,g){switch(n){case"focusin":return Yi=bo(Yi,e,n,i,o,g),!0;case"dragenter":return qi=bo(qi,e,n,i,o,g),!0;case"mouseover":return Zi=bo(Zi,e,n,i,o,g),!0;case"pointerover":var b=g.pointerId;return mo.set(b,bo(mo.get(b)||null,e,n,i,o,g)),!0;case"gotpointercapture":return b=g.pointerId,po.set(b,bo(po.get(b)||null,e,n,i,o,g)),!0}return!1}function wx(e){var n=An(e.target);if(n!==null){var i=y(n);if(i!==null){if(n=i.tag,n===13){if(n=E(i),n!==null){e.blockedOn=n,Pe(e.priority,function(){px(i)});return}}else if(n===31){if(n=T(i),n!==null){e.blockedOn=n,Pe(e.priority,function(){px(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=wf(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);ul=o,i.target.dispatchEvent(o),ul=null}else return n=Ft(i),n!==null&&mx(n),e.blockedOn=i,!1;n.shift()}return!0}function vx(e,n,i){Qc(e)&&i.delete(n)}function Q2(){Cf=!1,Yi!==null&&Qc(Yi)&&(Yi=null),qi!==null&&Qc(qi)&&(qi=null),Zi!==null&&Qc(Zi)&&(Zi=null),mo.forEach(vx),po.forEach(vx)}function Kc(e,n){e.blockedOn===n&&(e.blockedOn=null,Cf||(Cf=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Q2)))}var Jc=null;function Cx(e){Jc!==e&&(Jc=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Jc===e&&(Jc=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],g=e[n+2];if(typeof o!="function"){if(vf(o||i)===null)continue;break}var b=Ft(i);b!==null&&(e.splice(n,3),n-=3,yd(b,{pending:!0,data:g,method:i.method,action:o},o,g))}}))}function ms(e){function n(Z){return Kc(Z,e)}Yi!==null&&Kc(Yi,e),qi!==null&&Kc(qi,e),Zi!==null&&Kc(Zi,e),mo.forEach(n),po.forEach(n);for(var i=0;i<Wi.length;i++){var o=Wi[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Wi.length&&(i=Wi[0],i.blockedOn===null);)wx(i),i.blockedOn===null&&Wi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var g=i[o],b=i[o+1],N=g[Wt]||null;if(typeof b=="function")N||Cx(i);else if(N){var k=null;if(b&&b.hasAttribute("formAction")){if(g=b,N=b[Wt]||null)k=N.formAction;else if(vf(g)!==null)continue}else k=N.action;typeof k=="function"?i[o+1]=k:(i.splice(o,3),o-=3),Cx(i)}}}function Ex(){function e(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(N){return g=N})},focusReset:"manual",scroll:"manual"})}function n(){g!==null&&(g(),g=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,g=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),g!==null&&(g(),g=null)}}}function Ef(e){this._internalRoot=e}$c.prototype.render=Ef.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(m(409));var i=n.current,o=Ur();xx(i,o,e,n,null,null)},$c.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;xx(e.current,2,null,e,null,null),kc(),n[Ir]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var n=ur();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Wi.length&&n!==0&&n<Wi[i].priority;i++);Wi.splice(i,0,e),i===0&&wx(e)}};var Ax=d.version;if(Ax!=="19.2.0")throw Error(m(527,Ax,"19.2.0"));ie.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(m(188)):(e=Object.keys(e).join(","),Error(m(268,e)));return e=C(n),e=e!==null?O(e):null,e=e===null?null:e.stateNode,e};var K2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{on=eu.inject(K2),je=eu}catch{}}return wo.createRoot=function(e,n){if(!w(e))throw Error(m(299));var i=!1,o="",g=R1,b=D1,N=k1;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(g=n.onUncaughtError),n.onCaughtError!==void 0&&(b=n.onCaughtError),n.onRecoverableError!==void 0&&(N=n.onRecoverableError)),n=fx(e,1,!1,null,null,i,o,null,g,b,N,Ex),e[Ir]=n.current,rf(e),new Ef(n)},wo.hydrateRoot=function(e,n,i){if(!w(e))throw Error(m(299));var o=!1,g="",b=R1,N=D1,k=k1,Z=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onUncaughtError!==void 0&&(b=i.onUncaughtError),i.onCaughtError!==void 0&&(N=i.onCaughtError),i.onRecoverableError!==void 0&&(k=i.onRecoverableError),i.formState!==void 0&&(Z=i.formState)),n=fx(e,1,!0,n,i??null,o,g,Z,b,N,k,Ex),n.context=hx(null),i=n.current,o=Ur(),o=Kn(o),g=Mi(o),g.callback=null,Bi(i,g,o),i=o,n.current.lanes=i,Na(n,i),Ba(n),e[Ir]=n.current,rf(e),new $c(n)},wo.version="19.2.0",wo}var Mx;function sp(){if(Mx)return Nf.exports;Mx=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(d){console.error(d)}}return c(),Nf.exports=lp(),Nf.exports}var op=sp();const cp=vu(op),up="modulepreload",dp=function(c){return"/pedido/"+c},Bx={},bs=function(d,f,m){let w=Promise.resolve();if(f&&f.length>0){let E=function(C){return Promise.all(C.map(O=>Promise.resolve(O).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};document.getElementsByTagName("link");const T=document.querySelector("meta[property=csp-nonce]"),S=(T==null?void 0:T.nonce)||(T==null?void 0:T.getAttribute("nonce"));w=E(f.map(C=>{if(C=dp(C),C in Bx)return;Bx[C]=!0;const O=C.endsWith(".css"),R=O?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${R}`))return;const P=document.createElement("link");if(P.rel=O?"stylesheet":up,O||(P.as="script"),P.crossOrigin="",P.href=C,S&&P.setAttribute("nonce",S),document.head.appendChild(P),O)return new Promise((X,J)=>{P.addEventListener("load",X),P.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${C}`)))})}))}function y(E){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=E,window.dispatchEvent(T),!T.defaultPrevented)throw E}return w.then(E=>{for(const T of E||[])T.status==="rejected"&&y(T.reason);return d().catch(y)})},fp=({onNavigate:c})=>{const[d,f]=U.useState(""),[m,w]=U.useState(""),[y,E]=U.useState(""),T=()=>{d==="vnetpb"&&m==="vnetpb74"?(E(""),c("config")):E("Usurio ou senha invlidos.")};return x.jsx("div",{className:"relative flex min-h-screen w-full flex-col bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-white overflow-hidden",children:x.jsxs("div",{className:"flex flex-col flex-grow justify-center px-6 pt-12 pb-8 max-w-md mx-auto w-full",children:[x.jsxs("div",{className:"text-center mb-10",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-white mb-2",children:"Acesso s Configuraes"}),x.jsx("p",{className:"text-text-secondary-light dark:text-text-secondary-dark",children:"Digite usurio e senha para acessar as configuraes do sistema"})]}),x.jsxs("div",{className:"flex flex-col gap-5",children:[x.jsxs("label",{className:"flex flex-col flex-1",children:[x.jsx("p",{className:"text-slate-900 dark:text-white text-base font-medium pb-2",children:"Usurio"}),x.jsx("input",{className:"w-full rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Usurio",value:d,onChange:S=>f(S.target.value)})]}),x.jsx("div",{className:"flex flex-col gap-2",children:x.jsxs("label",{className:"flex flex-col flex-1",children:[x.jsx("p",{className:"text-slate-900 dark:text-white text-base font-medium pb-2",children:"Senha"}),x.jsx("input",{type:"password",className:"w-full rounded-lg bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite a senha",value:m,onChange:S=>w(S.target.value)})]})}),y&&x.jsx("div",{className:"text-red-500 dark:text-red-400 text-sm text-center",children:y}),x.jsx("button",{className:"w-full bg-primary text-white rounded-lg py-3 font-semibold text-lg hover:bg-blue-700 transition-colors",onClick:T,type:"button",children:"Entrar"}),x.jsx("button",{className:"w-full bg-gray-200 dark:bg-gray-700 text-slate-900 dark:text-white rounded-lg py-3 font-semibold text-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",onClick:()=>c("productList"),type:"button",children:"Voltar"})]})]})})};/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jx="popstate";function hp(c={}){function d(m,w){let{pathname:y,search:E,hash:T}=m.location;return Ff("",{pathname:y,search:E,hash:T},w.state&&w.state.usr||null,w.state&&w.state.key||"default")}function f(m,w){return typeof w=="string"?w:So(w)}return gp(d,f,null,c)}function En(c,d){if(c===!1||c===null||typeof c>"u")throw new Error(d)}function ya(c,d){if(!c){typeof console<"u"&&console.warn(d);try{throw new Error(d)}catch{}}}function xp(){return Math.random().toString(36).substring(2,10)}function Lx(c,d){return{usr:c.state,key:c.key,idx:d}}function Ff(c,d,f=null,m){return{pathname:typeof c=="string"?c:c.pathname,search:"",hash:"",...typeof d=="string"?vs(d):d,state:f,key:d&&d.key||m||xp()}}function So({pathname:c="/",search:d="",hash:f=""}){return d&&d!=="?"&&(c+=d.charAt(0)==="?"?d:"?"+d),f&&f!=="#"&&(c+=f.charAt(0)==="#"?f:"#"+f),c}function vs(c){let d={};if(c){let f=c.indexOf("#");f>=0&&(d.hash=c.substring(f),c=c.substring(0,f));let m=c.indexOf("?");m>=0&&(d.search=c.substring(m),c=c.substring(0,m)),c&&(d.pathname=c)}return d}function gp(c,d,f,m={}){let{window:w=document.defaultView,v5Compat:y=!1}=m,E=w.history,T="POP",S=null,C=O();C==null&&(C=0,E.replaceState({...E.state,idx:C},""));function O(){return(E.state||{idx:null}).idx}function R(){T="POP";let K=O(),B=K==null?null:K-C;C=K,S&&S({action:T,location:Y.location,delta:B})}function P(K,B){T="PUSH";let j=Ff(Y.location,K,B);C=O()+1;let H=Lx(j,C),le=Y.createHref(j);try{E.pushState(H,"",le)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;w.location.assign(le)}y&&S&&S({action:T,location:Y.location,delta:1})}function X(K,B){T="REPLACE";let j=Ff(Y.location,K,B);C=O();let H=Lx(j,C),le=Y.createHref(j);E.replaceState(H,"",le),y&&S&&S({action:T,location:Y.location,delta:0})}function J(K){return mp(K)}let Y={get action(){return T},get location(){return c(w,E)},listen(K){if(S)throw new Error("A history only accepts one active listener");return w.addEventListener(jx,R),S=K,()=>{w.removeEventListener(jx,R),S=null}},createHref(K){return d(w,K)},createURL:J,encodeLocation(K){let B=J(K);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:P,replace:X,go(K){return E.go(K)}};return Y}function mp(c,d=!1){let f="http://localhost";typeof window<"u"&&(f=window.location.origin!=="null"?window.location.origin:window.location.href),En(f,"No window.location.(origin|href) available to create URL");let m=typeof c=="string"?c:So(c);return m=m.replace(/ $/,"%20"),!d&&m.startsWith("//")&&(m=f+m),new URL(m,f)}function _g(c,d,f="/"){return pp(c,d,f,!1)}function pp(c,d,f,m){let w=typeof d=="string"?vs(d):d,y=hi(w.pathname||"/",f);if(y==null)return null;let E=Og(c);bp(E);let T=null;for(let S=0;T==null&&S<E.length;++S){let C=_p(y);T=Tp(E[S],C,m)}return T}function Og(c,d=[],f=[],m="",w=!1){let y=(E,T,S=w,C)=>{let O={relativePath:C===void 0?E.path||"":C,caseSensitive:E.caseSensitive===!0,childrenIndex:T,route:E};if(O.relativePath.startsWith("/")){if(!O.relativePath.startsWith(m)&&S)return;En(O.relativePath.startsWith(m),`Absolute route path "${O.relativePath}" nested under path "${m}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),O.relativePath=O.relativePath.slice(m.length)}let R=fi([m,O.relativePath]),P=f.concat(O);E.children&&E.children.length>0&&(En(E.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${R}".`),Og(E.children,d,P,R,S)),!(E.path==null&&!E.index)&&d.push({path:R,score:Sp(R,E.index),routesMeta:P})};return c.forEach((E,T)=>{var S;if(E.path===""||!((S=E.path)!=null&&S.includes("?")))y(E,T);else for(let C of Rg(E.path))y(E,T,!0,C)}),d}function Rg(c){let d=c.split("/");if(d.length===0)return[];let[f,...m]=d,w=f.endsWith("?"),y=f.replace(/\?$/,"");if(m.length===0)return w?[y,""]:[y];let E=Rg(m.join("/")),T=[];return T.push(...E.map(S=>S===""?y:[y,S].join("/"))),w&&T.push(...E),T.map(S=>c.startsWith("/")&&S===""?"/":S)}function bp(c){c.sort((d,f)=>d.score!==f.score?f.score-d.score:Np(d.routesMeta.map(m=>m.childrenIndex),f.routesMeta.map(m=>m.childrenIndex)))}var yp=/^:[\w-]+$/,wp=3,vp=2,Cp=1,Ep=10,Ap=-2,zx=c=>c==="*";function Sp(c,d){let f=c.split("/"),m=f.length;return f.some(zx)&&(m+=Ap),d&&(m+=vp),f.filter(w=>!zx(w)).reduce((w,y)=>w+(yp.test(y)?wp:y===""?Cp:Ep),m)}function Np(c,d){return c.length===d.length&&c.slice(0,-1).every((m,w)=>m===d[w])?c[c.length-1]-d[d.length-1]:0}function Tp(c,d,f=!1){let{routesMeta:m}=c,w={},y="/",E=[];for(let T=0;T<m.length;++T){let S=m[T],C=T===m.length-1,O=y==="/"?d:d.slice(y.length)||"/",R=uu({path:S.relativePath,caseSensitive:S.caseSensitive,end:C},O),P=S.route;if(!R&&C&&f&&!m[m.length-1].route.index&&(R=uu({path:S.relativePath,caseSensitive:S.caseSensitive,end:!1},O)),!R)return null;Object.assign(w,R.params),E.push({params:w,pathname:fi([y,R.pathname]),pathnameBase:kp(fi([y,R.pathnameBase])),route:P}),R.pathnameBase!=="/"&&(y=fi([y,R.pathnameBase]))}return E}function uu(c,d){typeof c=="string"&&(c={path:c,caseSensitive:!1,end:!0});let[f,m]=Ip(c.path,c.caseSensitive,c.end),w=d.match(f);if(!w)return null;let y=w[0],E=y.replace(/(.)\/+$/,"$1"),T=w.slice(1);return{params:m.reduce((C,{paramName:O,isOptional:R},P)=>{if(O==="*"){let J=T[P]||"";E=y.slice(0,y.length-J.length).replace(/(.)\/+$/,"$1")}const X=T[P];return R&&!X?C[O]=void 0:C[O]=(X||"").replace(/%2F/g,"/"),C},{}),pathname:y,pathnameBase:E,pattern:c}}function Ip(c,d=!1,f=!0){ya(c==="*"||!c.endsWith("*")||c.endsWith("/*"),`Route path "${c}" will be treated as if it were "${c.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${c.replace(/\*$/,"/*")}".`);let m=[],w="^"+c.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(E,T,S)=>(m.push({paramName:T,isOptional:S!=null}),S?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return c.endsWith("*")?(m.push({paramName:"*"}),w+=c==="*"||c==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):f?w+="\\/*$":c!==""&&c!=="/"&&(w+="(?:(?=\\/|$))"),[new RegExp(w,d?void 0:"i"),m]}function _p(c){try{return c.split("/").map(d=>decodeURIComponent(d).replace(/\//g,"%2F")).join("/")}catch(d){return ya(!1,`The URL path "${c}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${d}).`),c}}function hi(c,d){if(d==="/")return c;if(!c.toLowerCase().startsWith(d.toLowerCase()))return null;let f=d.endsWith("/")?d.length-1:d.length,m=c.charAt(f);return m&&m!=="/"?null:c.slice(f)||"/"}var Dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Op=c=>Dg.test(c);function Rp(c,d="/"){let{pathname:f,search:m="",hash:w=""}=typeof c=="string"?vs(c):c,y;if(f)if(Op(f))y=f;else{if(f.includes("//")){let E=f;f=f.replace(/\/\/+/g,"/"),ya(!1,`Pathnames cannot have embedded double slashes - normalizing ${E} -> ${f}`)}f.startsWith("/")?y=Ux(f.substring(1),"/"):y=Ux(f,d)}else y=d;return{pathname:y,search:Mp(m),hash:Bp(w)}}function Ux(c,d){let f=d.replace(/\/+$/,"").split("/");return c.split("/").forEach(w=>{w===".."?f.length>1&&f.pop():w!=="."&&f.push(w)}),f.length>1?f.join("/"):"/"}function Of(c,d,f,m){return`Cannot include a '${c}' character in a manually specified \`to.${d}\` field [${JSON.stringify(m)}].  Please separate it out to the \`to.${f}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Dp(c){return c.filter((d,f)=>f===0||d.route.path&&d.route.path.length>0)}function kg(c){let d=Dp(c);return d.map((f,m)=>m===d.length-1?f.pathname:f.pathnameBase)}function Mg(c,d,f,m=!1){let w;typeof c=="string"?w=vs(c):(w={...c},En(!w.pathname||!w.pathname.includes("?"),Of("?","pathname","search",w)),En(!w.pathname||!w.pathname.includes("#"),Of("#","pathname","hash",w)),En(!w.search||!w.search.includes("#"),Of("#","search","hash",w)));let y=c===""||w.pathname==="",E=y?"/":w.pathname,T;if(E==null)T=f;else{let R=d.length-1;if(!m&&E.startsWith("..")){let P=E.split("/");for(;P[0]==="..";)P.shift(),R-=1;w.pathname=P.join("/")}T=R>=0?d[R]:"/"}let S=Rp(w,T),C=E&&E!=="/"&&E.endsWith("/"),O=(y||E===".")&&f.endsWith("/");return!S.pathname.endsWith("/")&&(C||O)&&(S.pathname+="/"),S}var fi=c=>c.join("/").replace(/\/\/+/g,"/"),kp=c=>c.replace(/\/+$/,"").replace(/^\/*/,"/"),Mp=c=>!c||c==="?"?"":c.startsWith("?")?c:"?"+c,Bp=c=>!c||c==="#"?"":c.startsWith("#")?c:"#"+c,jp=class{constructor(c,d,f,m=!1){this.status=c,this.statusText=d||"",this.internal=m,f instanceof Error?(this.data=f.toString(),this.error=f):this.data=f}};function Lp(c){return c!=null&&typeof c.status=="number"&&typeof c.statusText=="string"&&typeof c.internal=="boolean"&&"data"in c}function zp(c){return c.map(d=>d.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Bg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jg(c,d){let f=c;if(typeof f!="string"||!Dg.test(f))return{absoluteURL:void 0,isExternal:!1,to:f};let m=f,w=!1;if(Bg)try{let y=new URL(window.location.href),E=f.startsWith("//")?new URL(y.protocol+f):new URL(f),T=hi(E.pathname,d);E.origin===y.origin&&T!=null?f=T+E.search+E.hash:w=!0}catch{ya(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:m,isExternal:w,to:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Lg=["POST","PUT","PATCH","DELETE"];new Set(Lg);var Up=["GET",...Lg];new Set(Up);var Cs=U.createContext(null);Cs.displayName="DataRouter";var Cu=U.createContext(null);Cu.displayName="DataRouterState";var Pp=U.createContext(!1),zg=U.createContext({isTransitioning:!1});zg.displayName="ViewTransition";var Fp=U.createContext(new Map);Fp.displayName="Fetchers";var Hp=U.createContext(null);Hp.displayName="Await";var la=U.createContext(null);la.displayName="Navigation";var Do=U.createContext(null);Do.displayName="Location";var Ua=U.createContext({outlet:null,matches:[],isDataRoute:!1});Ua.displayName="Route";var Jf=U.createContext(null);Jf.displayName="RouteError";var Ug="REACT_ROUTER_ERROR",Vp="REDIRECT",Gp="ROUTE_ERROR_RESPONSE";function Xp(c){if(c.startsWith(`${Ug}:${Vp}:{`))try{let d=JSON.parse(c.slice(28));if(typeof d=="object"&&d&&typeof d.status=="number"&&typeof d.statusText=="string"&&typeof d.location=="string"&&typeof d.reloadDocument=="boolean"&&typeof d.replace=="boolean")return d}catch{}}function Yp(c){if(c.startsWith(`${Ug}:${Gp}:{`))try{let d=JSON.parse(c.slice(40));if(typeof d=="object"&&d&&typeof d.status=="number"&&typeof d.statusText=="string")return new jp(d.status,d.statusText,d.data)}catch{}}function qp(c,{relative:d}={}){En(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:f,navigator:m}=U.useContext(la),{hash:w,pathname:y,search:E}=Mo(c,{relative:d}),T=y;return f!=="/"&&(T=y==="/"?f:fi([f,y])),m.createHref({pathname:T,search:E,hash:w})}function ko(){return U.useContext(Do)!=null}function xi(){return En(ko(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Do).location}var Pg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fg(c){U.useContext(la).static||U.useLayoutEffect(c)}function Zp(){let{isDataRoute:c}=U.useContext(Ua);return c?ob():Wp()}function Wp(){En(ko(),"useNavigate() may be used only in the context of a <Router> component.");let c=U.useContext(Cs),{basename:d,navigator:f}=U.useContext(la),{matches:m}=U.useContext(Ua),{pathname:w}=xi(),y=JSON.stringify(kg(m)),E=U.useRef(!1);return Fg(()=>{E.current=!0}),U.useCallback((S,C={})=>{if(ya(E.current,Pg),!E.current)return;if(typeof S=="number"){f.go(S);return}let O=Mg(S,JSON.parse(y),w,C.relative==="path");c==null&&d!=="/"&&(O.pathname=O.pathname==="/"?d:fi([d,O.pathname])),(C.replace?f.replace:f.push)(O,C.state,C)},[d,f,y,w,c])}U.createContext(null);function Qp(){let{matches:c}=U.useContext(Ua),d=c[c.length-1];return d?d.params:{}}function Mo(c,{relative:d}={}){let{matches:f}=U.useContext(Ua),{pathname:m}=xi(),w=JSON.stringify(kg(f));return U.useMemo(()=>Mg(c,JSON.parse(w),m,d==="path"),[c,w,m,d])}function Kp(c,d){return Hg(c,d)}function Hg(c,d,f,m,w){var j;En(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:y}=U.useContext(la),{matches:E}=U.useContext(Ua),T=E[E.length-1],S=T?T.params:{},C=T?T.pathname:"/",O=T?T.pathnameBase:"/",R=T&&T.route;{let H=R&&R.path||"";Gg(C,!R||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${C}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let P=xi(),X;if(d){let H=typeof d=="string"?vs(d):d;En(O==="/"||((j=H.pathname)==null?void 0:j.startsWith(O)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${O}" but pathname "${H.pathname}" was given in the \`location\` prop.`),X=H}else X=P;let J=X.pathname||"/",Y=J;if(O!=="/"){let H=O.replace(/^\//,"").split("/");Y="/"+J.replace(/^\//,"").split("/").slice(H.length).join("/")}let K=_g(c,{pathname:Y});ya(R||K!=null,`No routes matched location "${X.pathname}${X.search}${X.hash}" `),ya(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${X.pathname}${X.search}${X.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=nb(K&&K.map(H=>Object.assign({},H,{params:Object.assign({},S,H.params),pathname:fi([O,y.encodeLocation?y.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?O:fi([O,y.encodeLocation?y.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),E,f,m,w);return d&&B?U.createElement(Do.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...X},navigationType:"POP"}},B):B}function Jp(){let c=sb(),d=Lp(c)?`${c.status} ${c.statusText}`:c instanceof Error?c.message:JSON.stringify(c),f=c instanceof Error?c.stack:null,m="rgba(200,200,200, 0.5)",w={padding:"0.5rem",backgroundColor:m},y={padding:"2px 4px",backgroundColor:m},E=null;return console.error("Error handled by React Router default ErrorBoundary:",c),E=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:y},"ErrorBoundary")," or"," ",U.createElement("code",{style:y},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},d),f?U.createElement("pre",{style:w},f):null,E)}var $p=U.createElement(Jp,null),Vg=class extends U.Component{constructor(c){super(c),this.state={location:c.location,revalidation:c.revalidation,error:c.error}}static getDerivedStateFromError(c){return{error:c}}static getDerivedStateFromProps(c,d){return d.location!==c.location||d.revalidation!=="idle"&&c.revalidation==="idle"?{error:c.error,location:c.location,revalidation:c.revalidation}:{error:c.error!==void 0?c.error:d.error,location:d.location,revalidation:c.revalidation||d.revalidation}}componentDidCatch(c,d){this.props.onError?this.props.onError(c,d):console.error("React Router caught the following error during render",c)}render(){let c=this.state.error;if(this.context&&typeof c=="object"&&c&&"digest"in c&&typeof c.digest=="string"){const f=Yp(c.digest);f&&(c=f)}let d=c!==void 0?U.createElement(Ua.Provider,{value:this.props.routeContext},U.createElement(Jf.Provider,{value:c,children:this.props.component})):this.props.children;return this.context?U.createElement(eb,{error:c},d):d}};Vg.contextType=Pp;var Rf=new WeakMap;function eb({children:c,error:d}){let{basename:f}=U.useContext(la);if(typeof d=="object"&&d&&"digest"in d&&typeof d.digest=="string"){let m=Xp(d.digest);if(m){let w=Rf.get(d);if(w)throw w;let y=jg(m.location,f);if(Bg&&!Rf.get(d))if(y.isExternal||m.reloadDocument)window.location.href=y.absoluteURL||y.to;else{const E=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(y.to,{replace:m.replace}));throw Rf.set(d,E),E}return U.createElement("meta",{httpEquiv:"refresh",content:`0;url=${y.absoluteURL||y.to}`})}}return c}function tb({routeContext:c,match:d,children:f}){let m=U.useContext(Cs);return m&&m.static&&m.staticContext&&(d.route.errorElement||d.route.ErrorBoundary)&&(m.staticContext._deepestRenderedBoundaryId=d.route.id),U.createElement(Ua.Provider,{value:c},f)}function nb(c,d=[],f=null,m=null,w=null){if(c==null){if(!f)return null;if(f.errors)c=f.matches;else if(d.length===0&&!f.initialized&&f.matches.length>0)c=f.matches;else return null}let y=c,E=f==null?void 0:f.errors;if(E!=null){let O=y.findIndex(R=>R.route.id&&(E==null?void 0:E[R.route.id])!==void 0);En(O>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(E).join(",")}`),y=y.slice(0,Math.min(y.length,O+1))}let T=!1,S=-1;if(f)for(let O=0;O<y.length;O++){let R=y[O];if((R.route.HydrateFallback||R.route.hydrateFallbackElement)&&(S=O),R.route.id){let{loaderData:P,errors:X}=f,J=R.route.loader&&!P.hasOwnProperty(R.route.id)&&(!X||X[R.route.id]===void 0);if(R.route.lazy||J){T=!0,S>=0?y=y.slice(0,S+1):y=[y[0]];break}}}let C=f&&m?(O,R)=>{var P,X;m(O,{location:f.location,params:((X=(P=f.matches)==null?void 0:P[0])==null?void 0:X.params)??{},unstable_pattern:zp(f.matches),errorInfo:R})}:void 0;return y.reduceRight((O,R,P)=>{let X,J=!1,Y=null,K=null;f&&(X=E&&R.route.id?E[R.route.id]:void 0,Y=R.route.errorElement||$p,T&&(S<0&&P===0?(Gg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),J=!0,K=null):S===P&&(J=!0,K=R.route.hydrateFallbackElement||null)));let B=d.concat(y.slice(0,P+1)),j=()=>{let H;return X?H=Y:J?H=K:R.route.Component?H=U.createElement(R.route.Component,null):R.route.element?H=R.route.element:H=O,U.createElement(tb,{match:R,routeContext:{outlet:O,matches:B,isDataRoute:f!=null},children:H})};return f&&(R.route.ErrorBoundary||R.route.errorElement||P===0)?U.createElement(Vg,{location:f.location,revalidation:f.revalidation,component:Y,error:X,children:j(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:C}):j()},null)}function $f(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rb(c){let d=U.useContext(Cs);return En(d,$f(c)),d}function ab(c){let d=U.useContext(Cu);return En(d,$f(c)),d}function ib(c){let d=U.useContext(Ua);return En(d,$f(c)),d}function e0(c){let d=ib(c),f=d.matches[d.matches.length-1];return En(f.route.id,`${c} can only be used on routes that contain a unique "id"`),f.route.id}function lb(){return e0("useRouteId")}function sb(){var m;let c=U.useContext(Jf),d=ab("useRouteError"),f=e0("useRouteError");return c!==void 0?c:(m=d.errors)==null?void 0:m[f]}function ob(){let{router:c}=rb("useNavigate"),d=e0("useNavigate"),f=U.useRef(!1);return Fg(()=>{f.current=!0}),U.useCallback(async(w,y={})=>{ya(f.current,Pg),f.current&&(typeof w=="number"?await c.navigate(w):await c.navigate(w,{fromRouteId:d,...y}))},[c,d])}var Px={};function Gg(c,d,f){!d&&!Px[c]&&(Px[c]=!0,ya(!1,f))}U.memo(cb);function cb({routes:c,future:d,state:f,onError:m}){return Hg(c,void 0,f,m,d)}function Hf(c){En(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ub({basename:c="/",children:d=null,location:f,navigationType:m="POP",navigator:w,static:y=!1,unstable_useTransitions:E}){En(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let T=c.replace(/^\/*/,"/"),S=U.useMemo(()=>({basename:T,navigator:w,static:y,unstable_useTransitions:E,future:{}}),[T,w,y,E]);typeof f=="string"&&(f=vs(f));let{pathname:C="/",search:O="",hash:R="",state:P=null,key:X="default"}=f,J=U.useMemo(()=>{let Y=hi(C,T);return Y==null?null:{location:{pathname:Y,search:O,hash:R,state:P,key:X},navigationType:m}},[T,C,O,R,P,X,m]);return ya(J!=null,`<Router basename="${T}"> is not able to match the URL "${C}${O}${R}" because it does not start with the basename, so the <Router> won't render anything.`),J==null?null:U.createElement(la.Provider,{value:S},U.createElement(Do.Provider,{children:d,value:J}))}function db({children:c,location:d}){return Kp(Vf(c),d)}function Vf(c,d=[]){let f=[];return U.Children.forEach(c,(m,w)=>{if(!U.isValidElement(m))return;let y=[...d,w];if(m.type===U.Fragment){f.push.apply(f,Vf(m.props.children,y));return}En(m.type===Hf,`[${typeof m.type=="string"?m.type:m.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),En(!m.props.index||!m.props.children,"An index route cannot have child routes.");let E={id:m.props.id||y.join("-"),caseSensitive:m.props.caseSensitive,element:m.props.element,Component:m.props.Component,index:m.props.index,path:m.props.path,middleware:m.props.middleware,loader:m.props.loader,action:m.props.action,hydrateFallbackElement:m.props.hydrateFallbackElement,HydrateFallback:m.props.HydrateFallback,errorElement:m.props.errorElement,ErrorBoundary:m.props.ErrorBoundary,hasErrorBoundary:m.props.hasErrorBoundary===!0||m.props.ErrorBoundary!=null||m.props.errorElement!=null,shouldRevalidate:m.props.shouldRevalidate,handle:m.props.handle,lazy:m.props.lazy};m.props.children&&(E.children=Vf(m.props.children,y)),f.push(E)}),f}var lu="get",su="application/x-www-form-urlencoded";function Eu(c){return typeof HTMLElement<"u"&&c instanceof HTMLElement}function fb(c){return Eu(c)&&c.tagName.toLowerCase()==="button"}function hb(c){return Eu(c)&&c.tagName.toLowerCase()==="form"}function xb(c){return Eu(c)&&c.tagName.toLowerCase()==="input"}function gb(c){return!!(c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)}function mb(c,d){return c.button===0&&(!d||d==="_self")&&!gb(c)}var nu=null;function pb(){if(nu===null)try{new FormData(document.createElement("form"),0),nu=!1}catch{nu=!0}return nu}var bb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Df(c){return c!=null&&!bb.has(c)?(ya(!1,`"${c}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${su}"`),null):c}function yb(c,d){let f,m,w,y,E;if(hb(c)){let T=c.getAttribute("action");m=T?hi(T,d):null,f=c.getAttribute("method")||lu,w=Df(c.getAttribute("enctype"))||su,y=new FormData(c)}else if(fb(c)||xb(c)&&(c.type==="submit"||c.type==="image")){let T=c.form;if(T==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let S=c.getAttribute("formaction")||T.getAttribute("action");if(m=S?hi(S,d):null,f=c.getAttribute("formmethod")||T.getAttribute("method")||lu,w=Df(c.getAttribute("formenctype"))||Df(T.getAttribute("enctype"))||su,y=new FormData(T,c),!pb()){let{name:C,type:O,value:R}=c;if(O==="image"){let P=C?`${C}.`:"";y.append(`${P}x`,"0"),y.append(`${P}y`,"0")}else C&&y.append(C,R)}}else{if(Eu(c))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');f=lu,m=null,w=su,E=c}return y&&w==="text/plain"&&(E=y,y=void 0),{action:m,method:f.toLowerCase(),encType:w,formData:y,body:E}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function t0(c,d){if(c===!1||c===null||typeof c>"u")throw new Error(d)}function wb(c,d,f){let m=typeof c=="string"?new URL(c,typeof window>"u"?"server://singlefetch/":window.location.origin):c;return m.pathname==="/"?m.pathname=`_root.${f}`:d&&hi(m.pathname,d)==="/"?m.pathname=`${d.replace(/\/$/,"")}/_root.${f}`:m.pathname=`${m.pathname.replace(/\/$/,"")}.${f}`,m}async function vb(c,d){if(c.id in d)return d[c.id];try{let f=await import(c.module);return d[c.id]=f,f}catch(f){return console.error(`Error loading route module \`${c.module}\`, reloading page...`),console.error(f),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cb(c){return c==null?!1:c.href==null?c.rel==="preload"&&typeof c.imageSrcSet=="string"&&typeof c.imageSizes=="string":typeof c.rel=="string"&&typeof c.href=="string"}async function Eb(c,d,f){let m=await Promise.all(c.map(async w=>{let y=d.routes[w.route.id];if(y){let E=await vb(y,f);return E.links?E.links():[]}return[]}));return Tb(m.flat(1).filter(Cb).filter(w=>w.rel==="stylesheet"||w.rel==="preload").map(w=>w.rel==="stylesheet"?{...w,rel:"prefetch",as:"style"}:{...w,rel:"prefetch"}))}function Fx(c,d,f,m,w,y){let E=(S,C)=>f[C]?S.route.id!==f[C].route.id:!0,T=(S,C)=>{var O;return f[C].pathname!==S.pathname||((O=f[C].route.path)==null?void 0:O.endsWith("*"))&&f[C].params["*"]!==S.params["*"]};return y==="assets"?d.filter((S,C)=>E(S,C)||T(S,C)):y==="data"?d.filter((S,C)=>{var R;let O=m.routes[S.route.id];if(!O||!O.hasLoader)return!1;if(E(S,C)||T(S,C))return!0;if(S.route.shouldRevalidate){let P=S.route.shouldRevalidate({currentUrl:new URL(w.pathname+w.search+w.hash,window.origin),currentParams:((R=f[0])==null?void 0:R.params)||{},nextUrl:new URL(c,window.origin),nextParams:S.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function Ab(c,d,{includeHydrateFallback:f}={}){return Sb(c.map(m=>{let w=d.routes[m.route.id];if(!w)return[];let y=[w.module];return w.clientActionModule&&(y=y.concat(w.clientActionModule)),w.clientLoaderModule&&(y=y.concat(w.clientLoaderModule)),f&&w.hydrateFallbackModule&&(y=y.concat(w.hydrateFallbackModule)),w.imports&&(y=y.concat(w.imports)),y}).flat(1))}function Sb(c){return[...new Set(c)]}function Nb(c){let d={},f=Object.keys(c).sort();for(let m of f)d[m]=c[m];return d}function Tb(c,d){let f=new Set;return new Set(d),c.reduce((m,w)=>{let y=JSON.stringify(Nb(w));return f.has(y)||(f.add(y),m.push({key:y,link:w})),m},[])}function Xg(){let c=U.useContext(Cs);return t0(c,"You must render this element inside a <DataRouterContext.Provider> element"),c}function Ib(){let c=U.useContext(Cu);return t0(c,"You must render this element inside a <DataRouterStateContext.Provider> element"),c}var n0=U.createContext(void 0);n0.displayName="FrameworkContext";function Yg(){let c=U.useContext(n0);return t0(c,"You must render this element inside a <HydratedRouter> element"),c}function _b(c,d){let f=U.useContext(n0),[m,w]=U.useState(!1),[y,E]=U.useState(!1),{onFocus:T,onBlur:S,onMouseEnter:C,onMouseLeave:O,onTouchStart:R}=d,P=U.useRef(null);U.useEffect(()=>{if(c==="render"&&E(!0),c==="viewport"){let Y=B=>{B.forEach(j=>{E(j.isIntersecting)})},K=new IntersectionObserver(Y,{threshold:.5});return P.current&&K.observe(P.current),()=>{K.disconnect()}}},[c]),U.useEffect(()=>{if(m){let Y=setTimeout(()=>{E(!0)},100);return()=>{clearTimeout(Y)}}},[m]);let X=()=>{w(!0)},J=()=>{w(!1),E(!1)};return f?c!=="intent"?[y,P,{}]:[y,P,{onFocus:vo(T,X),onBlur:vo(S,J),onMouseEnter:vo(C,X),onMouseLeave:vo(O,J),onTouchStart:vo(R,X)}]:[!1,P,{}]}function vo(c,d){return f=>{c&&c(f),f.defaultPrevented||d(f)}}function Ob({page:c,...d}){let{router:f}=Xg(),m=U.useMemo(()=>_g(f.routes,c,f.basename),[f.routes,c,f.basename]);return m?U.createElement(Db,{page:c,matches:m,...d}):null}function Rb(c){let{manifest:d,routeModules:f}=Yg(),[m,w]=U.useState([]);return U.useEffect(()=>{let y=!1;return Eb(c,d,f).then(E=>{y||w(E)}),()=>{y=!0}},[c,d,f]),m}function Db({page:c,matches:d,...f}){let m=xi(),{manifest:w,routeModules:y}=Yg(),{basename:E}=Xg(),{loaderData:T,matches:S}=Ib(),C=U.useMemo(()=>Fx(c,d,S,w,m,"data"),[c,d,S,w,m]),O=U.useMemo(()=>Fx(c,d,S,w,m,"assets"),[c,d,S,w,m]),R=U.useMemo(()=>{if(c===m.pathname+m.search+m.hash)return[];let J=new Set,Y=!1;if(d.forEach(B=>{var H;let j=w.routes[B.route.id];!j||!j.hasLoader||(!C.some(le=>le.route.id===B.route.id)&&B.route.id in T&&((H=y[B.route.id])!=null&&H.shouldRevalidate)||j.hasClientLoader?Y=!0:J.add(B.route.id))}),J.size===0)return[];let K=wb(c,E,"data");return Y&&J.size>0&&K.searchParams.set("_routes",d.filter(B=>J.has(B.route.id)).map(B=>B.route.id).join(",")),[K.pathname+K.search]},[E,T,m,w,C,d,c,y]),P=U.useMemo(()=>Ab(O,w),[O,w]),X=Rb(O);return U.createElement(U.Fragment,null,R.map(J=>U.createElement("link",{key:J,rel:"prefetch",as:"fetch",href:J,...f})),P.map(J=>U.createElement("link",{key:J,rel:"modulepreload",href:J,...f})),X.map(({key:J,link:Y})=>U.createElement("link",{key:J,nonce:f.nonce,...Y})))}function kb(...c){return d=>{c.forEach(f=>{typeof f=="function"?f(d):f!=null&&(f.current=d)})}}var Mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mb&&(window.__reactRouterVersion="7.11.0")}catch{}function Bb({basename:c,children:d,unstable_useTransitions:f,window:m}){let w=U.useRef();w.current==null&&(w.current=hp({window:m,v5Compat:!0}));let y=w.current,[E,T]=U.useState({action:y.action,location:y.location}),S=U.useCallback(C=>{f===!1?T(C):U.startTransition(()=>T(C))},[f]);return U.useLayoutEffect(()=>y.listen(S),[y,S]),U.createElement(ub,{basename:c,children:d,location:E.location,navigationType:E.action,navigator:y,unstable_useTransitions:f})}var qg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zg=U.forwardRef(function({onClick:d,discover:f="render",prefetch:m="none",relative:w,reloadDocument:y,replace:E,state:T,target:S,to:C,preventScrollReset:O,viewTransition:R,unstable_defaultShouldRevalidate:P,...X},J){let{basename:Y,unstable_useTransitions:K}=U.useContext(la),B=typeof C=="string"&&qg.test(C),j=jg(C,Y);C=j.to;let H=qp(C,{relative:w}),[le,he,ne]=_b(m,X),z=Ub(C,{replace:E,state:T,target:S,preventScrollReset:O,relative:w,viewTransition:R,unstable_defaultShouldRevalidate:P,unstable_useTransitions:K});function q(fe){d&&d(fe),fe.defaultPrevented||z(fe)}let W=U.createElement("a",{...X,...ne,href:j.absoluteURL||H,onClick:j.isExternal||y?d:q,ref:kb(J,he),target:S,"data-discover":!B&&f==="render"?"true":void 0});return le&&!B?U.createElement(U.Fragment,null,W,U.createElement(Ob,{page:H})):W});Zg.displayName="Link";var jb=U.forwardRef(function({"aria-current":d="page",caseSensitive:f=!1,className:m="",end:w=!1,style:y,to:E,viewTransition:T,children:S,...C},O){let R=Mo(E,{relative:C.relative}),P=xi(),X=U.useContext(Cu),{navigator:J,basename:Y}=U.useContext(la),K=X!=null&&Gb(R)&&T===!0,B=J.encodeLocation?J.encodeLocation(R).pathname:R.pathname,j=P.pathname,H=X&&X.navigation&&X.navigation.location?X.navigation.location.pathname:null;f||(j=j.toLowerCase(),H=H?H.toLowerCase():null,B=B.toLowerCase()),H&&Y&&(H=hi(H,Y)||H);const le=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let he=j===B||!w&&j.startsWith(B)&&j.charAt(le)==="/",ne=H!=null&&(H===B||!w&&H.startsWith(B)&&H.charAt(B.length)==="/"),z={isActive:he,isPending:ne,isTransitioning:K},q=he?d:void 0,W;typeof m=="function"?W=m(z):W=[m,he?"active":null,ne?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let fe=typeof y=="function"?y(z):y;return U.createElement(Zg,{...C,"aria-current":q,className:W,ref:O,style:fe,to:E,viewTransition:T},typeof S=="function"?S(z):S)});jb.displayName="NavLink";var Lb=U.forwardRef(({discover:c="render",fetcherKey:d,navigate:f,reloadDocument:m,replace:w,state:y,method:E=lu,action:T,onSubmit:S,relative:C,preventScrollReset:O,viewTransition:R,unstable_defaultShouldRevalidate:P,...X},J)=>{let{unstable_useTransitions:Y}=U.useContext(la),K=Hb(),B=Vb(T,{relative:C}),j=E.toLowerCase()==="get"?"get":"post",H=typeof T=="string"&&qg.test(T),le=he=>{if(S&&S(he),he.defaultPrevented)return;he.preventDefault();let ne=he.nativeEvent.submitter,z=(ne==null?void 0:ne.getAttribute("formmethod"))||E,q=()=>K(ne||he.currentTarget,{fetcherKey:d,method:z,navigate:f,replace:w,state:y,relative:C,preventScrollReset:O,viewTransition:R,unstable_defaultShouldRevalidate:P});Y&&f!==!1?U.startTransition(()=>q()):q()};return U.createElement("form",{ref:J,method:j,action:B,onSubmit:m?S:le,...X,"data-discover":!H&&c==="render"?"true":void 0})});Lb.displayName="Form";function zb(c){return`${c} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wg(c){let d=U.useContext(Cs);return En(d,zb(c)),d}function Ub(c,{target:d,replace:f,state:m,preventScrollReset:w,relative:y,viewTransition:E,unstable_defaultShouldRevalidate:T,unstable_useTransitions:S}={}){let C=Zp(),O=xi(),R=Mo(c,{relative:y});return U.useCallback(P=>{if(mb(P,d)){P.preventDefault();let X=f!==void 0?f:So(O)===So(R),J=()=>C(c,{replace:X,state:m,preventScrollReset:w,relative:y,viewTransition:E,unstable_defaultShouldRevalidate:T});S?U.startTransition(()=>J()):J()}},[O,C,R,f,m,d,c,w,y,E,T,S])}var Pb=0,Fb=()=>`__${String(++Pb)}__`;function Hb(){let{router:c}=Wg("useSubmit"),{basename:d}=U.useContext(la),f=lb(),m=c.fetch,w=c.navigate;return U.useCallback(async(y,E={})=>{let{action:T,method:S,encType:C,formData:O,body:R}=yb(y,d);if(E.navigate===!1){let P=E.fetcherKey||Fb();await m(P,f,E.action||T,{unstable_defaultShouldRevalidate:E.unstable_defaultShouldRevalidate,preventScrollReset:E.preventScrollReset,formData:O,body:R,formMethod:E.method||S,formEncType:E.encType||C,flushSync:E.flushSync})}else await w(E.action||T,{unstable_defaultShouldRevalidate:E.unstable_defaultShouldRevalidate,preventScrollReset:E.preventScrollReset,formData:O,body:R,formMethod:E.method||S,formEncType:E.encType||C,replace:E.replace,state:E.state,fromRouteId:f,flushSync:E.flushSync,viewTransition:E.viewTransition})},[m,w,d,f])}function Vb(c,{relative:d}={}){let{basename:f}=U.useContext(la),m=U.useContext(Ua);En(m,"useFormAction must be used inside a RouteContext");let[w]=m.matches.slice(-1),y={...Mo(c||".",{relative:d})},E=xi();if(c==null){y.search=E.search;let T=new URLSearchParams(y.search),S=T.getAll("index");if(S.some(O=>O==="")){T.delete("index"),S.filter(R=>R).forEach(R=>T.append("index",R));let O=T.toString();y.search=O?`?${O}`:""}}return(!c||c===".")&&w.route.index&&(y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index"),f!=="/"&&(y.pathname=y.pathname==="/"?f:fi([f,y.pathname])),So(y)}function Gb(c,{relative:d}={}){let f=U.useContext(zg);En(f!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:m}=Wg("useViewTransitionState"),w=Mo(c,{relative:d});if(!f.isTransitioning)return!1;let y=hi(f.currentLocation.pathname,m)||f.currentLocation.pathname,E=hi(f.nextLocation.pathname,m)||f.nextLocation.pathname;return uu(w.pathname,E)!=null||uu(w.pathname,y)!=null}var Xb=Ig();const Yb=vu(Xb);var Qg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hx=ze.createContext&&ze.createContext(Qg),qb=["attr","size","title"];function Zb(c,d){if(c==null)return{};var f=Wb(c,d),m,w;if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(c);for(w=0;w<y.length;w++)m=y[w],!(d.indexOf(m)>=0)&&Object.prototype.propertyIsEnumerable.call(c,m)&&(f[m]=c[m])}return f}function Wb(c,d){if(c==null)return{};var f={};for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)){if(d.indexOf(m)>=0)continue;f[m]=c[m]}return f}function du(){return du=Object.assign?Object.assign.bind():function(c){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(c[m]=f[m])}return c},du.apply(this,arguments)}function Vx(c,d){var f=Object.keys(c);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(c);d&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),f.push.apply(f,m)}return f}function fu(c){for(var d=1;d<arguments.length;d++){var f=arguments[d]!=null?arguments[d]:{};d%2?Vx(Object(f),!0).forEach(function(m){Qb(c,m,f[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(f)):Vx(Object(f)).forEach(function(m){Object.defineProperty(c,m,Object.getOwnPropertyDescriptor(f,m))})}return c}function Qb(c,d,f){return d=Kb(d),d in c?Object.defineProperty(c,d,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[d]=f,c}function Kb(c){var d=Jb(c,"string");return typeof d=="symbol"?d:d+""}function Jb(c,d){if(typeof c!="object"||!c)return c;var f=c[Symbol.toPrimitive];if(f!==void 0){var m=f.call(c,d);if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(c)}function Kg(c){return c&&c.map((d,f)=>ze.createElement(d.tag,fu({key:f},d.attr),Kg(d.child)))}function r0(c){return d=>ze.createElement($b,du({attr:fu({},c.attr)},d),Kg(c.child))}function $b(c){var d=f=>{var{attr:m,size:w,title:y}=c,E=Zb(c,qb),T=w||f.size||"1em",S;return f.className&&(S=f.className),c.className&&(S=(S?S+" ":"")+c.className),ze.createElement("svg",du({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},f.attr,m,E,{className:S,style:fu(fu({color:c.color||f.color},f.style),c.style),height:T,width:T,xmlns:"http://www.w3.org/2000/svg"}),y&&ze.createElement("title",null,y),c.children)};return Hx!==void 0?ze.createElement(Hx.Consumer,null,f=>d(f)):d(Qg)}function ey(c){return r0({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"},child:[]}]})(c)}function ty(c){return r0({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m21.9 21.9-8.49-8.49-9.82-9.82L2.1 2.1.69 3.51 3 5.83V19c0 1.1.9 2 2 2h13.17l2.31 2.31 1.42-1.41zM5 18l3.5-4.5 2.5 3.01L12.17 15l3 3H5zm16 .17L5.83 3H19c1.1 0 2 .9 2 2v13.17z"},child:[]}]})(c)}function ny(c){return r0({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(c)}function ry(){return new URLSearchParams(xi().search)}const ay=localStorage.getItem("apiProtocol")||"https",iy=localStorage.getItem("apiDomain")||"www.vnetpb.com.br:4000",kf=`${ay}://${iy}/api`,Mf="vnetapi7474",ly=()=>{const{pedidoId:c}=Qp();xi();const f=ry().get("db"),m=f||localStorage.getItem("dbName")||"VNETPedidos",[w,y]=U.useState(null),[E,T]=U.useState([]),[S,C]=U.useState(!0),[O,R]=U.useState(""),[P,X]=U.useState("");if(U.useEffect(()=>{if((f==null||f.trim()==="")&&c){const B=localStorage.getItem("dbName")||"VNETPedidos",j=new URLSearchParams(window.location.search);j.set("db",B);const H=`${window.location.origin}/pedido/${c}?${j.toString()}`;window.location.replace(H)}},[f,c]),U.useEffect(()=>{c&&(C(!0),fetch(`${kf}/Pedidos?db=${m}&filtros=${encodeURIComponent(JSON.stringify([{campo:"PedidoId",valor:c}]))}&code=${Mf}`).then(B=>B.ok?B.json():Promise.reject()).then(B=>{if(B&&B.length>0)return y(B[0]),fetch(`${kf}/PedidoItens?db=${m}&filtros=${encodeURIComponent(JSON.stringify([{campo:"IDPedido",valor:c}]))}&code=${Mf}`);throw new Error("Pedido no encontrado")}).then(B=>B.ok?B.json():Promise.reject()).then(B=>T(B)).catch(B=>R("Pedido no encontrado ou erro na API "+B)).finally(()=>C(!1)),fetch(`${kf}/Configuracoes?db=${m}&campos=Titulo&code=${Mf}`).then(B=>B.ok?B.json():Promise.reject()).then(B=>{B&&B.length>0&&B[0].Titulo&&X(B[0].Titulo)}).catch(()=>X("")))},[c]),S)return x.jsx("div",{className:"p-8 text-center",children:"Carregando..."});if(O)return x.jsx("div",{className:"p-8 text-center text-red-500",children:O});if(!w)return null;let J="";if(w.Data)try{J=new Date(w.Data).toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})}catch{J=w.Data}const Y=w.Id||w.id;w.IDControle||w.IdControle,w.PedidoId||w.pedidoId,w.formaPagamento||w.FormaPagamento||w.Pagamento,w.EnderecoEntrega||w.Endereco,w.CidadeEntrega||w.Cidade,w.CepEntrega||w.Cep,w.NomeEntrega||w.Cliente;const K=w.Usuario||w.Usuario||"";return w.Imagem||w.Imagem,x.jsx("div",{className:"bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-100 font-sans min-h-screen flex justify-center selection:bg-primary selection:text-white",children:x.jsxs("div",{className:"w-full max-w-md bg-background-light dark:bg-background-dark min-h-screen shadow-2xl overflow-hidden relative",children:[x.jsx("div",{className:"px-4 py-3 flex items-center justify-between bg-background-light dark:bg-background-dark sticky top-0 z-10",children:x.jsxs("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:[P," - Detalhes do Pedido"]})}),x.jsxs("main",{className:"px-4 pb-24 space-y-4",children:[x.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-xl p-5 shadow-sm border border-slate-200 dark:border-slate-700",children:[x.jsx("div",{className:"flex justify-between items-start mb-4",children:x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium uppercase tracking-wider mb-1",children:"Pedido"}),x.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["#",Y]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 border-t border-slate-100 dark:border-slate-700 pt-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium mb-1",children:"Vendedor"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-slate-400 text-sm",children:x.jsx(ny,{size:18,color:"inherit"})}),x.jsx("span",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:K})]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium mb-1",children:"Data"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-slate-400 text-sm",children:x.jsx(ey,{size:18,color:"inherit"})}),x.jsx("span",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:J})]})]})]}),x.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[x.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Total"}),x.jsx("span",{className:"text-xl font-bold text-green-500",children:Number(w.Total).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]})]}),x.jsx("div",{className:"flex items-center justify-between pt-2",children:x.jsxs("h3",{className:"text-sm font-bold text-slate-900 dark:text-white uppercase tracking-wide",children:["Itens (",E.length,")"]})}),E.length>0?E.map((B,j)=>x.jsxs("div",{className:"bg-card-light dark:bg-card-dark rounded-xl p-4 shadow-sm border border-slate-200 dark:border-slate-700 flex gap-4 transition-transform active:scale-[0.99]",children:[x.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-surface-dark rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:B.Imagem?x.jsx("img",{src:B.Imagem,alt:B.Descricao,className:"object-cover w-full h-full"}):x.jsx("span",{className:"text-slate-400 dark:text-slate-500 text-2xl",children:x.jsx(ty,{size:32,color:"inherit"})})}),x.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between",children:[x.jsx("div",{children:x.jsx("h4",{className:"text-sm font-semibold text-slate-900 dark:text-slate-100 leading-tight line-clamp-2",children:B.Descricao})}),x.jsxs("div",{className:"flex justify-between items-end mt-2",children:[x.jsxs("div",{className:"flex items-center bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded text-xs font-medium text-slate-600 dark:text-slate-300",children:[x.jsx("span",{className:"text-xs mr-1",children:"Qtd:"}),x.jsx("span",{className:"font-bold",children:B.Quantidade})]}),x.jsxs("span",{className:"text-base font-bold text-green-500",children:["R$ ",Number(B.PrecoUnitario).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]},j)):x.jsx("div",{className:"text-center py-4 text-gray-500",children:"Nenhum produto neste pedido."})]})]})})},lr=[];for(let c=0;c<256;++c)lr.push((c+256).toString(16).slice(1));function sy(c,d=0){return(lr[c[d+0]]+lr[c[d+1]]+lr[c[d+2]]+lr[c[d+3]]+"-"+lr[c[d+4]]+lr[c[d+5]]+"-"+lr[c[d+6]]+lr[c[d+7]]+"-"+lr[c[d+8]]+lr[c[d+9]]+"-"+lr[c[d+10]]+lr[c[d+11]]+lr[c[d+12]]+lr[c[d+13]]+lr[c[d+14]]+lr[c[d+15]]).toLowerCase()}let Bf;const oy=new Uint8Array(16);function cy(){if(!Bf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bf=crypto.getRandomValues.bind(crypto)}return Bf(oy)}const uy=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Gx={randomUUID:uy};function dy(c,d,f){var w;c=c||{};const m=c.random??((w=c.rng)==null?void 0:w.call(c))??cy();if(m.length<16)throw new Error("Random bytes length must be >= 16");return m[6]=m[6]&15|64,m[8]=m[8]&63|128,sy(m)}function el(c,d,f){return Gx.randomUUID&&!c?Gx.randomUUID():dy(c)}async function Jg(c,d){const m=(await Es()).transaction(c,"readwrite"),w=m.objectStore(c);return d.forEach(y=>w.put(y)),new Promise((y,E)=>{m.oncomplete=()=>y(),m.onerror=()=>E(m.error)})}function Es(){return new Promise((c,d)=>{const f=window.indexedDB.open("falcon_db",5);f.onupgradeneeded=()=>{const m=f.result;["falcon_products_db","falcon_orders_db","falcon_users_db","falcon_user","falcon_user_logged","falcon_order_items_db","falcon_inbox_db","PedidosExcluidos","ProdutosExcluidosPedidos","falcon_categories_db","Balancos"].forEach(y=>{m.objectStoreNames.contains(y)||m.createObjectStore(y,{keyPath:"id",autoIncrement:!1})})},f.onsuccess=()=>c(f.result),f.onerror=()=>d(f.error)})}async function Gn(c,d){const m=(await Es()).transaction(c,"readwrite");return m.objectStore(c).put(d),new Promise((w,y)=>{m.oncomplete=()=>w(),m.onerror=()=>y(m.error)})}async function Rt(c){const m=(await Es()).transaction(c,"readonly").objectStore(c);return new Promise(w=>{const y=m.getAll();y.onsuccess=()=>w(y.result)})}async function tl(c,d){const m=(await Es()).transaction(c,"readwrite");return m.objectStore(c).delete(d),new Promise((w,y)=>{m.oncomplete=()=>w(),m.onerror=()=>y(m.error)})}async function ws(c){const f=(await Es()).transaction(c,"readwrite");return f.objectStore(c).clear(),new Promise((m,w)=>{f.oncomplete=()=>m(),f.onerror=()=>w(f.error)})}const hu=Object.freeze(Object.defineProperty({__proto__:null,clearStore:ws,getAll:Rt,openDB:Es,removeItem:tl,saveItem:Gn,saveItems:Jg},Symbol.toStringTag,{value:"Module"})),ia=({isOpen:c,onClose:d,title:f,children:m,footer:w})=>c?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:x.jsxs("div",{className:"bg-white dark:bg-[#1E1E1E] rounded-xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-gray-100 dark:border-gray-700",children:[x.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[x.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:f}),x.jsx("button",{onClick:d,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:x.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),x.jsx("div",{className:"p-6 text-slate-600 dark:text-gray-300 max-h-[50vh] overflow-y-auto",children:m}),w&&x.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-[#252525] flex justify-end gap-3 border-t border-gray-100 dark:border-gray-700",children:w})]})}):null,Xx=({isOpen:c,setIsOpen:d,onNavigate:f,currentScreen:m,theme:w,setTheme:y})=>{const E=T=>`flex items-center gap-3 p-2 rounded-lg transition-colors cursor-pointer ${m===T?"bg-primary/10 text-primary dark:text-primary":"text-text-secondary-light dark:text-text-secondary-dark hover:bg-gray-100 dark:hover:bg-gray-800"}`;return x.jsxs(x.Fragment,{children:[c&&x.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 transition-opacity lg:hidden",onClick:()=>d(!1)}),x.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 transform bg-surface-light dark:bg-background-dark p-4 shadow-xl transition-transform duration-300 ease-in-out lg:translate-x-0 ${c?"translate-x-0":"-translate-x-full"}`,children:[x.jsxs("div",{className:"flex items-center gap-2 mb-8 cursor-pointer",onClick:()=>f("productList"),children:[x.jsx("div",{className:"bg-primary p-2 rounded-lg",children:x.jsx("span",{className:"material-symbols-outlined text-white",children:"shopping_cart"})}),x.jsx("span",{className:"text-xl font-bold font-display",children:"VNET"}),x.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"v1.2.6"})]}),x.jsxs("nav",{className:"flex flex-col h-[calc(100%-4rem)] overflow-y-auto no-scrollbar",children:[x.jsxs("ul",{className:"space-y-1",children:[x.jsx("li",{children:x.jsxs("div",{className:E("productList"),onClick:()=>f("productList"),children:[x.jsx("span",{className:"material-symbols-outlined",children:"dashboard"}),x.jsx("span",{className:"font-medium",children:"Menu Principal"})]})}),x.jsx("li",{className:"pt-4 text-xs font-semibold uppercase text-gray-400 dark:text-gray-500 px-2 pb-2",children:"Opes"}),x.jsx("li",{hidden:!0,children:x.jsxs("div",{className:E("inbox"),onClick:()=>f("inbox"),children:[x.jsx("span",{className:"material-symbols-outlined",children:"mail"}),x.jsx("span",{className:"font-medium",children:"Caixa de Entrada"})]})}),x.jsx("li",{children:x.jsxs("div",{className:E("sync"),onClick:()=>f("sync"),children:[x.jsx("span",{className:"material-symbols-outlined",children:"sync"}),x.jsx("span",{className:"font-medium",children:"Sincronizar Dados"})]})}),x.jsx("li",{children:x.jsxs("div",{className:E("categoryList"),onClick:()=>f("categoryList"),children:[x.jsx("span",{className:"material-symbols-outlined",children:"category"}),x.jsx("span",{className:"font-medium",children:"Categorias"})]})}),x.jsx("li",{children:x.jsxs("div",{className:E("productTable"),onClick:()=>f("productTable"),children:[x.jsx("span",{className:"material-symbols-outlined",children:"inventory_2"}),x.jsx("span",{className:"font-medium",children:"Produtos"})]})}),x.jsx("li",{children:x.jsxs("div",{className:E("orderList"),onClick:()=>f("orderList"),children:[x.jsx("span",{className:"material-symbols-outlined",children:"orders"}),x.jsx("span",{className:"font-medium",children:"Pedidos"})]})}),x.jsx("li",{children:x.jsxs("div",{className:E("balance"),onClick:()=>f("balance"),children:[x.jsx("span",{className:"material-symbols-outlined",children:"assessment"}),x.jsx("span",{className:"font-medium",children:"Balano"})]})}),x.jsx("li",{children:x.jsxs("div",{className:E("shop"),onClick:()=>f("shop"),children:[x.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"}),x.jsx("span",{className:"font-medium",children:"Novo Pedido"})]})}),x.jsx("li",{children:x.jsxs("div",{className:E("addProduct"),onClick:()=>f("addProduct"),children:[x.jsx("span",{className:"material-symbols-outlined",children:"add_circle"}),x.jsx("span",{className:"font-medium",children:"Adicionar Produto"})]})}),x.jsx("li",{children:x.jsxs("div",{className:E("config"),onClick:()=>f("config"),children:[x.jsx("span",{className:"material-symbols-outlined",children:"settings"}),x.jsx("span",{className:"font-medium",children:"Configuraes"})]})}),x.jsx("li",{children:x.jsxs("div",{className:E("profile"),onClick:()=>f("profile"),children:[x.jsx("span",{className:"material-symbols-outlined",children:"person"}),x.jsx("span",{className:"font-medium",children:"Perfil"})]})}),x.jsx("li",{hidden:!0,children:x.jsxs("a",{href:"#",className:"flex items-center gap-3 p-2 rounded-lg text-text-secondary-light dark:text-text-secondary-dark hover:bg-gray-100 dark:hover:bg-gray-800",children:[x.jsx("span",{className:"material-symbols-outlined",children:"calendar_today"}),x.jsx("span",{className:"font-medium",children:"Calendrio"})]})}),x.jsx("li",{hidden:!0,children:x.jsxs("a",{href:"#",className:"flex items-center gap-3 p-2 rounded-lg text-text-secondary-light dark:text-text-secondary-dark hover:bg-gray-100 dark:hover:bg-gray-800",children:[x.jsx("span",{className:"material-symbols-outlined",children:"chat_bubble"}),x.jsx("span",{className:"font-medium",children:"Chat"})]})})]}),x.jsxs("div",{className:"mt-auto pt-4 border-t border-border-light dark:border-border-dark",children:[x.jsxs("button",{onClick:()=>y(w==="dark"?"light":"dark"),className:"w-full flex items-center gap-3 p-2 rounded-lg text-primary hover:bg-primary/10 dark:hover:bg-primary/20 mb-2",children:[x.jsx("span",{className:"material-symbols-outlined",children:w==="dark"?"light_mode":"dark_mode"}),x.jsx("span",{className:"font-medium",children:w==="dark"?"Modo Claro":"Modo Escuro"})]}),x.jsxs("button",{onClick:()=>f("login"),className:"w-full flex items-center gap-3 p-2 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:[x.jsx("span",{className:"material-symbols-outlined",children:"logout"}),x.jsx("span",{className:"font-medium",children:"Sair"})]})]})]})]})]})},fy=({currentScreen:c,onNavigate:d})=>{const f=m=>`flex flex-col items-center justify-center gap-1 w-1/5 ${c===m?"text-primary":"text-text-secondary-light dark:text-text-secondary-dark hover:text-primary dark:hover:text-white"}`;return x.jsx("nav",{className:"fixed bottom-0 left-0 w-full z-30 border-t border-border-light dark:border-border-dark bg-surface-light dark:bg-background-dark pb-safe",children:x.jsxs("div",{className:"flex h-16 items-center justify-around px-2",children:[x.jsxs("button",{className:f("productList"),onClick:()=>d("productList"),children:[x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"home"}),x.jsx("span",{className:"text-[10px] font-medium",children:"Incio"})]}),x.jsxs("button",{className:f("productTable"),onClick:()=>d("productTable"),children:[x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"inventory_2"}),x.jsx("span",{className:"text-[10px] font-medium",children:"Produtos"})]}),x.jsxs("button",{className:f("addProduct"),onClick:()=>d("addProduct"),children:[x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"add_circle"}),x.jsx("span",{className:"text-[10px] font-medium",children:"Adicionar"})]}),x.jsxs("button",{className:f("shop"),onClick:()=>d("shop"),children:[x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"shopping_cart"}),x.jsx("span",{className:"text-[10px] font-medium",children:"Novo Pedido"})]}),x.jsxs("button",{className:f("profile"),onClick:()=>d("profile"),children:[x.jsx("span",{className:"material-symbols-outlined text-2xl",children:"person"}),x.jsx("span",{className:"text-[10px] font-medium",children:"Perfil"})]})]})})},Pr=({children:c,title:d,showBottomNav:f=!0,isSidebarOpen:m,setIsSidebarOpen:w,onNavigate:y,currentScreen:E,theme:T,setTheme:S})=>x.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-sans overflow-x-hidden",children:[x.jsx("div",{className:"hidden lg:block",children:x.jsx(Xx,{isOpen:!0,setIsOpen:()=>{},onNavigate:y,currentScreen:E,theme:T,setTheme:S})}),x.jsx("div",{className:"lg:hidden",children:x.jsx(Xx,{isOpen:m,setIsOpen:w,onNavigate:y,currentScreen:E,theme:T,setTheme:S})}),x.jsxs("main",{className:`transition-all duration-300 ${["login","register"].includes(E)?"":"lg:ml-64"} flex flex-col min-h-screen`,children:[c,f&&x.jsx("div",{className:"lg:hidden mt-auto",children:x.jsx(fy,{currentScreen:E,onNavigate:y})})]})]}),Yx=({onNavigate:c})=>{const[d,f]=U.useState(""),[m,w]=U.useState(""),[y,E]=U.useState(""),T=()=>{Rt("falcon_users_db").then(S=>{if(!Array.isArray(S)||S.length===0){E("Usurio no encontrado.");return}const C=S.find(O=>(O.Email===d||O.Nome===d)&&O.password===m);if(!C){E("E-mail ou senha incorretos.");return}E(""),Gn("falcon_user_logged",C).then(()=>{c("productList")})})};return x.jsx("div",{className:"relative flex min-h-screen w-full flex-col bg-background-dark font-display text-white overflow-hidden",children:x.jsxs("div",{className:"flex flex-col flex-grow justify-center px-6 pt-12 pb-8 max-w-md mx-auto w-full",children:[x.jsxs("div",{className:"text-center mb-10",children:[x.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white mb-2",children:"Bem-vindo de volta"}),x.jsx("p",{className:"text-text-secondary-dark",children:"Faa login para continuar"})]}),x.jsxs("div",{className:"flex flex-col gap-5",children:[x.jsxs("label",{className:"flex flex-col flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Usurio ou E-mail"}),x.jsx("input",{className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"ex: seu.nome@exemplo.com",value:d,onChange:S=>f(S.target.value)})]}),x.jsxs("div",{className:"flex flex-col gap-2",children:[x.jsxs("label",{className:"flex flex-col flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Senha"}),x.jsx("input",{type:"password",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite sua senha",value:m,onChange:S=>w(S.target.value)})]}),x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{className:"text-sm font-medium text-primary hover:text-blue-400 transition-colors",children:"Esqueceu a senha?"})})]})]}),x.jsxs("div",{className:"mt-8",children:[y&&x.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:y}),x.jsx("button",{onClick:T,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95",children:"Entrar"})]}),x.jsx("div",{className:"mt-auto pt-8 text-center",children:x.jsxs("p",{className:"text-text-secondary-dark",children:["No tem uma conta?"," ",x.jsx("button",{onClick:()=>c("register"),className:"font-semibold text-primary hover:text-blue-400 transition-colors",children:"Criar Conta"})]})})]})})},hy=({onNavigate:c})=>{const[d,f]=U.useState(""),[m,w]=U.useState(""),[y,E]=U.useState(""),[T,S]=U.useState(""),[C,O]=U.useState(""),R=()=>{if(!d||!m||!y||!T){O("Preencha todos os campos.");return}if(y!==T){O("As senhas no conferem.");return}const P={id:el(),Nome:d,Email:m,password:y,Avatar:"",Bio:"",Telefone:""};Gn("falcon_user",P).then(()=>{Gn("falcon_users_db",P).then(()=>{O(""),c("login")}).catch(X=>{O("Erro ao salvar em falcon_users_db: "+((X==null?void 0:X.message)||X))})}).catch(X=>{O("Erro ao salvar em falcon_user: "+((X==null?void 0:X.message)||X))})};return x.jsxs("div",{className:"relative flex min-h-screen w-full flex-col bg-background-dark font-display text-white overflow-hidden",children:[x.jsx("div",{className:"flex items-center p-4",children:x.jsx("h1",{className:"text-white text-3xl font-bold leading-tight",children:"Criar Conta"})}),x.jsx("main",{className:"flex-grow px-4 max-w-md mx-auto w-full",children:x.jsxs("div",{className:"flex flex-col gap-4 py-3",children:[x.jsxs("label",{className:"flex flex-col flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Nome"}),x.jsx("input",{className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite seu nome completo",value:d,onChange:P=>f(P.target.value)})]}),x.jsxs("label",{className:"flex flex-col flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium pb-2",children:"E-mail"}),x.jsx("input",{type:"email",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite seu e-mail",value:m,onChange:P=>w(P.target.value)})]}),x.jsxs("label",{className:"flex flex-col flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Senha"}),x.jsx("input",{type:"password",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite sua senha",value:y,onChange:P=>E(P.target.value)})]}),x.jsxs("label",{className:"flex flex-col flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Confirmar Senha"}),x.jsx("input",{type:"password",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Confirme sua senha",value:T,onChange:P=>S(P.target.value)})]})]})}),x.jsxs("footer",{className:"mt-auto p-4 pb-6 max-w-md mx-auto w-full",children:[C&&x.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:C}),x.jsx("button",{onClick:R,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95 mb-4",children:"Criar Conta"}),x.jsxs("p",{className:"text-center text-sm text-text-secondary-dark",children:["J tem uma conta?"," ",x.jsx("button",{onClick:()=>c("login"),className:"font-semibold text-primary hover:underline",children:"Entrar"})]})]})]})};function xy(){const[c,d]=ze.useState([]);return ze.useEffect(()=>{Rt("falcon_categories_db").then(f=>d(f))},[]),c}const Au=0,nl=1,As=2,$g=4;function qx(c){return()=>c}function gy(c){c()}function No(c,d){return f=>c(d(f))}function Zx(c,d){return()=>c(d)}function my(c,d){return f=>c(d,f)}function a0(c){return c!==void 0}function py(...c){return()=>{c.map(gy)}}function Ss(){}function Su(c,d){return d(c),c}function by(c,d){return d(c)}function mn(...c){return c}function qt(c,d){return c(nl,d)}function yt(c,d){c(Au,d)}function i0(c){c(As)}function Cn(c){return c($g)}function We(c,d){return qt(c,my(d,Au))}function pa(c,d){const f=c(nl,m=>{f(),d(m)});return f}function Wx(c){let d,f;return m=>w=>{d=w,f&&clearTimeout(f),f=setTimeout(()=>{m(d)},c)}}function em(c,d){return c===d}function xn(c=em){let d;return f=>m=>{c(d,m)||(d=m,f(m))}}function nt(c){return d=>f=>{c(f)&&d(f)}}function Ve(c){return d=>No(d,c)}function ja(c){return d=>()=>{d(c)}}function De(c,...d){const f=yy(...d);return(m,w)=>{switch(m){case As:i0(c);return;case nl:return qt(c,f(w))}}}function La(c,d){return f=>m=>{f(d=c(d,m))}}function Dl(c){return d=>f=>{c>0?c--:d(f)}}function di(c){let d=null,f;return m=>w=>{d=w,!f&&(f=setTimeout(()=>{f=void 0,m(d)},c))}}function vt(...c){const d=new Array(c.length);let f=0,m=null;const w=Math.pow(2,c.length)-1;return c.forEach((y,E)=>{const T=Math.pow(2,E);qt(y,S=>{const C=f;f=f|T,d[E]=S,C!==w&&f===w&&m&&(m(),m=null)})}),y=>E=>{const T=()=>{y([E].concat(d))};f===w?T():m=T}}function yy(...c){return d=>c.reduceRight(by,d)}function wy(c){let d,f;const m=()=>d==null?void 0:d();return function(w,y){switch(w){case nl:return y?f===y?void 0:(m(),f=y,d=qt(c,y),d):(m(),Ss);case As:m(),f=null;return}}}function Le(c){let d=c;const f=kt();return(m,w)=>{switch(m){case Au:d=w;break;case nl:{w(d);break}case $g:return d}return f(m,w)}}function cr(c,d){return Su(Le(d),f=>We(c,f))}function kt(){const c=[];return(d,f)=>{switch(d){case Au:c.slice().forEach(m=>{m(f)});return;case As:c.splice(0,c.length);return;case nl:return c.push(f),()=>{const m=c.indexOf(f);m>-1&&c.splice(m,1)}}}}function Vr(c){return Su(kt(),d=>We(c,d))}function Pt(c,d=[],{singleton:f}={singleton:!0}){return{constructor:c,dependencies:d,id:vy(),singleton:f}}const vy=()=>Symbol();function Cy(c){const d=new Map,f=({constructor:m,dependencies:w,id:y,singleton:E})=>{if(E&&d.has(y))return d.get(y);const T=m(w.map(S=>f(S)));return E&&d.set(y,T),T};return f(c)}function Vn(...c){const d=kt(),f=new Array(c.length);let m=0;const w=Math.pow(2,c.length)-1;return c.forEach((y,E)=>{const T=Math.pow(2,E);qt(y,S=>{f[E]=S,m=m|T,m===w&&yt(d,f)})}),function(y,E){switch(y){case As:{i0(d);return}case nl:return m===w&&E(f),qt(d,E)}}}function rt(c,d=em){return De(c,xn(d))}function Gf(...c){return function(d,f){switch(d){case As:return;case nl:return py(...c.map(m=>qt(m,f)))}}}var Tr=(c=>(c[c.DEBUG=0]="DEBUG",c[c.INFO=1]="INFO",c[c.WARN=2]="WARN",c[c.ERROR=3]="ERROR",c))(Tr||{});const Ey={0:"debug",3:"error",1:"log",2:"warn"},Ay=()=>typeof globalThis>"u"?window:globalThis,rl=Pt(()=>{const c=Le(3);return{log:Le((d,f,m=1)=>{var w;const y=(w=Ay().VIRTUOSO_LOG_LEVEL)!=null?w:Cn(c);m>=y&&console[Ey[m]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",d,f)}),logLevel:c}},[],{singleton:!0});function za(c,d,f){return l0(c,d,f).callbackRef}function l0(c,d,f){const m=ze.useRef(null);let w=E=>{};const y=ze.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(E=>{const T=()=>{const S=E[0].target;S.offsetParent!==null&&c(S)};f?T():requestAnimationFrame(T)}):null,[c,f]);return w=E=>{E&&d?(y==null||y.observe(E),m.current=E):(m.current&&(y==null||y.unobserve(m.current)),m.current=null)},{callbackRef:w,ref:m}}function tm(c,d,f,m,w,y,E,T,S){const C=ze.useCallback(O=>{const R=Sy(O.children,d,T?"offsetWidth":"offsetHeight",w);let P=O.parentElement;for(;!P.dataset.virtuosoScroller;)P=P.parentElement;const X=P.lastElementChild.dataset.viewportType==="window";let J;X&&(J=P.ownerDocument.defaultView);const Y=E?T?E.scrollLeft:E.scrollTop:X?T?J.scrollX||J.document.documentElement.scrollLeft:J.scrollY||J.document.documentElement.scrollTop:T?P.scrollLeft:P.scrollTop,K=E?T?E.scrollWidth:E.scrollHeight:X?T?J.document.documentElement.scrollWidth:J.document.documentElement.scrollHeight:T?P.scrollWidth:P.scrollHeight,B=E?T?E.offsetWidth:E.offsetHeight:X?T?J.innerWidth:J.innerHeight:T?P.offsetWidth:P.offsetHeight;m({scrollHeight:K,scrollTop:Math.max(Y,0),viewportHeight:B}),y==null||y(T?Qx("column-gap",getComputedStyle(O).columnGap,w):Qx("row-gap",getComputedStyle(O).rowGap,w)),R!==null&&c(R)},[c,d,w,y,E,m,T]);return l0(C,f,S)}function Sy(c,d,f,m){const w=c.length;if(w===0)return null;const y=[];for(let E=0;E<w;E++){const T=c.item(E);if(T.dataset.index===void 0)continue;const S=parseInt(T.dataset.index),C=parseFloat(T.dataset.knownSize),O=d(T,f);if(O===0&&m("Zero-sized element, this should not happen",{child:T},Tr.ERROR),O===C)continue;const R=y[y.length-1];y.length===0||R.size!==O||R.endIndex!==S-1?y.push({endIndex:S,size:O,startIndex:S}):y[y.length-1].endIndex++}return y}function Qx(c,d,f){return d!=="normal"&&!(d!=null&&d.endsWith("px"))&&f(`${c} was not resolved to pixel value correctly`,d,Tr.WARN),d==="normal"?0:parseInt(d??"0",10)}function s0(c,d,f){const m=ze.useRef(null),w=ze.useCallback(S=>{if(!(S!=null&&S.offsetParent))return;const C=S.getBoundingClientRect(),O=C.width;let R,P;if(d){const X=d.getBoundingClientRect(),J=C.top-X.top;P=X.height-Math.max(0,J),R=J+d.scrollTop}else{const X=E.current.ownerDocument.defaultView;P=X.innerHeight-Math.max(0,C.top),R=C.top+X.scrollY}m.current={offsetTop:R,visibleHeight:P,visibleWidth:O},c(m.current)},[c,d]),{callbackRef:y,ref:E}=l0(w,!0,f),T=ze.useCallback(()=>{w(E.current)},[w,E]);return ze.useEffect(()=>{var S;if(d){d.addEventListener("scroll",T);const C=new ResizeObserver(()=>{requestAnimationFrame(T)});return C.observe(d),()=>{d.removeEventListener("scroll",T),C.unobserve(d)}}else{const C=(S=E.current)==null?void 0:S.ownerDocument.defaultView;return C==null||C.addEventListener("scroll",T),C==null||C.addEventListener("resize",T),()=>{C==null||C.removeEventListener("scroll",T),C==null||C.removeEventListener("resize",T)}}},[T,d,E]),y}const pr=Pt(()=>{const c=kt(),d=kt(),f=Le(0),m=kt(),w=Le(0),y=kt(),E=kt(),T=Le(0),S=Le(0),C=Le(0),O=Le(0),R=kt(),P=kt(),X=Le(!1),J=Le(!1),Y=Le(!1);return We(De(c,Ve(({scrollTop:K})=>K)),d),We(De(c,Ve(({scrollHeight:K})=>K)),E),We(d,w),{deviation:f,fixedFooterHeight:C,fixedHeaderHeight:S,footerHeight:O,headerHeight:T,horizontalDirection:J,scrollBy:P,scrollContainerState:c,scrollHeight:E,scrollingInProgress:X,scrollTo:R,scrollTop:d,skipAnimationFrameInResizeObserver:Y,smoothScrollTargetReached:m,statefulScrollTop:w,viewportHeight:y}},[],{singleton:!0}),To={lvl:0};function nm(c,d){const f=c.length;if(f===0)return[];let{index:m,value:w}=d(c[0]);const y=[];for(let E=1;E<f;E++){const{index:T,value:S}=d(c[E]);y.push({end:T-1,start:m,value:w}),m=T,w=S}return y.push({end:1/0,start:m,value:w}),y}function nn(c){return c===To}function Io(c,d){if(!nn(c))return d===c.k?c.v:d<c.k?Io(c.l,d):Io(c.r,d)}function wa(c,d,f="k"){if(nn(c))return[-1/0,void 0];if(Number(c[f])===d)return[c.k,c.v];if(Number(c[f])<d){const m=wa(c.r,d,f);return m[0]===-1/0?[c.k,c.v]:m}return wa(c.l,d,f)}function Hr(c,d,f){return nn(c)?im(d,f,1):d===c.k?Qn(c,{k:d,v:f}):d<c.k?Kx(Qn(c,{l:Hr(c.l,d,f)})):Kx(Qn(c,{r:Hr(c.r,d,f)}))}function ys(){return To}function Nu(c,d,f){if(nn(c))return[];const m=wa(c,d)[0];return Ny(Yf(c,m,f))}function Xf(c,d){if(nn(c))return To;const{k:f,l:m,r:w}=c;if(d===f){if(nn(m))return w;if(nn(w))return m;{const[y,E]=am(m);return ou(Qn(c,{k:y,l:rm(m),v:E}))}}else return d<f?ou(Qn(c,{l:Xf(m,d)})):ou(Qn(c,{r:Xf(w,d)}))}function Rl(c){return nn(c)?[]:[...Rl(c.l),{k:c.k,v:c.v},...Rl(c.r)]}function Yf(c,d,f){if(nn(c))return[];const{k:m,l:w,r:y,v:E}=c;let T=[];return m>d&&(T=T.concat(Yf(w,d,f))),m>=d&&m<=f&&T.push({k:m,v:E}),m<=f&&(T=T.concat(Yf(y,d,f))),T}function ou(c){const{l:d,lvl:f,r:m}=c;if(m.lvl>=f-1&&d.lvl>=f-1)return c;if(f>m.lvl+1){if(jf(d))return lm(Qn(c,{lvl:f-1}));if(!nn(d)&&!nn(d.r))return Qn(d.r,{l:Qn(d,{r:d.r.l}),lvl:f,r:Qn(c,{l:d.r.r,lvl:f-1})});throw new Error("Unexpected empty nodes")}else{if(jf(c))return qf(Qn(c,{lvl:f-1}));if(!nn(m)&&!nn(m.l)){const w=m.l,y=jf(w)?m.lvl-1:m.lvl;return Qn(w,{l:Qn(c,{lvl:f-1,r:w.l}),lvl:w.lvl+1,r:qf(Qn(m,{l:w.r,lvl:y}))})}else throw new Error("Unexpected empty nodes")}}function Qn(c,d){return im(d.k!==void 0?d.k:c.k,d.v!==void 0?d.v:c.v,d.lvl!==void 0?d.lvl:c.lvl,d.l!==void 0?d.l:c.l,d.r!==void 0?d.r:c.r)}function rm(c){return nn(c.r)?c.l:ou(Qn(c,{r:rm(c.r)}))}function jf(c){return nn(c)||c.lvl>c.r.lvl}function am(c){return nn(c.r)?[c.k,c.v]:am(c.r)}function im(c,d,f,m=To,w=To){return{k:c,l:m,lvl:f,r:w,v:d}}function Kx(c){return qf(lm(c))}function lm(c){const{l:d}=c;return!nn(d)&&d.lvl===c.lvl?Qn(d,{r:Qn(c,{l:d.r})}):c}function qf(c){const{lvl:d,r:f}=c;return!nn(f)&&!nn(f.r)&&f.lvl===d&&f.r.lvl===d?Qn(f,{l:Qn(c,{r:f.l}),lvl:d+1}):c}function Ny(c){return nm(c,({k:d,v:f})=>({index:d,value:f}))}function sm(c,d){return!!(c&&c.startIndex===d.startIndex&&c.endIndex===d.endIndex)}function _o(c,d){return!!(c&&c[0]===d[0]&&c[1]===d[1])}const o0=Pt(()=>({recalcInProgress:Le(!1)}),[],{singleton:!0});function om(c,d,f){return c[xu(c,d,f)]}function xu(c,d,f,m=0){let w=c.length-1;for(;m<=w;){const y=Math.floor((m+w)/2),E=c[y],T=f(E,d);if(T===0)return y;if(T===-1){if(w-m<2)return y-1;w=y-1}else{if(w===m)return y;m=y+1}}throw new Error(`Failed binary finding record in array - ${c.join(",")}, searched for ${d}`)}function Ty(c,d,f,m){const w=xu(c,d,m),y=xu(c,f,m,w);return c.slice(w,y+1)}function va(c,d){return Math.round(c.getBoundingClientRect()[d])}function Tu(c){return!nn(c.groupOffsetTree)}function c0({index:c},d){return d===c?0:d<c?-1:1}function Iy(){return{groupIndices:[],groupOffsetTree:ys(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:ys()}}function _y(c,d){let f=nn(c)?0:1/0;for(const m of d){const{endIndex:w,size:y,startIndex:E}=m;if(f=Math.min(f,E),nn(c)){c=Hr(c,0,y);continue}const T=Nu(c,E-1,w+1);if(T.some(jy(m)))continue;let S=!1,C=!1;for(const{end:O,start:R,value:P}of T)S?(w>=R||y===P)&&(c=Xf(c,R)):(C=P!==y,S=!0),O>w&&w>=R&&P!==y&&(c=Hr(c,w+1,P));C&&(c=Hr(c,E,y))}return[c,f]}function Oy(c){return typeof c.groupIndex<"u"}function Ry({offset:c},d){return d===c?0:d<c?-1:1}function Oo(c,d,f){if(d.length===0)return 0;const{index:m,offset:w,size:y}=om(d,c,c0),E=c-m,T=y*E+(E-1)*f+w;return T>0?T+f:T}function cm(c,d){if(!Tu(d))return c;let f=0;for(;d.groupIndices[f]<=c+f;)f++;return c+f}function um(c,d,f){if(Oy(c))return d.groupIndices[c.groupIndex]+1;{const m=c.index==="LAST"?f:c.index;let w=cm(m,d);return w=Math.max(0,w,Math.min(f,w)),w}}function Dy(c,d,f,m=0){return m>0&&(d=Math.max(d,om(c,m,c0).offset)),nm(Ty(c,d,f,Ry),By)}function ky(c,[d,f,m,w]){d.length>0&&m("received item sizes",d,Tr.DEBUG);const y=c.sizeTree;let E=y,T=0;if(f.length>0&&nn(y)&&d.length===2){const P=d[0].size,X=d[1].size;E=f.reduce((J,Y)=>Hr(Hr(J,Y,P),Y+1,X),E)}else[E,T]=_y(E,d);if(E===y)return c;const{lastIndex:S,lastOffset:C,lastSize:O,offsetTree:R}=Zf(c.offsetTree,T,E,w);return{groupIndices:f,groupOffsetTree:f.reduce((P,X)=>Hr(P,X,Oo(X,R,w)),ys()),lastIndex:S,lastOffset:C,lastSize:O,offsetTree:R,sizeTree:E}}function My(c){return Rl(c).map(({k:d,v:f},m,w)=>{const y=w[m+1];return{endIndex:y?y.k-1:1/0,size:f,startIndex:d}})}function Jx(c,d){let f=0,m=0;for(;f<c;)f+=d[m+1]-d[m]-1,m++;return m-(f===c?0:1)}function Zf(c,d,f,m){let w=c,y=0,E=0,T=0,S=0;if(d!==0){S=xu(w,d-1,c0),T=w[S].offset;const C=wa(f,d-1);y=C[0],E=C[1],w.length&&w[S].size===wa(f,d)[1]&&(S-=1),w=w.slice(0,S+1)}else w=[];for(const{start:C,value:O}of Nu(f,d,1/0)){const R=C-y,P=R*E+T+R*m;w.push({index:C,offset:P,size:O}),y=C,T=P,E=O}return{lastIndex:y,lastOffset:T,lastSize:E,offsetTree:w}}function By(c){return{index:c.index,value:c}}function jy(c){const{endIndex:d,size:f,startIndex:m}=c;return w=>w.start===m&&(w.end===d||w.end===1/0)&&w.value===f}const Ly={offsetHeight:"height",offsetWidth:"width"},Pa=Pt(([{log:c},{recalcInProgress:d}])=>{const f=kt(),m=kt(),w=cr(m,0),y=kt(),E=kt(),T=Le(0),S=Le([]),C=Le(void 0),O=Le(void 0),R=Le(void 0),P=Le(void 0),X=Le((z,q)=>va(z,Ly[q])),J=Le(void 0),Y=Le(0),K=Iy(),B=cr(De(f,vt(S,c,Y),La(ky,K),xn()),K),j=cr(De(S,xn(),La((z,q)=>({current:q,prev:z.current}),{current:[],prev:[]}),Ve(({prev:z})=>z)),[]);We(De(S,nt(z=>z.length>0),vt(B,Y),Ve(([z,q,W])=>{const fe=z.reduce((Ce,pe,ve)=>Hr(Ce,pe,Oo(pe,q.offsetTree,W)||ve),ys());return{...q,groupIndices:z,groupOffsetTree:fe}})),B),We(De(m,vt(B),nt(([z,{lastIndex:q}])=>z<q),Ve(([z,{lastIndex:q,lastSize:W}])=>[{endIndex:q,size:W,startIndex:z}])),f),We(C,O);const H=cr(De(C,Ve(z=>z===void 0)),!0);We(De(O,nt(z=>z!==void 0&&nn(Cn(B).sizeTree)),Ve(z=>{const q=Cn(R),W=Cn(S).length>0;return q?W?[{endIndex:0,size:q,startIndex:0},{endIndex:1,size:z,startIndex:1}]:[]:[{endIndex:0,size:z,startIndex:0}]})),f),We(De(P,nt(z=>z!==void 0&&z.length>0&&nn(Cn(B).sizeTree)),Ve(z=>{const q=[];let W=z[0],fe=0;for(let Ce=1;Ce<z.length;Ce++){const pe=z[Ce];pe!==W&&(q.push({endIndex:Ce-1,size:W,startIndex:fe}),W=pe,fe=Ce)}return q.push({endIndex:z.length-1,size:W,startIndex:fe}),q})),f),We(De(S,vt(R,O),nt(([,z,q])=>z!==void 0&&q!==void 0),Ve(([z,q,W])=>{const fe=[];for(let Ce=0;Ce<z.length;Ce++){const pe=z[Ce],ve=z[Ce+1];fe.push({startIndex:pe,endIndex:pe,size:q}),ve!==void 0&&fe.push({startIndex:pe+1,endIndex:ve-1,size:W})}return fe})),f);const le=Vr(De(f,vt(B),La(({sizes:z},[q,W])=>({changed:W!==z,sizes:W}),{changed:!1,sizes:K}),Ve(z=>z.changed)));qt(De(T,La((z,q)=>({diff:z.prev-q,prev:q}),{diff:0,prev:0}),Ve(z=>z.diff)),z=>{const{groupIndices:q}=Cn(B);if(z>0)yt(d,!0),yt(y,z+Jx(z,q));else if(z<0){const W=Cn(j);W.length>0&&(z-=Jx(-z,W)),yt(E,z)}}),qt(De(T,vt(c)),([z,q])=>{z<0&&q("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:T},Tr.ERROR)});const he=Vr(y);We(De(y,vt(B),Ve(([z,q])=>{const W=q.groupIndices.length>0,fe=[],Ce=q.lastSize;if(W){const pe=Io(q.sizeTree,0);let ve=0,te=0;for(;ve<z;){const G=q.groupIndices[te],ie=q.groupIndices.length===te+1?1/0:q.groupIndices[te+1]-G-1;fe.push({endIndex:G,size:pe,startIndex:G}),fe.push({endIndex:G+1+ie-1,size:Ce,startIndex:G+1}),te++,ve+=ie+1}const M=Rl(q.sizeTree);return ve!==z&&M.shift(),M.reduce((G,{k:ie,v:oe})=>{let Ne=G.ranges;return G.prevSize!==0&&(Ne=[...G.ranges,{endIndex:ie+z-1,size:G.prevSize,startIndex:G.prevIndex}]),{prevIndex:ie+z,prevSize:oe,ranges:Ne}},{prevIndex:z,prevSize:0,ranges:fe}).ranges}return Rl(q.sizeTree).reduce((pe,{k:ve,v:te})=>({prevIndex:ve+z,prevSize:te,ranges:[...pe.ranges,{endIndex:ve+z-1,size:pe.prevSize,startIndex:pe.prevIndex}]}),{prevIndex:0,prevSize:Ce,ranges:[]}).ranges})),f);const ne=Vr(De(E,vt(B,Y),Ve(([z,{offsetTree:q},W])=>{const fe=-z;return Oo(fe,q,W)})));return We(De(E,vt(B,Y),Ve(([z,q,W])=>{if(q.groupIndices.length>0){if(nn(q.sizeTree))return q;let fe=ys();const Ce=Cn(j);let pe=0,ve=0,te=0;for(;pe<-z;){te=Ce[ve];const M=Ce[ve+1]-te-1;ve++,pe+=M+1}if(fe=Rl(q.sizeTree).reduce((M,{k:G,v:ie})=>Hr(M,Math.max(0,G+z),ie),fe),pe!==-z){const M=Io(q.sizeTree,te);fe=Hr(fe,0,M);const G=wa(q.sizeTree,-z+1)[1];fe=Hr(fe,1,G)}return{...q,sizeTree:fe,...Zf(q.offsetTree,0,fe,W)}}else{const fe=Rl(q.sizeTree).reduce((Ce,{k:pe,v:ve})=>Hr(Ce,Math.max(0,pe+z),ve),ys());return{...q,sizeTree:fe,...Zf(q.offsetTree,0,fe,W)}}})),B),{beforeUnshiftWith:he,data:J,defaultItemSize:O,firstItemIndex:T,fixedItemSize:C,fixedGroupSize:R,gap:Y,groupIndices:S,heightEstimates:P,itemSize:X,listRefresh:le,shiftWith:E,shiftWithOffset:ne,sizeRanges:f,sizes:B,statefulTotalCount:w,totalCount:m,trackItemSizes:H,unshiftWith:y}},mn(rl,o0),{singleton:!0});function zy(c){return c.reduce((d,f)=>(d.groupIndices.push(d.totalCount),d.totalCount+=f+1,d),{groupIndices:[],totalCount:0})}const dm=Pt(([{groupIndices:c,sizes:d,totalCount:f},{headerHeight:m,scrollTop:w}])=>{const y=kt(),E=kt(),T=Vr(De(y,Ve(zy)));return We(De(T,Ve(S=>S.totalCount)),f),We(De(T,Ve(S=>S.groupIndices)),c),We(De(Vn(w,d,m),nt(([S,C])=>Tu(C)),Ve(([S,C,O])=>wa(C.groupOffsetTree,Math.max(S-O,0),"v")[0]),xn(),Ve(S=>[S])),E),{groupCounts:y,topItemsIndexes:E}},mn(Pa,pr)),al=Pt(([{log:c}])=>{const d=Le(!1),f=Vr(De(d,nt(m=>m),xn()));return qt(d,m=>{m&&Cn(c)("props updated",{},Tr.DEBUG)}),{didMount:f,propsReady:d}},mn(rl),{singleton:!0}),Uy=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function fm(c){const d=typeof c=="number"?{index:c}:c;return d.align||(d.align="start"),(!d.behavior||!Uy)&&(d.behavior="auto"),d.offset||(d.offset=0),d}const Bo=Pt(([{gap:c,listRefresh:d,sizes:f,totalCount:m},{fixedFooterHeight:w,fixedHeaderHeight:y,footerHeight:E,headerHeight:T,scrollingInProgress:S,scrollTo:C,smoothScrollTargetReached:O,viewportHeight:R},{log:P}])=>{const X=kt(),J=kt(),Y=Le(0);let K=null,B=null,j=null;function H(){K&&(K(),K=null),j&&(j(),j=null),B&&(clearTimeout(B),B=null),yt(S,!1)}return We(De(X,vt(f,R,m,Y,T,E,P),vt(c,y,w),Ve(([[le,he,ne,z,q,W,fe,Ce],pe,ve,te])=>{const M=fm(le),{align:G,behavior:ie,offset:oe}=M,Ne=z-1,Me=um(M,he,Ne);let V=Oo(Me,he.offsetTree,pe)+W;G==="end"?(V+=ve+wa(he.sizeTree,Me)[1]-ne+te,Me===Ne&&(V+=fe)):G==="center"?V+=(ve+wa(he.sizeTree,Me)[1]-ne+te)/2:V-=q,oe&&(V+=oe);const ae=Ae=>{H(),Ae?(Ce("retrying to scroll to",{location:le},Tr.DEBUG),yt(X,le)):(yt(J,!0),Ce("list did not change, scroll successful",{},Tr.DEBUG))};if(H(),ie==="smooth"){let Ae=!1;j=qt(d,Re=>{Ae=Ae||Re}),K=pa(O,()=>{ae(Ae)})}else K=pa(De(d,Py(150)),ae);return B=setTimeout(()=>{H()},1200),yt(S,!0),Ce("scrolling from index to",{behavior:ie,index:Me,top:V},Tr.DEBUG),{behavior:ie,top:V}})),C),{scrollTargetReached:J,scrollToIndex:X,topListHeight:Y}},mn(Pa,pr,rl),{singleton:!0});function Py(c){return d=>{const f=setTimeout(()=>{d(!1)},c);return m=>{m&&(d(!0),clearTimeout(f))}}}function u0(c,d){c==0?d():requestAnimationFrame(()=>{u0(c-1,d)})}function d0(c,d){const f=d-1;return typeof c=="number"?c:c.index==="LAST"?f:c.index}const jo=Pt(([{defaultItemSize:c,listRefresh:d,sizes:f},{scrollTop:m},{scrollTargetReached:w,scrollToIndex:y},{didMount:E}])=>{const T=Le(!0),S=Le(0),C=Le(!0);return We(De(E,vt(S),nt(([O,R])=>!!R),ja(!1)),T),We(De(E,vt(S),nt(([O,R])=>!!R),ja(!1)),C),qt(De(Vn(d,E),vt(T,f,c,C),nt(([[,O],R,{sizeTree:P},X,J])=>O&&(!nn(P)||a0(X))&&!R&&!J),vt(S)),([,O])=>{pa(w,()=>{yt(C,!0)}),u0(4,()=>{pa(m,()=>{yt(T,!0)}),yt(y,O)})}),{initialItemFinalLocationReached:C,initialTopMostItemIndex:S,scrolledToInitialItem:T}},mn(Pa,pr,Bo,al),{singleton:!0});function hm(c,d){return Math.abs(c-d)<1.01}const Ro="up",Eo="down",Fy="none",Hy={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},Vy=0,Lo=Pt(([{footerHeight:c,headerHeight:d,scrollBy:f,scrollContainerState:m,scrollTop:w,viewportHeight:y}])=>{const E=Le(!1),T=Le(!0),S=kt(),C=kt(),O=Le(4),R=Le(Vy),P=cr(De(Gf(De(rt(w),Dl(1),ja(!0)),De(rt(w),Dl(1),ja(!1),Wx(100))),xn()),!1),X=cr(De(Gf(De(f,ja(!0)),De(f,ja(!1),Wx(200))),xn()),!1);We(De(Vn(rt(w),rt(R)),Ve(([j,H])=>j<=H),xn()),T),We(De(T,di(50)),C);const J=Vr(De(Vn(m,rt(y),rt(d),rt(c),rt(O)),La((j,[{scrollHeight:H,scrollTop:le},he,ne,z,q])=>{const W=le+he-H>-q,fe={scrollHeight:H,scrollTop:le,viewportHeight:he};if(W){let pe,ve;return le>j.state.scrollTop?(pe="SCROLLED_DOWN",ve=j.state.scrollTop-le):(pe="SIZE_DECREASED",ve=j.state.scrollTop-le||j.scrollTopDelta),{atBottom:!0,atBottomBecause:pe,scrollTopDelta:ve,state:fe}}let Ce;return fe.scrollHeight>j.state.scrollHeight?Ce="SIZE_INCREASED":he<j.state.viewportHeight?Ce="VIEWPORT_HEIGHT_DECREASING":le<j.state.scrollTop?Ce="SCROLLING_UPWARDS":Ce="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:Ce,state:fe}},Hy),xn((j,H)=>j&&j.atBottom===H.atBottom))),Y=cr(De(m,La((j,{scrollHeight:H,scrollTop:le,viewportHeight:he})=>{if(hm(j.scrollHeight,H))return{changed:!1,jump:0,scrollHeight:H,scrollTop:le};{const ne=H-(le+he)<1;return j.scrollTop!==le&&ne?{changed:!0,jump:j.scrollTop-le,scrollHeight:H,scrollTop:le}:{changed:!0,jump:0,scrollHeight:H,scrollTop:le}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),nt(j=>j.changed),Ve(j=>j.jump)),0);We(De(J,Ve(j=>j.atBottom)),E),We(De(E,di(50)),S);const K=Le(Eo);We(De(m,Ve(({scrollTop:j})=>j),xn(),La((j,H)=>Cn(X)?{direction:j.direction,prevScrollTop:H}:{direction:H<j.prevScrollTop?Ro:Eo,prevScrollTop:H},{direction:Eo,prevScrollTop:0}),Ve(j=>j.direction)),K),We(De(m,di(50),ja(Fy)),K);const B=Le(0);return We(De(P,nt(j=>!j),ja(0)),B),We(De(w,di(100),vt(P),nt(([j,H])=>!!H),La(([j,H],[le])=>[H,le],[0,0]),Ve(([j,H])=>H-j)),B),{atBottomState:J,atBottomStateChange:S,atBottomThreshold:O,atTopStateChange:C,atTopThreshold:R,isAtBottom:E,isAtTop:T,isScrolling:P,lastJumpDueToItemResize:Y,scrollDirection:K,scrollVelocity:B}},mn(pr)),gu="top",mu="bottom",$x="none";function eg(c,d,f){return typeof c=="number"?f===Ro&&d===gu||f===Eo&&d===mu?c:0:f===Ro?d===gu?c.main:c.reverse:d===mu?c.main:c.reverse}function tg(c,d){var f;return typeof c=="number"?c:(f=c[d])!=null?f:0}const f0=Pt(([{deviation:c,fixedHeaderHeight:d,headerHeight:f,scrollTop:m,viewportHeight:w}])=>{const y=kt(),E=Le(0),T=Le(0),S=Le(0),C=cr(De(Vn(rt(m),rt(w),rt(f),rt(y,_o),rt(S),rt(E),rt(d),rt(c),rt(T)),Ve(([O,R,P,[X,J],Y,K,B,j,H])=>{const le=O-j,he=K+B,ne=Math.max(P-le,0);let z=$x;const q=tg(H,gu),W=tg(H,mu);return X-=j,X+=P+B,J+=P+B,J-=j,X>O+he-q&&(z=Ro),J<O-ne+R+W&&(z=Eo),z!==$x?[Math.max(le-P-eg(Y,gu,z)-q,0),le-ne-B+R+eg(Y,mu,z)+W]:null}),nt(O=>O!=null),xn(_o)),[0,0]);return{increaseViewportBy:T,listBoundary:y,overscan:S,topListHeight:E,visibleRange:C}},mn(pr),{singleton:!0});function Gy(c,d,f){if(Tu(d)){const m=cm(c,d);return[{index:wa(d.groupOffsetTree,m)[0],offset:0,size:0},{data:f==null?void 0:f[0],index:m,offset:0,size:0}]}return[{data:f==null?void 0:f[0],index:c,offset:0,size:0}]}const Lf={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function cu(c,d,f,m,w,y){const{lastIndex:E,lastOffset:T,lastSize:S}=w;let C=0,O=0;if(c.length>0){C=c[0].offset;const Y=c[c.length-1];O=Y.offset+Y.size}const R=f-E,P=T+R*S+(R-1)*m,X=C,J=P-O;return{bottom:O,firstItemIndex:y,items:ng(c,w,y),offsetBottom:J,offsetTop:C,top:X,topItems:ng(d,w,y),topListHeight:d.reduce((Y,K)=>K.size+Y,0),totalCount:f}}function xm(c,d,f,m,w,y){let E=0;if(f.groupIndices.length>0)for(const O of f.groupIndices){if(O-E>=c)break;E++}const T=c+E,S=d0(d,T),C=Array.from({length:T}).map((O,R)=>({data:y[R+S],index:R+S,offset:0,size:0}));return cu(C,[],T,w,f,m)}function ng(c,d,f){if(c.length===0)return[];if(!Tu(d))return c.map(C=>({...C,index:C.index+f,originalIndex:C.index}));const m=c[0].index,w=c[c.length-1].index,y=[],E=Nu(d.groupOffsetTree,m,w);let T,S=0;for(const C of c){(!T||T.end<C.index)&&(T=E.shift(),S=d.groupIndices.indexOf(T.start));let O;C.index===T.start?O={index:S,type:"group"}:O={groupIndex:S,index:C.index-(S+1)+f},y.push({...O,data:C.data,offset:C.offset,originalIndex:C.index,size:C.size})}return y}const kl=Pt(([{data:c,firstItemIndex:d,gap:f,sizes:m,totalCount:w},y,{listBoundary:E,topListHeight:T,visibleRange:S},{initialTopMostItemIndex:C,scrolledToInitialItem:O},{topListHeight:R},P,{didMount:X},{recalcInProgress:J}])=>{const Y=Le([]),K=Le(0),B=kt();We(y.topItemsIndexes,Y);const j=cr(De(Vn(X,J,rt(S,_o),rt(w),rt(m),rt(C),O,rt(Y),rt(d),rt(f),c),nt(([ne,z,,q,,,,,,,W])=>{const fe=W&&W.length!==q;return ne&&!z&&!fe}),Ve(([,,[ne,z],q,W,fe,Ce,pe,ve,te,M])=>{const G=W,{offsetTree:ie,sizeTree:oe}=G,Ne=Cn(K);if(q===0)return{...Lf,totalCount:q};if(ne===0&&z===0)return Ne===0?{...Lf,totalCount:q}:xm(Ne,fe,W,ve,te,M||[]);if(nn(oe))return Ne>0?null:cu(Gy(d0(fe,q),G,M),[],q,te,G,ve);const Me=[];if(pe.length>0){const Xe=pe[0],Te=pe[pe.length-1];let qe=0;for(const we of Nu(oe,Xe,Te)){const He=we.value,ut=Math.max(we.start,Xe),ft=Math.min(we.end,Te);for(let Et=ut;Et<=ft;Et++)Me.push({data:M==null?void 0:M[Et],index:Et,offset:qe,size:He}),qe+=He}}if(!Ce)return cu([],Me,q,te,G,ve);const V=pe.length>0?pe[pe.length-1]+1:0,ae=Dy(ie,ne,z,V);if(ae.length===0)return null;const Ae=q-1,Re=Su([],Xe=>{for(const Te of ae){const qe=Te.value;let we=qe.offset,He=Te.start;const ut=qe.size;if(qe.offset<ne){He+=Math.floor((ne-qe.offset+te)/(ut+te));const Et=He-Te.start;we+=Et*ut+Et*te}He<V&&(we+=(V-He)*ut,He=V);const ft=Math.min(Te.end,Ae);for(let Et=He;Et<=ft&&!(we>=z);Et++)Xe.push({data:M==null?void 0:M[Et],index:Et,offset:we,size:ut}),we+=ut+te}});return cu(Re,Me,q,te,G,ve)}),nt(ne=>ne!==null),xn()),Lf);We(De(c,nt(a0),Ve(ne=>ne==null?void 0:ne.length)),w),We(De(j,Ve(ne=>ne.topListHeight)),R),We(R,T),We(De(j,Ve(ne=>[ne.top,ne.bottom])),E),We(De(j,Ve(ne=>ne.items)),B);const H=Vr(De(j,nt(({items:ne})=>ne.length>0),vt(w,c),nt(([{items:ne},z])=>ne[ne.length-1].originalIndex===z-1),Ve(([,ne,z])=>[ne-1,z]),xn(_o),Ve(([ne])=>ne))),le=Vr(De(j,di(200),nt(({items:ne,topItems:z})=>ne.length>0&&ne[0].originalIndex===z.length),Ve(({items:ne})=>ne[0].index),xn())),he=Vr(De(j,nt(({items:ne})=>ne.length>0),Ve(({items:ne})=>{let z=0,q=ne.length-1;for(;ne[z].type==="group"&&z<q;)z++;for(;ne[q].type==="group"&&q>z;)q--;return{endIndex:ne[q].index,startIndex:ne[z].index}}),xn(sm)));return{endReached:H,initialItemCount:K,itemsRendered:B,listState:j,rangeChanged:he,startReached:le,topItemsIndexes:Y,...P}},mn(Pa,dm,f0,jo,Bo,Lo,al,o0),{singleton:!0}),gm=Pt(([{fixedFooterHeight:c,fixedHeaderHeight:d,footerHeight:f,headerHeight:m},{listState:w}])=>{const y=kt(),E=cr(De(Vn(f,c,m,d,w),Ve(([T,S,C,O,R])=>T+S+C+O+R.offsetBottom+R.bottom)),0);return We(rt(E),y),{totalListHeight:E,totalListHeightChanged:y}},mn(pr,kl),{singleton:!0}),Xy=Pt(([{viewportHeight:c},{totalListHeight:d}])=>{const f=Le(!1),m=cr(De(Vn(f,c,d),nt(([w])=>w),Ve(([,w,y])=>Math.max(0,w-y)),di(0),xn()),0);return{alignToBottom:f,paddingTopAddition:m}},mn(pr,gm),{singleton:!0}),mm=Pt(()=>({context:Le(null)})),Yy=({itemBottom:c,itemTop:d,locationParams:{align:f,behavior:m,...w},viewportBottom:y,viewportTop:E})=>d<E?{...w,align:f??"start",behavior:m}:c>y?{...w,align:f??"end",behavior:m}:null,pm=Pt(([{gap:c,sizes:d,totalCount:f},{fixedFooterHeight:m,fixedHeaderHeight:w,headerHeight:y,scrollingInProgress:E,scrollTop:T,viewportHeight:S},{scrollToIndex:C}])=>{const O=kt();return We(De(O,vt(d,S,f,y,w,m,T),vt(c),Ve(([[R,P,X,J,Y,K,B,j],H])=>{const{align:le,behavior:he,calculateViewLocation:ne=Yy,done:z,...q}=R,W=um(R,P,J-1),fe=Oo(W,P.offsetTree,H)+Y+K,Ce=fe+wa(P.sizeTree,W)[1],pe=j+K,ve=j+X-B,te=ne({itemBottom:Ce,itemTop:fe,locationParams:{align:le,behavior:he,...q},viewportBottom:ve,viewportTop:pe});return te?z&&pa(De(E,nt(M=>!M),Dl(Cn(E)?1:2)),z):z&&z(),te}),nt(R=>R!==null)),C),{scrollIntoView:O}},mn(Pa,pr,Bo,kl,rl),{singleton:!0});function rg(c){return c?c==="smooth"?"smooth":"auto":!1}const qy=(c,d)=>typeof c=="function"?rg(c(d)):d&&rg(c),Zy=Pt(([{listRefresh:c,totalCount:d,fixedItemSize:f,data:m},{atBottomState:w,isAtBottom:y},{scrollToIndex:E},{scrolledToInitialItem:T},{didMount:S,propsReady:C},{log:O},{scrollingInProgress:R},{context:P},{scrollIntoView:X}])=>{const J=Le(!1),Y=kt();let K=null;function B(he){yt(E,{align:"end",behavior:he,index:"LAST"})}qt(De(Vn(De(rt(d),Dl(1)),S),vt(rt(J),y,T,R),Ve(([[he,ne],z,q,W,fe])=>{let Ce=ne&&W,pe="auto";return Ce&&(pe=qy(z,q||fe),Ce=Ce&&!!pe),{followOutputBehavior:pe,shouldFollow:Ce,totalCount:he}}),nt(({shouldFollow:he})=>he)),({followOutputBehavior:he,totalCount:ne})=>{K&&(K(),K=null),Cn(f)?requestAnimationFrame(()=>{Cn(O)("following output to ",{totalCount:ne},Tr.DEBUG),B(he)}):K=pa(c,()=>{Cn(O)("following output to ",{totalCount:ne},Tr.DEBUG),B(he),K=null})});function j(he){const ne=pa(w,z=>{he&&!z.atBottom&&z.notAtBottomBecause==="SIZE_INCREASED"&&!K&&(Cn(O)("scrolling to bottom due to increased size",{},Tr.DEBUG),B("auto"))});setTimeout(ne,100)}qt(De(Vn(rt(J),d,C),nt(([he,,ne])=>he&&ne),La(({value:he},[,ne])=>({refreshed:he===ne,value:ne}),{refreshed:!1,value:0}),nt(({refreshed:he})=>he),vt(J,d)),([,he])=>{Cn(T)&&j(he!==!1)}),qt(Y,()=>{j(Cn(J)!==!1)}),qt(Vn(rt(J),w),([he,ne])=>{he&&!ne.atBottom&&ne.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&B("auto")});const H=Le(null),le=kt();return We(Gf(De(rt(m),Ve(he=>{var ne;return(ne=he==null?void 0:he.length)!=null?ne:0})),De(rt(d))),le),qt(De(Vn(De(le,Dl(1)),S),vt(rt(H),T,R,P),Ve(([[he,ne],z,q,W,fe])=>ne&&q&&(z==null?void 0:z({context:fe,totalCount:he,scrollingInProgress:W}))),nt(he=>!!he),di(0)),he=>{K&&(K(),K=null),Cn(f)?requestAnimationFrame(()=>{Cn(O)("scrolling into view",{}),yt(X,he)}):K=pa(c,()=>{Cn(O)("scrolling into view",{}),yt(X,he),K=null})}),{autoscrollToBottom:Y,followOutput:J,scrollIntoViewOnChange:H}},mn(Pa,Lo,Bo,jo,al,rl,pr,mm,pm)),Wy=Pt(([{data:c,firstItemIndex:d,gap:f,sizes:m},{initialTopMostItemIndex:w},{initialItemCount:y,listState:E},{didMount:T}])=>(We(De(T,vt(y),nt(([,S])=>S!==0),vt(w,m,d,f,c),Ve(([[,S],C,O,R,P,X=[]])=>xm(S,C,O,R,P,X))),E),{}),mn(Pa,jo,kl,al),{singleton:!0}),Qy=Pt(([{didMount:c},{scrollTo:d},{listState:f}])=>{const m=Le(0);return qt(De(c,vt(m),nt(([,w])=>w!==0),Ve(([,w])=>({top:w}))),w=>{pa(De(f,Dl(1),nt(y=>y.items.length>1)),()=>{requestAnimationFrame(()=>{yt(d,w)})})}),{initialScrollTop:m}},mn(al,pr,kl),{singleton:!0}),bm=Pt(([{scrollVelocity:c}])=>{const d=Le(!1),f=kt(),m=Le(!1);return We(De(c,vt(m,d,f),nt(([w,y])=>!!y),Ve(([w,y,E,T])=>{const{enter:S,exit:C}=y;if(E){if(C(w,T))return!1}else if(S(w,T))return!0;return E}),xn()),d),qt(De(Vn(d,c,f),vt(m)),([[w,y,E],T])=>{w&&T&&T.change&&T.change(y,E)}),{isSeeking:d,scrollSeekConfiguration:m,scrollSeekRangeChanged:f,scrollVelocity:c}},mn(Lo),{singleton:!0}),h0=Pt(([{scrollContainerState:c,scrollTo:d}])=>{const f=kt(),m=kt(),w=kt(),y=Le(!1),E=Le(void 0);return We(De(Vn(f,m),Ve(([{scrollHeight:T,scrollTop:S,viewportHeight:C},{offsetTop:O}])=>({scrollHeight:T,scrollTop:Math.max(0,S-O),viewportHeight:C}))),c),We(De(d,vt(m),Ve(([T,{offsetTop:S}])=>({...T,top:T.top+S}))),w),{customScrollParent:E,useWindowScroll:y,windowScrollContainerState:f,windowScrollTo:w,windowViewportRect:m}},mn(pr)),Ky=Pt(([{sizeRanges:c,sizes:d},{headerHeight:f,scrollTop:m},{initialTopMostItemIndex:w},{didMount:y},{useWindowScroll:E,windowScrollContainerState:T,windowViewportRect:S}])=>{const C=kt(),O=Le(void 0),R=Le(null),P=Le(null);return We(T,R),We(S,P),qt(De(C,vt(d,m,E,R,P,f)),([X,J,Y,K,B,j,H])=>{const le=My(J.sizeTree);K&&B!==null&&j!==null&&(Y=B.scrollTop-j.offsetTop),Y-=H,X({ranges:le,scrollTop:Y})}),We(De(O,nt(a0),Ve(Jy)),w),We(De(y,vt(O),nt(([,X])=>X!==void 0),xn(),Ve(([,X])=>X.ranges)),c),{getState:C,restoreStateFrom:O}},mn(Pa,pr,jo,al,h0));function Jy(c){return{align:"start",index:0,offset:c.scrollTop}}const $y=Pt(([{topItemsIndexes:c}])=>{const d=Le(0);return We(De(d,nt(f=>f>=0),Ve(f=>Array.from({length:f}).map((m,w)=>w))),c),{topItemCount:d}},mn(kl));function ym(c){let d=!1,f;return()=>(d||(d=!0,f=c()),f)}const ew=ym(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),tw=Pt(([{deviation:c,scrollBy:d,scrollingInProgress:f,scrollTop:m},{isAtBottom:w,isScrolling:y,lastJumpDueToItemResize:E,scrollDirection:T},{listState:S},{beforeUnshiftWith:C,gap:O,shiftWithOffset:R,sizes:P},{log:X},{recalcInProgress:J}])=>{const Y=Vr(De(S,vt(E),La(([,B,j,H],[{bottom:le,items:he,offsetBottom:ne,totalCount:z},q])=>{const W=le+ne;let fe=0;return j===z&&B.length>0&&he.length>0&&(he[0].originalIndex===0&&B[0].originalIndex===0||(fe=W-H,fe!==0&&(fe+=q))),[fe,he,z,W]},[0,[],0,0]),nt(([B])=>B!==0),vt(m,T,f,w,X,J),nt(([,B,j,H,,,le])=>!le&&!H&&B!==0&&j===Ro),Ve(([[B],,,,,j])=>(j("Upward scrolling compensation",{amount:B},Tr.DEBUG),B))));function K(B){B>0?(yt(d,{behavior:"auto",top:-B}),yt(c,0)):(yt(c,0),yt(d,{behavior:"auto",top:-B}))}return qt(De(Y,vt(c,y)),([B,j,H])=>{H&&ew()?yt(c,j-B):K(-B)}),qt(De(Vn(cr(y,!1),c,J),nt(([B,j,H])=>!B&&!H&&j!==0),Ve(([B,j])=>j),di(1)),K),We(De(R,Ve(B=>({top:-B}))),d),qt(De(C,vt(P,O),Ve(([B,{groupIndices:j,lastSize:H,sizeTree:le},he])=>{function ne(z){return z*(H+he)}if(j.length===0)return ne(B);{let z=0;const q=Io(le,0);let W=0,fe=0;for(;W<B;){W++,z+=q;let Ce=j.length===fe+1?1/0:j[fe+1]-j[fe]-1;W+Ce>B&&(z-=q,Ce=B-W+1),W+=Ce,z+=ne(Ce),fe++}return z}})),B=>{yt(c,B),requestAnimationFrame(()=>{yt(d,{top:B}),requestAnimationFrame(()=>{yt(c,0),yt(J,!1)})})}),{deviation:c}},mn(pr,Lo,kl,Pa,rl,o0)),nw=Pt(([c,d,f,m,w,y,E,T,S,C,O])=>({...c,...d,...f,...m,...w,...y,...E,...T,...S,...C,...O}),mn(f0,Wy,al,bm,gm,Qy,Xy,h0,pm,rl,mm)),wm=Pt(([{data:c,defaultItemSize:d,firstItemIndex:f,fixedItemSize:m,fixedGroupSize:w,gap:y,groupIndices:E,heightEstimates:T,itemSize:S,sizeRanges:C,sizes:O,statefulTotalCount:R,totalCount:P,trackItemSizes:X},{initialItemFinalLocationReached:J,initialTopMostItemIndex:Y,scrolledToInitialItem:K},B,j,H,{listState:le,topItemsIndexes:he,...ne},{scrollToIndex:z},q,{topItemCount:W},{groupCounts:fe},Ce])=>(We(ne.rangeChanged,Ce.scrollSeekRangeChanged),We(De(Ce.windowViewportRect,Ve(pe=>pe.visibleHeight)),B.viewportHeight),{data:c,defaultItemHeight:d,firstItemIndex:f,fixedItemHeight:m,fixedGroupHeight:w,gap:y,groupCounts:fe,heightEstimates:T,initialItemFinalLocationReached:J,initialTopMostItemIndex:Y,scrolledToInitialItem:K,sizeRanges:C,topItemCount:W,topItemsIndexes:he,totalCount:P,...H,groupIndices:E,itemSize:S,listState:le,scrollToIndex:z,statefulTotalCount:R,trackItemSizes:X,...ne,...Ce,...B,sizes:O,...j}),mn(Pa,jo,pr,Ky,Zy,kl,Bo,tw,$y,dm,nw));function rw(c,d){const f={},m={};let w=0;const y=c.length;for(;w<y;)m[c[w]]=1,w+=1;for(const E in d)Object.hasOwn(m,E)||(f[E]=d[E]);return f}const ru=typeof document<"u"?ze.useLayoutEffect:ze.useEffect;function x0(c,d,f){const m=Object.keys(d.required||{}),w=Object.keys(d.optional||{}),y=Object.keys(d.methods||{}),E=Object.keys(d.events||{}),T=ze.createContext({});function S(K,B){K.propsReady&&yt(K.propsReady,!1);for(const j of m){const H=K[d.required[j]];yt(H,B[j])}for(const j of w)if(j in B){const H=K[d.optional[j]];yt(H,B[j])}K.propsReady&&yt(K.propsReady,!0)}function C(K){return y.reduce((B,j)=>(B[j]=H=>{const le=K[d.methods[j]];yt(le,H)},B),{})}function O(K){return E.reduce((B,j)=>(B[j]=wy(K[d.events[j]]),B),{})}const R=ze.forwardRef((K,B)=>{const{children:j,...H}=K,[le]=ze.useState(()=>Su(Cy(c),z=>{S(z,H)})),[he]=ze.useState(Zx(O,le));ru(()=>{for(const z of E)z in H&&qt(he[z],H[z]);return()=>{Object.values(he).map(i0)}},[H,he,le]),ru(()=>{S(le,H)}),ze.useImperativeHandle(B,qx(C(le)));const ne=f;return x.jsx(T.Provider,{value:le,children:f?x.jsx(ne,{...rw([...m,...w,...E],H),children:j}):j})}),P=K=>{const B=ze.useContext(T);return ze.useCallback(j=>{yt(B[K],j)},[B,K])},X=K=>{const B=ze.useContext(T)[K],j=ze.useCallback(H=>qt(B,H),[B]);return ze.useSyncExternalStore(j,()=>Cn(B),()=>Cn(B))},J=K=>{const B=ze.useContext(T)[K],[j,H]=ze.useState(Zx(Cn,B));return ru(()=>qt(B,le=>{le!==j&&H(qx(le))}),[B,j]),j},Y=ze.version.startsWith("18")?X:J;return{Component:R,useEmitter:(K,B)=>{const j=ze.useContext(T)[K];ru(()=>qt(j,B),[B,j])},useEmitterValue:Y,usePublisher:P}}const Iu=ze.createContext(void 0),vm=ze.createContext(void 0),Cm=typeof document<"u"?ze.useLayoutEffect:ze.useEffect;function zf(c){return"self"in c}function aw(c){return"body"in c}function Em(c,d,f,m=Ss,w,y){const E=ze.useRef(null),T=ze.useRef(null),S=ze.useRef(null),C=ze.useCallback(P=>{let X,J,Y;const K=P.target;if(aw(K)||zf(K)){const j=zf(K)?K:K.defaultView;Y=y?j.scrollX:j.scrollY,X=y?j.document.documentElement.scrollWidth:j.document.documentElement.scrollHeight,J=y?j.innerWidth:j.innerHeight}else Y=y?K.scrollLeft:K.scrollTop,X=y?K.scrollWidth:K.scrollHeight,J=y?K.offsetWidth:K.offsetHeight;const B=()=>{c({scrollHeight:X,scrollTop:Math.max(Y,0),viewportHeight:J})};P.suppressFlushSync?B():Yb.flushSync(B),T.current!==null&&(Y===T.current||Y<=0||Y===X-J)&&(T.current=null,d(!0),S.current&&(clearTimeout(S.current),S.current=null))},[c,d,y]);ze.useEffect(()=>{const P=w||E.current;return m(w||E.current),C({suppressFlushSync:!0,target:P}),P.addEventListener("scroll",C,{passive:!0}),()=>{m(null),P.removeEventListener("scroll",C)}},[E,C,f,m,w]);function O(P){const X=E.current;if(!X||(y?"offsetWidth"in X&&X.offsetWidth===0:"offsetHeight"in X&&X.offsetHeight===0))return;const J=P.behavior==="smooth";let Y,K,B;zf(X)?(K=Math.max(va(X.document.documentElement,y?"width":"height"),y?X.document.documentElement.scrollWidth:X.document.documentElement.scrollHeight),Y=y?X.innerWidth:X.innerHeight,B=y?window.scrollX:window.scrollY):(K=X[y?"scrollWidth":"scrollHeight"],Y=va(X,y?"width":"height"),B=X[y?"scrollLeft":"scrollTop"]);const j=K-Y;if(P.top=Math.ceil(Math.max(Math.min(j,P.top),0)),hm(Y,K)||P.top===B){c({scrollHeight:K,scrollTop:B,viewportHeight:Y}),J&&d(!0);return}J?(T.current=P.top,S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{S.current=null,T.current=null,d(!0)},1e3)):T.current=null,y&&(P={behavior:P.behavior,left:P.top}),X.scrollTo(P)}function R(P){y&&(P={behavior:P.behavior,left:P.top}),E.current.scrollBy(P)}return{scrollByCallback:R,scrollerRef:E,scrollToCallback:O}}const Uf="-webkit-sticky",ag="sticky",g0=ym(()=>{if(typeof document>"u")return ag;const c=document.createElement("div");return c.style.position=Uf,c.style.position===Uf?Uf:ag});function m0(c){return c}const iw=Pt(()=>{const c=Le(T=>`Item ${T}`),d=Le(T=>`Group ${T}`),f=Le({}),m=Le(m0),w=Le("div"),y=Le(Ss),E=(T,S=null)=>cr(De(f,Ve(C=>C[T]),xn()),S);return{components:f,computeItemKey:m,EmptyPlaceholder:E("EmptyPlaceholder"),FooterComponent:E("Footer"),GroupComponent:E("Group","div"),groupContent:d,HeaderComponent:E("Header"),HeaderFooterTag:w,ItemComponent:E("Item","div"),itemContent:c,ListComponent:E("List","div"),ScrollerComponent:E("Scroller","div"),scrollerRef:y,ScrollSeekPlaceholder:E("ScrollSeekPlaceholder"),TopItemListComponent:E("TopItemList")}}),lw=Pt(([c,d])=>({...c,...d}),mn(wm,iw)),sw=({height:c})=>x.jsx("div",{style:{height:c}}),ow={overflowAnchor:"none",position:g0(),zIndex:1},Am={overflowAnchor:"none"},cw={...Am,display:"inline-block",height:"100%"},ig=ze.memo(function({showTopList:c=!1}){const d=ct("listState"),f=ra("sizeRanges"),m=ct("useWindowScroll"),w=ct("customScrollParent"),y=ra("windowScrollContainerState"),E=ra("scrollContainerState"),T=w||m?y:E,S=ct("itemContent"),C=ct("context"),O=ct("groupContent"),R=ct("trackItemSizes"),P=ct("itemSize"),X=ct("log"),J=ra("gap"),Y=ct("horizontalDirection"),{callbackRef:K}=tm(f,P,R,c?Ss:T,X,J,w,Y,ct("skipAnimationFrameInResizeObserver")),[B,j]=ze.useState(0);y0("deviation",te=>{B!==te&&j(te)});const H=ct("EmptyPlaceholder"),le=ct("ScrollSeekPlaceholder")||sw,he=ct("ListComponent"),ne=ct("ItemComponent"),z=ct("GroupComponent"),q=ct("computeItemKey"),W=ct("isSeeking"),fe=ct("groupIndices").length>0,Ce=ct("alignToBottom"),pe=ct("initialItemFinalLocationReached"),ve=c?{}:{boxSizing:"border-box",...Y?{display:"inline-block",height:"100%",marginLeft:B!==0?B:Ce?"auto":0,paddingLeft:d.offsetTop,paddingRight:d.offsetBottom,whiteSpace:"nowrap"}:{marginTop:B!==0?B:Ce?"auto":0,paddingBottom:d.offsetBottom,paddingTop:d.offsetTop},...pe?{}:{visibility:"hidden"}};return!c&&d.totalCount===0&&H?x.jsx(H,{...gn(H,C)}):x.jsx(he,{...gn(he,C),"data-testid":c?"virtuoso-top-item-list":"virtuoso-item-list",ref:K,style:ve,children:(c?d.topItems:d.items).map(te=>{const M=te.originalIndex,G=q(M+d.firstItemIndex,te.data,C);return W?U.createElement(le,{...gn(le,C),height:te.size,index:te.index,key:G,type:te.type||"item",...te.type==="group"?{}:{groupIndex:te.groupIndex}}):te.type==="group"?U.createElement(z,{...gn(z,C),"data-index":M,"data-item-index":te.index,"data-known-size":te.size,key:G,style:ow},O(te.index,C)):U.createElement(ne,{...gn(ne,C),...Sm(ne,te.data),"data-index":M,"data-item-group-index":te.groupIndex,"data-item-index":te.index,"data-known-size":te.size,key:G,style:Y?cw:Am},fe?S(te.index,te.groupIndex,te.data,C):S(te.index,te.data,C))})})}),uw={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},dw={outline:"none",overflowX:"auto",position:"relative"},Ns=c=>({height:"100%",position:"absolute",top:0,width:"100%",...c?{display:"flex",flexDirection:"column"}:{}}),fw={position:g0(),top:0,width:"100%",zIndex:1};function gn(c,d){if(typeof c!="string")return{context:d}}function Sm(c,d){return{item:typeof c=="string"?void 0:d}}const hw=ze.memo(function(){const c=ct("HeaderComponent"),d=ra("headerHeight"),f=ct("HeaderFooterTag"),m=za(ze.useMemo(()=>y=>{d(va(y,"height"))},[d]),!0,ct("skipAnimationFrameInResizeObserver")),w=ct("context");return c?x.jsx(f,{ref:m,children:x.jsx(c,{...gn(c,w)})}):null}),xw=ze.memo(function(){const c=ct("FooterComponent"),d=ra("footerHeight"),f=ct("HeaderFooterTag"),m=za(ze.useMemo(()=>y=>{d(va(y,"height"))},[d]),!0,ct("skipAnimationFrameInResizeObserver")),w=ct("context");return c?x.jsx(f,{ref:m,children:x.jsx(c,{...gn(c,w)})}):null});function p0({useEmitter:c,useEmitterValue:d,usePublisher:f}){return ze.memo(function({children:m,style:w,context:y,...E}){const T=f("scrollContainerState"),S=d("ScrollerComponent"),C=f("smoothScrollTargetReached"),O=d("scrollerRef"),R=d("horizontalDirection")||!1,{scrollByCallback:P,scrollerRef:X,scrollToCallback:J}=Em(T,C,S,O,void 0,R);return c("scrollTo",J),c("scrollBy",P),x.jsx(S,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:X,style:{...R?dw:uw,...w},tabIndex:0,...E,...gn(S,y),children:m})})}function b0({useEmitter:c,useEmitterValue:d,usePublisher:f}){return ze.memo(function({children:m,style:w,context:y,...E}){const T=f("windowScrollContainerState"),S=d("ScrollerComponent"),C=f("smoothScrollTargetReached"),O=d("totalListHeight"),R=d("deviation"),P=d("customScrollParent"),X=ze.useRef(null),J=d("scrollerRef"),{scrollByCallback:Y,scrollerRef:K,scrollToCallback:B}=Em(T,C,S,J,P);return Cm(()=>{var j;return K.current=P||((j=X.current)==null?void 0:j.ownerDocument.defaultView),()=>{K.current=null}},[K,P]),c("windowScrollTo",B),c("scrollBy",Y),x.jsx(S,{ref:X,"data-virtuoso-scroller":!0,style:{position:"relative",...w,...O!==0?{height:O+R}:{}},...E,...gn(S,y),children:m})})}const gw=({children:c})=>{const d=ze.useContext(Iu),f=ra("viewportHeight"),m=ra("fixedItemHeight"),w=ct("alignToBottom"),y=ct("horizontalDirection"),E=ze.useMemo(()=>No(f,S=>va(S,y?"width":"height")),[f,y]),T=za(E,!0,ct("skipAnimationFrameInResizeObserver"));return ze.useEffect(()=>{d&&(f(d.viewportHeight),m(d.itemHeight))},[d,f,m]),x.jsx("div",{"data-viewport-type":"element",ref:T,style:Ns(w),children:c})},mw=({children:c})=>{const d=ze.useContext(Iu),f=ra("windowViewportRect"),m=ra("fixedItemHeight"),w=ct("customScrollParent"),y=s0(f,w,ct("skipAnimationFrameInResizeObserver")),E=ct("alignToBottom");return ze.useEffect(()=>{d&&(m(d.itemHeight),f({offsetTop:0,visibleHeight:d.viewportHeight,visibleWidth:100}))},[d,f,m]),x.jsx("div",{"data-viewport-type":"window",ref:y,style:Ns(E),children:c})},pw=({children:c})=>{const d=ct("TopItemListComponent")||"div",f=ct("headerHeight"),m={...fw,marginTop:`${f}px`},w=ct("context");return x.jsx(d,{style:m,...gn(d,w),children:c})},bw=ze.memo(function(c){const d=ct("useWindowScroll"),f=ct("topItemsIndexes").length>0,m=ct("customScrollParent"),w=ct("context");return x.jsxs(m||d?vw:ww,{...c,context:w,children:[f&&x.jsx(pw,{children:x.jsx(ig,{showTopList:!0})}),x.jsxs(m||d?mw:gw,{children:[x.jsx(hw,{}),x.jsx(ig,{}),x.jsx(xw,{})]})]})}),{Component:yw,useEmitter:y0,useEmitterValue:ct,usePublisher:ra}=x0(lw,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},bw),ww=p0({useEmitter:y0,useEmitterValue:ct,usePublisher:ra}),vw=b0({useEmitter:y0,useEmitterValue:ct,usePublisher:ra}),Nm=yw,Cw=Pt(()=>{const c=Le(C=>x.jsxs("td",{children:["Item $",C]})),d=Le(null),f=Le(C=>x.jsxs("td",{colSpan:1e3,children:["Group ",C]})),m=Le(null),w=Le(null),y=Le({}),E=Le(m0),T=Le(Ss),S=(C,O=null)=>cr(De(y,Ve(R=>R[C]),xn()),O);return{components:y,computeItemKey:E,context:d,EmptyPlaceholder:S("EmptyPlaceholder"),FillerRow:S("FillerRow"),fixedFooterContent:w,fixedHeaderContent:m,itemContent:c,groupContent:f,ScrollerComponent:S("Scroller","div"),scrollerRef:T,ScrollSeekPlaceholder:S("ScrollSeekPlaceholder"),TableBodyComponent:S("TableBody","tbody"),TableComponent:S("Table","table"),TableFooterComponent:S("TableFoot","tfoot"),TableHeadComponent:S("TableHead","thead"),TableRowComponent:S("TableRow","tr"),GroupComponent:S("Group","tr")}}),Ew=Pt(([c,d])=>({...c,...d}),mn(wm,Cw)),Aw=({height:c})=>x.jsx("tr",{children:x.jsx("td",{style:{height:c}})}),Sw=({height:c})=>x.jsx("tr",{children:x.jsx("td",{style:{border:0,height:c,padding:0}})}),Nw={overflowAnchor:"none"},lg={position:g0(),zIndex:2,overflowAnchor:"none"},sg=ze.memo(function({showTopList:c=!1}){const d=bt("listState"),f=bt("computeItemKey"),m=bt("firstItemIndex"),w=bt("context"),y=bt("isSeeking"),E=bt("fixedHeaderHeight"),T=bt("groupIndices").length>0,S=bt("itemContent"),C=bt("groupContent"),O=bt("ScrollSeekPlaceholder")||Aw,R=bt("GroupComponent"),P=bt("TableRowComponent"),X=(c?d.topItems:[]).reduce((Y,K,B)=>(B===0?Y.push(K.size):Y.push(Y[B-1]+K.size),Y),[]),J=(c?d.topItems:d.items).map(Y=>{const K=Y.originalIndex,B=f(K+m,Y.data,w),j=c?K===0?0:X[K-1]:0;return y?U.createElement(O,{...gn(O,w),height:Y.size,index:Y.index,key:B,type:Y.type||"item"}):Y.type==="group"?U.createElement(R,{...gn(R,w),"data-index":K,"data-item-index":Y.index,"data-known-size":Y.size,key:B,style:{...lg,top:E}},C(Y.index,w)):U.createElement(P,{...gn(P,w),...Sm(P,Y.data),"data-index":K,"data-item-index":Y.index,"data-known-size":Y.size,"data-item-group-index":Y.groupIndex,key:B,style:c?{...lg,top:E+j}:Nw},T?S(Y.index,Y.groupIndex,Y.data,w):S(Y.index,Y.data,w))});return x.jsx(x.Fragment,{children:J})}),Tw=ze.memo(function(){const c=bt("listState"),d=bt("topItemsIndexes").length>0,f=ba("sizeRanges"),m=bt("useWindowScroll"),w=bt("customScrollParent"),y=ba("windowScrollContainerState"),E=ba("scrollContainerState"),T=w||m?y:E,S=bt("trackItemSizes"),C=bt("itemSize"),O=bt("log"),{callbackRef:R,ref:P}=tm(f,C,S,T,O,void 0,w,!1,bt("skipAnimationFrameInResizeObserver")),[X,J]=ze.useState(0);w0("deviation",fe=>{X!==fe&&(P.current.style.marginTop=`${fe}px`,J(fe))});const Y=bt("EmptyPlaceholder"),K=bt("FillerRow")||Sw,B=bt("TableBodyComponent"),j=bt("paddingTopAddition"),H=bt("statefulTotalCount"),le=bt("context");if(H===0&&Y)return x.jsx(Y,{...gn(Y,le)});const he=(d?c.topItems:[]).reduce((fe,Ce)=>fe+Ce.size,0),ne=c.offsetTop+j+X-he,z=c.offsetBottom,q=ne>0?x.jsx(K,{context:le,height:ne},"padding-top"):null,W=z>0?x.jsx(K,{context:le,height:z},"padding-bottom"):null;return x.jsxs(B,{"data-testid":"virtuoso-item-list",ref:R,...gn(B,le),children:[q,d&&x.jsx(sg,{showTopList:!0}),x.jsx(sg,{}),W]})}),Iw=({children:c})=>{const d=ze.useContext(Iu),f=ba("viewportHeight"),m=ba("fixedItemHeight"),w=za(ze.useMemo(()=>No(f,y=>va(y,"height")),[f]),!0,bt("skipAnimationFrameInResizeObserver"));return ze.useEffect(()=>{d&&(f(d.viewportHeight),m(d.itemHeight))},[d,f,m]),x.jsx("div",{"data-viewport-type":"element",ref:w,style:Ns(!1),children:c})},_w=({children:c})=>{const d=ze.useContext(Iu),f=ba("windowViewportRect"),m=ba("fixedItemHeight"),w=bt("customScrollParent"),y=s0(f,w,bt("skipAnimationFrameInResizeObserver"));return ze.useEffect(()=>{d&&(m(d.itemHeight),f({offsetTop:0,visibleHeight:d.viewportHeight,visibleWidth:100}))},[d,f,m]),x.jsx("div",{"data-viewport-type":"window",ref:y,style:Ns(!1),children:c})},Ow=ze.memo(function(c){const d=bt("useWindowScroll"),f=bt("customScrollParent"),m=ba("fixedHeaderHeight"),w=ba("fixedFooterHeight"),y=bt("fixedHeaderContent"),E=bt("fixedFooterContent"),T=bt("context"),S=za(ze.useMemo(()=>No(m,B=>va(B,"height")),[m]),!0,bt("skipAnimationFrameInResizeObserver")),C=za(ze.useMemo(()=>No(w,B=>va(B,"height")),[w]),!0,bt("skipAnimationFrameInResizeObserver")),O=f||d?kw:Dw,R=f||d?_w:Iw,P=bt("TableComponent"),X=bt("TableHeadComponent"),J=bt("TableFooterComponent"),Y=y?x.jsx(X,{ref:S,style:{position:"sticky",top:0,zIndex:2},...gn(X,T),children:y()},"TableHead"):null,K=E?x.jsx(J,{ref:C,style:{bottom:0,position:"sticky",zIndex:1},...gn(J,T),children:E()},"TableFoot"):null;return x.jsx(O,{...c,...gn(O,T),children:x.jsx(R,{children:x.jsxs(P,{style:{borderSpacing:0,overflowAnchor:"none"},...gn(P,T),children:[Y,x.jsx(Tw,{},"TableBody"),K]})})})}),{Component:Rw,useEmitter:w0,useEmitterValue:bt,usePublisher:ba}=x0(Ew,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Ow),Dw=p0({useEmitter:w0,useEmitterValue:bt,usePublisher:ba}),kw=b0({useEmitter:w0,useEmitterValue:bt,usePublisher:ba}),Mw=Rw,og={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},Bw={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:cg,floor:pu,max:Ao,min:Pf,round:ug}=Math;function dg(c,d,f){return Array.from({length:d-c+1}).map((m,w)=>({data:f===null?null:f[w+c],index:w+c}))}function jw(c){return{...Bw,items:c}}function au(c,d){return c&&c.width===d.width&&c.height===d.height}function Lw(c,d){return c&&c.column===d.column&&c.row===d.row}const zw=Pt(([{increaseViewportBy:c,listBoundary:d,overscan:f,visibleRange:m},{footerHeight:w,headerHeight:y,scrollBy:E,scrollContainerState:T,scrollTo:S,scrollTop:C,smoothScrollTargetReached:O,viewportHeight:R},P,X,{didMount:J,propsReady:Y},{customScrollParent:K,useWindowScroll:B,windowScrollContainerState:j,windowScrollTo:H,windowViewportRect:le},he])=>{const ne=Le(0),z=Le(0),q=Le(og),W=Le({height:0,width:0}),fe=Le({height:0,width:0}),Ce=kt(),pe=kt(),ve=Le(0),te=Le(null),M=Le({column:0,row:0}),G=kt(),ie=kt(),oe=Le(!1),Ne=Le(0),Me=Le(!0),V=Le(!1),ae=Le(!1);qt(De(J,vt(Ne),nt(([we,He])=>!!He)),()=>{yt(Me,!1)}),qt(De(Vn(J,Me,fe,W,Ne,V),nt(([we,He,ut,ft,,Et])=>we&&!He&&ut.height!==0&&ft.height!==0&&!Et)),([,,,,we])=>{yt(V,!0),u0(1,()=>{yt(Ce,we)}),pa(De(C),()=>{yt(d,[0,0]),yt(Me,!0)})}),We(De(ie,nt(we=>we!=null&&we.scrollTop>0),ja(0)),z),qt(De(J,vt(ie),nt(([,we])=>we!=null)),([,we])=>{we&&(yt(W,we.viewport),yt(fe,we.item),yt(M,we.gap),we.scrollTop>0&&(yt(oe,!0),pa(De(C,Dl(1)),He=>{yt(oe,!1)}),yt(S,{top:we.scrollTop})))}),We(De(W,Ve(({height:we})=>we)),R),We(De(Vn(rt(W,au),rt(fe,au),rt(M,(we,He)=>we&&we.column===He.column&&we.row===He.row),rt(C)),Ve(([we,He,ut,ft])=>({gap:ut,item:He,scrollTop:ft,viewport:we}))),G),We(De(Vn(rt(ne),m,rt(M,Lw),rt(fe,au),rt(W,au),rt(te),rt(z),rt(oe),rt(Me),rt(Ne)),nt(([,,,,,,,we])=>!we),Ve(([we,[He,ut],ft,Et,at,_e,Je,,Zt,dt])=>{const{column:xt,row:it}=ft,{height:sr,width:Ue}=Et,{width:Ca}=at;if(Je===0&&(we===0||Ca===0))return og;if(Ue===0){const Fa=d0(dt,we),Ts=Fa+Math.max(Je-1,0);return jw(dg(Fa,Ts,_e))}const Ea=Tm(Ca,Ue,xt);let Bt,$n;Zt?He===0&&ut===0&&Je>0?(Bt=0,$n=Je-1):(Bt=Ea*pu((He+it)/(sr+it)),$n=Ea*cg((ut+it)/(sr+it))-1,$n=Pf(we-1,Ao($n,Ea-1)),Bt=Pf($n,Ao(0,Bt))):(Bt=0,$n=-1);const Bn=dg(Bt,$n,_e),{bottom:sa,top:jn}=fg(at,ft,Et,Bn),pn=cg(we/Ea),il=pn*sr+(pn-1)*it-sa;return{bottom:sa,itemHeight:sr,items:Bn,itemWidth:Ue,offsetBottom:il,offsetTop:jn,top:jn}})),q),We(De(te,nt(we=>we!==null),Ve(we=>we.length)),ne),We(De(Vn(W,fe,q,M),nt(([we,He,{items:ut}])=>ut.length>0&&He.height!==0&&we.height!==0),Ve(([we,He,{items:ut},ft])=>{const{bottom:Et,top:at}=fg(we,ft,He,ut);return[at,Et]}),xn(_o)),d);const Ae=Le(!1);We(De(C,vt(Ae),Ve(([we,He])=>He||we!==0)),Ae);const Re=Vr(De(Vn(q,ne),nt(([{items:we}])=>we.length>0),vt(Ae),nt(([[we,He],ut])=>{const ft=we.items[we.items.length-1].index===He-1;return(ut||we.bottom>0&&we.itemHeight>0&&we.offsetBottom===0&&we.items.length===He)&&ft}),Ve(([[,we]])=>we-1),xn())),Xe=Vr(De(rt(q),nt(({items:we})=>we.length>0&&we[0].index===0),ja(0),xn())),Te=Vr(De(rt(q),vt(oe),nt(([{items:we},He])=>we.length>0&&!He),Ve(([{items:we}])=>({endIndex:we[we.length-1].index,startIndex:we[0].index})),xn(sm),di(0)));We(Te,X.scrollSeekRangeChanged),We(De(Ce,vt(W,fe,ne,M),Ve(([we,He,ut,ft,Et])=>{const at=fm(we),{align:_e,behavior:Je,offset:Zt}=at;let dt=at.index;dt==="LAST"&&(dt=ft-1),dt=Ao(0,dt,Pf(ft-1,dt));let xt=Wf(He,Et,ut,dt);return _e==="end"?xt=ug(xt-He.height+ut.height):_e==="center"&&(xt=ug(xt-He.height/2+ut.height/2)),Zt&&(xt+=Zt),{behavior:Je,top:xt}})),S);const qe=cr(De(q,Ve(we=>we.offsetBottom+we.bottom)),0);return We(De(le,Ve(we=>({height:we.visibleHeight,width:we.visibleWidth}))),W),{customScrollParent:K,data:te,deviation:ve,footerHeight:w,gap:M,headerHeight:y,increaseViewportBy:c,initialItemCount:z,itemDimensions:fe,overscan:f,restoreStateFrom:ie,scrollBy:E,scrollContainerState:T,scrollHeight:pe,scrollTo:S,scrollToIndex:Ce,scrollTop:C,smoothScrollTargetReached:O,totalCount:ne,useWindowScroll:B,viewportDimensions:W,windowScrollContainerState:j,windowScrollTo:H,windowViewportRect:le,...X,gridState:q,horizontalDirection:ae,initialTopMostItemIndex:Ne,totalListHeight:qe,...P,endReached:Re,propsReady:Y,rangeChanged:Te,startReached:Xe,stateChanged:G,stateRestoreInProgress:oe,...he}},mn(f0,pr,Lo,bm,al,h0,rl));function Tm(c,d,f){return Ao(1,pu((c+f)/(pu(d)+f)))}function fg(c,d,f,m){const{height:w}=f;if(w===void 0||m.length===0)return{bottom:0,top:0};const y=Wf(c,d,f,m[0].index);return{bottom:Wf(c,d,f,m[m.length-1].index)+w,top:y}}function Wf(c,d,f,m){const w=Tm(c.width,f.width,d.column),y=pu(m/w),E=y*f.height+Ao(0,y-1)*d.row;return E>0?E+d.row:E}const Uw=Pt(()=>{const c=Le(R=>`Item ${R}`),d=Le({}),f=Le(null),m=Le("virtuoso-grid-item"),w=Le("virtuoso-grid-list"),y=Le(m0),E=Le("div"),T=Le(Ss),S=(R,P=null)=>cr(De(d,Ve(X=>X[R]),xn()),P),C=Le(!1),O=Le(!1);return We(rt(O),C),{components:d,computeItemKey:y,context:f,FooterComponent:S("Footer"),HeaderComponent:S("Header"),headerFooterTag:E,itemClassName:m,ItemComponent:S("Item","div"),itemContent:c,listClassName:w,ListComponent:S("List","div"),readyStateChanged:C,reportReadyState:O,ScrollerComponent:S("Scroller","div"),scrollerRef:T,ScrollSeekPlaceholder:S("ScrollSeekPlaceholder","div")}}),Pw=Pt(([c,d])=>({...c,...d}),mn(zw,Uw)),Fw=ze.memo(function(){const c=vn("gridState"),d=vn("listClassName"),f=vn("itemClassName"),m=vn("itemContent"),w=vn("computeItemKey"),y=vn("isSeeking"),E=aa("scrollHeight"),T=vn("ItemComponent"),S=vn("ListComponent"),C=vn("ScrollSeekPlaceholder"),O=vn("context"),R=aa("itemDimensions"),P=aa("gap"),X=vn("log"),J=vn("stateRestoreInProgress"),Y=aa("reportReadyState"),K=za(ze.useMemo(()=>B=>{const j=B.parentElement.parentElement.scrollHeight;E(j);const H=B.firstChild;if(H){const{height:le,width:he}=H.getBoundingClientRect();R({height:le,width:he})}P({column:hg("column-gap",getComputedStyle(B).columnGap,X),row:hg("row-gap",getComputedStyle(B).rowGap,X)})},[E,R,P,X]),!0,!1);return Cm(()=>{c.itemHeight>0&&c.itemWidth>0&&Y(!0)},[c]),J?null:x.jsx(S,{className:d,ref:K,...gn(S,O),"data-testid":"virtuoso-item-list",style:{paddingBottom:c.offsetBottom,paddingTop:c.offsetTop},children:c.items.map(B=>{const j=w(B.index,B.data,O);return y?x.jsx(C,{...gn(C,O),height:c.itemHeight,index:B.index,width:c.itemWidth},j):U.createElement(T,{...gn(T,O),className:f,"data-index":B.index,key:j},m(B.index,B.data,O))})})}),Hw=ze.memo(function(){const c=vn("HeaderComponent"),d=aa("headerHeight"),f=vn("headerFooterTag"),m=za(ze.useMemo(()=>y=>{d(va(y,"height"))},[d]),!0,!1),w=vn("context");return c?x.jsx(f,{ref:m,children:x.jsx(c,{...gn(c,w)})}):null}),Vw=ze.memo(function(){const c=vn("FooterComponent"),d=aa("footerHeight"),f=vn("headerFooterTag"),m=za(ze.useMemo(()=>y=>{d(va(y,"height"))},[d]),!0,!1),w=vn("context");return c?x.jsx(f,{ref:m,children:x.jsx(c,{...gn(c,w)})}):null}),Gw=({children:c})=>{const d=ze.useContext(vm),f=aa("itemDimensions"),m=aa("viewportDimensions"),w=za(ze.useMemo(()=>y=>{m(y.getBoundingClientRect())},[m]),!0,!1);return ze.useEffect(()=>{d&&(m({height:d.viewportHeight,width:d.viewportWidth}),f({height:d.itemHeight,width:d.itemWidth}))},[d,m,f]),x.jsx("div",{ref:w,style:Ns(!1),children:c})},Xw=({children:c})=>{const d=ze.useContext(vm),f=aa("windowViewportRect"),m=aa("itemDimensions"),w=vn("customScrollParent"),y=s0(f,w,!1);return ze.useEffect(()=>{d&&(m({height:d.itemHeight,width:d.itemWidth}),f({offsetTop:0,visibleHeight:d.viewportHeight,visibleWidth:d.viewportWidth}))},[d,f,m]),x.jsx("div",{ref:y,style:Ns(!1),children:c})},Yw=ze.memo(function({...c}){const d=vn("useWindowScroll"),f=vn("customScrollParent"),m=f||d?Zw:qw,w=f||d?Xw:Gw,y=vn("context");return x.jsx(m,{...c,...gn(m,y),children:x.jsxs(w,{children:[x.jsx(Hw,{}),x.jsx(Fw,{}),x.jsx(Vw,{})]})})}),{useEmitter:Im,useEmitterValue:vn,usePublisher:aa}=x0(Pw,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},Yw),qw=p0({useEmitter:Im,useEmitterValue:vn,usePublisher:aa}),Zw=b0({useEmitter:Im,useEmitterValue:vn,usePublisher:aa});function hg(c,d,f){return d!=="normal"&&!(d!=null&&d.endsWith("px"))&&f(`${c} was not resolved to pixel value correctly`,d,Tr.WARN),d==="normal"?0:parseInt(d??"0",10)}var Fe;(function(c){c[c.QR_CODE=0]="QR_CODE",c[c.AZTEC=1]="AZTEC",c[c.CODABAR=2]="CODABAR",c[c.CODE_39=3]="CODE_39",c[c.CODE_93=4]="CODE_93",c[c.CODE_128=5]="CODE_128",c[c.DATA_MATRIX=6]="DATA_MATRIX",c[c.MAXICODE=7]="MAXICODE",c[c.ITF=8]="ITF",c[c.EAN_13=9]="EAN_13",c[c.EAN_8=10]="EAN_8",c[c.PDF_417=11]="PDF_417",c[c.RSS_14=12]="RSS_14",c[c.RSS_EXPANDED=13]="RSS_EXPANDED",c[c.UPC_A=14]="UPC_A",c[c.UPC_E=15]="UPC_E",c[c.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Fe||(Fe={}));var xg=new Map([[Fe.QR_CODE,"QR_CODE"],[Fe.AZTEC,"AZTEC"],[Fe.CODABAR,"CODABAR"],[Fe.CODE_39,"CODE_39"],[Fe.CODE_93,"CODE_93"],[Fe.CODE_128,"CODE_128"],[Fe.DATA_MATRIX,"DATA_MATRIX"],[Fe.MAXICODE,"MAXICODE"],[Fe.ITF,"ITF"],[Fe.EAN_13,"EAN_13"],[Fe.EAN_8,"EAN_8"],[Fe.PDF_417,"PDF_417"],[Fe.RSS_14,"RSS_14"],[Fe.RSS_EXPANDED,"RSS_EXPANDED"],[Fe.UPC_A,"UPC_A"],[Fe.UPC_E,"UPC_E"],[Fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),gg;(function(c){c[c.UNKNOWN=0]="UNKNOWN",c[c.URL=1]="URL"})(gg||(gg={}));function Ww(c){return Object.values(Fe).includes(c)}var bu;(function(c){c[c.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",c[c.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(bu||(bu={}));var Qw=(function(){function c(){}return c.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",c.SCAN_DEFAULT_FPS=2,c.DEFAULT_DISABLE_FLIP=!1,c.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,c.DEFAULT_SUPPORTED_SCAN_TYPE=[bu.SCAN_TYPE_CAMERA,bu.SCAN_TYPE_FILE],c})(),_m=(function(){function c(d,f){this.format=d,this.formatName=f}return c.prototype.toString=function(){return this.formatName},c.create=function(d){if(!xg.has(d))throw"".concat(d," not in html5QrcodeSupportedFormatsTextMap");return new c(d,xg.get(d))},c})(),mg=(function(){function c(){}return c.createFromText=function(d){var f={text:d};return{decodedText:d,result:f}},c.createFromQrcodeResult=function(d){return{decodedText:d.text,result:d}},c})(),Qf;(function(c){c[c.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",c[c.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",c[c.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Qf||(Qf={}));var Kw=(function(){function c(){}return c.createFrom=function(d){return{errorMessage:d,type:Qf.UNKWOWN_ERROR}},c})(),Jw=(function(){function c(d){this.verbose=d}return c.prototype.log=function(d){this.verbose&&console.log(d)},c.prototype.warn=function(d){this.verbose&&console.warn(d)},c.prototype.logError=function(d,f){(this.verbose||f===!0)&&console.error(d)},c.prototype.logErrors=function(d){if(d.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(d)},c})();function ui(c){return typeof c>"u"||c===null}var ps=(function(){function c(){}return c.codeParseError=function(d){return"QR code parse error, error = ".concat(d)},c.errorGettingUserMedia=function(d){return"Error getting userMedia, error = ".concat(d)},c.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},c.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},c.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},c.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},c.scannerPaused=function(){return"Scanner paused"},c})(),Om=(function(){function c(){}return c.isMediaStreamConstraintsValid=function(d,f){if(typeof d!="object"){var m=typeof d;return f.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(m,"."),!0),!1}for(var w=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],y=new Set(w),E=Object.keys(d),T=0,S=E;T<S.length;T++){var C=S[T];if(y.has(C))return f.logError("".concat(C," is not supported videoConstaints."),!0),!1}return!0},c})(),Co={exports:{}},$w=Co.exports,pg;function e3(){return pg||(pg=1,(function(c,d){(function(f,m){m(d)})($w,(function(f){function m(I){return I==null}var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,t){I.__proto__=t}||function(I,t){for(var r in t)t.hasOwnProperty(r)&&(I[r]=t[r])};function y(I,t){w(I,t);function r(){this.constructor=I}I.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function E(I,t){var r=Object.setPrototypeOf;r?r(I,t):I.__proto__=t}function T(I,t){t===void 0&&(t=I.constructor);var r=Error.captureStackTrace;r&&r(I,t)}var S=(function(I){y(t,I);function t(r){var a=this.constructor,l=I.call(this,r)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1}),E(l,a.prototype),T(l),l}return t})(Error);class C extends S{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}C.kind="Exception";class O extends C{}O.kind="ArgumentException";class R extends C{}R.kind="IllegalArgumentException";class P{constructor(t){if(this.binarizer=t,t===null)throw new R("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,a,l){const s=this.binarizer.getLuminanceSource().crop(t,r,a,l);return new P(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new P(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new P(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class X extends C{static getChecksumInstance(){return new X}}X.kind="ChecksumException";class J{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class Y{static arraycopy(t,r,a,l,s){for(;s--;)a[l++]=t[r++]}static currentTimeMillis(){return Date.now()}}class K extends C{}K.kind="IndexOutOfBoundsException";class B extends K{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}B.kind="ArrayIndexOutOfBoundsException";class j{static fill(t,r){for(let a=0,l=t.length;a<l;a++)t[a]=r}static fillWithin(t,r,a,l){j.rangeCheck(t.length,r,a);for(let s=r;s<a;s++)t[s]=l}static rangeCheck(t,r,a){if(r>a)throw new R("fromIndex("+r+") > toIndex("+a+")");if(r<0)throw new B(r);if(a>t)throw new B(a)}static asList(...t){return t}static create(t,r,a){return Array.from({length:t}).map(s=>Array.from({length:r}).fill(a))}static createInt32Array(t,r,a){return Array.from({length:t}).map(s=>Int32Array.from({length:r}).fill(a))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let a=0,l=t.length;a<l;a++)if(t[a]!==r[a])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const a of t)r=31*r+a;return r}static fillUint8Array(t,r){for(let a=0;a!==t.length;a++)t[a]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const a=new Uint8Array(r);return a.set(t),a}return t.slice(0,r)}static copyOfRange(t,r,a){const l=a-r,s=new Int32Array(l);return Y.arraycopy(t,r,s,0,l),s}static binarySearch(t,r,a){a===void 0&&(a=j.numberComparator);let l=0,s=t.length-1;for(;l<=s;){const u=s+l>>1,h=a(r,t[u]);if(h>0)l=u+1;else if(h<0)s=u-1;else return u}return-l-1}static numberComparator(t,r){return t-r}}class H{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let a=31;return r=t<<16,r!==0&&(a-=16,t=r),r=t<<8,r!==0&&(a-=8,t=r),r=t<<4,r!==0&&(a-=4,t=r),r=t<<2,r!==0&&(a-=2,t=r),a-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}H.MIN_VALUE_32_BITS=-2147483648,H.MAX_VALUE=Number.MAX_SAFE_INTEGER;class le{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=le.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=le.makeArray(t);Y.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const a=this.bits;let l=Math.floor(t/32),s=a[l];s&=~((1<<(t&31))-1);const u=a.length;for(;s===0;){if(++l===u)return r;s=a[l]}const h=l*32+H.numberOfTrailingZeros(s);return h>r?r:h}getNextUnset(t){const r=this.size;if(t>=r)return r;const a=this.bits;let l=Math.floor(t/32),s=~a[l];s&=~((1<<(t&31))-1);const u=a.length;for(;s===0;){if(++l===u)return r;s=~a[l]}const h=l*32+H.numberOfTrailingZeros(s);return h>r?r:h}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new R;if(r===t)return;r--;const a=Math.floor(t/32),l=Math.floor(r/32),s=this.bits;for(let u=a;u<=l;u++){const h=u>a?0:t&31,v=(2<<(u<l?31:r&31))-(1<<h);s[u]|=v}}clear(){const t=this.bits.length,r=this.bits;for(let a=0;a<t;a++)r[a]=0}isRange(t,r,a){if(r<t||t<0||r>this.size)throw new R;if(r===t)return!0;r--;const l=Math.floor(t/32),s=Math.floor(r/32),u=this.bits;for(let h=l;h<=s;h++){const p=h>l?0:t&31,A=(2<<(h<s?31:r&31))-(1<<p)&4294967295;if((u[h]&A)!==(a?A:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new R("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let a=r;a>0;a--)this.appendBit((t>>a-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let a=0;a<r;a++)this.appendBit(t.get(a))}xor(t){if(this.size!==t.size)throw new R("Sizes don't match");const r=this.bits;for(let a=0,l=r.length;a<l;a++)r[a]^=t.bits[a]}toBytes(t,r,a,l){for(let s=0;s<l;s++){let u=0;for(let h=0;h<8;h++)this.get(t)&&(u|=1<<7-h),t++;r[a+s]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),a=r+1,l=this.bits;for(let s=0;s<a;s++){let u=l[s];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-s]=u}if(this.size!==a*32){const s=a*32-this.size;let u=t[0]>>>s;for(let h=1;h<a;h++){const p=t[h];u|=p<<32-s,t[h-1]=u,u=p>>>s}t[a-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof le))return!1;const r=t;return this.size===r.size&&j.equals(this.bits,r.bits)}hashCode(){return 31*this.size+j.hashCode(this.bits)}toString(){let t="";for(let r=0,a=this.size;r<a;r++)(r&7)===0&&(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new le(this.size,this.bits.slice())}}var he;(function(I){I[I.OTHER=0]="OTHER",I[I.PURE_BARCODE=1]="PURE_BARCODE",I[I.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",I[I.TRY_HARDER=3]="TRY_HARDER",I[I.CHARACTER_SET=4]="CHARACTER_SET",I[I.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",I[I.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",I[I.ASSUME_GS1=7]="ASSUME_GS1",I[I.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",I[I.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",I[I.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(he||(he={}));var ne=he;class z extends C{static getFormatInstance(){return new z}}z.kind="FormatException";var q;(function(I){I[I.Cp437=0]="Cp437",I[I.ISO8859_1=1]="ISO8859_1",I[I.ISO8859_2=2]="ISO8859_2",I[I.ISO8859_3=3]="ISO8859_3",I[I.ISO8859_4=4]="ISO8859_4",I[I.ISO8859_5=5]="ISO8859_5",I[I.ISO8859_6=6]="ISO8859_6",I[I.ISO8859_7=7]="ISO8859_7",I[I.ISO8859_8=8]="ISO8859_8",I[I.ISO8859_9=9]="ISO8859_9",I[I.ISO8859_10=10]="ISO8859_10",I[I.ISO8859_11=11]="ISO8859_11",I[I.ISO8859_13=12]="ISO8859_13",I[I.ISO8859_14=13]="ISO8859_14",I[I.ISO8859_15=14]="ISO8859_15",I[I.ISO8859_16=15]="ISO8859_16",I[I.SJIS=16]="SJIS",I[I.Cp1250=17]="Cp1250",I[I.Cp1251=18]="Cp1251",I[I.Cp1252=19]="Cp1252",I[I.Cp1256=20]="Cp1256",I[I.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",I[I.UTF8=22]="UTF8",I[I.ASCII=23]="ASCII",I[I.Big5=24]="Big5",I[I.GB18030=25]="GB18030",I[I.EUC_KR=26]="EUC_KR"})(q||(q={}));class W{constructor(t,r,a,...l){this.valueIdentifier=t,this.name=a,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=l,W.VALUE_IDENTIFIER_TO_ECI.set(t,this),W.NAME_TO_ECI.set(a,this);const s=this.values;for(let u=0,h=s.length;u!==h;u++){const p=s[u];W.VALUES_TO_ECI.set(p,this)}for(const u of l)W.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new z("incorect value");const r=W.VALUES_TO_ECI.get(t);if(r===void 0)throw new z("incorect value");return r}static getCharacterSetECIByName(t){const r=W.NAME_TO_ECI.get(t);if(r===void 0)throw new z("incorect value");return r}equals(t){if(!(t instanceof W))return!1;const r=t;return this.getName()===r.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(q.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(q.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(q.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(q.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(q.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(q.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(q.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(q.Big5,28,"Big5"),W.GB18030=new W(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(q.EUC_KR,30,"EUC_KR","EUC-KR");class fe extends C{}fe.kind="UnsupportedOperationException";class Ce{static decode(t,r){const a=this.encodingName(r);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)}static shouldDecodeOnFallback(t){return!Ce.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const a=this.encodingName(r);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof W?t:W.getCharacterSetECIByName(t)}static decodeFallback(t,r){const a=this.encodingCharacterSet(r);if(Ce.isDecodeFallbackSupported(a)){let l="";for(let s=0,u=t.length;s<u;s++){let h=t[s].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(a.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new fe(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(W.UTF8)||t.equals(W.ISO8859_1)||t.equals(W.ASCII)}static encodeFallback(t){const a=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let s=0;s<a.length;s++)l.push(a[s].charCodeAt(0));return new Uint8Array(l)}}class pe{static castAsNonUtf8Char(t,r=null){const a=r?r.getName():this.ISO88591;return Ce.decode(new Uint8Array([t]),a)}static guessEncoding(t,r){if(r!=null&&r.get(ne.CHARACTER_SET)!==void 0)return r.get(ne.CHARACTER_SET).toString();const a=t.length;let l=!0,s=!0,u=!0,h=0,p=0,v=0,A=0,_=0,D=0,F=0,Q=0,$=0,se=0,ge=0;const Be=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ke=0;ke<a&&(l||s||u);ke++){const Oe=t[ke]&255;u&&(h>0?(Oe&128)===0?u=!1:h--:(Oe&128)!==0&&((Oe&64)===0?u=!1:(h++,(Oe&32)===0?p++:(h++,(Oe&16)===0?v++:(h++,(Oe&8)===0?A++:u=!1))))),l&&(Oe>127&&Oe<160?l=!1:Oe>159&&(Oe<192||Oe===215||Oe===247)&&ge++),s&&(_>0?Oe<64||Oe===127||Oe>252?s=!1:_--:Oe===128||Oe===160||Oe>239?s=!1:Oe>160&&Oe<224?(D++,Q=0,F++,F>$&&($=F)):Oe>127?(_++,F=0,Q++,Q>se&&(se=Q)):(F=0,Q=0))}return u&&h>0&&(u=!1),s&&_>0&&(s=!1),u&&(Be||p+v+A>0)?pe.UTF8:s&&(pe.ASSUME_SHIFT_JIS||$>=3||se>=3)?pe.SHIFT_JIS:l&&s?$===2&&D===2||ge*10>=a?pe.SHIFT_JIS:pe.ISO88591:l?pe.ISO88591:s?pe.SHIFT_JIS:u?pe.UTF8:pe.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let a=-1;function l(u,h,p,v,A,_){if(u==="%%")return"%";if(r[++a]===void 0)return;u=v?parseInt(v.substr(1)):void 0;let D=A?parseInt(A.substr(1)):void 0,F;switch(_){case"s":F=r[a];break;case"c":F=r[a][0];break;case"f":F=parseFloat(r[a]).toFixed(u);break;case"p":F=parseFloat(r[a]).toPrecision(u);break;case"e":F=parseFloat(r[a]).toExponential(u);break;case"x":F=parseInt(r[a]).toString(D||16);break;case"d":F=parseFloat(parseInt(r[a],D||10).toPrecision(u)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(D);let Q=parseInt(p),$=p&&p[0]+""=="0"?"0":" ";for(;F.length<Q;)F=h!==void 0?F+$:$+F;return F}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}static getBytes(t,r){return Ce.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}pe.SHIFT_JIS=W.SJIS.getName(),pe.GB2312="GB2312",pe.ISO88591=W.ISO8859_1.getName(),pe.EUC_JP="EUC_JP",pe.UTF8=W.UTF8.getName(),pe.PLATFORM_DEFAULT_ENCODING=pe.UTF8,pe.ASSUME_SHIFT_JIS=!1;class ve{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=pe.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,a){for(let l=r;r<r+a;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class te{constructor(t,r,a,l){if(this.width=t,this.height=r,this.rowSize=a,this.bits=l,r==null&&(r=t),this.height=r,t<1||r<1)throw new R("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,a=t[0].length,l=new te(a,r);for(let s=0;s<r;s++){const u=t[s];for(let h=0;h<a;h++)u[h]&&l.set(h,s)}return l}static parseFromString(t,r,a){if(t===null)throw new R("stringRepresentation cannot be null");const l=new Array(t.length);let s=0,u=0,h=-1,p=0,v=0;for(;v<t.length;)if(t.charAt(v)===`
`||t.charAt(v)==="\r"){if(s>u){if(h===-1)h=s-u;else if(s-u!==h)throw new R("row lengths do not match");u=s,p++}v++}else if(t.substring(v,v+r.length)===r)v+=r.length,l[s]=!0,s++;else if(t.substring(v,v+a.length)===a)v+=a.length,l[s]=!1,s++;else throw new R("illegal character encountered: "+t.substring(v));if(s>u){if(h===-1)h=s-u;else if(s-u!==h)throw new R("row lengths do not match");p++}const A=new te(h,p);for(let _=0;_<s;_++)l[_]&&A.set(Math.floor(_%h),Math.floor(_/h));return A}get(t,r){const a=r*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0}set(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295}unset(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)}flip(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new R("input matrix dimensions do not match");const r=new le(Math.floor(this.width/32)+1),a=this.rowSize,l=this.bits;for(let s=0,u=this.height;s<u;s++){const h=s*a,p=t.getRow(s,r).getBitArray();for(let v=0;v<a;v++)l[h+v]^=p[v]}}clear(){const t=this.bits,r=t.length;for(let a=0;a<r;a++)t[a]=0}setRegion(t,r,a,l){if(r<0||t<0)throw new R("Left and top must be nonnegative");if(l<1||a<1)throw new R("Height and width must be at least 1");const s=t+a,u=r+l;if(u>this.height||s>this.width)throw new R("The region must fit inside the matrix");const h=this.rowSize,p=this.bits;for(let v=r;v<u;v++){const A=v*h;for(let _=t;_<s;_++)p[A+Math.floor(_/32)]|=1<<(_&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new le(this.width):r.clear();const a=this.rowSize,l=this.bits,s=t*a;for(let u=0;u<a;u++)r.setBulk(u*32,l[s+u]);return r}setRow(t,r){Y.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let a=new le(t),l=new le(t);for(let s=0,u=Math.floor((r+1)/2);s<u;s++)a=this.getRow(s,a),l=this.getRow(r-1-s,l),a.reverse(),l.reverse(),this.setRow(s,l),this.setRow(r-1-s,a)}getEnclosingRectangle(){const t=this.width,r=this.height,a=this.rowSize,l=this.bits;let s=t,u=r,h=-1,p=-1;for(let v=0;v<r;v++)for(let A=0;A<a;A++){const _=l[v*a+A];if(_!==0){if(v<u&&(u=v),v>p&&(p=v),A*32<s){let D=0;for(;(_<<31-D&4294967295)===0;)D++;A*32+D<s&&(s=A*32+D)}if(A*32+31>h){let D=31;for(;!(_>>>D);)D--;A*32+D>h&&(h=A*32+D)}}}return h<s||p<u?null:Int32Array.from([s,u,h-s+1,p-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let a=0;for(;a<r.length&&r[a]===0;)a++;if(a===r.length)return null;const l=a/t;let s=a%t*32;const u=r[a];let h=0;for(;(u<<31-h&4294967295)===0;)h++;return s+=h,Int32Array.from([s,l])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let a=r.length-1;for(;a>=0&&r[a]===0;)a--;if(a<0)return null;const l=Math.floor(a/t);let s=Math.floor(a%t)*32;const u=r[a];let h=31;for(;!(u>>>h);)h--;return s+=h,Int32Array.from([s,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof te))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&j.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+j.hashCode(this.bits),t}toString(t="X ",r="  ",a=`
`){return this.buildToString(t,r,a)}buildToString(t,r,a){let l=new ve;for(let s=0,u=this.height;s<u;s++){for(let h=0,p=this.width;h<p;h++)l.append(this.get(h,s)?t:r);l.append(a)}return l.toString()}clone(){return new te(this.width,this.height,this.rowSize,this.bits.slice())}}class M extends C{static getNotFoundInstance(){return new M}}M.kind="NotFoundException";class G extends J{constructor(t){super(t),this.luminances=G.EMPTY,this.buckets=new Int32Array(G.LUMINANCE_BUCKETS)}getBlackRow(t,r){const a=this.getLuminanceSource(),l=a.getWidth();r==null||r.getSize()<l?r=new le(l):r.clear(),this.initArrays(l);const s=a.getRow(t,this.luminances),u=this.buckets;for(let p=0;p<l;p++)u[(s[p]&255)>>G.LUMINANCE_SHIFT]++;const h=G.estimateBlackPoint(u);if(l<3)for(let p=0;p<l;p++)(s[p]&255)<h&&r.set(p);else{let p=s[0]&255,v=s[1]&255;for(let A=1;A<l-1;A++){const _=s[A+1]&255;(v*4-p-_)/2<h&&r.set(A),p=v,v=_}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),a=t.getHeight(),l=new te(r,a);this.initArrays(r);const s=this.buckets;for(let p=1;p<5;p++){const v=Math.floor(a*p/5),A=t.getRow(v,this.luminances),_=Math.floor(r*4/5);for(let D=Math.floor(r/5);D<_;D++){const F=A[D]&255;s[F>>G.LUMINANCE_SHIFT]++}}const u=G.estimateBlackPoint(s),h=t.getMatrix();for(let p=0;p<a;p++){const v=p*r;for(let A=0;A<r;A++)(h[v+A]&255)<u&&l.set(A,p)}return l}createBinarizer(t){return new G(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let a=0;a<G.LUMINANCE_BUCKETS;a++)r[a]=0}static estimateBlackPoint(t){const r=t.length;let a=0,l=0,s=0;for(let A=0;A<r;A++)t[A]>s&&(l=A,s=t[A]),t[A]>a&&(a=t[A]);let u=0,h=0;for(let A=0;A<r;A++){const _=A-l,D=t[A]*_*_;D>h&&(u=A,h=D)}if(l>u){const A=l;l=u,u=A}if(u-l<=r/16)throw new M;let p=u-1,v=-1;for(let A=u-1;A>l;A--){const _=A-l,D=_*_*(u-A)*(a-t[A]);D>v&&(p=A,v=D)}return p<<G.LUMINANCE_SHIFT}}G.LUMINANCE_BITS=5,G.LUMINANCE_SHIFT=8-G.LUMINANCE_BITS,G.LUMINANCE_BUCKETS=1<<G.LUMINANCE_BITS,G.EMPTY=Uint8ClampedArray.from([0]);class ie extends G{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),a=t.getHeight();if(r>=ie.MINIMUM_DIMENSION&&a>=ie.MINIMUM_DIMENSION){const l=t.getMatrix();let s=r>>ie.BLOCK_SIZE_POWER;(r&ie.BLOCK_SIZE_MASK)!==0&&s++;let u=a>>ie.BLOCK_SIZE_POWER;(a&ie.BLOCK_SIZE_MASK)!==0&&u++;const h=ie.calculateBlackPoints(l,s,u,r,a),p=new te(r,a);ie.calculateThresholdForBlock(l,s,u,r,a,h,p),this.matrix=p}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ie(t)}static calculateThresholdForBlock(t,r,a,l,s,u,h){const p=s-ie.BLOCK_SIZE,v=l-ie.BLOCK_SIZE;for(let A=0;A<a;A++){let _=A<<ie.BLOCK_SIZE_POWER;_>p&&(_=p);const D=ie.cap(A,2,a-3);for(let F=0;F<r;F++){let Q=F<<ie.BLOCK_SIZE_POWER;Q>v&&(Q=v);const $=ie.cap(F,2,r-3);let se=0;for(let Be=-2;Be<=2;Be++){const ke=u[D+Be];se+=ke[$-2]+ke[$-1]+ke[$]+ke[$+1]+ke[$+2]}const ge=se/25;ie.thresholdBlock(t,Q,_,ge,l,h)}}}static cap(t,r,a){return t<r?r:t>a?a:t}static thresholdBlock(t,r,a,l,s,u){for(let h=0,p=a*s+r;h<ie.BLOCK_SIZE;h++,p+=s)for(let v=0;v<ie.BLOCK_SIZE;v++)(t[p+v]&255)<=l&&u.set(r+v,a+h)}static calculateBlackPoints(t,r,a,l,s){const u=s-ie.BLOCK_SIZE,h=l-ie.BLOCK_SIZE,p=new Array(a);for(let v=0;v<a;v++){p[v]=new Int32Array(r);let A=v<<ie.BLOCK_SIZE_POWER;A>u&&(A=u);for(let _=0;_<r;_++){let D=_<<ie.BLOCK_SIZE_POWER;D>h&&(D=h);let F=0,Q=255,$=0;for(let ge=0,Be=A*l+D;ge<ie.BLOCK_SIZE;ge++,Be+=l){for(let ke=0;ke<ie.BLOCK_SIZE;ke++){const Oe=t[Be+ke]&255;F+=Oe,Oe<Q&&(Q=Oe),Oe>$&&($=Oe)}if($-Q>ie.MIN_DYNAMIC_RANGE)for(ge++,Be+=l;ge<ie.BLOCK_SIZE;ge++,Be+=l)for(let ke=0;ke<ie.BLOCK_SIZE;ke++)F+=t[Be+ke]&255}let se=F>>ie.BLOCK_SIZE_POWER*2;if($-Q<=ie.MIN_DYNAMIC_RANGE&&(se=Q/2,v>0&&_>0)){const ge=(p[v-1][_]+2*p[v][_-1]+p[v-1][_-1])/4;Q<ge&&(se=ge)}p[v][_]=se}}return p}}ie.BLOCK_SIZE_POWER=3,ie.BLOCK_SIZE=1<<ie.BLOCK_SIZE_POWER,ie.BLOCK_SIZE_MASK=ie.BLOCK_SIZE-1,ie.MINIMUM_DIMENSION=ie.BLOCK_SIZE*5,ie.MIN_DYNAMIC_RANGE=24;class oe{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,a,l){throw new fe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new fe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new fe("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new ve;for(let a=0;a<this.height;a++){const l=this.getRow(a,t);for(let s=0;s<this.width;s++){const u=l[s]&255;let h;u<64?h="#":u<128?h="+":u<192?h=".":h=" ",r.append(h)}r.append(`
`)}return r.toString()}}class Ne extends oe{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const a=this.delegate.getRow(t,r),l=this.getWidth();for(let s=0;s<l;s++)a[s]=255-(a[s]&255);return a}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r);for(let l=0;l<r;l++)a[l]=255-(t[l]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,a,l){return new Ne(this.delegate.crop(t,r,a,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ne(this.delegate.rotateCounterClockwise45())}}class Me extends oe{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Me.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return Me.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,a){const l=new Uint8ClampedArray(r*a);for(let s=0,u=0,h=t.length;s<h;s+=4,u++){let p;if(t[s+3]===0)p=255;else{const A=t[s],_=t[s+1],D=t[s+2];p=306*A+601*_+117*D+512>>10}l[u]=p}return l}getRow(t,r){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const a=this.getWidth(),l=t*a;return r===null?r=this.buffer.slice(l,l+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(l,l+a))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,a,l){return super.crop(t,r,a,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),a=r.getContext("2d"),l=t*Me.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*s+Math.abs(Math.sin(l))*u),p=Math.ceil(Math.abs(Math.sin(l))*s+Math.abs(Math.cos(l))*u);return r.width=h,r.height=p,a.translate(h/2,p/2),a.rotate(l),a.drawImage(this.canvas,s/-2,u/-2),this.buffer=Me.makeBufferFromCanvasImageData(r),this}invert(){return new Ne(this)}}Me.DEGREE_TO_RADIANS=Math.PI/180;class V{constructor(t,r,a){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ae=(globalThis||tu||self||window||void 0)&&(globalThis||tu||self||window||void 0).__awaiter||function(I,t,r,a){function l(s){return s instanceof r?s:new r(function(u){u(s)})}return new(r||(r=Promise))(function(s,u){function h(A){try{v(a.next(A))}catch(_){u(_)}}function p(A){try{v(a.throw(A))}catch(_){u(_)}}function v(A){A.done?s(A.value):l(A.value).then(h,p)}v((a=a.apply(I,t||[])).next())})};class Ae{constructor(t,r=500,a){this.reader=t,this.timeBetweenScansMillis=r,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const a of t){const l=a.kind==="video"?"videoinput":a.kind;if(l!=="videoinput")continue;const s=a.deviceId||a.id,u=a.label||`Video device ${r.length+1}`,h=a.groupId,p={deviceId:s,label:u,kind:l,groupId:h};r.push(p)}return r})}getVideoInputDevices(){return ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new V(r.deviceId,r.label))})}findDeviceById(t){return ae(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(a=>a.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return ae(this,void 0,void 0,function*(){this.reset();let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeOnceFromConstraints(l,r)})}decodeOnceFromConstraints(t,r){return ae(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(a,r)})}decodeOnceFromStream(t,r){return ae(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(t,r,a){return ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,a)})}decodeFromVideoDevice(t,r,a){return ae(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const s={video:l};return yield this.decodeFromConstraints(s,r,a)})}decodeFromConstraints(t,r,a){return ae(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,r,a)})}decodeFromStream(t,r,a){return ae(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(l,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return ae(this,void 0,void 0,function*(){const a=this.prepareVideoElement(r);return this.addVideoSource(a,t),this.videoElement=a,this.stream=t,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(t){return new Promise((r,a)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const a=document.getElementById(t);if(!a)throw new O(`element with id '${t}' not found`);if(a.nodeName.toLowerCase()!==r.toLowerCase())throw new O(`element with id '${t}' must be an ${r} element`);return a}decodeFromImage(t,r){if(!t&&!r)throw new O("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new O("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,a){if(t===void 0&&r===void 0)throw new O("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,a):this.decodeFromVideoElementContinuously(t,a)}decodeFromImageElement(t){if(!t)throw new O("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let a;return this.isImageLoaded(r)?a=this.decodeOnce(r,!1,!0):a=this._decodeOnLoadImage(r),a}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,r)}_decodeFromVideoElementSetup(t){if(!t)throw new O("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new O("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const a=this._decodeOnLoadImage(r);return r.src=t,a}decodeFromVideoUrl(t){if(!t)throw new O("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),a=this.decodeFromVideoElement(r);return r.src=t,a}decodeFromVideoUrlContinuously(t,r){if(!t)throw new O("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(a,r);return a.src=t,l}_decodeOnLoadImage(t){return new Promise((r,a)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,a),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,a=!0){this._stopAsyncDecode=!1;const l=(s,u)=>{if(this._stopAsyncDecode){u(new M("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(t);s(h)}catch(h){const p=r&&h instanceof M,A=(h instanceof X||h instanceof z)&&a;if(p||A)return setTimeout(l,this._timeBetweenDecodingAttempts,s,u);u(h)}};return new Promise((s,u)=>l(s,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);r(l,null),setTimeout(a,this.timeBetweenScansMillis)}catch(l){r(null,l);const s=l instanceof X||l instanceof z,u=l instanceof M;(s||u)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,a){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,a=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),a=new Me(r),l=new ie(a);return new P(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let a,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),r.style.width=a+"px",r.style.height=l+"px",r.width=a,r.height=l,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class Re{constructor(t,r,a=r==null?0:8*r.length,l,s,u=Y.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=a,this.resultPoints=l,this.format=s,this.timestamp=u,this.text=t,this.rawBytes=r,a==null?this.numBits=r==null?0:8*r.length:this.numBits=a,this.resultPoints=l,this.format=s,this.resultMetadata=null,u==null?this.timestamp=Y.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const a=new Array(r.length+t.length);Y.arraycopy(r,0,a,0,r.length),Y.arraycopy(t,0,a,r.length,t.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Xe;(function(I){I[I.AZTEC=0]="AZTEC",I[I.CODABAR=1]="CODABAR",I[I.CODE_39=2]="CODE_39",I[I.CODE_93=3]="CODE_93",I[I.CODE_128=4]="CODE_128",I[I.DATA_MATRIX=5]="DATA_MATRIX",I[I.EAN_8=6]="EAN_8",I[I.EAN_13=7]="EAN_13",I[I.ITF=8]="ITF",I[I.MAXICODE=9]="MAXICODE",I[I.PDF_417=10]="PDF_417",I[I.QR_CODE=11]="QR_CODE",I[I.RSS_14=12]="RSS_14",I[I.RSS_EXPANDED=13]="RSS_EXPANDED",I[I.UPC_A=14]="UPC_A",I[I.UPC_E=15]="UPC_E",I[I.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xe||(Xe={}));var Te=Xe,qe;(function(I){I[I.OTHER=0]="OTHER",I[I.ORIENTATION=1]="ORIENTATION",I[I.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",I[I.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",I[I.ISSUE_NUMBER=4]="ISSUE_NUMBER",I[I.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",I[I.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",I[I.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",I[I.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",I[I.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",I[I.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(qe||(qe={}));var we=qe;class He{constructor(t,r,a,l,s=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=a,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ut{exp(t){return this.expTable[t]}log(t){if(t===0)throw new R;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class ft{constructor(t,r){if(r.length===0)throw new R;this.field=t;const a=r.length;if(a>1&&r[0]===0){let l=1;for(;l<a&&r[l]===0;)l++;l===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-l),Y.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let a;if(t===1){a=0;for(let u=0,h=r.length;u!==h;u++){const p=r[u];a=ut.addOrSubtract(a,p)}return a}a=r[0];const l=r.length,s=this.field;for(let u=1;u<l;u++)a=ut.addOrSubtract(s.multiply(t,a),r[u]);return a}addOrSubtract(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,a=t.coefficients;if(r.length>a.length){const u=r;r=a,a=u}let l=new Int32Array(a.length);const s=a.length-r.length;Y.arraycopy(a,0,l,0,s);for(let u=s;u<a.length;u++)l[u]=ut.addOrSubtract(r[u-s],a[u]);return new ft(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,a=r.length,l=t.coefficients,s=l.length,u=new Int32Array(a+s-1),h=this.field;for(let p=0;p<a;p++){const v=r[p];for(let A=0;A<s;A++)u[p+A]=ut.addOrSubtract(u[p+A],h.multiply(v,l[A]))}return new ft(h,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,a=this.field,l=new Int32Array(r),s=this.coefficients;for(let u=0;u<r;u++)l[u]=a.multiply(s[u],t);return new ft(a,l)}multiplyByMonomial(t,r){if(t<0)throw new R;if(r===0)return this.field.getZero();const a=this.coefficients,l=a.length,s=new Int32Array(l+t),u=this.field;for(let h=0;h<l;h++)s[h]=u.multiply(a[h],r);return new ft(u,s)}divide(t){if(!this.field.equals(t.field))throw new R("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new R("Divide by 0");const r=this.field;let a=r.getZero(),l=this;const s=t.getCoefficient(t.getDegree()),u=r.inverse(s);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const h=l.getDegree()-t.getDegree(),p=r.multiply(l.getCoefficient(l.getDegree()),u),v=t.multiplyByMonomial(h,p),A=r.buildMonomial(h,p);a=a.addOrSubtract(A),l=l.addOrSubtract(v)}return[a,l]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),r===0||a!==1){const l=this.field.log(a);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class Et extends C{}Et.kind="ArithmeticException";class at extends ut{constructor(t,r,a){super(),this.primitive=t,this.size=r,this.generatorBase=a;const l=new Int32Array(r);let s=1;for(let h=0;h<r;h++)l[h]=s,s*=2,s>=r&&(s^=t,s&=r-1);this.expTable=l;const u=new Int32Array(r);for(let h=0;h<r-1;h++)u[l[h]]=h;this.logTable=u,this.zero=new ft(this,Int32Array.from([0])),this.one=new ft(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new R;if(r===0)return this.zero;const a=new Int32Array(t+1);return a[0]=r,new ft(this,a)}inverse(t){if(t===0)throw new Et;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+H.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}at.AZTEC_DATA_12=new at(4201,4096,1),at.AZTEC_DATA_10=new at(1033,1024,1),at.AZTEC_DATA_6=new at(67,64,1),at.AZTEC_PARAM=new at(19,16,1),at.QR_CODE_FIELD_256=new at(285,256,0),at.DATA_MATRIX_FIELD_256=new at(301,256,1),at.AZTEC_DATA_8=at.DATA_MATRIX_FIELD_256,at.MAXICODE_FIELD_64=at.AZTEC_DATA_6;class _e extends C{}_e.kind="ReedSolomonException";class Je extends C{}Je.kind="IllegalStateException";class Zt{constructor(t){this.field=t}decode(t,r){const a=this.field,l=new ft(a,t),s=new Int32Array(r);let u=!0;for(let F=0;F<r;F++){const Q=l.evaluateAt(a.exp(F+a.getGeneratorBase()));s[s.length-1-F]=Q,Q!==0&&(u=!1)}if(u)return;const h=new ft(a,s),p=this.runEuclideanAlgorithm(a.buildMonomial(r,1),h,r),v=p[0],A=p[1],_=this.findErrorLocations(v),D=this.findErrorMagnitudes(A,_);for(let F=0;F<_.length;F++){const Q=t.length-1-a.log(_[F]);if(Q<0)throw new _e("Bad error location");t[Q]=at.addOrSubtract(t[Q],D[F])}}runEuclideanAlgorithm(t,r,a){if(t.getDegree()<r.getDegree()){const F=t;t=r,r=F}const l=this.field;let s=t,u=r,h=l.getZero(),p=l.getOne();for(;u.getDegree()>=(a/2|0);){let F=s,Q=h;if(s=u,h=p,s.isZero())throw new _e("r_{i-1} was zero");u=F;let $=l.getZero();const se=s.getCoefficient(s.getDegree()),ge=l.inverse(se);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const Be=u.getDegree()-s.getDegree(),ke=l.multiply(u.getCoefficient(u.getDegree()),ge);$=$.addOrSubtract(l.buildMonomial(Be,ke)),u=u.addOrSubtract(s.multiplyByMonomial(Be,ke))}if(p=$.multiply(h).addOrSubtract(Q),u.getDegree()>=s.getDegree())throw new Je("Division algorithm failed to reduce polynomial?")}const v=p.getCoefficient(0);if(v===0)throw new _e("sigmaTilde(0) was zero");const A=l.inverse(v),_=p.multiplyScalar(A),D=u.multiplyScalar(A);return[_,D]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const a=new Int32Array(r);let l=0;const s=this.field;for(let u=1;u<s.getSize()&&l<r;u++)t.evaluateAt(u)===0&&(a[l]=s.inverse(u),l++);if(l!==r)throw new _e("Error locator degree does not match number of roots");return a}findErrorMagnitudes(t,r){const a=r.length,l=new Int32Array(a),s=this.field;for(let u=0;u<a;u++){const h=s.inverse(r[u]);let p=1;for(let v=0;v<a;v++)if(u!==v){const A=s.multiply(r[v],h),_=(A&1)===0?A|1:A&-2;p=s.multiply(p,_)}l[u]=s.multiply(t.evaluateAt(h),s.inverse(p)),s.getGeneratorBase()!==0&&(l[u]=s.multiply(l[u],h))}return l}}var dt;(function(I){I[I.UPPER=0]="UPPER",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.DIGIT=3]="DIGIT",I[I.PUNCT=4]="PUNCT",I[I.BINARY=5]="BINARY"})(dt||(dt={}));class xt{decode(t){this.ddata=t;let r=t.getBits(),a=this.extractBits(r),l=this.correctBits(a),s=xt.convertBoolArrayToByteArray(l),u=xt.getEncodedData(l),h=new He(s,u,null,null);return h.setNumBits(l.length),h}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,a=dt.UPPER,l=dt.UPPER,s="",u=0;for(;u<r;)if(l===dt.BINARY){if(r-u<5)break;let h=xt.readCode(t,u,5);if(u+=5,h===0){if(r-u<11)break;h=xt.readCode(t,u,11)+31,u+=11}for(let p=0;p<h;p++){if(r-u<8){u=r;break}const v=xt.readCode(t,u,8);s+=pe.castAsNonUtf8Char(v),u+=8}l=a}else{let h=l===dt.DIGIT?4:5;if(r-u<h)break;let p=xt.readCode(t,u,h);u+=h;let v=xt.getCharacter(l,p);v.startsWith("CTRL_")?(a=l,l=xt.getTable(v.charAt(5)),v.charAt(6)==="L"&&(a=l)):(s+=v,l=a)}return s}static getTable(t){switch(t){case"L":return dt.LOWER;case"P":return dt.PUNCT;case"M":return dt.MIXED;case"D":return dt.DIGIT;case"B":return dt.BINARY;case"U":default:return dt.UPPER}}static getCharacter(t,r){switch(t){case dt.UPPER:return xt.UPPER_TABLE[r];case dt.LOWER:return xt.LOWER_TABLE[r];case dt.MIXED:return xt.MIXED_TABLE[r];case dt.PUNCT:return xt.PUNCT_TABLE[r];case dt.DIGIT:return xt.DIGIT_TABLE[r];default:throw new Je("Bad table")}}correctBits(t){let r,a;this.ddata.getNbLayers()<=2?(a=6,r=at.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,r=at.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,r=at.AZTEC_DATA_10):(a=12,r=at.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),s=t.length/a;if(s<l)throw new z;let u=t.length%a,h=new Int32Array(s);for(let D=0;D<s;D++,u+=a)h[D]=xt.readCode(t,u,a);try{new Zt(r).decode(h,s-l)}catch(D){throw new z(D)}let p=(1<<a)-1,v=0;for(let D=0;D<l;D++){let F=h[D];if(F===0||F===p)throw new z;(F===1||F===p-1)&&v++}let A=new Array(l*a-v),_=0;for(let D=0;D<l;D++){let F=h[D];if(F===1||F===p-1)A.fill(F>1,_,_+a-1),_+=a-1;else for(let Q=a-1;Q>=0;--Q)A[_++]=(F&1<<Q)!==0}return A}extractBits(t){let r=this.ddata.isCompact(),a=this.ddata.getNbLayers(),l=(r?11:14)+a*4,s=new Int32Array(l),u=new Array(this.totalBitsInLayer(a,r));if(r)for(let h=0;h<s.length;h++)s[h]=h;else{let h=l+1+2*H.truncDivision(H.truncDivision(l,2)-1,15),p=l/2,v=H.truncDivision(h,2);for(let A=0;A<p;A++){let _=A+H.truncDivision(A,15);s[p-A-1]=v-_-1,s[p+A]=v+_+1}}for(let h=0,p=0;h<a;h++){let v=(a-h)*4+(r?9:12),A=h*2,_=l-1-A;for(let D=0;D<v;D++){let F=D*2;for(let Q=0;Q<2;Q++)u[p+F+Q]=t.get(s[A+Q],s[A+D]),u[p+2*v+F+Q]=t.get(s[A+D],s[_-Q]),u[p+4*v+F+Q]=t.get(s[_-Q],s[_-D]),u[p+6*v+F+Q]=t.get(s[_-D],s[A+Q])}p+=v*8}return u}static readCode(t,r,a){let l=0;for(let s=r;s<r+a;s++)l<<=1,t[s]&&(l|=1);return l}static readByte(t,r){let a=t.length-r;return a>=8?xt.readCode(t,r,8):xt.readCode(t,r,a)<<8-a}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let a=0;a<r.length;a++)r[a]=xt.readByte(t,8*a);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}xt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],xt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],xt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],xt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],xt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class it{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,a,l){const s=t-a,u=r-l;return Math.sqrt(s*s+u*u)}static sum(t){let r=0;for(let a=0,l=t.length;a!==l;a++){const s=t[a];r+=s}return r}}class sr{static floatToIntBits(t){return t}}sr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ue{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Ue){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*sr.floatToIntBits(this.x)+sr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let s,u,h;if(a>=r&&a>=l?(u=t[0],s=t[1],h=t[2]):l>=a&&l>=r?(u=t[1],s=t[0],h=t[2]):(u=t[2],s=t[0],h=t[1]),this.crossProductZ(s,u,h)<0){const p=s;s=h,h=p}t[0]=s,t[1]=u,t[2]=h}static distance(t,r){return it.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,a){const l=r.x,s=r.y;return(a.x-l)*(t.y-s)-(a.y-s)*(t.x-l)}}class Ca{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ea extends Ca{constructor(t,r,a,l,s){super(t,r),this.compact=a,this.nbDatablocks=l,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Bt{constructor(t,r,a,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Bt.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const s=r/2|0;if(this.leftInit=a-s,this.rightInit=a+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new M}detect(){let t=this.leftInit,r=this.rightInit,a=this.upInit,l=this.downInit,s=!1,u=!0,h=!1,p=!1,v=!1,A=!1,_=!1;const D=this.width,F=this.height;for(;u;){u=!1;let Q=!0;for(;(Q||!p)&&r<D;)Q=this.containsBlackPoint(a,l,r,!1),Q?(r++,u=!0,p=!0):p||r++;if(r>=D){s=!0;break}let $=!0;for(;($||!v)&&l<F;)$=this.containsBlackPoint(t,r,l,!0),$?(l++,u=!0,v=!0):v||l++;if(l>=F){s=!0;break}let se=!0;for(;(se||!A)&&t>=0;)se=this.containsBlackPoint(a,l,t,!1),se?(t--,u=!0,A=!0):A||t--;if(t<0){s=!0;break}let ge=!0;for(;(ge||!_)&&a>=0;)ge=this.containsBlackPoint(t,r,a,!0),ge?(a--,u=!0,_=!0):_||a--;if(a<0){s=!0;break}u&&(h=!0)}if(!s&&h){const Q=r-t;let $=null;for(let ke=1;$===null&&ke<Q;ke++)$=this.getBlackPointOnSegment(t,l-ke,t+ke,l);if($==null)throw new M;let se=null;for(let ke=1;se===null&&ke<Q;ke++)se=this.getBlackPointOnSegment(t,a+ke,t+ke,a);if(se==null)throw new M;let ge=null;for(let ke=1;ge===null&&ke<Q;ke++)ge=this.getBlackPointOnSegment(r,a+ke,r-ke,a);if(ge==null)throw new M;let Be=null;for(let ke=1;Be===null&&ke<Q;ke++)Be=this.getBlackPointOnSegment(r,l-ke,r-ke,l);if(Be==null)throw new M;return this.centerEdges(Be,$,ge,se)}else throw new M}getBlackPointOnSegment(t,r,a,l){const s=it.round(it.distance(t,r,a,l)),u=(a-t)/s,h=(l-r)/s,p=this.image;for(let v=0;v<s;v++){const A=it.round(t+v*u),_=it.round(r+v*h);if(p.get(A,_))return new Ue(A,_)}return null}centerEdges(t,r,a,l){const s=t.getX(),u=t.getY(),h=r.getX(),p=r.getY(),v=a.getX(),A=a.getY(),_=l.getX(),D=l.getY(),F=Bt.CORR;return s<this.width/2?[new Ue(_-F,D+F),new Ue(h+F,p+F),new Ue(v-F,A-F),new Ue(s+F,u-F)]:[new Ue(_+F,D+F),new Ue(h+F,p-F),new Ue(v-F,A+F),new Ue(s-F,u-F)]}containsBlackPoint(t,r,a,l){const s=this.image;if(l){for(let u=t;u<=r;u++)if(s.get(u,a))return!0}else for(let u=t;u<=r;u++)if(s.get(a,u))return!0;return!1}}Bt.INIT_SIZE=10,Bt.CORR=1;class $n{static checkAndNudgePoints(t,r){const a=t.getWidth(),l=t.getHeight();let s=!0;for(let u=0;u<r.length&&s;u+=2){const h=Math.floor(r[u]),p=Math.floor(r[u+1]);if(h<-1||h>a||p<-1||p>l)throw new M;s=!1,h===-1?(r[u]=0,s=!0):h===a&&(r[u]=a-1,s=!0),p===-1?(r[u+1]=0,s=!0):p===l&&(r[u+1]=l-1,s=!0)}s=!0;for(let u=r.length-2;u>=0&&s;u-=2){const h=Math.floor(r[u]),p=Math.floor(r[u+1]);if(h<-1||h>a||p<-1||p>l)throw new M;s=!1,h===-1?(r[u]=0,s=!0):h===a&&(r[u]=a-1,s=!0),p===-1?(r[u+1]=0,s=!0):p===l&&(r[u+1]=l-1,s=!0)}}}class Bn{constructor(t,r,a,l,s,u,h,p,v){this.a11=t,this.a21=r,this.a31=a,this.a12=l,this.a22=s,this.a32=u,this.a13=h,this.a23=p,this.a33=v}static quadrilateralToQuadrilateral(t,r,a,l,s,u,h,p,v,A,_,D,F,Q,$,se){const ge=Bn.quadrilateralToSquare(t,r,a,l,s,u,h,p);return Bn.squareToQuadrilateral(v,A,_,D,F,Q,$,se).times(ge)}transformPoints(t){const r=t.length,a=this.a11,l=this.a12,s=this.a13,u=this.a21,h=this.a22,p=this.a23,v=this.a31,A=this.a32,_=this.a33;for(let D=0;D<r;D+=2){const F=t[D],Q=t[D+1],$=s*F+p*Q+_;t[D]=(a*F+u*Q+v)/$,t[D+1]=(l*F+h*Q+A)/$}}transformPointsWithValues(t,r){const a=this.a11,l=this.a12,s=this.a13,u=this.a21,h=this.a22,p=this.a23,v=this.a31,A=this.a32,_=this.a33,D=t.length;for(let F=0;F<D;F++){const Q=t[F],$=r[F],se=s*Q+p*$+_;t[F]=(a*Q+u*$+v)/se,r[F]=(l*Q+h*$+A)/se}}static squareToQuadrilateral(t,r,a,l,s,u,h,p){const v=t-a+s-h,A=r-l+u-p;if(v===0&&A===0)return new Bn(a-t,s-a,t,l-r,u-l,r,0,0,1);{const _=a-s,D=h-s,F=l-u,Q=p-u,$=_*Q-D*F,se=(v*Q-D*A)/$,ge=(_*A-v*F)/$;return new Bn(a-t+se*a,h-t+ge*h,t,l-r+se*l,p-r+ge*p,r,se,ge,1)}}static quadrilateralToSquare(t,r,a,l,s,u,h,p){return Bn.squareToQuadrilateral(t,r,a,l,s,u,h,p).buildAdjoint()}buildAdjoint(){return new Bn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Bn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class sa extends $n{sampleGrid(t,r,a,l,s,u,h,p,v,A,_,D,F,Q,$,se,ge,Be,ke){const Oe=Bn.quadrilateralToQuadrilateral(l,s,u,h,p,v,A,_,D,F,Q,$,se,ge,Be,ke);return this.sampleGridWithTransform(t,r,a,Oe)}sampleGridWithTransform(t,r,a,l){if(r<=0||a<=0)throw new M;const s=new te(r,a),u=new Float32Array(2*r);for(let h=0;h<a;h++){const p=u.length,v=h+.5;for(let A=0;A<p;A+=2)u[A]=A/2+.5,u[A+1]=v;l.transformPoints(u),$n.checkAndNudgePoints(t,u);try{for(let A=0;A<p;A+=2)t.get(Math.floor(u[A]),Math.floor(u[A+1]))&&s.set(A/2,h)}catch{throw new M}}return s}}class jn{static setGridSampler(t){jn.gridSampler=t}static getInstance(){return jn.gridSampler}}jn.gridSampler=new sa;class pn{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new Ue(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class il{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),a=this.getBullsEyeCorners(r);if(t){let u=a[0];a[0]=a[2],a[2]=u}this.extractParameters(a);let l=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),s=this.getMatrixCornerPoints(a);return new Ea(l,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new M;let r=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(a,r);let l=0;for(let u=0;u<4;u++){let h=a[(this.shift+u)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let s=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(t,r){let a=0;t.forEach((l,s,u)=>{let h=(l>>r-2<<1)+(l&1);a=(a<<3)+h}),a=((a&1)<<11)+(a>>1);for(let l=0;l<4;l++)if(H.bitCount(a^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new M}getCorrectedParameterData(t,r){let a,l;r?(a=7,l=2):(a=10,l=4);let s=a-l,u=new Int32Array(a);for(let p=a-1;p>=0;--p)u[p]=t&15,t>>=4;try{new Zt(at.AZTEC_PARAM).decode(u,s)}catch{throw new M}let h=0;for(let p=0;p<l;p++)h=(h<<4)+u[p];return h}getBullsEyeCorners(t){let r=t,a=t,l=t,s=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let _=this.getFirstDifferent(r,u,1,-1),D=this.getFirstDifferent(a,u,1,1),F=this.getFirstDifferent(l,u,-1,1),Q=this.getFirstDifferent(s,u,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(Q,_)*this.nbCenterLayers/(this.distancePoint(s,r)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(_,D,F,Q))break}r=_,a=D,l=F,s=Q,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new M;this.compact=this.nbCenterLayers===5;let h=new Ue(r.getX()+.5,r.getY()-.5),p=new Ue(a.getX()+.5,a.getY()+.5),v=new Ue(l.getX()-.5,l.getY()+.5),A=new Ue(s.getX()-.5,s.getY()-.5);return this.expandSquare([h,p,v,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,a,l;try{let h=new Bt(this.image).detect();t=h[0],r=h[1],a=h[2],l=h[3]}catch{let p=this.image.getWidth()/2,v=this.image.getHeight()/2;t=this.getFirstDifferent(new pn(p+7,v-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new pn(p+7,v+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new pn(p-7,v+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new pn(p-7,v-7),!1,-1,-1).toResultPoint()}let s=it.round((t.getX()+l.getX()+r.getX()+a.getX())/4),u=it.round((t.getY()+l.getY()+r.getY()+a.getY())/4);try{let h=new Bt(this.image,15,s,u).detect();t=h[0],r=h[1],a=h[2],l=h[3]}catch{t=this.getFirstDifferent(new pn(s+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new pn(s+7,u+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new pn(s-7,u+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new pn(s-7,u-7),!1,-1,-1).toResultPoint()}return s=it.round((t.getX()+l.getX()+r.getX()+a.getX())/4),u=it.round((t.getY()+l.getY()+r.getY()+a.getY())/4),new pn(s,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,a,l,s){let u=jn.getInstance(),h=this.getDimension(),p=h/2-this.nbCenterLayers,v=h/2+this.nbCenterLayers;return u.sampleGrid(t,h,h,p,p,v,p,v,v,p,v,r.getX(),r.getY(),a.getX(),a.getY(),l.getX(),l.getY(),s.getX(),s.getY())}sampleLine(t,r,a){let l=0,s=this.distanceResultPoint(t,r),u=s/a,h=t.getX(),p=t.getY(),v=u*(r.getX()-t.getX())/s,A=u*(r.getY()-t.getY())/s;for(let _=0;_<a;_++)this.image.get(it.round(h+_*v),it.round(p+_*A))&&(l|=1<<a-_-1);return l}isWhiteOrBlackRectangle(t,r,a,l){let s=3;t=new pn(t.getX()-s,t.getY()+s),r=new pn(r.getX()-s,r.getY()-s),a=new pn(a.getX()+s,a.getY()-s),l=new pn(l.getX()+s,l.getY()+s);let u=this.getColor(l,t);if(u===0)return!1;let h=this.getColor(t,r);return h!==u||(h=this.getColor(r,a),h!==u)?!1:(h=this.getColor(a,l),h===u)}getColor(t,r){let a=this.distancePoint(t,r),l=(r.getX()-t.getX())/a,s=(r.getY()-t.getY())/a,u=0,h=t.getX(),p=t.getY(),v=this.image.get(t.getX(),t.getY()),A=Math.ceil(a);for(let D=0;D<A;D++)h+=l,p+=s,this.image.get(it.round(h),it.round(p))!==v&&u++;let _=u/a;return _>.1&&_<.9?0:_<=.1===v?1:-1}getFirstDifferent(t,r,a,l){let s=t.getX()+a,u=t.getY()+l;for(;this.isValid(s,u)&&this.image.get(s,u)===r;)s+=a,u+=l;for(s-=a,u-=l;this.isValid(s,u)&&this.image.get(s,u)===r;)s+=a;for(s-=a;this.isValid(s,u)&&this.image.get(s,u)===r;)u+=l;return u-=l,new pn(s,u)}expandSquare(t,r,a){let l=a/(2*r),s=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),h=(t[0].getX()+t[2].getX())/2,p=(t[0].getY()+t[2].getY())/2,v=new Ue(h+l*s,p+l*u),A=new Ue(h-l*s,p-l*u);s=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),h=(t[1].getX()+t[3].getX())/2,p=(t[1].getY()+t[3].getY())/2;let _=new Ue(h+l*s,p+l*u),D=new Ue(h-l*s,p-l*u);return[v,_,A,D]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=it.round(t.getX()),a=it.round(t.getY());return this.isValid(r,a)}distancePoint(t,r){return it.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return it.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(H.truncDivision(this.nbLayers-4,8)+1)+15}}class Fa{decode(t,r=null){let a=null,l=new il(t.getBlackMatrix()),s=null,u=null;try{let A=l.detectMirror(!1);s=A.getPoints(),this.reportFoundResultPoints(r,s),u=new xt().decode(A)}catch(A){a=A}if(u==null)try{let A=l.detectMirror(!0);s=A.getPoints(),this.reportFoundResultPoints(r,s),u=new xt().decode(A)}catch(A){throw a??A}let h=new Re(u.getText(),u.getRawBytes(),u.getNumBits(),s,Te.AZTEC,Y.currentTimeMillis()),p=u.getByteSegments();p!=null&&h.putMetadata(we.BYTE_SEGMENTS,p);let v=u.getECLevel();return v!=null&&h.putMetadata(we.ERROR_CORRECTION_LEVEL,v),h}reportFoundResultPoints(t,r){if(t!=null){let a=t.get(ne.NEED_RESULT_POINT_CALLBACK);a!=null&&r.forEach((l,s,u)=>{a.foundPossibleResultPoint(l)})}}reset(){}}class Ts extends Ae{constructor(t=500){super(new Fa,t)}}class on{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(ne.TRY_HARDER)===!0&&t.isRotateSupported()){const s=t.rotateCounterClockwise(),u=this.doDecode(s,r),h=u.getResultMetadata();let p=270;h!==null&&h.get(we.ORIENTATION)===!0&&(p=p+h.get(we.ORIENTATION)%360),u.putMetadata(we.ORIENTATION,p);const v=u.getResultPoints();if(v!==null){const A=s.getHeight();for(let _=0;_<v.length;_++)v[_]=new Ue(A-v[_].getY()-1,v[_].getX())}return u}else throw new M}}reset(){}doDecode(t,r){const a=t.getWidth(),l=t.getHeight();let s=new le(a);const u=r&&r.get(ne.TRY_HARDER)===!0,h=Math.max(1,l>>(u?8:5));let p;u?p=l:p=15;const v=Math.trunc(l/2);for(let A=0;A<p;A++){const _=Math.trunc((A+1)/2),D=(A&1)===0,F=v+h*(D?_:-_);if(F<0||F>=l)break;try{s=t.getBlackRow(F,s)}catch{continue}for(let Q=0;Q<2;Q++){if(Q===1&&(s.reverse(),r&&r.get(ne.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;r.forEach((se,ge)=>$.set(ge,se)),$.delete(ne.NEED_RESULT_POINT_CALLBACK),r=$}try{const $=this.decodeRow(F,s,r);if(Q===1){$.putMetadata(we.ORIENTATION,180);const se=$.getResultPoints();se!==null&&(se[0]=new Ue(a-se[0].getX()-1,se[0].getY()),se[1]=new Ue(a-se[1].getX()-1,se[1].getY()))}return $}catch{}}}throw new M}static recordPattern(t,r,a){const l=a.length;for(let v=0;v<l;v++)a[v]=0;const s=t.getSize();if(r>=s)throw new M;let u=!t.get(r),h=0,p=r;for(;p<s;){if(t.get(p)!==u)a[h]++;else{if(++h===l)break;a[h]=1,u=!u}p++}if(!(h===l||h===l-1&&p===s))throw new M}static recordPatternInReverse(t,r,a){let l=a.length,s=t.get(r);for(;r>0&&l>=0;)t.get(--r)!==s&&(l--,s=!s);if(l>=0)throw new M;on.recordPattern(t,r+1,a)}static patternMatchVariance(t,r,a){const l=t.length;let s=0,u=0;for(let v=0;v<l;v++)s+=t[v],u+=r[v];if(s<u)return Number.POSITIVE_INFINITY;const h=s/u;a*=h;let p=0;for(let v=0;v<l;v++){const A=t[v],_=r[v]*h,D=A>_?A-_:_-A;if(D>a)return Number.POSITIVE_INFINITY;p+=D}return p/s}}class je extends on{static findStartPattern(t){const r=t.getSize(),a=t.getNextSet(0);let l=0,s=Int32Array.from([0,0,0,0,0,0]),u=a,h=!1;const p=6;for(let v=a;v<r;v++)if(t.get(v)!==h)s[l]++;else{if(l===p-1){let A=je.MAX_AVG_VARIANCE,_=-1;for(let D=je.CODE_START_A;D<=je.CODE_START_C;D++){const F=on.patternMatchVariance(s,je.CODE_PATTERNS[D],je.MAX_INDIVIDUAL_VARIANCE);F<A&&(A=F,_=D)}if(_>=0&&t.isRange(Math.max(0,u-(v-u)/2),u,!1))return Int32Array.from([u,v,_]);u+=s[0]+s[1],s=s.slice(2,s.length-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,h=!h}throw new M}static decodeCode(t,r,a){on.recordPattern(t,a,r);let l=je.MAX_AVG_VARIANCE,s=-1;for(let u=0;u<je.CODE_PATTERNS.length;u++){const h=je.CODE_PATTERNS[u],p=this.patternMatchVariance(r,h,je.MAX_INDIVIDUAL_VARIANCE);p<l&&(l=p,s=u)}if(s>=0)return s;throw new M}decodeRow(t,r,a){const l=a&&a.get(ne.ASSUME_GS1)===!0,s=je.findStartPattern(r),u=s[2];let h=0;const p=new Uint8Array(20);p[h++]=u;let v;switch(u){case je.CODE_START_A:v=je.CODE_CODE_A;break;case je.CODE_START_B:v=je.CODE_CODE_B;break;case je.CODE_START_C:v=je.CODE_CODE_C;break;default:throw new z}let A=!1,_=!1,D="",F=s[0],Q=s[1];const $=Int32Array.from([0,0,0,0,0,0]);let se=0,ge=0,Be=u,ke=0,Oe=!0,wt=!1,st=!1;for(;!A;){const Za=_;switch(_=!1,se=ge,ge=je.decodeCode(r,$,Q),p[h++]=ge,ge!==je.CODE_STOP&&(Oe=!0),ge!==je.CODE_STOP&&(ke++,Be+=ke*ge),F=Q,Q+=$.reduce((Jo,Us)=>Jo+Us,0),ge){case je.CODE_START_A:case je.CODE_START_B:case je.CODE_START_C:throw new z}switch(v){case je.CODE_CODE_A:if(ge<64)st===wt?D+=String.fromCharCode(32+ge):D+=String.fromCharCode(32+ge+128),st=!1;else if(ge<96)st===wt?D+=String.fromCharCode(ge-64):D+=String.fromCharCode(ge+64),st=!1;else switch(ge!==je.CODE_STOP&&(Oe=!1),ge){case je.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case je.CODE_FNC_2:case je.CODE_FNC_3:break;case je.CODE_FNC_4_A:!wt&&st?(wt=!0,st=!1):wt&&st?(wt=!1,st=!1):st=!0;break;case je.CODE_SHIFT:_=!0,v=je.CODE_CODE_B;break;case je.CODE_CODE_B:v=je.CODE_CODE_B;break;case je.CODE_CODE_C:v=je.CODE_CODE_C;break;case je.CODE_STOP:A=!0;break}break;case je.CODE_CODE_B:if(ge<96)st===wt?D+=String.fromCharCode(32+ge):D+=String.fromCharCode(32+ge+128),st=!1;else switch(ge!==je.CODE_STOP&&(Oe=!1),ge){case je.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case je.CODE_FNC_2:case je.CODE_FNC_3:break;case je.CODE_FNC_4_B:!wt&&st?(wt=!0,st=!1):wt&&st?(wt=!1,st=!1):st=!0;break;case je.CODE_SHIFT:_=!0,v=je.CODE_CODE_A;break;case je.CODE_CODE_A:v=je.CODE_CODE_A;break;case je.CODE_CODE_C:v=je.CODE_CODE_C;break;case je.CODE_STOP:A=!0;break}break;case je.CODE_CODE_C:if(ge<100)ge<10&&(D+="0"),D+=ge;else switch(ge!==je.CODE_STOP&&(Oe=!1),ge){case je.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case je.CODE_CODE_A:v=je.CODE_CODE_A;break;case je.CODE_CODE_B:v=je.CODE_CODE_B;break;case je.CODE_STOP:A=!0;break}break}Za&&(v=v===je.CODE_CODE_A?je.CODE_CODE_B:je.CODE_CODE_A)}const Nn=Q-F;if(Q=r.getNextUnset(Q),!r.isRange(Q,Math.min(r.getSize(),Q+(Q-F)/2),!1))throw new M;if(Be-=ke*se,Be%103!==se)throw new X;const vr=D.length;if(vr===0)throw new M;vr>0&&Oe&&(v===je.CODE_CODE_C?D=D.substring(0,vr-2):D=D.substring(0,vr-1));const tr=(s[1]+s[0])/2,Yt=F+Nn/2,Zn=p.length,gr=new Uint8Array(Zn);for(let Za=0;Za<Zn;Za++)gr[Za]=p[Za];const Ii=[new Ue(tr,t),new Ue(Yt,t)];return new Re(D,gr,0,Ii,Te.CODE_128,new Date().getTime())}}je.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],je.MAX_AVG_VARIANCE=.25,je.MAX_INDIVIDUAL_VARIANCE=.7,je.CODE_SHIFT=98,je.CODE_CODE_C=99,je.CODE_CODE_B=100,je.CODE_CODE_A=101,je.CODE_FNC_1=102,je.CODE_FNC_2=97,je.CODE_FNC_3=96,je.CODE_FNC_4_A=101,je.CODE_FNC_4_B=100,je.CODE_START_A=103,je.CODE_START_B=104,je.CODE_START_C=105,je.CODE_STOP=106;class Jt extends on{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,a){let l=this.counters;l.fill(0),this.decodeRowResult="";let s=Jt.findAsteriskPattern(r,l),u=r.getNextSet(s[1]),h=r.getSize(),p,v;do{Jt.recordPattern(r,u,l);let $=Jt.toNarrowWidePattern(l);if($<0)throw new M;p=Jt.patternToChar($),this.decodeRowResult+=p,v=u;for(let se of l)u+=se;u=r.getNextSet(u)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let $ of l)A+=$;let _=u-v-A;if(u!==h&&_*2<A)throw new M;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,se=0;for(let ge=0;ge<$;ge++)se+=Jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ge));if(this.decodeRowResult.charAt($)!==Jt.ALPHABET_STRING.charAt(se%43))throw new X;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new M;let D;this.extendedMode?D=Jt.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let F=(s[1]+s[0])/2,Q=v+A/2;return new Re(D,null,0,[new Ue(F,t),new Ue(Q,t)],Te.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let a=t.getSize(),l=t.getNextSet(0),s=0,u=l,h=!1,p=r.length;for(let v=l;v<a;v++)if(t.get(v)!==h)r[s]++;else{if(s===p-1){if(this.toNarrowWidePattern(r)===Jt.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((v-u)/2)),u,!1))return[u,v];u+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,h=!h}throw new M}static toNarrowWidePattern(t){let r=t.length,a=0,l;do{let s=2147483647;for(let p of t)p<s&&p>a&&(s=p);a=s,l=0;let u=0,h=0;for(let p=0;p<r;p++){let v=t[p];v>a&&(h|=1<<r-1-p,l++,u+=v)}if(l===3){for(let p=0;p<r&&l>0;p++){let v=t[p];if(v>a&&(l--,v*2>=u))return-1}return h}}while(l>3);return-1}static patternToChar(t){for(let r=0;r<Jt.CHARACTER_ENCODINGS.length;r++)if(Jt.CHARACTER_ENCODINGS[r]===t)return Jt.ALPHABET_STRING.charAt(r);if(t===Jt.ASTERISK_ENCODING)return"*";throw new M}static decodeExtended(t){let r=t.length,a="";for(let l=0;l<r;l++){let s=t.charAt(l);if(s==="+"||s==="$"||s==="%"||s==="/"){let u=t.charAt(l+1),h="\0";switch(s){case"+":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)+32);else throw new z;break;case"$":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)-64);else throw new z;break;case"%":if(u>="A"&&u<="E")h=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")h=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")h=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")h="\0";else if(u==="V")h="@";else if(u==="W")h="`";else if(u==="X"||u==="Y"||u==="Z")h="";else throw new z;break;case"/":if(u>="A"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")h=":";else throw new z;break}a+=h,l++}else a+=s}return a}}Jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Jt.ASTERISK_ENCODING=148;class gt extends on{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,a){let l=this.decodeStart(r),s=this.decodeEnd(r),u=new ve;gt.decodeMiddle(r,l[1],s[0],u);let h=u.toString(),p=null;a!=null&&(p=a.get(ne.ALLOWED_LENGTHS)),p==null&&(p=gt.DEFAULT_ALLOWED_LENGTHS);let v=h.length,A=!1,_=0;for(let Q of p){if(v===Q){A=!0;break}Q>_&&(_=Q)}if(!A&&v>_&&(A=!0),!A)throw new z;const D=[new Ue(l[1],t),new Ue(s[0],t)];return new Re(h,null,0,D,Te.ITF,new Date().getTime())}static decodeMiddle(t,r,a,l){let s=new Int32Array(10),u=new Int32Array(5),h=new Int32Array(5);for(s.fill(0),u.fill(0),h.fill(0);r<a;){on.recordPattern(t,r,s);for(let v=0;v<5;v++){let A=2*v;u[v]=s[A],h[v]=s[A+1]}let p=gt.decodeDigit(u);l.append(p.toString()),p=this.decodeDigit(h),l.append(p.toString()),s.forEach(function(v){r+=v})}}decodeStart(t){let r=gt.skipWhiteSpace(t),a=gt.findGuardPattern(t,r,gt.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a}validateQuietZone(t,r){let a=this.narrowLineWidth*10;a=a<r?a:r;for(let l=r-1;a>0&&l>=0&&!t.get(l);l--)a--;if(a!==0)throw new M}static skipWhiteSpace(t){const r=t.getSize(),a=t.getNextSet(0);if(a===r)throw new M;return a}decodeEnd(t){t.reverse();try{let r=gt.skipWhiteSpace(t),a;try{a=gt.findGuardPattern(t,r,gt.END_PATTERN_REVERSED[0])}catch(s){s instanceof M&&(a=gt.findGuardPattern(t,r,gt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);let l=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-l,a}finally{t.reverse()}}static findGuardPattern(t,r,a){let l=a.length,s=new Int32Array(l),u=t.getSize(),h=!1,p=0,v=r;s.fill(0);for(let A=r;A<u;A++)if(t.get(A)!==h)s[p]++;else{if(p===l-1){if(on.patternMatchVariance(s,a,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return[v,A];v+=s[0]+s[1],Y.arraycopy(s,2,s,0,p-1),s[p-1]=0,s[p]=0,p--}else p++;s[p]=1,h=!h}throw new M}static decodeDigit(t){let r=gt.MAX_AVG_VARIANCE,a=-1,l=gt.PATTERNS.length;for(let s=0;s<l;s++){let u=gt.PATTERNS[s],h=on.patternMatchVariance(t,u,gt.MAX_INDIVIDUAL_VARIANCE);h<r?(r=h,a=s):h===r&&(a=-1)}if(a>=0)return a%10;throw new M}}gt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],gt.MAX_AVG_VARIANCE=.38,gt.MAX_INDIVIDUAL_VARIANCE=.5,gt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],gt.START_PATTERN=Int32Array.from([1,1,1,1]),gt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class bn extends on{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,a,l=0,s=Int32Array.from([0,0,0]);for(;!r;){s=Int32Array.from([0,0,0]),a=bn.findGuardPattern(t,l,!1,this.START_END_PATTERN,s);let u=a[0];l=a[1];let h=u-(l-u);h>=0&&(r=t.isRange(h,u,!1))}return a}static checkChecksum(t){return bn.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let a=parseInt(t.charAt(r-1),10);return bn.getStandardUPCEANChecksum(t.substring(0,r-1))===a}static getStandardUPCEANChecksum(t){let r=t.length,a=0;for(let l=r-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new z;a+=s}a*=3;for(let l=r-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new z;a+=s}return(1e3-a)%10}static decodeEnd(t,r){return bn.findGuardPattern(t,r,!1,bn.START_END_PATTERN,new Int32Array(bn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,a,l){return this.findGuardPattern(t,r,a,l,new Int32Array(l.length))}static findGuardPattern(t,r,a,l,s){let u=t.getSize();r=a?t.getNextUnset(r):t.getNextSet(r);let h=0,p=r,v=l.length,A=a;for(let _=r;_<u;_++)if(t.get(_)!==A)s[h]++;else{if(h===v-1){if(on.patternMatchVariance(s,l,bn.MAX_INDIVIDUAL_VARIANCE)<bn.MAX_AVG_VARIANCE)return Int32Array.from([p,_]);p+=s[0]+s[1];let D=s.slice(2,s.length-1);for(let F=0;F<h-1;F++)s[F]=D[F];s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,A=!A}throw new M}static decodeDigit(t,r,a,l){this.recordPattern(t,a,r);let s=this.MAX_AVG_VARIANCE,u=-1,h=l.length;for(let p=0;p<h;p++){let v=l[p],A=on.patternMatchVariance(r,v,bn.MAX_INDIVIDUAL_VARIANCE);A<s&&(s=A,u=p)}if(u>=0)return u;throw new M}}bn.MAX_AVG_VARIANCE=.48,bn.MAX_INDIVIDUAL_VARIANCE=.7,bn.START_END_PATTERN=Int32Array.from([1,1,1]),bn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),bn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),bn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ll{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(r,a,l),u=l.toString(),h=ll.parseExtensionString(u),p=[new Ue((a[0]+a[1])/2,t),new Ue(s,t)],v=new Re(u,null,0,p,Te.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&v.putAllMetadata(h),v}decodeMiddle(t,r,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=r[1],h=0;for(let v=0;v<5&&u<s;v++){let A=bn.decodeDigit(t,l,u,bn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+A%10);for(let _ of l)u+=_;A>=10&&(h|=1<<4-v),v!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(a.length!==5)throw new M;let p=this.determineCheckDigit(h);if(ll.extensionChecksum(a.toString())!==p)throw new M;return u}static extensionChecksum(t){let r=t.length,a=0;for(let l=r-2;l>=0;l-=2)a+=t.charAt(l).charCodeAt(0)-48;a*=3;for(let l=r-1;l>=0;l-=2)a+=t.charAt(l).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new M}static parseExtensionString(t){if(t.length!==5)return null;let r=ll.parseExtension5String(t);return r==null?null:new Map([[we.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let a=parseInt(t.substring(1)),l=(a/100).toString(),s=a%100,u=s<10?"0"+s:s.toString();return r+l+"."+u}}class Is{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(r,a,l),u=l.toString(),h=Is.parseExtensionString(u),p=[new Ue((a[0]+a[1])/2,t),new Ue(s,t)],v=new Re(u,null,0,p,Te.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&v.putAllMetadata(h),v}decodeMiddle(t,r,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=r[1],h=0;for(let p=0;p<2&&u<s;p++){let v=bn.decodeDigit(t,l,u,bn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+v%10);for(let A of l)u+=A;v>=10&&(h|=1<<1-p),p!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(a.length!==2)throw new M;if(parseInt(a.toString())%4!==h)throw new M;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[we.ISSUE_NUMBER,parseInt(t)]])}}class sl{static decodeRow(t,r,a){let l=bn.findGuardPattern(r,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ll().decodeRow(t,r,l)}catch{return new Is().decodeRow(t,r,l)}}}sl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Tt extends bn{constructor(){super(),this.decodeRowStringBuffer="",Tt.L_AND_G_PATTERNS=Tt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=Tt.L_PATTERNS[t-10],a=new Int32Array(r.length);for(let l=0;l<r.length;l++)a[l]=r[r.length-l-1];Tt.L_AND_G_PATTERNS[t]=a}}decodeRow(t,r,a){let l=Tt.findStartGuardPattern(r),s=a==null?null:a.get(ne.NEED_RESULT_POINT_CALLBACK);if(s!=null){const Oe=new Ue((l[0]+l[1])/2,t);s.foundPossibleResultPoint(Oe)}let u=this.decodeMiddle(r,l,this.decodeRowStringBuffer),h=u.rowOffset,p=u.resultString;if(s!=null){const Oe=new Ue(h,t);s.foundPossibleResultPoint(Oe)}let v=this.decodeEnd(r,h);if(s!=null){const Oe=new Ue((v[0]+v[1])/2,t);s.foundPossibleResultPoint(Oe)}let A=v[1],_=A+(A-v[0]);if(_>=r.getSize()||!r.isRange(A,_,!1))throw new M;let D=p.toString();if(D.length<8)throw new z;if(!Tt.checkChecksum(D))throw new X;let F=(l[1]+l[0])/2,Q=(v[1]+v[0])/2,$=this.getBarcodeFormat(),se=[new Ue(F,t),new Ue(Q,t)],ge=new Re(D,null,0,se,$,new Date().getTime()),Be=0;try{let Oe=sl.decodeRow(t,r,v[1]);ge.putMetadata(we.UPC_EAN_EXTENSION,Oe.getText()),ge.putAllMetadata(Oe.getResultMetadata()),ge.addResultPoints(Oe.getResultPoints()),Be=Oe.getText().length}catch{}let ke=a==null?null:a.get(ne.ALLOWED_EAN_EXTENSIONS);if(ke!=null){let Oe=!1;for(let wt in ke)if(Be.toString()===wt){Oe=!0;break}if(!Oe)throw new M}return ge}decodeEnd(t,r){return Tt.findGuardPattern(t,r,!1,Tt.START_END_PATTERN,new Int32Array(Tt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return Tt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let a=parseInt(t.charAt(r-1),10);return Tt.getStandardUPCEANChecksum(t.substring(0,r-1))===a}static getStandardUPCEANChecksum(t){let r=t.length,a=0;for(let l=r-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new z;a+=s}a*=3;for(let l=r-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new z;a+=s}return(1e3-a)%10}}class Gr extends Tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=r[1],h=0;for(let v=0;v<6&&u<s;v++){let A=Tt.decodeDigit(t,l,u,Tt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+A%10);for(let _ of l)u+=_;A>=10&&(h|=1<<5-v)}a=Gr.determineFirstDigit(a,h),u=Tt.findGuardPattern(t,u,!0,Tt.MIDDLE_PATTERN,new Int32Array(Tt.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&u<s;v++){let A=Tt.decodeDigit(t,l,u,Tt.L_PATTERNS);a+=String.fromCharCode(48+A);for(let _ of l)u+=_}return{rowOffset:u,resultString:a}}getBarcodeFormat(){return Te.EAN_13}static determineFirstDigit(t,r){for(let a=0;a<10;a++)if(r===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new M}}Gr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Aa extends Tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,a){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=r[1];for(let p=0;p<4&&u<s;p++){let v=Tt.decodeDigit(t,l,u,Tt.L_PATTERNS);a+=String.fromCharCode(48+v);for(let A of l)u+=A}u=Tt.findGuardPattern(t,u,!0,Tt.MIDDLE_PATTERN,new Int32Array(Tt.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<4&&u<s;p++){let v=Tt.decodeDigit(t,l,u,Tt.L_PATTERNS);a+=String.fromCharCode(48+v);for(let A of l)u+=A}return{rowOffset:u,resultString:a}}getBarcodeFormat(){return Te.EAN_8}}class ol extends Tt{constructor(){super(...arguments),this.ean13Reader=new Gr}getBarcodeFormat(){return Te.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,a))}decodeMiddle(t,r,a){return this.ean13Reader.decodeMiddle(t,r,a)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let a=new Re(r.substring(1),null,null,t.getResultPoints(),Te.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new M}reset(){this.ean13Reader.reset()}}class er extends Tt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,a){const l=this.decodeMiddleCounters.map(v=>v);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const s=t.getSize();let u=r[1],h=0;for(let v=0;v<6&&u<s;v++){const A=er.decodeDigit(t,l,u,er.L_AND_G_PATTERNS);a+=String.fromCharCode(48+A%10);for(let _ of l)u+=_;A>=10&&(h|=1<<5-v)}let p=er.determineNumSysAndCheckDigit(a,h);return{rowOffset:u,resultString:p}}decodeEnd(t,r){return er.findGuardPatternWithoutCounters(t,r,!0,er.MIDDLE_END_PATTERN)}checkChecksum(t){return Tt.checkChecksum(er.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let a=0;a<=1;a++)for(let l=0;l<10;l++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][l]){let s=String.fromCharCode(48+a),u=String.fromCharCode(48+l);return s+t+u}throw M.getNotFoundInstance()}getBarcodeFormat(){return Te.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(s=>s.charCodeAt(0)),a=new ve;a.append(t.charAt(0));let l=r[5];switch(l){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(l),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(l);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()}}er.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),er.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class _s extends on{constructor(t){super();let r=t==null?null:t.get(ne.POSSIBLE_FORMATS),a=[];m(r)?(a.push(new Gr),a.push(new ol),a.push(new Aa),a.push(new er)):(r.indexOf(Te.EAN_13)>-1&&a.push(new Gr),r.indexOf(Te.UPC_A)>-1&&a.push(new ol),r.indexOf(Te.EAN_8)>-1&&a.push(new Aa),r.indexOf(Te.UPC_E)>-1&&a.push(new er)),this.readers=a}decodeRow(t,r,a){for(let l of this.readers)try{const s=l.decodeRow(t,r,a),u=s.getBarcodeFormat()===Te.EAN_13&&s.getText().charAt(0)==="0",h=a==null?null:a.get(ne.POSSIBLE_FORMATS),p=h==null||h.includes(Te.UPC_A);if(u&&p){const v=s.getRawBytes(),A=new Re(s.getText().substring(1),v,v?v.length:null,s.getResultPoints(),Te.UPC_A);return A.putAllMetadata(s.getResultMetadata()),A}return s}catch{}throw new M}reset(){for(let t of this.readers)t.reset()}}class Xn extends on{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let a=0;a<r.length;a++)if(on.patternMatchVariance(t,r[a],Xn.MAX_INDIVIDUAL_VARIANCE)<Xn.MAX_AVG_VARIANCE)return a;throw new M}static count(t){return it.sum(new Int32Array(t))}static increment(t,r){let a=0,l=r[0];for(let s=1;s<t.length;s++)r[s]>l&&(l=r[s],a=s);t[a]++}static decrement(t,r){let a=0,l=r[0];for(let s=1;s<t.length;s++)r[s]<l&&(l=r[s],a=s);t[a]--}static isFinderPattern(t){let r=t[0]+t[1],a=r+t[2]+t[3],l=r/a;if(l>=Xn.MIN_FINDER_PATTERN_RATIO&&l<=Xn.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let h of t)h>u&&(u=h),h<s&&(s=h);return u<10*s}return!1}}Xn.MAX_AVG_VARIANCE=.2,Xn.MAX_INDIVIDUAL_VARIANCE=.45,Xn.MIN_FINDER_PATTERN_RATIO=9.5/12,Xn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Sa{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Sa))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Na{constructor(t,r,a,l,s){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ue(a,s)),this.resultPoints.push(new Ue(l,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Na))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Xr{constructor(){}static getRSSvalue(t,r,a){let l=0;for(let p of t)l+=p;let s=0,u=0,h=t.length;for(let p=0;p<h-1;p++){let v;for(v=1,u|=1<<p;v<t[p];v++,u&=~(1<<p)){let A=Xr.combins(l-v-1,h-p-2);if(a&&u===0&&l-v-(h-p-1)>=h-p-1&&(A-=Xr.combins(l-v-(h-p),h-p-2)),h-p-1>1){let _=0;for(let D=l-v-(h-p-2);D>r;D--)_+=Xr.combins(l-v-D-1,h-p-3);A-=_*(h-1-p)}else l-v>r&&A--;s+=A}l-=v}return s}static combins(t,r){let a,l;t-r>r?(l=r,a=t-r):(l=t-r,a=r);let s=1,u=1;for(let h=t;h>a;h--)s*=h,u<=l&&(s/=u,u++);for(;u<=l;)s/=u,u++;return s}}class zo{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let a=12*r,l=new le(a),s=0,h=t[0].getRightChar().getValue();for(let p=11;p>=0;--p)(h&1<<p)!=0&&l.set(s),s++;for(let p=1;p<t.length;++p){let v=t[p],A=v.getLeftChar().getValue();for(let _=11;_>=0;--_)(A&1<<_)!=0&&l.set(s),s++;if(v.getRightChar()!=null){let _=v.getRightChar().getValue();for(let D=11;D>=0;--D)(_&1<<D)!=0&&l.set(s),s++}}return l}}class Ta{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ml{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Kn extends Ml{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Kn.FNC1}}Kn.FNC1="$";class oa extends Ml{constructor(t,r,a){super(t),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ur extends Ml{constructor(t,r,a){if(super(t),r<0||r>10||a<0||a>10)throw new z;this.firstDigit=r,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ur.FNC1}isSecondDigitFNC1(){return this.secondDigit===ur.FNC1}isAnyFNC1(){return this.firstDigit===ur.FNC1||this.secondDigit===ur.FNC1}}ur.FNC1=10;class Pe{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new M;let r=t.substring(0,2);for(let s of Pe.TWO_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===Pe.VARIABLE_LENGTH?Pe.processVariableAI(2,s[2],t):Pe.processFixedAI(2,s[1],t);if(t.length<3)throw new M;let a=t.substring(0,3);for(let s of Pe.THREE_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===Pe.VARIABLE_LENGTH?Pe.processVariableAI(3,s[2],t):Pe.processFixedAI(3,s[1],t);for(let s of Pe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===Pe.VARIABLE_LENGTH?Pe.processVariableAI(4,s[2],t):Pe.processFixedAI(4,s[1],t);if(t.length<4)throw new M;let l=t.substring(0,4);for(let s of Pe.FOUR_DIGIT_DATA_LENGTH)if(s[0]===l)return s[1]===Pe.VARIABLE_LENGTH?Pe.processVariableAI(4,s[2],t):Pe.processFixedAI(4,s[1],t);throw new M}static processFixedAI(t,r,a){if(a.length<t)throw new M;let l=a.substring(0,t);if(a.length<t+r)throw new M;let s=a.substring(t,t+r),u=a.substring(t+r),h="("+l+")"+s,p=Pe.parseFieldsInGeneralPurpose(u);return p==null?h:h+p}static processVariableAI(t,r,a){let l=a.substring(0,t),s;a.length<t+r?s=a.length:s=t+r;let u=a.substring(t,s),h=a.substring(s),p="("+l+")"+u,v=Pe.parseFieldsInGeneralPurpose(h);return v==null?p:p+v}}Pe.VARIABLE_LENGTH=[],Pe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Pe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Pe.VARIABLE_LENGTH,20],["22",Pe.VARIABLE_LENGTH,29],["30",Pe.VARIABLE_LENGTH,8],["37",Pe.VARIABLE_LENGTH,8],["90",Pe.VARIABLE_LENGTH,30],["91",Pe.VARIABLE_LENGTH,30],["92",Pe.VARIABLE_LENGTH,30],["93",Pe.VARIABLE_LENGTH,30],["94",Pe.VARIABLE_LENGTH,30],["95",Pe.VARIABLE_LENGTH,30],["96",Pe.VARIABLE_LENGTH,30],["97",Pe.VARIABLE_LENGTH,3],["98",Pe.VARIABLE_LENGTH,30],["99",Pe.VARIABLE_LENGTH,30]],Pe.THREE_DIGIT_DATA_LENGTH=[["240",Pe.VARIABLE_LENGTH,30],["241",Pe.VARIABLE_LENGTH,30],["242",Pe.VARIABLE_LENGTH,6],["250",Pe.VARIABLE_LENGTH,30],["251",Pe.VARIABLE_LENGTH,30],["253",Pe.VARIABLE_LENGTH,17],["254",Pe.VARIABLE_LENGTH,20],["400",Pe.VARIABLE_LENGTH,30],["401",Pe.VARIABLE_LENGTH,30],["402",17],["403",Pe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Pe.VARIABLE_LENGTH,20],["421",Pe.VARIABLE_LENGTH,15],["422",3],["423",Pe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Pe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Pe.VARIABLE_LENGTH,15],["391",Pe.VARIABLE_LENGTH,18],["392",Pe.VARIABLE_LENGTH,15],["393",Pe.VARIABLE_LENGTH,18],["703",Pe.VARIABLE_LENGTH,30]],Pe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Pe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Pe.VARIABLE_LENGTH,20],["8003",Pe.VARIABLE_LENGTH,30],["8004",Pe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Pe.VARIABLE_LENGTH,30],["8008",Pe.VARIABLE_LENGTH,12],["8018",18],["8020",Pe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Pe.VARIABLE_LENGTH,70],["8200",Pe.VARIABLE_LENGTH,70]];class dr{constructor(t){this.buffer=new ve,this.information=t}decodeAllCodes(t,r){let a=r,l=null;do{let s=this.decodeGeneralPurposeField(a,l),u=Pe.parseFieldsInGeneralPurpose(s.getNewString());if(u!=null&&t.append(u),s.isRemaining()?l=""+s.getRemainingValue():l=null,a===s.getNewPosition())break;a=s.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(t,4);return s===0?new ur(this.information.getSize(),ur.FNC1,ur.FNC1):new ur(this.information.getSize(),s-1,ur.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),a=(r-8)/11,l=(r-8)%11;return new ur(t+7,a,l)}extractNumericValueFromBitArray(t,r){return dr.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,a){let l=0;for(let s=0;s<a;++s)t.get(r+s)&&(l|=1<<a-s-1);return l}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new oa(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new oa(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let a=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(a!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new oa(this.current.getPosition(),this.buffer.toString()):r=new oa(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Ta(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new oa(this.current.getPosition(),this.buffer.toString());return new Ta(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ta(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new oa(this.current.getPosition(),this.buffer.toString());return new Ta(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ta(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new oa(this.current.getPosition(),this.buffer.toString());return new Ta(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ta(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Kn(t+5,Kn.FNC1);if(r>=5&&r<15)return new Kn(t+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new Kn(t+7,""+(a+1));if(a>=90&&a<116)return new Kn(t+7,""+(a+7));let l=this.extractNumericValueFromBitArray(t,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new z}return new Kn(t+8,s)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Kn(t+5,Kn.FNC1);if(r>=5&&r<15)return new Kn(t+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new Kn(t+6,""+(a+33));let l;switch(a){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Je("Decoding invalid alphanumeric value: "+a)}return new Kn(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class On{constructor(t){this.information=t,this.generalDecoder=new dr(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wt extends On{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,a)}encodeCompressedGtinWithoutAI(t,r,a){for(let l=0;l<4;++l){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*l,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}Wt.appendCheckDigit(t,a)}static appendCheckDigit(t,r){let a=0;for(let l=0;l<13;l++){let s=t.charAt(l+r).charCodeAt(0)-48;a+=(l&1)===0?3*s:s}a=10-a%10,a===10&&(a=0),t.append(a)}}Wt.GTIN_SIZE=40;class Ir extends Wt{constructor(t){super(t)}parseInformation(){let t=new ve;t.append("(01)");let r=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Ir.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,Ir.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,Ir.HEADER_SIZE+44)}}Ir.HEADER_SIZE=4;class gi extends On{constructor(t){super(t)}parseInformation(){let t=new ve;return this.getGeneralDecoder().decodeAllCodes(t,gi.HEADER_SIZE)}}gi.HEADER_SIZE=5;class Bl extends Wt{constructor(t){super(t)}encodeCompressedWeight(t,r,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(t,l);let s=this.checkWeight(l),u=1e5;for(let h=0;h<5;++h)s/u===0&&t.append("0"),u/=10;t.append(s)}}class Yr extends Bl{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Yr.HEADER_SIZE+Bl.GTIN_SIZE+Yr.WEIGHT_SIZE)throw new M;let t=new ve;return this.encodeCompressedGtin(t,Yr.HEADER_SIZE),this.encodeCompressedWeight(t,Yr.HEADER_SIZE+Bl.GTIN_SIZE,Yr.WEIGHT_SIZE),t.toString()}}Yr.HEADER_SIZE=5,Yr.WEIGHT_SIZE=15;class Uo extends Yr{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class cl extends Yr{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class br extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<br.HEADER_SIZE+Wt.GTIN_SIZE)throw new M;let t=new ve;this.encodeCompressedGtin(t,br.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(br.HEADER_SIZE+Wt.GTIN_SIZE,br.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(br.HEADER_SIZE+Wt.GTIN_SIZE+br.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()}}br.HEADER_SIZE=8,br.LAST_DIGIT_SIZE=2;class An extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<An.HEADER_SIZE+Wt.GTIN_SIZE)throw new M;let t=new ve;this.encodeCompressedGtin(t,An.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+Wt.GTIN_SIZE,An.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(An.HEADER_SIZE+Wt.GTIN_SIZE+An.LAST_DIGIT_SIZE,An.FIRST_THREE_DIGITS_SIZE);a/100==0&&t.append("0"),a/10==0&&t.append("0"),t.append(a);let l=this.getGeneralDecoder().decodeGeneralPurposeField(An.HEADER_SIZE+Wt.GTIN_SIZE+An.LAST_DIGIT_SIZE+An.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}An.HEADER_SIZE=8,An.LAST_DIGIT_SIZE=2,An.FIRST_THREE_DIGITS_SIZE=10;class Ft extends Bl{constructor(t,r,a){super(t),this.dateCode=a,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Ft.HEADER_SIZE+Ft.GTIN_SIZE+Ft.WEIGHT_SIZE+Ft.DATE_SIZE)throw new M;let t=new ve;return this.encodeCompressedGtin(t,Ft.HEADER_SIZE),this.encodeCompressedWeight(t,Ft.HEADER_SIZE+Ft.GTIN_SIZE,Ft.WEIGHT_SIZE),this.encodeCompressedDate(t,Ft.HEADER_SIZE+Ft.GTIN_SIZE+Ft.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Ft.DATE_SIZE);if(a==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=a%32;a/=32;let s=a%12+1;a/=12;let u=a;u/10==0&&t.append("0"),t.append(u),s/10==0&&t.append("0"),t.append(s),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}Ft.HEADER_SIZE=8,Ft.WEIGHT_SIZE=20,Ft.DATE_SIZE=16;function mi(I){try{if(I.get(1))return new Ir(I);if(!I.get(2))return new gi(I);switch(dr.extractNumericValueFromBitArray(I,1,4)){case 4:return new Uo(I);case 5:return new cl(I)}switch(dr.extractNumericValueFromBitArray(I,1,5)){case 12:return new br(I);case 13:return new An(I)}switch(dr.extractNumericValueFromBitArray(I,1,7)){case 56:return new Ft(I,"310","11");case 57:return new Ft(I,"320","11");case 58:return new Ft(I,"310","13");case 59:return new Ft(I,"320","13");case 60:return new Ft(I,"310","15");case 61:return new Ft(I,"320","15");case 62:return new Ft(I,"310","17");case 63:return new Ft(I,"320","17")}}catch(t){throw console.log(t),new Je("unknown decoder: "+I)}}class fr{constructor(t,r,a,l){this.leftchar=t,this.rightchar=r,this.finderpattern=a,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof fr?fr.equalsOrNull(t.leftchar,r.leftchar)&&fr.equalsOrNull(t.rightchar,r.rightchar)&&fr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:fr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Sn{constructor(t,r,a){this.pairs=t,this.rowNumber=r,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof Sn?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let a;return t.forEach((l,s)=>{r.forEach(u=>{l.getLeftChar().getValue()===u.getLeftChar().getValue()&&l.getRightChar().getValue()===u.getRightChar().getValue()&&l.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(a=!0)})}),a}}class Ie extends Xn{constructor(t){super(...arguments),this.pairs=new Array(Ie.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,a){this.pairs.length=0,this.startFromEven=!1;try{return Ie.constructResult(this.decodeRow2pairs(t,r))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,Ie.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(s){if(s instanceof M){if(!this.pairs.length)throw new M;a=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new M}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let a=r;a<this.rows.length;a++){let l=this.rows[a];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(l.getPairs()),!Ie.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(t);s.push(l);try{return this.checkRows(s,a+1)}catch(u){this.verbose&&console.log(u)}}throw new M}static isValidSequence(t){for(let r of Ie.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let a=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=r[l]){a=!1;break}if(a)return!0}return!1}storeRow(t,r){let a=0,l=!1,s=!1;for(;a<this.rows.length;){let u=this.rows[a];if(u.getRowNumber()>t){s=u.isEquivalent(this.pairs);break}l=u.isEquivalent(this.pairs),a++}s||l||Ie.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Sn(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let a of r)if(a.getPairs().length!==t.length){for(let l of a.getPairs())for(let s of t)if(fr.equals(l,s))break}}static isPartialRow(t,r){for(let a of r){let l=!0;for(let s of t){let u=!1;for(let h of a.getPairs())if(s.equals(h)){u=!0;break}if(!u){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=zo.buildBitArray(t),l=mi(r).parseInformation(),s=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),h=[s[0],s[1],u[0],u[1]];return new Re(l,null,null,h,Te.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),a=t.getRightChar();if(a==null)return!1;let l=a.getChecksumPortion(),s=2;for(let h=1;h<this.pairs.size();++h){let p=this.pairs.get(h);l+=p.getLeftChar().getChecksumPortion(),s++;let v=p.getRightChar();v!=null&&(l+=v.getChecksumPortion(),s++)}return l%=211,211*(s-4)+l==r.getValue()}static getNextSecondBar(t,r){let a;return t.get(r)?(a=t.getNextUnset(r),a=t.getNextSet(a)):(a=t.getNextSet(r),a=t.getNextUnset(a)),a}retrieveNextPair(t,r,a){let l=r.length%2==0;this.startFromEven&&(l=!l);let s,u=!0,h=-1;do this.findNextPair(t,r,h),s=this.parseFoundFinderPattern(t,a,l),s==null?h=Ie.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let p=this.decodeDataCharacter(t,s,l,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new M;let v;try{v=this.decodeDataCharacter(t,s,l,!1)}catch(A){v=null,this.verbose&&console.log(A)}return new fr(p,v,s,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u;a>=0?u=a:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let h=r.length%2!=0;this.startFromEven&&(h=!h);let p=!1;for(;u<s&&(p=!t.get(u),!!p);)u++;let v=0,A=u;for(let _=u;_<s;_++)if(t.get(_)!=p)l[v]++;else{if(v==3){if(h&&Ie.reverseCounters(l),Ie.isFinderPattern(l)){this.startEnd[0]=A,this.startEnd[1]=_;return}h&&Ie.reverseCounters(l),A+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,p=!p}throw new M}static reverseCounters(t){let r=t.length;for(let a=0;a<r/2;++a){let l=t[a];t[a]=t[r-a-1],t[r-a-1]=l}}parseFoundFinderPattern(t,r,a){let l,s,u;if(a){let v=this.startEnd[0]-1;for(;v>=0&&!t.get(v);)v--;v++,l=this.startEnd[0]-v,s=v,u=this.startEnd[1]}else s=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),l=u-this.startEnd[1];let h=this.getDecodeFinderCounters();Y.arraycopy(h,0,h,1,h.length-1),h[0]=l;let p;try{p=this.parseFinderValue(h,Ie.FINDER_PATTERNS)}catch{return null}return new Na(p,[s,u],s,u,r)}decodeDataCharacter(t,r,a,l){let s=this.getDataCharacterCounters();for(let Yt=0;Yt<s.length;Yt++)s[Yt]=0;if(l)Ie.recordPatternInReverse(t,r.getStartEnd()[0],s);else{Ie.recordPattern(t,r.getStartEnd()[1],s);for(let Yt=0,Zn=s.length-1;Yt<Zn;Yt++,Zn--){let gr=s[Yt];s[Yt]=s[Zn],s[Zn]=gr}}let u=17,h=it.sum(new Int32Array(s))/u,p=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new M;let v=this.getOddCounts(),A=this.getEvenCounts(),_=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Yt=0;Yt<s.length;Yt++){let Zn=1*s[Yt]/h,gr=Zn+.5;if(gr<1){if(Zn<.3)throw new M;gr=1}else if(gr>8){if(Zn>8.7)throw new M;gr=8}let Ii=Yt/2;(Yt&1)==0?(v[Ii]=gr,_[Ii]=Zn-gr):(A[Ii]=gr,D[Ii]=Zn-gr)}this.adjustOddEvenCounts(u);let F=4*r.getValue()+(a?0:2)+(l?0:1)-1,Q=0,$=0;for(let Yt=v.length-1;Yt>=0;Yt--){if(Ie.isNotA1left(r,a,l)){let Zn=Ie.WEIGHTS[F][2*Yt];$+=v[Yt]*Zn}Q+=v[Yt]}let se=0;for(let Yt=A.length-1;Yt>=0;Yt--)if(Ie.isNotA1left(r,a,l)){let Zn=Ie.WEIGHTS[F][2*Yt+1];se+=A[Yt]*Zn}let ge=$+se;if((Q&1)!=0||Q>13||Q<4)throw new M;let Be=(13-Q)/2,ke=Ie.SYMBOL_WIDEST[Be],Oe=9-ke,wt=Xr.getRSSvalue(v,ke,!0),st=Xr.getRSSvalue(A,Oe,!1),Nn=Ie.EVEN_TOTAL_SUBSET[Be],vr=Ie.GSUM[Be],tr=wt*Nn+st+vr;return new Sa(tr,ge)}static isNotA1left(t,r,a){return!(t.getValue()==0&&r&&a)}adjustOddEvenCounts(t){let r=it.sum(new Int32Array(this.getOddCounts())),a=it.sum(new Int32Array(this.getEvenCounts())),l=!1,s=!1;r>13?s=!0:r<4&&(l=!0);let u=!1,h=!1;a>13?h=!0:a<4&&(u=!0);let p=r+a-t,v=(r&1)==1,A=(a&1)==0;if(p==1)if(v){if(A)throw new M;s=!0}else{if(!A)throw new M;h=!0}else if(p==-1)if(v){if(A)throw new M;l=!0}else{if(!A)throw new M;u=!0}else if(p==0){if(v){if(!A)throw new M;r<a?(l=!0,h=!0):(s=!0,u=!0)}else if(A)throw new M}else throw new M;if(l){if(s)throw new M;Ie.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Ie.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(h)throw new M;Ie.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Ie.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ie.SYMBOL_WIDEST=[7,5,4,3,1],Ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ie.GSUM=[0,348,1388,2948,3988],Ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ie.FINDER_PAT_A=0,Ie.FINDER_PAT_B=1,Ie.FINDER_PAT_C=2,Ie.FINDER_PAT_D=3,Ie.FINDER_PAT_E=4,Ie.FINDER_PAT_F=5,Ie.FINDER_PATTERN_SEQUENCES=[[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_C,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_C],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_E,Ie.FINDER_PAT_B,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F],[Ie.FINDER_PAT_A,Ie.FINDER_PAT_A,Ie.FINDER_PAT_B,Ie.FINDER_PAT_B,Ie.FINDER_PAT_C,Ie.FINDER_PAT_D,Ie.FINDER_PAT_D,Ie.FINDER_PAT_E,Ie.FINDER_PAT_E,Ie.FINDER_PAT_F,Ie.FINDER_PAT_F]],Ie.MAX_PAIRS=11;class Po extends Sa{constructor(t,r,a){super(t,r),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Gt extends Xn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,a){const l=this.decodePair(r,!1,t,a);Gt.addOrTally(this.possibleLeftPairs,l),r.reverse();let s=this.decodePair(r,!0,t,a);Gt.addOrTally(this.possibleRightPairs,s),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&Gt.checkChecksum(u,h))return Gt.constructResult(u,h)}throw new M}static addOrTally(t,r){if(r==null)return;let a=!1;for(let l of t)if(l.getValue()===r.getValue()){l.incrementCount(),a=!0;break}a||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let a=4537077*t.getValue()+r.getValue(),l=new String(a).toString(),s=new ve;for(let v=13-l.length;v>0;v--)s.append("0");s.append(l);let u=0;for(let v=0;v<13;v++){let A=s.charAt(v).charCodeAt(0)-48;u+=(v&1)===0?3*A:A}u=10-u%10,u===10&&(u=0),s.append(u.toString());let h=t.getFinderPattern().getResultPoints(),p=r.getFinderPattern().getResultPoints();return new Re(s.toString(),null,0,[h[0],h[1],p[0],p[1]],Te.RSS_14,new Date().getTime())}static checkChecksum(t,r){let a=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,a===l}decodePair(t,r,a,l){try{let s=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,a,r,s),h=l==null?null:l.get(ne.NEED_RESULT_POINT_CALLBACK);if(h!=null){let A=(s[0]+s[1])/2;r&&(A=t.getSize()-1-A),h.foundPossibleResultPoint(new Ue(A,a))}let p=this.decodeDataCharacter(t,u,!0),v=this.decodeDataCharacter(t,u,!1);return new Po(1597*p.getValue()+v.getValue(),p.getChecksumPortion()+4*v.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,a){let l=this.getDataCharacterCounters();for(let se=0;se<l.length;se++)l[se]=0;if(a)on.recordPatternInReverse(t,r.getStartEnd()[0],l);else{on.recordPattern(t,r.getStartEnd()[1]+1,l);for(let se=0,ge=l.length-1;se<ge;se++,ge--){let Be=l[se];l[se]=l[ge],l[ge]=Be}}let s=a?16:15,u=it.sum(new Int32Array(l))/s,h=this.getOddCounts(),p=this.getEvenCounts(),v=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let se=0;se<l.length;se++){let ge=l[se]/u,Be=Math.floor(ge+.5);Be<1?Be=1:Be>8&&(Be=8);let ke=Math.floor(se/2);(se&1)===0?(h[ke]=Be,v[ke]=ge-Be):(p[ke]=Be,A[ke]=ge-Be)}this.adjustOddEvenCounts(a,s);let _=0,D=0;for(let se=h.length-1;se>=0;se--)D*=9,D+=h[se],_+=h[se];let F=0,Q=0;for(let se=p.length-1;se>=0;se--)F*=9,F+=p[se],Q+=p[se];let $=D+3*F;if(a){if((_&1)!==0||_>12||_<4)throw new M;let se=(12-_)/2,ge=Gt.OUTSIDE_ODD_WIDEST[se],Be=9-ge,ke=Xr.getRSSvalue(h,ge,!1),Oe=Xr.getRSSvalue(p,Be,!0),wt=Gt.OUTSIDE_EVEN_TOTAL_SUBSET[se],st=Gt.OUTSIDE_GSUM[se];return new Sa(ke*wt+Oe+st,$)}else{if((Q&1)!==0||Q>10||Q<4)throw new M;let se=(10-Q)/2,ge=Gt.INSIDE_ODD_WIDEST[se],Be=9-ge,ke=Xr.getRSSvalue(h,ge,!0),Oe=Xr.getRSSvalue(p,Be,!1),wt=Gt.INSIDE_ODD_TOTAL_SUBSET[se],st=Gt.INSIDE_GSUM[se];return new Sa(Oe*wt+ke+st,$)}}findFinderPattern(t,r){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),s=!1,u=0;for(;u<l&&(s=!t.get(u),r!==s);)u++;let h=0,p=u;for(let v=u;v<l;v++)if(t.get(v)!==s)a[h]++;else{if(h===3){if(Xn.isFinderPattern(a))return[p,v];p+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,h--}else h++;a[h]=1,s=!s}throw new M}parseFoundFinderPattern(t,r,a,l){let s=t.get(l[0]),u=l[0]-1;for(;u>=0&&s!==t.get(u);)u--;u++;const h=l[0]-u,p=this.getDecodeFinderCounters(),v=new Int32Array(p.length);Y.arraycopy(p,0,v,1,p.length-1),v[0]=h;const A=this.parseFinderValue(v,Gt.FINDER_PATTERNS);let _=u,D=l[1];return a&&(_=t.getSize()-1-_,D=t.getSize()-1-D),new Na(A,[u,l[1]],_,D,r)}adjustOddEvenCounts(t,r){let a=it.sum(new Int32Array(this.getOddCounts())),l=it.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,h=!1,p=!1;t?(a>12?u=!0:a<4&&(s=!0),l>12?p=!0:l<4&&(h=!0)):(a>11?u=!0:a<5&&(s=!0),l>10?p=!0:l<4&&(h=!0));let v=a+l-r,A=(a&1)===(t?1:0),_=(l&1)===1;if(v===1)if(A){if(_)throw new M;u=!0}else{if(!_)throw new M;p=!0}else if(v===-1)if(A){if(_)throw new M;s=!0}else{if(!_)throw new M;h=!0}else if(v===0){if(A){if(!_)throw new M;a<l?(s=!0,p=!0):(u=!0,h=!0)}else if(_)throw new M}else throw new M;if(s){if(u)throw new M;Xn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Xn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(p)throw new M;Xn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&Xn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Gt.OUTSIDE_GSUM=[0,161,961,2015,2715],Gt.INSIDE_GSUM=[0,336,1036,1516],Gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Gt.INSIDE_ODD_WIDEST=[2,4,6,8],Gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class _r extends on{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const a=t?t.get(ne.POSSIBLE_FORMATS):null,l=t&&t.get(ne.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(Te.EAN_13)||a.includes(Te.UPC_A)||a.includes(Te.EAN_8)||a.includes(Te.UPC_E))&&this.readers.push(new _s(t)),a.includes(Te.CODE_39)&&this.readers.push(new Jt(l)),a.includes(Te.CODE_128)&&this.readers.push(new je),a.includes(Te.ITF)&&this.readers.push(new gt),a.includes(Te.RSS_14)&&this.readers.push(new Gt),a.includes(Te.RSS_EXPANDED)&&this.readers.push(new Ie(this.verbose))):(this.readers.push(new _s(t)),this.readers.push(new Jt),this.readers.push(new _s(t)),this.readers.push(new je),this.readers.push(new gt),this.readers.push(new Gt),this.readers.push(new Ie(this.verbose)))}decodeRow(t,r,a){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,r,a)}catch{}throw new M}reset(){this.readers.forEach(t=>t.reset())}}class _u extends Ae{constructor(t=500,r){super(new _r(r),t,r)}}class jt{constructor(t,r,a){this.ecCodewords=t,this.ecBlocks=[r],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Mt{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class At{constructor(t,r,a,l,s,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=a,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=u;let h=0;const p=u.getECCodewords(),v=u.getECBlocks();for(let A of v)h+=A.getCount()*(A.getDataCodewords()+p);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if((t&1)!==0||(r&1)!==0)throw new z;for(let a of At.VERSIONS)if(a.symbolSizeRows===t&&a.symbolSizeColumns===r)return a;throw new z}toString(){return""+this.versionNumber}static buildVersions(){return[new At(1,10,10,8,8,new jt(5,new Mt(1,3))),new At(2,12,12,10,10,new jt(7,new Mt(1,5))),new At(3,14,14,12,12,new jt(10,new Mt(1,8))),new At(4,16,16,14,14,new jt(12,new Mt(1,12))),new At(5,18,18,16,16,new jt(14,new Mt(1,18))),new At(6,20,20,18,18,new jt(18,new Mt(1,22))),new At(7,22,22,20,20,new jt(20,new Mt(1,30))),new At(8,24,24,22,22,new jt(24,new Mt(1,36))),new At(9,26,26,24,24,new jt(28,new Mt(1,44))),new At(10,32,32,14,14,new jt(36,new Mt(1,62))),new At(11,36,36,16,16,new jt(42,new Mt(1,86))),new At(12,40,40,18,18,new jt(48,new Mt(1,114))),new At(13,44,44,20,20,new jt(56,new Mt(1,144))),new At(14,48,48,22,22,new jt(68,new Mt(1,174))),new At(15,52,52,24,24,new jt(42,new Mt(2,102))),new At(16,64,64,14,14,new jt(56,new Mt(2,140))),new At(17,72,72,16,16,new jt(36,new Mt(4,92))),new At(18,80,80,18,18,new jt(48,new Mt(4,114))),new At(19,88,88,20,20,new jt(56,new Mt(4,144))),new At(20,96,96,22,22,new jt(68,new Mt(4,174))),new At(21,104,104,24,24,new jt(56,new Mt(6,136))),new At(22,120,120,18,18,new jt(68,new Mt(6,175))),new At(23,132,132,20,20,new jt(62,new Mt(8,163))),new At(24,144,144,22,22,new jt(62,new Mt(8,156),new Mt(2,155))),new At(25,8,18,6,16,new jt(7,new Mt(1,5))),new At(26,8,32,6,14,new jt(11,new Mt(1,10))),new At(27,12,26,10,24,new jt(14,new Mt(1,16))),new At(28,12,36,10,16,new jt(18,new Mt(1,22))),new At(29,16,36,14,16,new jt(24,new Mt(1,32))),new At(30,16,48,14,22,new jt(28,new Mt(1,49)))]}}At.VERSIONS=At.buildVersions();class pi{constructor(t){const r=t.getHeight();if(r<8||r>144||(r&1)!==0)throw new z;this.version=pi.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new te(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),a=t.getWidth();return At.getVersionForDimensions(r,a)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,a=4,l=0;const s=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let h=!1,p=!1,v=!1,A=!1;do if(a===s&&l===0&&!h)t[r++]=this.readCorner1(s,u)&255,a-=2,l+=2,h=!0;else if(a===s-2&&l===0&&(u&3)!==0&&!p)t[r++]=this.readCorner2(s,u)&255,a-=2,l+=2,p=!0;else if(a===s+4&&l===2&&(u&7)===0&&!v)t[r++]=this.readCorner3(s,u)&255,a-=2,l+=2,v=!0;else if(a===s-2&&l===0&&(u&7)===4&&!A)t[r++]=this.readCorner4(s,u)&255,a-=2,l+=2,A=!0;else{do a<s&&l>=0&&!this.readMappingMatrix.get(l,a)&&(t[r++]=this.readUtah(a,l,s,u)&255),a-=2,l+=2;while(a>=0&&l<u);a+=1,l+=3;do a>=0&&l<u&&!this.readMappingMatrix.get(l,a)&&(t[r++]=this.readUtah(a,l,s,u)&255),a+=2,l-=2;while(a<s&&l>=0);a+=3,l+=1}while(a<s||l<u);if(r!==this.version.getTotalCodewords())throw new z;return t}readModule(t,r,a,l){return t<0&&(t+=a,r+=4-(a+4&7)),r<0&&(r+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,a,l){let s=0;return this.readModule(t-2,r-2,a,l)&&(s|=1),s<<=1,this.readModule(t-2,r-1,a,l)&&(s|=1),s<<=1,this.readModule(t-1,r-2,a,l)&&(s|=1),s<<=1,this.readModule(t-1,r-1,a,l)&&(s|=1),s<<=1,this.readModule(t-1,r,a,l)&&(s|=1),s<<=1,this.readModule(t,r-2,a,l)&&(s|=1),s<<=1,this.readModule(t,r-1,a,l)&&(s|=1),s<<=1,this.readModule(t,r,a,l)&&(s|=1),s}readCorner1(t,r){let a=0;return this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,1,t,r)&&(a|=1),a<<=1,this.readModule(t-1,2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(2,r-1,t,r)&&(a|=1),a<<=1,this.readModule(3,r-1,t,r)&&(a|=1),a}readCorner2(t,r){let a=0;return this.readModule(t-3,0,t,r)&&(a|=1),a<<=1,this.readModule(t-2,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(0,r-4,t,r)&&(a|=1),a<<=1,this.readModule(0,r-3,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a}readCorner3(t,r){let a=0;return this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(0,r-3,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-3,t,r)&&(a|=1),a<<=1,this.readModule(1,r-2,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a}readCorner4(t,r){let a=0;return this.readModule(t-3,0,t,r)&&(a|=1),a<<=1,this.readModule(t-2,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(2,r-1,t,r)&&(a|=1),a<<=1,this.readModule(3,r-1,t,r)&&(a|=1),a}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new R("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),u=r/l|0,h=a/s|0,p=u*l,v=h*s,A=new te(v,p);for(let _=0;_<u;++_){const D=_*l;for(let F=0;F<h;++F){const Q=F*s;for(let $=0;$<l;++$){const se=_*(l+2)+1+$,ge=D+$;for(let Be=0;Be<s;++Be){const ke=F*(s+2)+1+Be;if(t.get(ke,se)){const Oe=Q+Be;A.set(Oe,ge)}}}}}return A}}class bi{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const a=r.getECBlocks();let l=0;const s=a.getECBlocks();for(let $ of s)l+=$.getCount();const u=new Array(l);let h=0;for(let $ of s)for(let se=0;se<$.getCount();se++){const ge=$.getDataCodewords(),Be=a.getECCodewords()+ge;u[h++]=new bi(ge,new Uint8Array(Be))}const v=u[0].codewords.length-a.getECCodewords(),A=v-1;let _=0;for(let $=0;$<A;$++)for(let se=0;se<h;se++)u[se].codewords[$]=t[_++];const D=r.getVersionNumber()===24,F=D?8:h;for(let $=0;$<F;$++)u[$].codewords[v-1]=t[_++];const Q=u[0].codewords.length;for(let $=v;$<Q;$++)for(let se=0;se<h;se++){const ge=D?(se+8)%h:se,Be=D&&ge>7?$-1:$;u[ge].codewords[Be]=t[_++]}if(_!==t.length)throw new R;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Or{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new R(""+t);let r=0,a=this.bitOffset,l=this.byteOffset;const s=this.bytes;if(a>0){const u=8-a,h=t<u?t:u,p=u-h,v=255>>8-h<<p;r=(s[l]&v)>>p,t-=h,a+=h,a===8&&(a=0,l++)}if(t>0){for(;t>=8;)r=r<<8|s[l]&255,l++,t-=8;if(t>0){const u=8-t,h=255>>u<<u;r=r<<t|(s[l]&h)>>u,a+=t}}return this.bitOffset=a,this.byteOffset=l,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Lt;(function(I){I[I.PAD_ENCODE=0]="PAD_ENCODE",I[I.ASCII_ENCODE=1]="ASCII_ENCODE",I[I.C40_ENCODE=2]="C40_ENCODE",I[I.TEXT_ENCODE=3]="TEXT_ENCODE",I[I.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",I[I.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",I[I.BASE256_ENCODE=6]="BASE256_ENCODE"})(Lt||(Lt={}));class ca{static decode(t){const r=new Or(t),a=new ve,l=new ve,s=new Array;let u=Lt.ASCII_ENCODE;do if(u===Lt.ASCII_ENCODE)u=this.decodeAsciiSegment(r,a,l);else{switch(u){case Lt.C40_ENCODE:this.decodeC40Segment(r,a);break;case Lt.TEXT_ENCODE:this.decodeTextSegment(r,a);break;case Lt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,a);break;case Lt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,a);break;case Lt.BASE256_ENCODE:this.decodeBase256Segment(r,a,s);break;default:throw new z}u=Lt.ASCII_ENCODE}while(u!==Lt.PAD_ENCODE&&r.available()>0);return l.length()>0&&a.append(l.toString()),new He(t,a.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(t,r,a){let l=!1;do{let s=t.readBits(8);if(s===0)throw new z;if(s<=128)return l&&(s+=128),r.append(String.fromCharCode(s-1)),Lt.ASCII_ENCODE;if(s===129)return Lt.PAD_ENCODE;if(s<=229){const u=s-130;u<10&&r.append("0"),r.append(""+u)}else switch(s){case 230:return Lt.C40_ENCODE;case 231:return Lt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:r.append("[)>05"),a.insert(0,"");break;case 237:r.append("[)>06"),a.insert(0,"");break;case 238:return Lt.ANSIX12_ENCODE;case 239:return Lt.TEXT_ENCODE;case 240:return Lt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||t.available()!==0)throw new z;break}}while(t.available()>0);return Lt.ASCII_ENCODE}static decodeC40Segment(t,r){let a=!1;const l=[];let s=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),l);for(let h=0;h<3;h++){const p=l[h];switch(s){case 0:if(p<3)s=p+1;else if(p<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[p];a?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),a=!1):r.append(v)}else throw new z;break;case 1:a?(r.append(String.fromCharCode(p+128)),a=!1):r.append(String.fromCharCode(p)),s=0;break;case 2:if(p<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[p];a?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),a=!1):r.append(v)}else switch(p){case 27:r.append("");break;case 30:a=!0;break;default:throw new z}s=0;break;case 3:a?(r.append(String.fromCharCode(p+224)),a=!1):r.append(String.fromCharCode(p+96)),s=0;break;default:throw new z}}}while(t.available()>0)}static decodeTextSegment(t,r){let a=!1,l=[],s=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),l);for(let h=0;h<3;h++){const p=l[h];switch(s){case 0:if(p<3)s=p+1;else if(p<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[p];a?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),a=!1):r.append(v)}else throw new z;break;case 1:a?(r.append(String.fromCharCode(p+128)),a=!1):r.append(String.fromCharCode(p)),s=0;break;case 2:if(p<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[p];a?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),a=!1):r.append(v)}else switch(p){case 27:r.append("");break;case 30:a=!0;break;default:throw new z}s=0;break;case 3:if(p<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[p];a?(r.append(String.fromCharCode(v.charCodeAt(0)+128)),a=!1):r.append(v),s=0}else throw new z;break;default:throw new z}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const a=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),a);for(let s=0;s<3;s++){const u=a[s];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new z;break}}}while(t.available()>0)}static parseTwoBytes(t,r,a){let l=(t<<8)+r-1,s=Math.floor(l/1600);a[0]=s,l-=s*1600,s=Math.floor(l/40),a[1]=s,a[2]=l-s*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let a=0;a<4;a++){let l=t.readBits(6);if(l===31){const s=8-t.getBitOffset();s!==8&&t.readBits(s);return}(l&32)===0&&(l|=64),r.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,r,a){let l=1+t.getByteOffset();const s=this.unrandomize255State(t.readBits(8),l++);let u;if(s===0?u=t.available()/8|0:s<250?u=s:u=250*(s-249)+this.unrandomize255State(t.readBits(8),l++),u<0)throw new z;const h=new Uint8Array(u);for(let p=0;p<u;p++){if(t.available()<8)throw new z;h[p]=this.unrandomize255State(t.readBits(8),l++)}a.push(h);try{r.append(Ce.decode(h,pe.ISO88591))}catch(p){throw new Je("Platform does not support required encoding: "+p.message)}}static unrandomize255State(t,r){const a=149*r%255+1,l=t-a;return l>=0?l:l+256}}ca.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ca.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ca.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ca.TEXT_SHIFT2_SET_CHARS=ca.C40_SHIFT2_SET_CHARS,ca.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ou{constructor(){this.rsDecoder=new Zt(at.DATA_MATRIX_FIELD_256)}decode(t){const r=new pi(t),a=r.getVersion(),l=r.readCodewords(),s=bi.getDataBlocks(l,a);let u=0;for(let v of s)u+=v.getNumDataCodewords();const h=new Uint8Array(u),p=s.length;for(let v=0;v<p;v++){const A=s[v],_=A.getCodewords(),D=A.getNumDataCodewords();this.correctErrors(_,D);for(let F=0;F<D;F++)h[F*p+v]=_[F]}return ca.decode(h)}correctErrors(t,r){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-r)}catch{throw new X}for(let l=0;l<r;l++)t[l]=a[l]}}class cn{constructor(t){this.image=t,this.rectangleDetector=new Bt(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new M;r=this.shiftToModuleCenter(r);const a=r[0],l=r[1],s=r[2],u=r[3];let h=this.transitionsBetween(a,u)+1,p=this.transitionsBetween(s,u)+1;(h&1)===1&&(h+=1),(p&1)===1&&(p+=1),4*h<7*p&&4*p<7*h&&(h=p=Math.max(h,p));let v=cn.sampleGrid(this.image,a,l,s,u,h,p);return new Ca(v,[a,l,s,u])}static shiftPoint(t,r,a){let l=(r.getX()-t.getX())/(a+1),s=(r.getY()-t.getY())/(a+1);return new Ue(t.getX()+l,t.getY()+s)}static moveAway(t,r,a){let l=t.getX(),s=t.getY();return l<r?l-=1:l+=1,s<a?s-=1:s+=1,new Ue(l,s)}detectSolid1(t){let r=t[0],a=t[1],l=t[3],s=t[2],u=this.transitionsBetween(r,a),h=this.transitionsBetween(a,l),p=this.transitionsBetween(l,s),v=this.transitionsBetween(s,r),A=u,_=[s,r,a,l];return A>h&&(A=h,_[0]=r,_[1]=a,_[2]=l,_[3]=s),A>p&&(A=p,_[0]=a,_[1]=l,_[2]=s,_[3]=r),A>v&&(_[0]=l,_[1]=s,_[2]=r,_[3]=a),_}detectSolid2(t){let r=t[0],a=t[1],l=t[2],s=t[3],u=this.transitionsBetween(r,s),h=cn.shiftPoint(a,l,(u+1)*4),p=cn.shiftPoint(l,a,(u+1)*4),v=this.transitionsBetween(h,r),A=this.transitionsBetween(p,s);return v<A?(t[0]=r,t[1]=a,t[2]=l,t[3]=s):(t[0]=a,t[1]=l,t[2]=s,t[3]=r),t}correctTopRight(t){let r=t[0],a=t[1],l=t[2],s=t[3],u=this.transitionsBetween(r,s),h=this.transitionsBetween(a,s),p=cn.shiftPoint(r,a,(h+1)*4),v=cn.shiftPoint(l,a,(u+1)*4);u=this.transitionsBetween(p,s),h=this.transitionsBetween(v,s);let A=new Ue(s.getX()+(l.getX()-a.getX())/(u+1),s.getY()+(l.getY()-a.getY())/(u+1)),_=new Ue(s.getX()+(r.getX()-a.getX())/(h+1),s.getY()+(r.getY()-a.getY())/(h+1));if(!this.isValid(A))return this.isValid(_)?_:null;if(!this.isValid(_))return A;let D=this.transitionsBetween(p,A)+this.transitionsBetween(v,A),F=this.transitionsBetween(p,_)+this.transitionsBetween(v,_);return D>F?A:_}shiftToModuleCenter(t){let r=t[0],a=t[1],l=t[2],s=t[3],u=this.transitionsBetween(r,s)+1,h=this.transitionsBetween(l,s)+1,p=cn.shiftPoint(r,a,h*4),v=cn.shiftPoint(l,a,u*4);u=this.transitionsBetween(p,s)+1,h=this.transitionsBetween(v,s)+1,(u&1)===1&&(u+=1),(h&1)===1&&(h+=1);let A=(r.getX()+a.getX()+l.getX()+s.getX())/4,_=(r.getY()+a.getY()+l.getY()+s.getY())/4;r=cn.moveAway(r,A,_),a=cn.moveAway(a,A,_),l=cn.moveAway(l,A,_),s=cn.moveAway(s,A,_);let D,F;return p=cn.shiftPoint(r,a,h*4),p=cn.shiftPoint(p,s,u*4),D=cn.shiftPoint(a,r,h*4),D=cn.shiftPoint(D,l,u*4),v=cn.shiftPoint(l,s,h*4),v=cn.shiftPoint(v,a,u*4),F=cn.shiftPoint(s,l,h*4),F=cn.shiftPoint(F,r,u*4),[p,D,v,F]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,a,l,s,u,h){return jn.getInstance().sampleGrid(t,u,h,.5,.5,u-.5,.5,u-.5,h-.5,.5,h-.5,r.getX(),r.getY(),s.getX(),s.getY(),l.getX(),l.getY(),a.getX(),a.getY())}transitionsBetween(t,r){let a=Math.trunc(t.getX()),l=Math.trunc(t.getY()),s=Math.trunc(r.getX()),u=Math.trunc(r.getY()),h=Math.abs(u-l)>Math.abs(s-a);if(h){let $=a;a=l,l=$,$=s,s=u,u=$}let p=Math.abs(s-a),v=Math.abs(u-l),A=-p/2,_=l<u?1:-1,D=a<s?1:-1,F=0,Q=this.image.get(h?l:a,h?a:l);for(let $=a,se=l;$!==s;$+=D){let ge=this.image.get(h?se:$,h?$:se);if(ge!==Q&&(F++,Q=ge),A+=v,A>0){if(se===u)break;se+=_,A-=p}}return F}}class ua{constructor(){this.decoder=new Ou}decode(t,r=null){let a,l;if(r!=null&&r.has(ne.PURE_BARCODE)){const v=ua.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(v),l=ua.NO_POINTS}else{const v=new cn(t.getBlackMatrix()).detect();a=this.decoder.decode(v.getBits()),l=v.getPoints()}const s=a.getRawBytes(),u=new Re(a.getText(),s,8*s.length,l,Te.DATA_MATRIX,Y.currentTimeMillis()),h=a.getByteSegments();h!=null&&u.putMetadata(we.BYTE_SEGMENTS,h);const p=a.getECLevel();return p!=null&&u.putMetadata(we.ERROR_CORRECTION_LEVEL,p),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(r==null||a==null)throw new M;const l=this.moduleSize(r,t);let s=r[1];const u=a[1];let h=r[0];const v=(a[0]-h+1)/l,A=(u-s+1)/l;if(v<=0||A<=0)throw new M;const _=l/2;s+=_,h+=_;const D=new te(v,A);for(let F=0;F<A;F++){const Q=s+F*l;for(let $=0;$<v;$++)t.get(h+$*l,Q)&&D.set($,F)}return D}static moduleSize(t,r){const a=r.getWidth();let l=t[0];const s=t[1];for(;l<a&&r.get(l,s);)l++;if(l===a)throw new M;const u=l-t[0];if(u===0)throw new M;return u}}ua.NO_POINTS=[];class jl extends Ae{constructor(t=500){super(new ua,t)}}var yi;(function(I){I[I.L=0]="L",I[I.M=1]="M",I[I.Q=2]="Q",I[I.H=3]="H"})(yi||(yi={}));class Ct{constructor(t,r,a){this.value=t,this.stringValue=r,this.bits=a,Ct.FOR_BITS.set(a,this),Ct.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return Ct.L;case"M":return Ct.M;case"Q":return Ct.Q;case"H":return Ct.H;default:throw new O(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof Ct))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=Ct.FOR_BITS.size)throw new R;return Ct.FOR_BITS.get(t)}}Ct.FOR_BITS=new Map,Ct.FOR_VALUE=new Map,Ct.L=new Ct(yi.L,"L",1),Ct.M=new Ct(yi.M,"M",0),Ct.Q=new Ct(yi.Q,"Q",3),Ct.H=new Ct(yi.H,"H",2);class Ln{constructor(t){this.errorCorrectionLevel=Ct.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return H.bitCount(t^r)}static decodeFormatInformation(t,r){const a=Ln.doDecodeFormatInformation(t,r);return a!==null?a:Ln.doDecodeFormatInformation(t^Ln.FORMAT_INFO_MASK_QR,r^Ln.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let a=Number.MAX_SAFE_INTEGER,l=0;for(const s of Ln.FORMAT_INFO_DECODE_LOOKUP){const u=s[0];if(u===t||u===r)return new Ln(s[1]);let h=Ln.numBitsDiffering(t,u);h<a&&(l=s[1],a=h),t!==r&&(h=Ln.numBitsDiffering(r,u),h<a&&(l=s[1],a=h))}return a<=3?new Ln(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Ln))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Ln.FORMAT_INFO_MASK_QR=21522,Ln.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ce{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const a of r)t+=a.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class L{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(t,r,...a){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=a;let l=0;const s=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();for(const h of u)l+=h.getCount()*(h.getDataCodewords()+s);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new z;try{return this.getVersionForNumber((t-17)/4)}catch{throw new z}}static getVersionForNumber(t){if(t<1||t>40)throw new R;return Ye.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,a=0;for(let l=0;l<Ye.VERSION_DECODE_INFO.length;l++){const s=Ye.VERSION_DECODE_INFO[l];if(s===t)return Ye.getVersionForNumber(l+7);const u=Ln.numBitsDiffering(t,s);u<r&&(a=l+7,r=u)}return r<=3?Ye.getVersionForNumber(a):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new te(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const a=this.alignmentPatternCenters.length;for(let l=0;l<a;l++){const s=this.alignmentPatternCenters[l]-2;for(let u=0;u<a;u++)l===0&&(u===0||u===a-1)||l===a-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,s,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}Ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ye.VERSIONS=[new Ye(1,new Int32Array(0),new ce(7,new L(1,19)),new ce(10,new L(1,16)),new ce(13,new L(1,13)),new ce(17,new L(1,9))),new Ye(2,Int32Array.from([6,18]),new ce(10,new L(1,34)),new ce(16,new L(1,28)),new ce(22,new L(1,22)),new ce(28,new L(1,16))),new Ye(3,Int32Array.from([6,22]),new ce(15,new L(1,55)),new ce(26,new L(1,44)),new ce(18,new L(2,17)),new ce(22,new L(2,13))),new Ye(4,Int32Array.from([6,26]),new ce(20,new L(1,80)),new ce(18,new L(2,32)),new ce(26,new L(2,24)),new ce(16,new L(4,9))),new Ye(5,Int32Array.from([6,30]),new ce(26,new L(1,108)),new ce(24,new L(2,43)),new ce(18,new L(2,15),new L(2,16)),new ce(22,new L(2,11),new L(2,12))),new Ye(6,Int32Array.from([6,34]),new ce(18,new L(2,68)),new ce(16,new L(4,27)),new ce(24,new L(4,19)),new ce(28,new L(4,15))),new Ye(7,Int32Array.from([6,22,38]),new ce(20,new L(2,78)),new ce(18,new L(4,31)),new ce(18,new L(2,14),new L(4,15)),new ce(26,new L(4,13),new L(1,14))),new Ye(8,Int32Array.from([6,24,42]),new ce(24,new L(2,97)),new ce(22,new L(2,38),new L(2,39)),new ce(22,new L(4,18),new L(2,19)),new ce(26,new L(4,14),new L(2,15))),new Ye(9,Int32Array.from([6,26,46]),new ce(30,new L(2,116)),new ce(22,new L(3,36),new L(2,37)),new ce(20,new L(4,16),new L(4,17)),new ce(24,new L(4,12),new L(4,13))),new Ye(10,Int32Array.from([6,28,50]),new ce(18,new L(2,68),new L(2,69)),new ce(26,new L(4,43),new L(1,44)),new ce(24,new L(6,19),new L(2,20)),new ce(28,new L(6,15),new L(2,16))),new Ye(11,Int32Array.from([6,30,54]),new ce(20,new L(4,81)),new ce(30,new L(1,50),new L(4,51)),new ce(28,new L(4,22),new L(4,23)),new ce(24,new L(3,12),new L(8,13))),new Ye(12,Int32Array.from([6,32,58]),new ce(24,new L(2,92),new L(2,93)),new ce(22,new L(6,36),new L(2,37)),new ce(26,new L(4,20),new L(6,21)),new ce(28,new L(7,14),new L(4,15))),new Ye(13,Int32Array.from([6,34,62]),new ce(26,new L(4,107)),new ce(22,new L(8,37),new L(1,38)),new ce(24,new L(8,20),new L(4,21)),new ce(22,new L(12,11),new L(4,12))),new Ye(14,Int32Array.from([6,26,46,66]),new ce(30,new L(3,115),new L(1,116)),new ce(24,new L(4,40),new L(5,41)),new ce(20,new L(11,16),new L(5,17)),new ce(24,new L(11,12),new L(5,13))),new Ye(15,Int32Array.from([6,26,48,70]),new ce(22,new L(5,87),new L(1,88)),new ce(24,new L(5,41),new L(5,42)),new ce(30,new L(5,24),new L(7,25)),new ce(24,new L(11,12),new L(7,13))),new Ye(16,Int32Array.from([6,26,50,74]),new ce(24,new L(5,98),new L(1,99)),new ce(28,new L(7,45),new L(3,46)),new ce(24,new L(15,19),new L(2,20)),new ce(30,new L(3,15),new L(13,16))),new Ye(17,Int32Array.from([6,30,54,78]),new ce(28,new L(1,107),new L(5,108)),new ce(28,new L(10,46),new L(1,47)),new ce(28,new L(1,22),new L(15,23)),new ce(28,new L(2,14),new L(17,15))),new Ye(18,Int32Array.from([6,30,56,82]),new ce(30,new L(5,120),new L(1,121)),new ce(26,new L(9,43),new L(4,44)),new ce(28,new L(17,22),new L(1,23)),new ce(28,new L(2,14),new L(19,15))),new Ye(19,Int32Array.from([6,30,58,86]),new ce(28,new L(3,113),new L(4,114)),new ce(26,new L(3,44),new L(11,45)),new ce(26,new L(17,21),new L(4,22)),new ce(26,new L(9,13),new L(16,14))),new Ye(20,Int32Array.from([6,34,62,90]),new ce(28,new L(3,107),new L(5,108)),new ce(26,new L(3,41),new L(13,42)),new ce(30,new L(15,24),new L(5,25)),new ce(28,new L(15,15),new L(10,16))),new Ye(21,Int32Array.from([6,28,50,72,94]),new ce(28,new L(4,116),new L(4,117)),new ce(26,new L(17,42)),new ce(28,new L(17,22),new L(6,23)),new ce(30,new L(19,16),new L(6,17))),new Ye(22,Int32Array.from([6,26,50,74,98]),new ce(28,new L(2,111),new L(7,112)),new ce(28,new L(17,46)),new ce(30,new L(7,24),new L(16,25)),new ce(24,new L(34,13))),new Ye(23,Int32Array.from([6,30,54,78,102]),new ce(30,new L(4,121),new L(5,122)),new ce(28,new L(4,47),new L(14,48)),new ce(30,new L(11,24),new L(14,25)),new ce(30,new L(16,15),new L(14,16))),new Ye(24,Int32Array.from([6,28,54,80,106]),new ce(30,new L(6,117),new L(4,118)),new ce(28,new L(6,45),new L(14,46)),new ce(30,new L(11,24),new L(16,25)),new ce(30,new L(30,16),new L(2,17))),new Ye(25,Int32Array.from([6,32,58,84,110]),new ce(26,new L(8,106),new L(4,107)),new ce(28,new L(8,47),new L(13,48)),new ce(30,new L(7,24),new L(22,25)),new ce(30,new L(22,15),new L(13,16))),new Ye(26,Int32Array.from([6,30,58,86,114]),new ce(28,new L(10,114),new L(2,115)),new ce(28,new L(19,46),new L(4,47)),new ce(28,new L(28,22),new L(6,23)),new ce(30,new L(33,16),new L(4,17))),new Ye(27,Int32Array.from([6,34,62,90,118]),new ce(30,new L(8,122),new L(4,123)),new ce(28,new L(22,45),new L(3,46)),new ce(30,new L(8,23),new L(26,24)),new ce(30,new L(12,15),new L(28,16))),new Ye(28,Int32Array.from([6,26,50,74,98,122]),new ce(30,new L(3,117),new L(10,118)),new ce(28,new L(3,45),new L(23,46)),new ce(30,new L(4,24),new L(31,25)),new ce(30,new L(11,15),new L(31,16))),new Ye(29,Int32Array.from([6,30,54,78,102,126]),new ce(30,new L(7,116),new L(7,117)),new ce(28,new L(21,45),new L(7,46)),new ce(30,new L(1,23),new L(37,24)),new ce(30,new L(19,15),new L(26,16))),new Ye(30,Int32Array.from([6,26,52,78,104,130]),new ce(30,new L(5,115),new L(10,116)),new ce(28,new L(19,47),new L(10,48)),new ce(30,new L(15,24),new L(25,25)),new ce(30,new L(23,15),new L(25,16))),new Ye(31,Int32Array.from([6,30,56,82,108,134]),new ce(30,new L(13,115),new L(3,116)),new ce(28,new L(2,46),new L(29,47)),new ce(30,new L(42,24),new L(1,25)),new ce(30,new L(23,15),new L(28,16))),new Ye(32,Int32Array.from([6,34,60,86,112,138]),new ce(30,new L(17,115)),new ce(28,new L(10,46),new L(23,47)),new ce(30,new L(10,24),new L(35,25)),new ce(30,new L(19,15),new L(35,16))),new Ye(33,Int32Array.from([6,30,58,86,114,142]),new ce(30,new L(17,115),new L(1,116)),new ce(28,new L(14,46),new L(21,47)),new ce(30,new L(29,24),new L(19,25)),new ce(30,new L(11,15),new L(46,16))),new Ye(34,Int32Array.from([6,34,62,90,118,146]),new ce(30,new L(13,115),new L(6,116)),new ce(28,new L(14,46),new L(23,47)),new ce(30,new L(44,24),new L(7,25)),new ce(30,new L(59,16),new L(1,17))),new Ye(35,Int32Array.from([6,30,54,78,102,126,150]),new ce(30,new L(12,121),new L(7,122)),new ce(28,new L(12,47),new L(26,48)),new ce(30,new L(39,24),new L(14,25)),new ce(30,new L(22,15),new L(41,16))),new Ye(36,Int32Array.from([6,24,50,76,102,128,154]),new ce(30,new L(6,121),new L(14,122)),new ce(28,new L(6,47),new L(34,48)),new ce(30,new L(46,24),new L(10,25)),new ce(30,new L(2,15),new L(64,16))),new Ye(37,Int32Array.from([6,28,54,80,106,132,158]),new ce(30,new L(17,122),new L(4,123)),new ce(28,new L(29,46),new L(14,47)),new ce(30,new L(49,24),new L(10,25)),new ce(30,new L(24,15),new L(46,16))),new Ye(38,Int32Array.from([6,32,58,84,110,136,162]),new ce(30,new L(4,122),new L(18,123)),new ce(28,new L(13,46),new L(32,47)),new ce(30,new L(48,24),new L(14,25)),new ce(30,new L(42,15),new L(32,16))),new Ye(39,Int32Array.from([6,26,54,82,110,138,166]),new ce(30,new L(20,117),new L(4,118)),new ce(28,new L(40,47),new L(7,48)),new ce(30,new L(43,24),new L(22,25)),new ce(30,new L(10,15),new L(67,16))),new Ye(40,Int32Array.from([6,30,58,86,114,142,170]),new ce(30,new L(19,118),new L(6,119)),new ce(28,new L(18,47),new L(31,48)),new ce(30,new L(34,24),new L(34,25)),new ce(30,new L(20,15),new L(61,16)))];var Rn;(function(I){I[I.DATA_MASK_000=0]="DATA_MASK_000",I[I.DATA_MASK_001=1]="DATA_MASK_001",I[I.DATA_MASK_010=2]="DATA_MASK_010",I[I.DATA_MASK_011=3]="DATA_MASK_011",I[I.DATA_MASK_100=4]="DATA_MASK_100",I[I.DATA_MASK_101=5]="DATA_MASK_101",I[I.DATA_MASK_110=6]="DATA_MASK_110",I[I.DATA_MASK_111=7]="DATA_MASK_111"})(Rn||(Rn={}));class hr{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let a=0;a<r;a++)for(let l=0;l<r;l++)this.isMasked(a,l)&&t.flip(l,a)}}hr.values=new Map([[Rn.DATA_MASK_000,new hr(Rn.DATA_MASK_000,(I,t)=>(I+t&1)===0)],[Rn.DATA_MASK_001,new hr(Rn.DATA_MASK_001,(I,t)=>(I&1)===0)],[Rn.DATA_MASK_010,new hr(Rn.DATA_MASK_010,(I,t)=>t%3===0)],[Rn.DATA_MASK_011,new hr(Rn.DATA_MASK_011,(I,t)=>(I+t)%3===0)],[Rn.DATA_MASK_100,new hr(Rn.DATA_MASK_100,(I,t)=>(Math.floor(I/2)+Math.floor(t/3)&1)===0)],[Rn.DATA_MASK_101,new hr(Rn.DATA_MASK_101,(I,t)=>I*t%6===0)],[Rn.DATA_MASK_110,new hr(Rn.DATA_MASK_110,(I,t)=>I*t%6<3)],[Rn.DATA_MASK_111,new hr(Rn.DATA_MASK_111,(I,t)=>(I+t+I*t%3&1)===0)]]);class wi{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new z;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let s=0;s<6;s++)t=this.copyBit(s,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let s=5;s>=0;s--)t=this.copyBit(8,s,t);const r=this.bitMatrix.getHeight();let a=0;const l=r-7;for(let s=r-1;s>=l;s--)a=this.copyBit(8,s,a);for(let s=r-8;s<r;s++)a=this.copyBit(s,8,a);if(this.parsedFormatInfo=Ln.decodeFormatInformation(t,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new z}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return Ye.getVersionForNumber(r);let a=0;const l=t-11;for(let u=5;u>=0;u--)for(let h=t-9;h>=l;h--)a=this.copyBit(h,u,a);let s=Ye.decodeVersionInformation(a);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;a=0;for(let u=5;u>=0;u--)for(let h=t-9;h>=l;h--)a=this.copyBit(u,h,a);if(s=Ye.decodeVersionInformation(a),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new z}copyBit(t,r,a){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?a<<1|1:a<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),a=hr.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l);const s=r.buildFunctionPattern();let u=!0;const h=new Uint8Array(r.getTotalCodewords());let p=0,v=0,A=0;for(let _=l-1;_>0;_-=2){_===6&&_--;for(let D=0;D<l;D++){const F=u?l-1-D:D;for(let Q=0;Q<2;Q++)s.get(_-Q,F)||(A++,v<<=1,this.bitMatrix.get(_-Q,F)&&(v|=1),A===8&&(h[p++]=v,A=0,v=0))}u=!u}if(p!==r.getTotalCodewords())throw new z;return h}remask(){if(this.parsedFormatInfo===null)return;const t=hr.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,a=t.getWidth();r<a;r++)for(let l=r+1,s=t.getHeight();l<s;l++)t.get(r,l)!==t.get(l,r)&&(t.flip(l,r),t.flip(r,l))}}class Os{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,a){if(t.length!==r.getTotalCodewords())throw new R;const l=r.getECBlocksForLevel(a);let s=0;const u=l.getECBlocks();for(const Q of u)s+=Q.getCount();const h=new Array(s);let p=0;for(const Q of u)for(let $=0;$<Q.getCount();$++){const se=Q.getDataCodewords(),ge=l.getECCodewordsPerBlock()+se;h[p++]=new Os(se,new Uint8Array(ge))}const v=h[0].codewords.length;let A=h.length-1;for(;A>=0&&h[A].codewords.length!==v;)A--;A++;const _=v-l.getECCodewordsPerBlock();let D=0;for(let Q=0;Q<_;Q++)for(let $=0;$<p;$++)h[$].codewords[Q]=t[D++];for(let Q=A;Q<p;Q++)h[Q].codewords[_]=t[D++];const F=h[0].codewords.length;for(let Q=_;Q<F;Q++)for(let $=0;$<p;$++){const se=$<A?Q:Q+1;h[$].codewords[se]=t[D++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var xr;(function(I){I[I.TERMINATOR=0]="TERMINATOR",I[I.NUMERIC=1]="NUMERIC",I[I.ALPHANUMERIC=2]="ALPHANUMERIC",I[I.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",I[I.BYTE=4]="BYTE",I[I.ECI=5]="ECI",I[I.KANJI=6]="KANJI",I[I.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",I[I.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",I[I.HANZI=9]="HANZI"})(xr||(xr={}));class Qe{constructor(t,r,a,l){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=a,this.bits=l,Qe.FOR_BITS.set(l,this),Qe.FOR_VALUE.set(t,this)}static forBits(t){const r=Qe.FOR_BITS.get(t);if(r===void 0)throw new R;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let a;return r<=9?a=0:r<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Qe))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}Qe.FOR_BITS=new Map,Qe.FOR_VALUE=new Map,Qe.TERMINATOR=new Qe(xr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Qe.NUMERIC=new Qe(xr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Qe.ALPHANUMERIC=new Qe(xr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Qe.STRUCTURED_APPEND=new Qe(xr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Qe.BYTE=new Qe(xr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Qe.ECI=new Qe(xr.ECI,"ECI",Int32Array.from([0,0,0]),7),Qe.KANJI=new Qe(xr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Qe.FNC1_FIRST_POSITION=new Qe(xr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Qe.FNC1_SECOND_POSITION=new Qe(xr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Qe.HANZI=new Qe(xr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class rn{static decode(t,r,a,l){const s=new Or(t);let u=new ve;const h=new Array;let p=-1,v=-1;try{let A=null,_=!1,D;do{if(s.available()<4)D=Qe.TERMINATOR;else{const F=s.readBits(4);D=Qe.forBits(F)}switch(D){case Qe.TERMINATOR:break;case Qe.FNC1_FIRST_POSITION:case Qe.FNC1_SECOND_POSITION:_=!0;break;case Qe.STRUCTURED_APPEND:if(s.available()<16)throw new z;p=s.readBits(8),v=s.readBits(8);break;case Qe.ECI:const F=rn.parseECIValue(s);if(A=W.getCharacterSetECIByValue(F),A===null)throw new z;break;case Qe.HANZI:const Q=s.readBits(4),$=s.readBits(D.getCharacterCountBits(r));Q===rn.GB2312_SUBSET&&rn.decodeHanziSegment(s,u,$);break;default:const se=s.readBits(D.getCharacterCountBits(r));switch(D){case Qe.NUMERIC:rn.decodeNumericSegment(s,u,se);break;case Qe.ALPHANUMERIC:rn.decodeAlphanumericSegment(s,u,se,_);break;case Qe.BYTE:rn.decodeByteSegment(s,u,se,A,h,l);break;case Qe.KANJI:rn.decodeKanjiSegment(s,u,se);break;default:throw new z}break}}while(D!==Qe.TERMINATOR)}catch{throw new z}return new He(t,u.toString(),h.length===0?null:h,a===null?null:a.toString(),p,v)}static decodeHanziSegment(t,r,a){if(a*13>t.available())throw new z;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const u=t.readBits(13);let h=u/96<<8&4294967295|u%96;h<959?h+=41377:h+=42657,l[s]=h>>8&255,l[s+1]=h&255,s+=2,a--}try{r.append(Ce.decode(l,pe.GB2312))}catch(u){throw new z(u)}}static decodeKanjiSegment(t,r,a){if(a*13>t.available())throw new z;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const u=t.readBits(13);let h=u/192<<8&4294967295|u%192;h<7936?h+=33088:h+=49472,l[s]=h>>8,l[s+1]=h,s+=2,a--}try{r.append(Ce.decode(l,pe.SHIFT_JIS))}catch(u){throw new z(u)}}static decodeByteSegment(t,r,a,l,s,u){if(8*a>t.available())throw new z;const h=new Uint8Array(a);for(let v=0;v<a;v++)h[v]=t.readBits(8);let p;l===null?p=pe.guessEncoding(h,u):p=l.getName();try{r.append(Ce.decode(h,p))}catch(v){throw new z(v)}s.push(h)}static toAlphaNumericChar(t){if(t>=rn.ALPHANUMERIC_CHARS.length)throw new z;return rn.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,a,l){const s=r.length();for(;a>1;){if(t.available()<11)throw new z;const u=t.readBits(11);r.append(rn.toAlphaNumericChar(Math.floor(u/45))),r.append(rn.toAlphaNumericChar(u%45)),a-=2}if(a===1){if(t.available()<6)throw new z;r.append(rn.toAlphaNumericChar(t.readBits(6)))}if(l)for(let u=s;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(t,r,a){for(;a>=3;){if(t.available()<10)throw new z;const l=t.readBits(10);if(l>=1e3)throw new z;r.append(rn.toAlphaNumericChar(Math.floor(l/100))),r.append(rn.toAlphaNumericChar(Math.floor(l/10)%10)),r.append(rn.toAlphaNumericChar(l%10)),a-=3}if(a===2){if(t.available()<7)throw new z;const l=t.readBits(7);if(l>=100)throw new z;r.append(rn.toAlphaNumericChar(Math.floor(l/10))),r.append(rn.toAlphaNumericChar(l%10))}else if(a===1){if(t.available()<4)throw new z;const l=t.readBits(4);if(l>=10)throw new z;r.append(rn.toAlphaNumericChar(l))}}static parseECIValue(t){const r=t.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const a=t.readBits(8);return(r&63)<<8&4294967295|a}if((r&224)===192){const a=t.readBits(16);return(r&31)<<16&4294967295|a}throw new z}}rn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",rn.GB2312_SUBSET=1;class Fo{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class Ru{constructor(){this.rsDecoder=new Zt(at.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(te.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const a=new wi(t);let l=null;try{return this.decodeBitMatrixParser(a,r)}catch(s){l=s}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const s=this.decodeBitMatrixParser(a,r);return s.setOther(new Fo(!0)),s}catch(s){throw l!==null?l:s}}decodeBitMatrixParser(t,r){const a=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),s=t.readCodewords(),u=Os.getDataBlocks(s,a,l);let h=0;for(const A of u)h+=A.getNumDataCodewords();const p=new Uint8Array(h);let v=0;for(const A of u){const _=A.getCodewords(),D=A.getNumDataCodewords();this.correctErrors(_,D);for(let F=0;F<D;F++)p[v++]=_[F]}return rn.decode(p,a,l,r)}correctErrors(t,r){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-r)}catch{throw new X}for(let l=0;l<r;l++)t[l]=a[l]}}class vi extends Ue{constructor(t,r,a){super(t,r),this.estimatedModuleSize=a}aboutEquals(t,r,a){if(Math.abs(r-this.getY())<=t&&Math.abs(a-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,r,a){const l=(this.getX()+r)/2,s=(this.getY()+t)/2,u=(this.estimatedModuleSize+a)/2;return new vi(l,s,u)}}class yr{constructor(t,r,a,l,s,u,h){this.image=t,this.startX=r,this.startY=a,this.width=l,this.height=s,this.moduleSize=u,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,a=this.width,l=t+a,s=this.startY+r/2,u=new Int32Array(3),h=this.image;for(let p=0;p<r;p++){const v=s+((p&1)===0?Math.floor((p+1)/2):-Math.floor((p+1)/2));u[0]=0,u[1]=0,u[2]=0;let A=t;for(;A<l&&!h.get(A,v);)A++;let _=0;for(;A<l;){if(h.get(A,v))if(_===1)u[1]++;else if(_===2){if(this.foundPatternCross(u)){const D=this.handlePossibleCenter(u,v,A);if(D!==null)return D}u[0]=u[2],u[1]=1,u[2]=0,_=1}else u[++_]++;else _===1&&_++,u[_]++;A++}if(this.foundPatternCross(u)){const D=this.handlePossibleCenter(u,v,l);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new M}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,a=r/2;for(let l=0;l<3;l++)if(Math.abs(r-t[l])>=a)return!1;return!0}crossCheckVertical(t,r,a,l){const s=this.image,u=s.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let p=t;for(;p>=0&&s.get(r,p)&&h[1]<=a;)h[1]++,p--;if(p<0||h[1]>a)return NaN;for(;p>=0&&!s.get(r,p)&&h[0]<=a;)h[0]++,p--;if(h[0]>a)return NaN;for(p=t+1;p<u&&s.get(r,p)&&h[1]<=a;)h[1]++,p++;if(p===u||h[1]>a)return NaN;for(;p<u&&!s.get(r,p)&&h[2]<=a;)h[2]++,p++;if(h[2]>a)return NaN;const v=h[0]+h[1]+h[2];return 5*Math.abs(v-l)>=2*l?NaN:this.foundPatternCross(h)?yr.centerFromEnd(h,p):NaN}handlePossibleCenter(t,r,a){const l=t[0]+t[1]+t[2],s=yr.centerFromEnd(t,a),u=this.crossCheckVertical(r,s,2*t[1],l);if(!isNaN(u)){const h=(t[0]+t[1]+t[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(h,u,s))return v.combineEstimate(u,s,h);const p=new vi(s,u,h);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null}}class ul extends Ue{constructor(t,r,a,l){super(t,r),this.estimatedModuleSize=a,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,a){if(Math.abs(r-this.getY())<=t&&Math.abs(a-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,r,a){const l=this.count+1,s=(this.count*this.getX()+r)/l,u=(this.count*this.getY()+t)/l,h=(this.count*this.estimatedModuleSize+a)/l;return new ul(s,u,h,l)}}class Rs{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class un{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(ne.TRY_HARDER)!==void 0,a=t!=null&&t.get(ne.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),u=l.getWidth();let h=Math.floor(3*s/(4*un.MAX_MODULES));(h<un.MIN_SKIP||r)&&(h=un.MIN_SKIP);let p=!1;const v=new Int32Array(5);for(let _=h-1;_<s&&!p;_+=h){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let D=0;for(let F=0;F<u;F++)if(l.get(F,_))(D&1)===1&&D++,v[D]++;else if((D&1)===0)if(D===4)if(un.foundPatternCross(v)){if(this.handlePossibleCenter(v,_,F,a)===!0)if(h=2,this.hasSkipped===!0)p=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>v[2]&&(_+=$-v[2]-h,F=u-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;continue}D=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;else v[++D]++;else v[D]++;un.foundPatternCross(v)&&this.handlePossibleCenter(v,_,u,a)===!0&&(h=v[0],this.hasSkipped&&(p=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return Ue.orderBestPatterns(A),new Rs(A)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let s=0;s<5;s++){const u=t[s];if(u===0)return!1;r+=u}if(r<7)return!1;const a=r/7,l=a/2;return Math.abs(a-t[0])<l&&Math.abs(a-t[1])<l&&Math.abs(3*a-t[2])<3*l&&Math.abs(a-t[3])<l&&Math.abs(a-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,a,l){const s=this.getCrossCheckStateCount();let u=0;const h=this.image;for(;t>=u&&r>=u&&h.get(r-u,t-u);)s[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!h.get(r-u,t-u)&&s[1]<=a;)s[1]++,u++;if(t<u||r<u||s[1]>a)return!1;for(;t>=u&&r>=u&&h.get(r-u,t-u)&&s[0]<=a;)s[0]++,u++;if(s[0]>a)return!1;const p=h.getHeight(),v=h.getWidth();for(u=1;t+u<p&&r+u<v&&h.get(r+u,t+u);)s[2]++,u++;if(t+u>=p||r+u>=v)return!1;for(;t+u<p&&r+u<v&&!h.get(r+u,t+u)&&s[3]<a;)s[3]++,u++;if(t+u>=p||r+u>=v||s[3]>=a)return!1;for(;t+u<p&&r+u<v&&h.get(r+u,t+u)&&s[4]<a;)s[4]++,u++;if(s[4]>=a)return!1;const A=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(A-l)<2*l&&un.foundPatternCross(s)}crossCheckVertical(t,r,a,l){const s=this.image,u=s.getHeight(),h=this.getCrossCheckStateCount();let p=t;for(;p>=0&&s.get(r,p);)h[2]++,p--;if(p<0)return NaN;for(;p>=0&&!s.get(r,p)&&h[1]<=a;)h[1]++,p--;if(p<0||h[1]>a)return NaN;for(;p>=0&&s.get(r,p)&&h[0]<=a;)h[0]++,p--;if(h[0]>a)return NaN;for(p=t+1;p<u&&s.get(r,p);)h[2]++,p++;if(p===u)return NaN;for(;p<u&&!s.get(r,p)&&h[3]<a;)h[3]++,p++;if(p===u||h[3]>=a)return NaN;for(;p<u&&s.get(r,p)&&h[4]<a;)h[4]++,p++;if(h[4]>=a)return NaN;const v=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(v-l)>=2*l?NaN:un.foundPatternCross(h)?un.centerFromEnd(h,p):NaN}crossCheckHorizontal(t,r,a,l){const s=this.image,u=s.getWidth(),h=this.getCrossCheckStateCount();let p=t;for(;p>=0&&s.get(p,r);)h[2]++,p--;if(p<0)return NaN;for(;p>=0&&!s.get(p,r)&&h[1]<=a;)h[1]++,p--;if(p<0||h[1]>a)return NaN;for(;p>=0&&s.get(p,r)&&h[0]<=a;)h[0]++,p--;if(h[0]>a)return NaN;for(p=t+1;p<u&&s.get(p,r);)h[2]++,p++;if(p===u)return NaN;for(;p<u&&!s.get(p,r)&&h[3]<a;)h[3]++,p++;if(p===u||h[3]>=a)return NaN;for(;p<u&&s.get(p,r)&&h[4]<a;)h[4]++,p++;if(h[4]>=a)return NaN;const v=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(v-l)>=l?NaN:un.foundPatternCross(h)?un.centerFromEnd(h,p):NaN}handlePossibleCenter(t,r,a,l){const s=t[0]+t[1]+t[2]+t[3]+t[4];let u=un.centerFromEnd(t,a),h=this.crossCheckVertical(r,Math.floor(u),t[2],s);if(!isNaN(h)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(h),t[2],s),!isNaN(u)&&(!l||this.crossCheckDiagonal(Math.floor(h),Math.floor(u),t[2],s)))){const p=s/7;let v=!1;const A=this.possibleCenters;for(let _=0,D=A.length;_<D;_++){const F=A[_];if(F.aboutEquals(p,h,u)){A[_]=F.combineEstimate(h,u,p),v=!0;break}}if(!v){const _=new ul(u,h,p);A.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const a of this.possibleCenters)if(a.getCount()>=un.CENTER_QUORUM)if(r==null)r=a;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const a=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=un.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const l=r/a;let s=0;for(const u of this.possibleCenters)s+=Math.abs(u.getEstimatedModuleSize()-l);return s<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new M;const r=this.possibleCenters;let a;if(t>3){let l=0,s=0;for(const p of this.possibleCenters){const v=p.getEstimatedModuleSize();l+=v,s+=v*v}a=l/t;let u=Math.sqrt(s/t-a*a);r.sort((p,v)=>{const A=Math.abs(v.getEstimatedModuleSize()-a),_=Math.abs(p.getEstimatedModuleSize()-a);return A<_?-1:A>_?1:0});const h=Math.max(.2*a,u);for(let p=0;p<r.length&&r.length>3;p++){const v=r[p];Math.abs(v.getEstimatedModuleSize()-a)>h&&(r.splice(p,1),p--)}}if(r.length>3){let l=0;for(const s of r)l+=s.getEstimatedModuleSize();a=l/r.length,r.sort((s,u)=>{if(u.getCount()===s.getCount()){const h=Math.abs(u.getEstimatedModuleSize()-a),p=Math.abs(s.getEstimatedModuleSize()-a);return h<p?1:h>p?-1:0}else return u.getCount()-s.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}un.CENTER_QUORUM=2,un.MIN_SKIP=3,un.MAX_MODULES=57;class qr{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(ne.NEED_RESULT_POINT_CALLBACK);const a=new un(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(a)}processFinderPatternInfo(t){const r=t.getTopLeft(),a=t.getTopRight(),l=t.getBottomLeft(),s=this.calculateModuleSize(r,a,l);if(s<1)throw new M("No pattern found in proccess finder.");const u=qr.computeDimension(r,a,l,s),h=Ye.getProvisionalVersionForDimension(u),p=h.getDimensionForVersion()-7;let v=null;if(h.getAlignmentPatternCenters().length>0){const F=a.getX()-r.getX()+l.getX(),Q=a.getY()-r.getY()+l.getY(),$=1-3/p,se=Math.floor(r.getX()+$*(F-r.getX())),ge=Math.floor(r.getY()+$*(Q-r.getY()));for(let Be=4;Be<=16;Be<<=1)try{v=this.findAlignmentInRegion(s,se,ge,Be);break}catch(ke){if(!(ke instanceof M))throw ke}}const A=qr.createTransform(r,a,l,v,u),_=qr.sampleGrid(this.image,A,u);let D;return v===null?D=[l,r,a]:D=[l,r,a,v],new Ca(_,D)}static createTransform(t,r,a,l,s){const u=s-3.5;let h,p,v,A;return l!==null?(h=l.getX(),p=l.getY(),v=u-3,A=v):(h=r.getX()-t.getX()+a.getX(),p=r.getY()-t.getY()+a.getY(),v=u,A=u),Bn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,v,A,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),h,p,a.getX(),a.getY())}static sampleGrid(t,r,a){return jn.getInstance().sampleGridWithTransform(t,a,a,r)}static computeDimension(t,r,a,l){const s=it.round(Ue.distance(t,r)/l),u=it.round(Ue.distance(t,a)/l);let h=Math.floor((s+u)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new M("Dimensions could be not found.")}return h}calculateModuleSize(t,r,a){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,a))/2}calculateModuleSizeOneWay(t,r){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?l/7:isNaN(l)?a/7:(a+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,a,l){let s=this.sizeOfBlackWhiteBlackRun(t,r,a,l),u=1,h=t-(a-t);h<0?(u=t/(t-h),h=0):h>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(h-t),h=this.image.getWidth()-1);let p=Math.floor(r-(l-r)*u);return u=1,p<0?(u=r/(r-p),p=0):p>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(p-r),p=this.image.getHeight()-1),h=Math.floor(t+(h-t)*u),s+=this.sizeOfBlackWhiteBlackRun(t,r,h,p),s-1}sizeOfBlackWhiteBlackRun(t,r,a,l){const s=Math.abs(l-r)>Math.abs(a-t);if(s){let F=t;t=r,r=F,F=a,a=l,l=F}const u=Math.abs(a-t),h=Math.abs(l-r);let p=-u/2;const v=t<a?1:-1,A=r<l?1:-1;let _=0;const D=a+v;for(let F=t,Q=r;F!==D;F+=v){const $=s?Q:F,se=s?F:Q;if(_===1===this.image.get($,se)){if(_===2)return it.distance(F,Q,t,r);_++}if(p+=h,p>0){if(Q===l)break;Q+=A,p-=u}}return _===2?it.distance(a+v,l,t,r):NaN}findAlignmentInRegion(t,r,a,l){const s=Math.floor(l*t),u=Math.max(0,r-s),h=Math.min(this.image.getWidth()-1,r+s);if(h-u<t*3)throw new M("Alignment top exceeds estimated module size.");const p=Math.max(0,a-s),v=Math.min(this.image.getHeight()-1,a+s);if(v-p<t*3)throw new M("Alignment bottom exceeds estimated module size.");return new yr(this.image,u,p,h-u,v-p,t,this.resultPointCallback).find()}}class da{constructor(){this.decoder=new Ru}getDecoder(){return this.decoder}decode(t,r){let a,l;if(r!=null&&r.get(ne.PURE_BARCODE)!==void 0){const p=da.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(p,r),l=da.NO_POINTS}else{const p=new qr(t.getBlackMatrix()).detect(r);a=this.decoder.decodeBitMatrix(p.getBits(),r),l=p.getPoints()}a.getOther()instanceof Fo&&a.getOther().applyMirroredCorrection(l);const s=new Re(a.getText(),a.getRawBytes(),void 0,l,Te.QR_CODE,void 0),u=a.getByteSegments();u!==null&&s.putMetadata(we.BYTE_SEGMENTS,u);const h=a.getECLevel();return h!==null&&s.putMetadata(we.ERROR_CORRECTION_LEVEL,h),a.hasStructuredAppend()&&(s.putMetadata(we.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),s.putMetadata(we.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),s}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(r===null||a===null)throw new M;const l=this.moduleSize(r,t);let s=r[1],u=a[1],h=r[0],p=a[0];if(h>=p||s>=u)throw new M;if(u-s!==p-h&&(p=h+(u-s),p>=t.getWidth()))throw new M;const v=Math.round((p-h+1)/l),A=Math.round((u-s+1)/l);if(v<=0||A<=0)throw new M;if(A!==v)throw new M;const _=Math.floor(l/2);s+=_,h+=_;const D=h+Math.floor((v-1)*l)-p;if(D>0){if(D>_)throw new M;h-=D}const F=s+Math.floor((A-1)*l)-u;if(F>0){if(F>_)throw new M;s-=F}const Q=new te(v,A);for(let $=0;$<A;$++){const se=s+Math.floor($*l);for(let ge=0;ge<v;ge++)t.get(h+Math.floor(ge*l),se)&&Q.set(ge,$)}return Q}static moduleSize(t,r){const a=r.getHeight(),l=r.getWidth();let s=t[0],u=t[1],h=!0,p=0;for(;s<l&&u<a;){if(h!==r.get(s,u)){if(++p===5)break;h=!h}s++,u++}if(s===l||u===a)throw new M;return(s-t[0])/7}}da.NO_POINTS=new Array;class $e{PDF417Common(){}static getBitCountSum(t){return it.sum(t)}static toIntArray(t){if(t==null||!t.length)return $e.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let a=0;for(const l of t)r[a++]=l;return r}static getCodeword(t){const r=j.binarySearch($e.SYMBOL_TABLE,t&262143);return r<0?-1:($e.CODEWORD_TABLE[r]-1)%$e.NUMBER_OF_CODEWORDS}}$e.NUMBER_OF_CODEWORDS=929,$e.MAX_CODEWORDS_IN_BARCODE=$e.NUMBER_OF_CODEWORDS-1,$e.MIN_ROWS_IN_BARCODE=3,$e.MAX_ROWS_IN_BARCODE=90,$e.MODULES_IN_CODEWORD=17,$e.MODULES_IN_STOP_PATTERN=18,$e.BARS_IN_MODULE=8,$e.EMPTY_INT_ARRAY=new Int32Array([]),$e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),$e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ho{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class lt{static detectMultiple(t,r,a){let l=t.getBlackMatrix(),s=lt.detect(a,l);return s.length||(l=l.clone(),l.rotate180(),s=lt.detect(a,l)),new Ho(l,s)}static detect(t,r){const a=new Array;let l=0,s=0,u=!1;for(;l<r.getHeight();){const h=lt.findVertices(r,l,s);if(h[0]==null&&h[3]==null){if(!u)break;u=!1,s=0;for(const p of a)p[1]!=null&&(l=Math.trunc(Math.max(l,p[1].getY()))),p[3]!=null&&(l=Math.max(l,Math.trunc(p[3].getY())));l+=lt.ROW_STEP;continue}if(u=!0,a.push(h),!t)break;h[2]!=null?(s=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(s=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return a}static findVertices(t,r,a){const l=t.getHeight(),s=t.getWidth(),u=new Array(8);return lt.copyToResult(u,lt.findRowsWithPattern(t,l,s,r,a,lt.START_PATTERN),lt.INDEXES_START_PATTERN),u[4]!=null&&(a=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),lt.copyToResult(u,lt.findRowsWithPattern(t,l,s,r,a,lt.STOP_PATTERN),lt.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,a){for(let l=0;l<a.length;l++)t[a[l]]=r[l]}static findRowsWithPattern(t,r,a,l,s,u){const h=new Array(4);let p=!1;const v=new Int32Array(u.length);for(;l<r;l+=lt.ROW_STEP){let _=lt.findGuardPattern(t,s,l,a,!1,u,v);if(_!=null){for(;l>0;){const D=lt.findGuardPattern(t,s,--l,a,!1,u,v);if(D!=null)_=D;else{l++;break}}h[0]=new Ue(_[0],l),h[1]=new Ue(_[1],l),p=!0;break}}let A=l+1;if(p){let _=0,D=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;A<r;A++){const F=lt.findGuardPattern(t,D[0],A,a,!1,u,v);if(F!=null&&Math.abs(D[0]-F[0])<lt.MAX_PATTERN_DRIFT&&Math.abs(D[1]-F[1])<lt.MAX_PATTERN_DRIFT)D=F,_=0;else{if(_>lt.SKIPPED_ROW_COUNT_MAX)break;_++}}A-=_+1,h[2]=new Ue(D[0],A),h[3]=new Ue(D[1],A)}return A-l<lt.BARCODE_MIN_HEIGHT&&j.fill(h,null),h}static findGuardPattern(t,r,a,l,s,u,h){j.fillWithin(h,0,h.length,0);let p=r,v=0;for(;t.get(p,a)&&p>0&&v++<lt.MAX_PIXEL_DRIFT;)p--;let A=p,_=0,D=u.length;for(let F=s;A<l;A++)if(t.get(A,a)!==F)h[_]++;else{if(_===D-1){if(lt.patternMatchVariance(h,u,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return new Int32Array([p,A]);p+=h[0]+h[1],Y.arraycopy(h,2,h,0,_-1),h[_-1]=0,h[_]=0,_--}else _++;h[_]=1,F=!F}return _===D-1&&lt.patternMatchVariance(h,u,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE?new Int32Array([p,A-1]):null}static patternMatchVariance(t,r,a){let l=t.length,s=0,u=0;for(let v=0;v<l;v++)s+=t[v],u+=r[v];if(s<u)return 1/0;let h=s/u;a*=h;let p=0;for(let v=0;v<l;v++){let A=t[v],_=r[v]*h,D=A>_?A-_:_-A;if(D>a)return 1/0;p+=D}return p/s}}lt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),lt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),lt.MAX_AVG_VARIANCE=.42,lt.MAX_INDIVIDUAL_VARIANCE=.8,lt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),lt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),lt.MAX_PIXEL_DRIFT=3,lt.MAX_PATTERN_DRIFT=5,lt.SKIPPED_ROW_COUNT_MAX=25,lt.ROW_STEP=5,lt.BARCODE_MIN_HEIGHT=10;class an{constructor(t,r){if(r.length===0)throw new R;this.field=t;let a=r.length;if(a>1&&r[0]===0){let l=1;for(;l<a&&r[l]===0;)l++;l===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-l),Y.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let s of this.coefficients)l=this.field.add(l,s);return l}let r=this.coefficients[0],a=this.coefficients.length;for(let l=1;l<a;l++)r=this.field.add(this.field.multiply(t,r),this.coefficients[l]);return r}add(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,a=t.coefficients;if(r.length>a.length){let u=r;r=a,a=u}let l=new Int32Array(a.length),s=a.length-r.length;Y.arraycopy(a,0,l,0,s);for(let u=s;u<a.length;u++)l[u]=this.field.add(r[u-s],a[u]);return new an(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof an?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new R("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new an(this.field,new Int32Array([0]));let r=this.coefficients,a=r.length,l=t.coefficients,s=l.length,u=new Int32Array(a+s-1);for(let h=0;h<a;h++){let p=r[h];for(let v=0;v<s;v++)u[h+v]=this.field.add(u[h+v],this.field.multiply(p,l[v]))}return new an(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let a=0;a<t;a++)r[a]=this.field.subtract(0,this.coefficients[a]);return new an(this.field,r)}multiplyScalar(t){if(t===0)return new an(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,a=new Int32Array(r);for(let l=0;l<r;l++)a[l]=this.field.multiply(this.coefficients[l],t);return new an(this.field,a)}multiplyByMonomial(t,r){if(t<0)throw new R;if(r===0)return new an(this.field,new Int32Array([0]));let a=this.coefficients.length,l=new Int32Array(a+t);for(let s=0;s<a;s++)l[s]=this.field.multiply(this.coefficients[s],r);return new an(this.field,l)}toString(){let t=new ve;for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(r===0||a!==1)&&t.append(a),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class Ds{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new R;return this.logTable[t]}inverse(t){if(t===0)throw new Et;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Ha extends Ds{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let a=1;for(let l=0;l<t;l++)this.expTable[l]=a,a=a*r%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new an(this,new Int32Array([0])),this.one=new an(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new R;if(r===0)return this.zero;let a=new Int32Array(t+1);return a[0]=r,new an(this,a)}}Ha.PDF417_GF=new Ha($e.NUMBER_OF_CODEWORDS,3);class fa{constructor(){this.field=Ha.PDF417_GF}decode(t,r,a){let l=new an(this.field,t),s=new Int32Array(r),u=!1;for(let Q=r;Q>0;Q--){let $=l.evaluateAt(this.field.exp(Q));s[r-Q]=$,$!==0&&(u=!0)}if(!u)return 0;let h=this.field.getOne();if(a!=null)for(const Q of a){let $=this.field.exp(t.length-1-Q),se=new an(this.field,new Int32Array([this.field.subtract(0,$),1]));h=h.multiply(se)}let p=new an(this.field,s),v=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),p,r),A=v[0],_=v[1],D=this.findErrorLocations(A),F=this.findErrorMagnitudes(_,A,D);for(let Q=0;Q<D.length;Q++){let $=t.length-1-this.field.log(D[Q]);if($<0)throw X.getChecksumInstance();t[$]=this.field.subtract(t[$],F[Q])}return D.length}runEuclideanAlgorithm(t,r,a){if(t.getDegree()<r.getDegree()){let D=t;t=r,r=D}let l=t,s=r,u=this.field.getZero(),h=this.field.getOne();for(;s.getDegree()>=Math.round(a/2);){let D=l,F=u;if(l=s,u=h,l.isZero())throw X.getChecksumInstance();s=D;let Q=this.field.getZero(),$=l.getCoefficient(l.getDegree()),se=this.field.inverse($);for(;s.getDegree()>=l.getDegree()&&!s.isZero();){let ge=s.getDegree()-l.getDegree(),Be=this.field.multiply(s.getCoefficient(s.getDegree()),se);Q=Q.add(this.field.buildMonomial(ge,Be)),s=s.subtract(l.multiplyByMonomial(ge,Be))}h=Q.multiply(u).subtract(F).negative()}let p=h.getCoefficient(0);if(p===0)throw X.getChecksumInstance();let v=this.field.inverse(p),A=h.multiply(v),_=s.multiply(v);return[A,_]}findErrorLocations(t){let r=t.getDegree(),a=new Int32Array(r),l=0;for(let s=1;s<this.field.getSize()&&l<r;s++)t.evaluateAt(s)===0&&(a[l]=this.field.inverse(s),l++);if(l!==r)throw X.getChecksumInstance();return a}findErrorMagnitudes(t,r,a){let l=r.getDegree(),s=new Int32Array(l);for(let v=1;v<=l;v++)s[l-v]=this.field.multiply(v,r.getCoefficient(v));let u=new an(this.field,s),h=a.length,p=new Int32Array(h);for(let v=0;v<h;v++){let A=this.field.inverse(a[v]),_=this.field.subtract(0,t.evaluateAt(A)),D=this.field.inverse(u.evaluateAt(A));p[v]=this.field.multiply(_,D)}return p}}class ha{constructor(t,r,a,l,s){t instanceof ha?this.constructor_2(t):this.constructor_1(t,r,a,l,s)}constructor_1(t,r,a,l,s){const u=r==null||a==null,h=l==null||s==null;if(u&&h)throw new M;u?(r=new Ue(0,l.getY()),a=new Ue(0,s.getY())):h&&(l=new Ue(t.getWidth()-1,r.getY()),s=new Ue(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=r,this.bottomLeft=a,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(r.getX(),a.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(r.getY(),l.getY())),this.maxY=Math.trunc(Math.max(a.getY(),s.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new ha(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,a){let l=this.topLeft,s=this.bottomLeft,u=this.topRight,h=this.bottomRight;if(t>0){let p=a?this.topLeft:this.topRight,v=Math.trunc(p.getY()-t);v<0&&(v=0);let A=new Ue(p.getX(),v);a?l=A:u=A}if(r>0){let p=a?this.bottomLeft:this.bottomRight,v=Math.trunc(p.getY()+r);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let A=new Ue(p.getX(),v);a?s=A:h=A}return new ha(this.image,l,s,u,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ll{constructor(t,r,a,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=r,this.rowCountLowerPart=a,this.rowCount=r+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ci{constructor(){this.buffer=""}static form(t,r){let a=-1;function l(u,h,p,v,A,_){if(u==="%%")return"%";if(r[++a]===void 0)return;u=v?parseInt(v.substr(1)):void 0;let D=A?parseInt(A.substr(1)):void 0,F;switch(_){case"s":F=r[a];break;case"c":F=r[a][0];break;case"f":F=parseFloat(r[a]).toFixed(u);break;case"p":F=parseFloat(r[a]).toPrecision(u);break;case"e":F=parseFloat(r[a]).toExponential(u);break;case"x":F=parseInt(r[a]).toString(D||16);break;case"d":F=parseFloat(parseInt(r[a],D||10).toPrecision(u)).toFixed(0);break}F=typeof F=="object"?JSON.stringify(F):(+F).toString(D);let Q=parseInt(p),$=p&&p[0]+""=="0"?"0":" ";for(;F.length<Q;)F=h!==void 0?F+$:$+F;return F}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}format(t,...r){this.buffer+=Ci.form(t,r)}toString(){return this.buffer}}class Ia{constructor(t){this.boundingBox=new ha(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let a=1;a<Ia.MAX_NEARBY_DISTANCE;a++){let l=this.imageRowToCodewordIndex(t)-a;if(l>=0&&(r=this.codewords[l],r!=null)||(l=this.imageRowToCodewordIndex(t)+a,l<this.codewords.length&&(r=this.codewords[l],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Ci;let r=0;for(const a of this.codewords){if(a==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue())}return t.toString()}}Ia.MAX_NEARBY_DISTANCE=5;class _a{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[a,l]of this.values.entries()){const s={getKey:()=>a,getValue:()=>l};s.getValue()>t?(t=s.getValue(),r=[],r.push(s.getKey())):s.getValue()===t&&r.push(s.getKey())}return $e.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class ks extends Ia{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(s.getY())),p=-1,v=1,A=0;for(let _=u;_<h;_++){if(r[_]==null)continue;let D=r[_],F=D.getRowNumber()-p;if(F===0)A++;else if(F===1)v=Math.max(v,A),A=1,p=D.getRowNumber();else if(F<0||D.getRowNumber()>=t.getRowCount()||F>_)r[_]=null;else{let Q;v>2?Q=(v-2)*F:Q=F;let $=Q>=_;for(let se=1;se<=Q&&!$;se++)$=r[_-se]!=null;$?r[_]=null:(p=D.getRowNumber(),A=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let a of this.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=r.length)continue;r[l]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),l=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),p=-1;for(let v=s;v<u;v++){if(h[v]==null)continue;let A=h[v];A.setRowNumberAsRowIndicatorColumn();let _=A.getRowNumber()-p;_===0||(_===1?p=A.getRowNumber():A.getRowNumber()>=t.getRowCount()?h[v]=null:p=A.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new _a,a=new _a,l=new _a,s=new _a;for(let h of t){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let p=h.getValue()%30,v=h.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:a.setValue(p*3+1);break;case 1:s.setValue(p/3),l.setValue(p%3);break;case 2:r.setValue(p+1);break}}if(r.getValue().length===0||a.getValue().length===0||l.getValue().length===0||s.getValue().length===0||r.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<$e.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>$e.MAX_ROWS_IN_BARCODE)return null;let u=new Ll(r.getValue()[0],a.getValue()[0],l.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let a=0;a<t.length;a++){let l=t[a];if(t[a]==null)continue;let s=l.getValue()%30,u=l.getRowNumber();if(u>r.getRowCount()){t[a]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[a]=null);break;case 2:s+1!==r.getColumnCount()&&(t[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class zn{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=$e.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let a=this.detectionResultColumns[r].getCodewords();for(let l=0;l<a.length;l++)a[l]!=null&&(a[l].hasValidRowNumber()||this.adjustRowNumbers(r,l,a))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<t.length;a++)if(t[a]!=null&&r[a]!=null&&t[a].getRowNumber()===r[a].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let s=this.detectionResultColumns[l].getCodewords()[a];s!=null&&(s.setRowNumber(t[a].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let l=r[a].getRowNumber(),s=0;for(let u=this.barcodeColumnCount+1;u>0&&s<this.ADJUST_ROW_NUMBER_SKIP;u--){let h=this.detectionResultColumns[u].getCodewords()[a];h!=null&&(s=zn.adjustRowNumberIfValid(l,s,h),h.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let l=r[a].getRowNumber(),s=0;for(let u=1;u<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;u++){let h=this.detectionResultColumns[u].getCodewords()[a];h!=null&&(s=zn.adjustRowNumberIfValid(l,s,h),h.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,a){if(!this.detectionResultColumns[t-1])return;let l=a[r],s=this.detectionResultColumns[t-1].getCodewords(),u=s;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let h=new Array(14);h[2]=s[r],h[3]=u[r],r>0&&(h[0]=a[r-1],h[4]=s[r-1],h[5]=u[r-1]),r>1&&(h[8]=a[r-2],h[10]=s[r-2],h[11]=u[r-2]),r<a.length-1&&(h[1]=a[r+1],h[6]=s[r+1],h[7]=u[r+1]),r<a.length-2&&(h[9]=a[r+2],h[12]=s[r+2],h[13]=u[r+2]);for(let p of h)if(zn.adjustRowNumber(l,p))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Ci;for(let a=0;a<t.getCodewords().length;a++){r.format("CW %3d:",a);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){r.format("    |   ");continue}let s=this.detectionResultColumns[l].getCodewords()[a];if(s==null){r.format("    |   ");continue}r.format(" %3d|%3d",s.getRowNumber(),s.getValue())}r.format("%n")}return r.toString()}}class Rr{constructor(t,r,a,l){this.rowNumber=Rr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(a),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Rr.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Rr.BARCODE_ROW_UNKNOWN=-1;class Yn{static initialize(){for(let t=0;t<$e.SYMBOL_TABLE.length;t++){let r=$e.SYMBOL_TABLE[t],a=r&1;for(let l=0;l<$e.BARS_IN_MODULE;l++){let s=0;for(;(r&1)===a;)s+=1,r>>=1;a=r&1,Yn.RATIOS_TABLE[t]||(Yn.RATIOS_TABLE[t]=new Array($e.BARS_IN_MODULE)),Yn.RATIOS_TABLE[t][$e.BARS_IN_MODULE-l-1]=Math.fround(s/$e.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Yn.getDecodedCodewordValue(Yn.sampleBitCounts(t));return r!==-1?r:Yn.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=it.sum(t),a=new Int32Array($e.BARS_IN_MODULE),l=0,s=0;for(let u=0;u<$e.MODULES_IN_CODEWORD;u++){let h=r/(2*$e.MODULES_IN_CODEWORD)+u*r/$e.MODULES_IN_CODEWORD;s+t[l]<=h&&(s+=t[l],l++),a[l]++}return a}static getDecodedCodewordValue(t){let r=Yn.getBitValue(t);return $e.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let a=0;a<t.length;a++)for(let l=0;l<t[a];l++)r=r<<1|(a%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=it.sum(t),a=new Array($e.BARS_IN_MODULE);if(r>1)for(let u=0;u<a.length;u++)a[u]=Math.fround(t[u]/r);let l=sr.MAX_VALUE,s=-1;this.bSymbolTableReady||Yn.initialize();for(let u=0;u<Yn.RATIOS_TABLE.length;u++){let h=0,p=Yn.RATIOS_TABLE[u];for(let v=0;v<$e.BARS_IN_MODULE;v++){let A=Math.fround(p[v]-a[v]);if(h+=Math.fround(A*A),h>=l)break}h<l&&(l=h,s=$e.SYMBOL_TABLE[u])}return s}}Yn.bSymbolTableReady=!1,Yn.RATIOS_TABLE=new Array($e.SYMBOL_TABLE.length).map(I=>new Array($e.BARS_IN_MODULE));class Ei{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Vo{static parseLong(t,r=void 0){return parseInt(t,r)}}class zl extends C{}zl.kind="NullPointerException";class Ms{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,a){if(t==null)throw new zl;if(r<0||r>t.length||a<0||r+a>t.length||r+a<0)throw new K;if(a===0)return;for(let l=0;l<a;l++)this.write(t[r+l])}flush(){}close(){}}class dl extends C{}class Ul extends Ms{constructor(t=32){if(super(),this.count=0,t<0)throw new R("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let a=this.buf.length<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new dl;a=H.MAX_VALUE}this.buf=j.copyOfUint8Array(this.buf,a)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,a){if(r<0||r>t.length||a<0||r+a-t.length>0)throw new K;this.ensureCapacity(this.count+a),Y.arraycopy(t,r,this.buf,this.count,a),this.count+=a}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return j.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Ht;(function(I){I[I.ALPHA=0]="ALPHA",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.PUNCT=3]="PUNCT",I[I.ALPHA_SHIFT=4]="ALPHA_SHIFT",I[I.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ht||(Ht={}));function Go(){if(typeof window<"u")return window.BigInt||null;if(typeof tu<"u")return tu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Pl;function Oa(I){if(typeof Pl>"u"&&(Pl=Go()),Pl===null)throw new Error("BigInt is not supported!");return Pl(I)}function Bs(){let I=[];I[0]=Oa(1);let t=Oa(900);I[1]=t;for(let r=2;r<16;r++)I[r]=I[r-1]*t;return I}class me{static decode(t,r){let a=new ve(""),l=W.ISO8859_1;a.enableDecoding(l);let s=1,u=t[s++],h=new Ei;for(;s<t[0];){switch(u){case me.TEXT_COMPACTION_MODE_LATCH:s=me.textCompaction(t,s,a);break;case me.BYTE_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:s=me.byteCompaction(u,t,l,s,a);break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[s++]);break;case me.NUMERIC_COMPACTION_MODE_LATCH:s=me.numericCompaction(t,s,a);break;case me.ECI_CHARSET:W.getCharacterSetECIByValue(t[s++]);break;case me.ECI_GENERAL_PURPOSE:s+=2;break;case me.ECI_USER_DEFINED:s++;break;case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=me.decodeMacroBlock(t,s,h);break;case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:throw new z;default:s--,s=me.textCompaction(t,s,a);break}if(s<t.length)u=t[s++];else throw z.getFormatInstance()}if(a.length()===0)throw z.getFormatInstance();let p=new He(null,a.toString(),null,r);return p.setOther(h),p}static decodeMacroBlock(t,r,a){if(r+me.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw z.getFormatInstance();let l=new Int32Array(me.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<me.NUMBER_OF_SEQUENCE_CODEWORDS;h++,r++)l[h]=t[r];a.setSegmentIndex(H.parseInt(me.decodeBase900toBase10(l,me.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new ve;r=me.textCompaction(t,r,s),a.setFileId(s.toString());let u=-1;for(t[r]===me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case me.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new ve;r=me.textCompaction(t,r+1,h),a.setFileName(h.toString());break;case me.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let p=new ve;r=me.textCompaction(t,r+1,p),a.setSender(p.toString());break;case me.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new ve;r=me.textCompaction(t,r+1,v),a.setAddressee(v.toString());break;case me.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new ve;r=me.numericCompaction(t,r+1,A),a.setSegmentCount(H.parseInt(A.toString()));break;case me.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let _=new ve;r=me.numericCompaction(t,r+1,_),a.setTimestamp(Vo.parseLong(_.toString()));break;case me.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new ve;r=me.numericCompaction(t,r+1,D),a.setChecksum(H.parseInt(D.toString()));break;case me.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let F=new ve;r=me.numericCompaction(t,r+1,F),a.setFileSize(Vo.parseLong(F.toString()));break;default:throw z.getFormatInstance()}break;case me.MACRO_PDF417_TERMINATOR:r++,a.setLastSegment(!0);break;default:throw z.getFormatInstance()}if(u!==-1){let h=r-u;a.isLastSegment()&&h--,a.setOptionalData(j.copyOfRange(t,u,u+h))}return r}static textCompaction(t,r,a){let l=new Int32Array((t[0]-r)*2),s=new Int32Array((t[0]-r)*2),u=0,h=!1;for(;r<t[0]&&!h;){let p=t[r++];if(p<me.TEXT_COMPACTION_MODE_LATCH)l[u]=p/30,l[u+1]=p%30,u+=2;else switch(p){case me.TEXT_COMPACTION_MODE_LATCH:l[u++]=me.TEXT_COMPACTION_MODE_LATCH;break;case me.BYTE_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.NUMERIC_COMPACTION_MODE_LATCH:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:r--,h=!0;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[u]=me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,p=t[r++],s[u]=p,u++;break}}return me.decodeTextCompaction(l,s,u,a),r}static decodeTextCompaction(t,r,a,l){let s=Ht.ALPHA,u=Ht.ALPHA,h=0;for(;h<a;){let p=t[h],v="";switch(s){case Ht.ALPHA:if(p<26)v=String.fromCharCode(65+p);else switch(p){case 26:v=" ";break;case me.LL:s=Ht.LOWER;break;case me.ML:s=Ht.MIXED;break;case me.PS:u=s,s=Ht.PUNCT_SHIFT;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[h]);break;case me.TEXT_COMPACTION_MODE_LATCH:s=Ht.ALPHA;break}break;case Ht.LOWER:if(p<26)v=String.fromCharCode(97+p);else switch(p){case 26:v=" ";break;case me.AS:u=s,s=Ht.ALPHA_SHIFT;break;case me.ML:s=Ht.MIXED;break;case me.PS:u=s,s=Ht.PUNCT_SHIFT;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[h]);break;case me.TEXT_COMPACTION_MODE_LATCH:s=Ht.ALPHA;break}break;case Ht.MIXED:if(p<me.PL)v=me.MIXED_CHARS[p];else switch(p){case me.PL:s=Ht.PUNCT;break;case 26:v=" ";break;case me.LL:s=Ht.LOWER;break;case me.AL:s=Ht.ALPHA;break;case me.PS:u=s,s=Ht.PUNCT_SHIFT;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[h]);break;case me.TEXT_COMPACTION_MODE_LATCH:s=Ht.ALPHA;break}break;case Ht.PUNCT:if(p<me.PAL)v=me.PUNCT_CHARS[p];else switch(p){case me.PAL:s=Ht.ALPHA;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[h]);break;case me.TEXT_COMPACTION_MODE_LATCH:s=Ht.ALPHA;break}break;case Ht.ALPHA_SHIFT:if(s=u,p<26)v=String.fromCharCode(65+p);else switch(p){case 26:v=" ";break;case me.TEXT_COMPACTION_MODE_LATCH:s=Ht.ALPHA;break}break;case Ht.PUNCT_SHIFT:if(s=u,p<me.PAL)v=me.PUNCT_CHARS[p];else switch(p){case me.PAL:s=Ht.ALPHA;break;case me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[h]);break;case me.TEXT_COMPACTION_MODE_LATCH:s=Ht.ALPHA;break}break}v!==""&&l.append(v),h++}}static byteCompaction(t,r,a,l,s){let u=new Ul,h=0,p=0,v=!1;switch(t){case me.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),_=r[l++];for(;l<r[0]&&!v;)switch(A[h++]=_,p=900*p+_,_=r[l++],_){case me.TEXT_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH:case me.NUMERIC_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:l--,v=!0;break;default:if(h%5===0&&h>0){for(let D=0;D<6;++D)u.write(Number(Oa(p)>>Oa(8*(5-D))));p=0,h=0}break}l===r[0]&&_<me.TEXT_COMPACTION_MODE_LATCH&&(A[h++]=_);for(let D=0;D<h;D++)u.write(A[D]);break;case me.BYTE_COMPACTION_MODE_LATCH_6:for(;l<r[0]&&!v;){let D=r[l++];if(D<me.TEXT_COMPACTION_MODE_LATCH)h++,p=900*p+D;else switch(D){case me.TEXT_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH:case me.NUMERIC_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:l--,v=!0;break}if(h%5===0&&h>0){for(let F=0;F<6;++F)u.write(Number(Oa(p)>>Oa(8*(5-F))));p=0,h=0}}break}return s.append(Ce.decode(u.toByteArray(),a)),l}static numericCompaction(t,r,a){let l=0,s=!1,u=new Int32Array(me.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!s;){let h=t[r++];if(r===t[0]&&(s=!0),h<me.TEXT_COMPACTION_MODE_LATCH)u[l]=h,l++;else switch(h){case me.TEXT_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH:case me.BYTE_COMPACTION_MODE_LATCH_6:case me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case me.MACRO_PDF417_TERMINATOR:r--,s=!0;break}(l%me.MAX_NUMERIC_CODEWORDS===0||h===me.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(a.append(me.decodeBase900toBase10(u,l)),l=0)}return r}static decodeBase900toBase10(t,r){let a=Oa(0);for(let s=0;s<r;s++)a+=me.EXP900[r-s-1]*Oa(t[s]);let l=a.toString();if(l.charAt(0)!=="1")throw new z;return l.substring(1)}}me.TEXT_COMPACTION_MODE_LATCH=900,me.BYTE_COMPACTION_MODE_LATCH=901,me.NUMERIC_COMPACTION_MODE_LATCH=902,me.BYTE_COMPACTION_MODE_LATCH_6=924,me.ECI_USER_DEFINED=925,me.ECI_GENERAL_PURPOSE=926,me.ECI_CHARSET=927,me.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,me.MACRO_PDF417_TERMINATOR=922,me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,me.MAX_NUMERIC_CODEWORDS=15,me.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,me.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,me.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,me.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,me.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,me.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,me.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,me.PL=25,me.LL=27,me.AS=27,me.ML=28,me.AL=28,me.PS=29,me.PAL=29,me.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,me.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",me.EXP900=Go()?Bs():[],me.NUMBER_OF_SEQUENCE_CODEWORDS=2;class mt{constructor(){}static decode(t,r,a,l,s,u,h){let p=new ha(t,r,a,l,s),v=null,A=null,_;for(let Q=!0;;Q=!1){if(r!=null&&(v=mt.getRowIndicatorColumn(t,p,r,!0,u,h)),l!=null&&(A=mt.getRowIndicatorColumn(t,p,l,!1,u,h)),_=mt.merge(v,A),_==null)throw M.getNotFoundInstance();let $=_.getBoundingBox();if(Q&&$!=null&&($.getMinY()<p.getMinY()||$.getMaxY()>p.getMaxY()))p=$;else break}_.setBoundingBox(p);let D=_.getBarcodeColumnCount()+1;_.setDetectionResultColumn(0,v),_.setDetectionResultColumn(D,A);let F=v!=null;for(let Q=1;Q<=D;Q++){let $=F?Q:D-Q;if(_.getDetectionResultColumn($)!==void 0)continue;let se;$===0||$===D?se=new ks(p,$===0):se=new Ia(p),_.setDetectionResultColumn($,se);let ge=-1,Be=ge;for(let ke=p.getMinY();ke<=p.getMaxY();ke++){if(ge=mt.getStartColumn(_,$,ke,F),ge<0||ge>p.getMaxX()){if(Be===-1)continue;ge=Be}let Oe=mt.detectCodeword(t,p.getMinX(),p.getMaxX(),F,ge,ke,u,h);Oe!=null&&(se.setCodeword(ke,Oe),Be=ge,u=Math.min(u,Oe.getWidth()),h=Math.max(h,Oe.getWidth()))}}return mt.createDecoderResult(_)}static merge(t,r){if(t==null&&r==null)return null;let a=mt.getBarcodeMetadata(t,r);if(a==null)return null;let l=ha.merge(mt.adjustBoundingBox(t),mt.adjustBoundingBox(r));return new zn(a,l)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let a=mt.getMax(r),l=0;for(let h of r)if(l+=a-h,h>0)break;let s=t.getCodewords();for(let h=0;l>0&&s[h]==null;h++)l--;let u=0;for(let h=r.length-1;h>=0&&(u+=a-r[h],!(r[h]>0));h--);for(let h=s.length-1;u>0&&s[h]==null;h--)u--;return t.getBoundingBox().addMissingRows(l,u,t.isLeft())}static getMax(t){let r=-1;for(let a of t)r=Math.max(r,a);return r}static getBarcodeMetadata(t,r){let a;if(t==null||(a=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let l;return r==null||(l=r.getBarcodeMetadata())==null?a:a.getColumnCount()!==l.getColumnCount()&&a.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&a.getRowCount()!==l.getRowCount()?null:a}static getRowIndicatorColumn(t,r,a,l,s,u){let h=new ks(r,l);for(let p=0;p<2;p++){let v=p===0?1:-1,A=Math.trunc(Math.trunc(a.getX()));for(let _=Math.trunc(Math.trunc(a.getY()));_<=r.getMaxY()&&_>=r.getMinY();_+=v){let D=mt.detectCodeword(t,0,t.getWidth(),l,A,_,s,u);D!=null&&(h.setCodeword(_,D),l?A=D.getStartX():A=D.getEndX())}}return h}static adjustCodewordCount(t,r){let a=r[0][1],l=a.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-mt.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(s<1||s>$e.MAX_CODEWORDS_IN_BARCODE)throw M.getNotFoundInstance();a.setValue(s)}else l[0]!==s&&a.setValue(s)}static createDecoderResult(t){let r=mt.createBarcodeMatrix(t);mt.adjustCodewordCount(t,r);let a=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],u=new Array;for(let p=0;p<t.getBarcodeRowCount();p++)for(let v=0;v<t.getBarcodeColumnCount();v++){let A=r[p][v+1].getValue(),_=p*t.getBarcodeColumnCount()+v;A.length===0?a.push(_):A.length===1?l[_]=A[0]:(u.push(_),s.push(A))}let h=new Array(s.length);for(let p=0;p<h.length;p++)h[p]=s[p];return mt.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,$e.toIntArray(a),$e.toIntArray(u),h)}static createDecoderResultFromAmbiguousValues(t,r,a,l,s){let u=new Int32Array(l.length),h=100;for(;h-- >0;){for(let p=0;p<u.length;p++)r[l[p]]=s[p][u[p]];try{return mt.decodeCodewords(r,t,a)}catch(p){if(!(p instanceof X))throw p}if(u.length===0)throw X.getChecksumInstance();for(let p=0;p<u.length;p++)if(u[p]<s[p].length-1){u[p]++;break}else if(u[p]=0,p===u.length-1)throw X.getChecksumInstance()}throw X.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<r.length;l++)for(let s=0;s<r[l].length;s++)r[l][s]=new _a;let a=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let s of l.getCodewords())if(s!=null){let u=s.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][a].setValue(s.getValue())}}}a++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,a,l){let s=l?1:-1,u=null;if(mt.isValidBarcodeColumn(t,r-s)&&(u=t.getDetectionResultColumn(r-s).getCodeword(a)),u!=null)return l?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(a),u!=null)return l?u.getStartX():u.getEndX();if(mt.isValidBarcodeColumn(t,r-s)&&(u=t.getDetectionResultColumn(r-s).getCodewordNearby(a)),u!=null)return l?u.getEndX():u.getStartX();let h=0;for(;mt.isValidBarcodeColumn(t,r-s);){r-=s;for(let p of t.getDetectionResultColumn(r).getCodewords())if(p!=null)return(l?p.getEndX():p.getStartX())+s*h*(p.getEndX()-p.getStartX());h++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,a,l,s,u,h,p){s=mt.adjustCodewordStartColumn(t,r,a,l,s,u);let v=mt.getModuleBitCount(t,r,a,l,s,u);if(v==null)return null;let A,_=it.sum(v);if(l)A=s+_;else{for(let Q=0;Q<v.length/2;Q++){let $=v[Q];v[Q]=v[v.length-1-Q],v[v.length-1-Q]=$}A=s,s=A-_}if(!mt.checkCodewordSkew(_,h,p))return null;let D=Yn.getDecodedValue(v),F=$e.getCodeword(D);return F===-1?null:new Rr(s,A,mt.getCodewordBucketNumber(D),F)}static getModuleBitCount(t,r,a,l,s,u){let h=s,p=new Int32Array(8),v=0,A=l?1:-1,_=l;for(;(l?h<a:h>=r)&&v<p.length;)t.get(h,u)===_?(p[v]++,h+=A):(v++,_=!_);return v===p.length||h===(l?a:r)&&v===p.length-1?p:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,a,l,s,u){let h=s,p=l?-1:1;for(let v=0;v<2;v++){for(;(l?h>=r:h<a)&&l===t.get(h,u);){if(Math.abs(s-h)>mt.CODEWORD_SKEW_SIZE)return s;h+=p}p=-p,l=!l}return h}static checkCodewordSkew(t,r,a){return r-mt.CODEWORD_SKEW_SIZE<=t&&t<=a+mt.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,a){if(t.length===0)throw z.getFormatInstance();let l=1<<r+1,s=mt.correctErrors(t,a,l);mt.verifyCodewordCount(t,l);let u=me.decode(t,""+r);return u.setErrorsCorrected(s),u.setErasures(a.length),u}static correctErrors(t,r,a){if(r!=null&&r.length>a/2+mt.MAX_ERRORS||a<0||a>mt.MAX_EC_CODEWORDS)throw X.getChecksumInstance();return mt.errorCorrection.decode(t,a,r)}static verifyCodewordCount(t,r){if(t.length<4)throw z.getFormatInstance();let a=t[0];if(a>t.length)throw z.getFormatInstance();if(a===0)if(r<t.length)t[0]=t.length-r;else throw z.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),a=0,l=r.length-1;for(;!((t&1)!==a&&(a=t&1,l--,l<0));)r[l]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return mt.getCodewordBucketNumber(mt.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new Ci;for(let a=0;a<t.length;a++){r.format("Row %2d: ",a);for(let l=0;l<t[a].length;l++){let s=t[a][l];s.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}r.format("%n")}return r.toString()}}mt.CODEWORD_SKEW_SIZE=2,mt.MAX_ERRORS=3,mt.MAX_EC_CODEWORDS=512,mt.errorCorrection=new fa;class qn{decode(t,r=null){let a=qn.decode(t,r,!1);if(a==null||a.length===0||a[0]==null)throw M.getNotFoundInstance();return a[0]}decodeMultiple(t,r=null){try{return qn.decode(t,r,!0)}catch(a){throw a instanceof z||a instanceof X?M.getNotFoundInstance():a}}static decode(t,r,a){const l=new Array,s=lt.detectMultiple(t,r,a);for(const u of s.getPoints()){const h=mt.decode(s.getBits(),u[4],u[5],u[6],u[7],qn.getMinCodewordWidth(u),qn.getMaxCodewordWidth(u)),p=new Re(h.getText(),h.getRawBytes(),void 0,u,Te.PDF_417);p.putMetadata(we.ERROR_CORRECTION_LEVEL,h.getECLevel());const v=h.getOther();v!=null&&p.putMetadata(we.PDF417_EXTRA_METADATA,v),l.push(p)}return l.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?H.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(qn.getMaxWidth(t[0],t[4]),qn.getMaxWidth(t[6],t[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.max(qn.getMaxWidth(t[1],t[5]),qn.getMaxWidth(t[7],t[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(qn.getMinWidth(t[0],t[4]),qn.getMinWidth(t[6],t[2])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN),Math.min(qn.getMinWidth(t[1],t[5]),qn.getMinWidth(t[7],t[3])*$e.MODULES_IN_CODEWORD/$e.MODULES_IN_STOP_PATTERN)))}reset(){}}class Fl extends C{}Fl.kind="ReaderException";class Xo{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!m(t)&&t.get(ne.TRY_HARDER)===!0,a=m(t)?null:t.get(ne.POSSIBLE_FORMATS),l=new Array;if(!m(a)){const s=a.some(u=>u===Te.UPC_A||u===Te.UPC_E||u===Te.EAN_13||u===Te.EAN_8||u===Te.CODABAR||u===Te.CODE_39||u===Te.CODE_93||u===Te.CODE_128||u===Te.ITF||u===Te.RSS_14||u===Te.RSS_EXPANDED);s&&!r&&l.push(new _r(t,this.verbose)),a.includes(Te.QR_CODE)&&l.push(new da),a.includes(Te.DATA_MATRIX)&&l.push(new ua),a.includes(Te.AZTEC)&&l.push(new Fa),a.includes(Te.PDF_417)&&l.push(new qn),s&&r&&l.push(new _r(t,this.verbose))}l.length===0&&(r||l.push(new _r(t,this.verbose)),l.push(new da),l.push(new ua),l.push(new Fa),l.push(new qn),r&&l.push(new _r(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Fl("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(a){if(a instanceof Fl)continue}throw new M("No MultiFormat Readers were able to detect the code.")}}class Yo extends Ae{constructor(t=null,r=500){const a=new Xo;a.setHints(t),super(a,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Du extends Ae{constructor(t=500){super(new qn,t)}}class ku extends Ae{constructor(t=500){super(new da,t)}}var js;(function(I){I[I.ERROR_CORRECTION=0]="ERROR_CORRECTION",I[I.CHARACTER_SET=1]="CHARACTER_SET",I[I.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",I[I.MIN_SIZE=3]="MIN_SIZE",I[I.MAX_SIZE=4]="MAX_SIZE",I[I.MARGIN=5]="MARGIN",I[I.PDF417_COMPACT=6]="PDF417_COMPACT",I[I.PDF417_COMPACTION=7]="PDF417_COMPACTION",I[I.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",I[I.AZTEC_LAYERS=9]="AZTEC_LAYERS",I[I.QR_VERSION=10]="QR_VERSION"})(js||(js={}));var Dn=js;class fl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new ft(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let a=r[r.length-1];const l=this.field;for(let s=r.length;s<=t;s++){const u=a.multiply(new ft(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));r.push(u),a=u}}return r[t]}encode(t,r){if(r===0)throw new R("No error correction bytes");const a=t.length-r;if(a<=0)throw new R("No data bytes provided");const l=this.buildGenerator(r),s=new Int32Array(a);Y.arraycopy(t,0,s,0,a);let u=new ft(this.field,s);u=u.multiplyByMonomial(r,1);const p=u.divide(l)[1].getCoefficients(),v=r-p.length;for(let A=0;A<v;A++)t[a+A]=0;Y.arraycopy(p,0,t,a+v,p.length)}}class yn{constructor(){}static applyMaskPenaltyRule1(t){return yn.applyMaskPenaltyRule1Internal(t,!0)+yn.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let u=0;u<s-1;u++){const h=a[u];for(let p=0;p<l-1;p++){const v=h[p];v===h[p+1]&&v===a[u+1][p]&&v===a[u+1][p+1]&&r++}}return yn.N2*r}static applyMaskPenaltyRule3(t){let r=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let u=0;u<s;u++)for(let h=0;h<l;h++){const p=a[u];h+6<l&&p[h]===1&&p[h+1]===0&&p[h+2]===1&&p[h+3]===1&&p[h+4]===1&&p[h+5]===0&&p[h+6]===1&&(yn.isWhiteHorizontal(p,h-4,h)||yn.isWhiteHorizontal(p,h+7,h+11))&&r++,u+6<s&&a[u][h]===1&&a[u+1][h]===0&&a[u+2][h]===1&&a[u+3][h]===1&&a[u+4][h]===1&&a[u+5][h]===0&&a[u+6][h]===1&&(yn.isWhiteVertical(a,h,u-4,u)||yn.isWhiteVertical(a,h,u+7,u+11))&&r++}return r*yn.N3}static isWhiteHorizontal(t,r,a){r=Math.max(r,0),a=Math.min(a,t.length);for(let l=r;l<a;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,r,a,l){a=Math.max(a,0),l=Math.min(l,t.length);for(let s=a;s<l;s++)if(t[s][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let p=0;p<s;p++){const v=a[p];for(let A=0;A<l;A++)v[A]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*yn.N4}static getDataMaskBit(t,r,a){let l,s;switch(t){case 0:l=a+r&1;break;case 1:l=a&1;break;case 2:l=r%3;break;case 3:l=(a+r)%3;break;case 4:l=Math.floor(a/2)+Math.floor(r/3)&1;break;case 5:s=a*r,l=(s&1)+s%3;break;case 6:s=a*r,l=(s&1)+s%3&1;break;case 7:s=a*r,l=s%3+(a+r&1)&1;break;default:throw new R("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,r){let a=0;const l=r?t.getHeight():t.getWidth(),s=r?t.getWidth():t.getHeight(),u=t.getArray();for(let h=0;h<l;h++){let p=0,v=-1;for(let A=0;A<s;A++){const _=r?u[h][A]:u[A][h];_===v?p++:(p>=5&&(a+=yn.N1+(p-5)),p=1,v=_)}p>=5&&(a+=yn.N1+(p-5))}return a}}yn.N1=3,yn.N2=3,yn.N3=40,yn.N4=10;class Hl{constructor(t,r){this.width=t,this.height=r;const a=new Array(r);for(let l=0;l!==r;l++)a[l]=new Uint8Array(t);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,a){this.bytes[r][t]=a}setBoolean(t,r,a){this.bytes[r][t]=a?1:0}clear(t){for(const r of this.bytes)j.fill(r,t)}equals(t){if(!(t instanceof Hl))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let a=0,l=this.height;a<l;++a){const s=this.bytes[a],u=r.bytes[a];for(let h=0,p=this.width;h<p;++h)if(s[h]!==u[h])return!1}return!0}toString(){const t=new ve;for(let r=0,a=this.height;r<a;++r){const l=this.bytes[r];for(let s=0,u=this.width;s<u;++s)switch(l[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Va{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new ve;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Va.NUM_MASK_PATTERNS}}Va.NUM_MASK_PATTERNS=8;class Xt extends C{}Xt.kind="WriterException";class et{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,a,l,s){et.clearMatrix(s),et.embedBasicPatterns(a,s),et.embedTypeInfo(r,l,s),et.maybeEmbedVersionInfo(a,s),et.embedDataBits(t,l,s)}static embedBasicPatterns(t,r){et.embedPositionDetectionPatternsAndSeparators(r),et.embedDarkDotAtLeftBottomCorner(r),et.maybeEmbedPositionAdjustmentPatterns(t,r),et.embedTimingPatterns(r)}static embedTypeInfo(t,r,a){const l=new le;et.makeTypeInfoBits(t,r,l);for(let s=0,u=l.getSize();s<u;++s){const h=l.get(l.getSize()-1-s),p=et.TYPE_INFO_COORDINATES[s],v=p[0],A=p[1];if(a.setBoolean(v,A,h),s<8){const _=a.getWidth()-s-1;a.setBoolean(_,8,h)}else{const D=a.getHeight()-7+(s-8);a.setBoolean(8,D,h)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const a=new le;et.makeVersionInfoBits(t,a);let l=17;for(let s=0;s<6;++s)for(let u=0;u<3;++u){const h=a.get(l);l--,r.setBoolean(s,r.getHeight()-11+u,h),r.setBoolean(r.getHeight()-11+u,s,h)}}static embedDataBits(t,r,a){let l=0,s=-1,u=a.getWidth()-1,h=a.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);h>=0&&h<a.getHeight();){for(let p=0;p<2;++p){const v=u-p;if(!et.isEmpty(a.get(v,h)))continue;let A;l<t.getSize()?(A=t.get(l),++l):A=!1,r!==255&&yn.getDataMaskBit(r,v,h)&&(A=!A),a.setBoolean(v,h,A)}h+=s}s=-s,h+=s,u-=2}if(l!==t.getSize())throw new Xt("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-H.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new R("0 polynomial");const a=et.findMSBSet(r);for(t<<=a-1;et.findMSBSet(t)>=a;)t^=r<<et.findMSBSet(t)-a;return t}static makeTypeInfoBits(t,r,a){if(!Va.isValidMaskPattern(r))throw new Xt("Invalid mask pattern");const l=t.getBits()<<3|r;a.appendBits(l,5);const s=et.calculateBCHCode(l,et.TYPE_INFO_POLY);a.appendBits(s,10);const u=new le;if(u.appendBits(et.TYPE_INFO_MASK_PATTERN,15),a.xor(u),a.getSize()!==15)throw new Xt("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const a=et.calculateBCHCode(t.getVersionNumber(),et.VERSION_INFO_POLY);if(r.appendBits(a,12),r.getSize()!==18)throw new Xt("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const a=(r+1)%2;et.isEmpty(t.get(r,6))&&t.setNumber(r,6,a),et.isEmpty(t.get(6,r))&&t.setNumber(6,r,a)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Xt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,a){for(let l=0;l<8;++l){if(!et.isEmpty(a.get(t+l,r)))throw new Xt;a.setNumber(t+l,r,0)}}static embedVerticalSeparationPattern(t,r,a){for(let l=0;l<7;++l){if(!et.isEmpty(a.get(t,r+l)))throw new Xt;a.setNumber(t,r+l,0)}}static embedPositionAdjustmentPattern(t,r,a){for(let l=0;l<5;++l){const s=et.POSITION_ADJUSTMENT_PATTERN[l];for(let u=0;u<5;++u)a.setNumber(t+u,r+l,s[u])}}static embedPositionDetectionPattern(t,r,a){for(let l=0;l<7;++l){const s=et.POSITION_DETECTION_PATTERN[l];for(let u=0;u<7;++u)a.setNumber(t+u,r+l,s[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=et.POSITION_DETECTION_PATTERN[0].length;et.embedPositionDetectionPattern(0,0,t),et.embedPositionDetectionPattern(t.getWidth()-r,0,t),et.embedPositionDetectionPattern(0,t.getWidth()-r,t);const a=8;et.embedHorizontalSeparationPattern(0,a-1,t),et.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),et.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);const l=7;et.embedVerticalSeparationPattern(l,0,t),et.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),et.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const a=t.getVersionNumber()-1,l=et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let s=0,u=l.length;s!==u;s++){const h=l[s];if(h>=0)for(let p=0;p!==u;p++){const v=l[p];v>=0&&et.isEmpty(r.get(v,h))&&et.embedPositionAdjustmentPattern(v-2,h-2,r)}}}}et.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),et.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),et.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),et.VERSION_INFO_POLY=7973,et.TYPE_INFO_POLY=1335,et.TYPE_INFO_MASK_PATTERN=21522;class Mu{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ln{constructor(){}static calculateMaskPenalty(t){return yn.applyMaskPenaltyRule1(t)+yn.applyMaskPenaltyRule2(t)+yn.applyMaskPenaltyRule3(t)+yn.applyMaskPenaltyRule4(t)}static encode(t,r,a=null){let l=ln.DEFAULT_BYTE_MODE_ENCODING;const s=a!==null&&a.get(Dn.CHARACTER_SET)!==void 0;s&&(l=a.get(Dn.CHARACTER_SET).toString());const u=this.chooseMode(t,l),h=new le;if(u===Qe.BYTE&&(s||ln.DEFAULT_BYTE_MODE_ENCODING!==l)){const ke=W.getCharacterSetECIByName(l);ke!==void 0&&this.appendECI(ke,h)}this.appendModeInfo(u,h);const p=new le;this.appendBytes(t,u,p,l);let v;if(a!==null&&a.get(Dn.QR_VERSION)!==void 0){const ke=Number.parseInt(a.get(Dn.QR_VERSION).toString(),10);v=Ye.getVersionForNumber(ke);const Oe=this.calculateBitsNeeded(u,h,p,v);if(!this.willFit(Oe,v,r))throw new Xt("Data too big for requested version")}else v=this.recommendVersion(r,u,h,p);const A=new le;A.appendBitArray(h);const _=u===Qe.BYTE?p.getSizeInBytes():t.length;this.appendLengthInfo(_,v,u,A),A.appendBitArray(p);const D=v.getECBlocksForLevel(r),F=v.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(F,A);const Q=this.interleaveWithECBytes(A,v.getTotalCodewords(),F,D.getNumBlocks()),$=new Va;$.setECLevel(r),$.setMode(u),$.setVersion(v);const se=v.getDimensionForVersion(),ge=new Hl(se,se),Be=this.chooseMaskPattern(Q,r,v,ge);return $.setMaskPattern(Be),et.buildMatrix(Q,r,v,Be,ge),$.setMatrix(ge),$}static recommendVersion(t,r,a,l){const s=this.calculateBitsNeeded(r,a,l,Ye.getVersionForNumber(1)),u=this.chooseVersion(s,t),h=this.calculateBitsNeeded(r,a,l,u);return this.chooseVersion(h,t)}static calculateBitsNeeded(t,r,a,l){return r.getSize()+t.getCharacterCountBits(l)+a.getSize()}static getAlphanumericCode(t){return t<ln.ALPHANUMERIC_TABLE.length?ln.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(W.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return Qe.KANJI;let a=!1,l=!1;for(let s=0,u=t.length;s<u;++s){const h=t.charAt(s);if(ln.isDigit(h))a=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)l=!0;else return Qe.BYTE}return l?Qe.ALPHANUMERIC:a?Qe.NUMERIC:Qe.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=Ce.encode(t,W.SJIS)}catch{return!1}const a=r.length;if(a%2!==0)return!1;for(let l=0;l<a;l+=2){const s=r[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(t,r,a,l){let s=Number.MAX_SAFE_INTEGER,u=-1;for(let h=0;h<Va.NUM_MASK_PATTERNS;h++){et.buildMatrix(t,r,a,h,l);let p=this.calculateMaskPenalty(l);p<s&&(s=p,u=h)}return u}static chooseVersion(t,r){for(let a=1;a<=40;a++){const l=Ye.getVersionForNumber(a);if(ln.willFit(t,l,r))return l}throw new Xt("Data too big")}static willFit(t,r,a){const l=r.getTotalCodewords(),u=r.getECBlocksForLevel(a).getTotalECCodewords(),h=l-u,p=(t+7)/8;return h>=p}static terminateBits(t,r){const a=t*8;if(r.getSize()>a)throw new Xt("data bits cannot fit in the QR Code"+r.getSize()+" > "+a);for(let u=0;u<4&&r.getSize()<a;++u)r.appendBit(!1);const l=r.getSize()&7;if(l>0)for(let u=l;u<8;u++)r.appendBit(!1);const s=t-r.getSizeInBytes();for(let u=0;u<s;++u)r.appendBits((u&1)===0?236:17,8);if(r.getSize()!==a)throw new Xt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,a,l,s,u){if(l>=a)throw new Xt("Block ID too large");const h=t%a,p=a-h,v=Math.floor(t/a),A=v+1,_=Math.floor(r/a),D=_+1,F=v-_,Q=A-D;if(F!==Q)throw new Xt("EC bytes mismatch");if(a!==p+h)throw new Xt("RS blocks mismatch");if(t!==(_+F)*p+(D+Q)*h)throw new Xt("Total bytes mismatch");l<p?(s[0]=_,u[0]=F):(s[0]=D,u[0]=Q)}static interleaveWithECBytes(t,r,a,l){if(t.getSizeInBytes()!==a)throw new Xt("Number of bits and data bytes does not match");let s=0,u=0,h=0;const p=new Array;for(let A=0;A<l;++A){const _=new Int32Array(1),D=new Int32Array(1);ln.getNumDataBytesAndNumECBytesForBlockID(r,a,l,A,_,D);const F=_[0],Q=new Uint8Array(F);t.toBytes(8*s,Q,0,F);const $=ln.generateECBytes(Q,D[0]);p.push(new Mu(Q,$)),u=Math.max(u,F),h=Math.max(h,$.length),s+=_[0]}if(a!==s)throw new Xt("Data bytes does not match offset");const v=new le;for(let A=0;A<u;++A)for(const _ of p){const D=_.getDataBytes();A<D.length&&v.appendBits(D[A],8)}for(let A=0;A<h;++A)for(const _ of p){const D=_.getErrorCorrectionBytes();A<D.length&&v.appendBits(D[A],8)}if(r!==v.getSizeInBytes())throw new Xt("Interleaving error: "+r+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(t,r){const a=t.length,l=new Int32Array(a+r);for(let u=0;u<a;u++)l[u]=t[u]&255;new fl(at.QR_CODE_FIELD_256).encode(l,r);const s=new Uint8Array(r);for(let u=0;u<r;u++)s[u]=l[a+u];return s}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,a,l){const s=a.getCharacterCountBits(r);if(t>=1<<s)throw new Xt(t+" is bigger than "+((1<<s)-1));l.appendBits(t,s)}static appendBytes(t,r,a,l){switch(r){case Qe.NUMERIC:ln.appendNumericBytes(t,a);break;case Qe.ALPHANUMERIC:ln.appendAlphanumericBytes(t,a);break;case Qe.BYTE:ln.append8BitBytes(t,a,l);break;case Qe.KANJI:ln.appendKanjiBytes(t,a);break;default:throw new Xt("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=ln.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const a=t.length;let l=0;for(;l<a;){const s=ln.getDigit(t.charAt(l));if(l+2<a){const u=ln.getDigit(t.charAt(l+1)),h=ln.getDigit(t.charAt(l+2));r.appendBits(s*100+u*10+h,10),l+=3}else if(l+1<a){const u=ln.getDigit(t.charAt(l+1));r.appendBits(s*10+u,7),l+=2}else r.appendBits(s,4),l++}}static appendAlphanumericBytes(t,r){const a=t.length;let l=0;for(;l<a;){const s=ln.getAlphanumericCode(t.charCodeAt(l));if(s===-1)throw new Xt;if(l+1<a){const u=ln.getAlphanumericCode(t.charCodeAt(l+1));if(u===-1)throw new Xt;r.appendBits(s*45+u,11),l+=2}else r.appendBits(s,6),l++}}static append8BitBytes(t,r,a){let l;try{l=Ce.encode(t,a)}catch(s){throw new Xt(s)}for(let s=0,u=l.length;s!==u;s++){const h=l[s];r.appendBits(h,8)}}static appendKanjiBytes(t,r){let a;try{a=Ce.encode(t,W.SJIS)}catch(s){throw new Xt(s)}const l=a.length;for(let s=0;s<l;s+=2){const u=a[s]&255,h=a[s+1]&255,p=u<<8&4294967295|h;let v=-1;if(p>=33088&&p<=40956?v=p-33088:p>=57408&&p<=60351&&(v=p-49472),v===-1)throw new Xt("Invalid byte sequence");const A=(v>>8)*192+(v&255);r.appendBits(A,13)}}static appendECI(t,r){r.appendBits(Qe.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}ln.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ln.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class Ga{write(t,r,a,l=null){if(t.length===0)throw new R("Found empty contents");if(r<0||a<0)throw new R("Requested dimensions are too small: "+r+"x"+a);let s=Ct.L,u=Ga.QUIET_ZONE_SIZE;l!==null&&(l.get(Dn.ERROR_CORRECTION)!==void 0&&(s=Ct.fromString(l.get(Dn.ERROR_CORRECTION).toString())),l.get(Dn.MARGIN)!==void 0&&(u=Number.parseInt(l.get(Dn.MARGIN).toString(),10)));const h=ln.encode(t,s,l);return this.renderResult(h,r,a,u)}writeToDom(t,r,a,l,s=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,a,l,s);t&&t.appendChild(u)}renderResult(t,r,a,l){const s=t.getMatrix();if(s===null)throw new Je;const u=s.getWidth(),h=s.getHeight(),p=u+l*2,v=h+l*2,A=Math.max(r,p),_=Math.max(a,v),D=Math.min(Math.floor(A/p),Math.floor(_/v)),F=Math.floor((A-u*D)/2),Q=Math.floor((_-h*D)/2),$=this.createSVGElement(A,_);for(let se=0,ge=Q;se<h;se++,ge+=D)for(let Be=0,ke=F;Be<u;Be++,ke+=D)if(s.get(Be,se)===1){const Oe=this.createSvgRectElement(ke,ge,D,D);$.appendChild(Oe)}return $}createSVGElement(t,r){const a=document.createElementNS(Ga.SVG_NS,"svg");return a.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width",r.toString()),a}createSvgRectElement(t,r,a,l){const s=document.createElementNS(Ga.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"height",a.toString()),s.setAttributeNS(null,"width",l.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Ga.QUIET_ZONE_SIZE=4,Ga.SVG_NS="http://www.w3.org/2000/svg";class Ai{encode(t,r,a,l,s){if(t.length===0)throw new R("Found empty contents");if(r!==Te.QR_CODE)throw new R("Can only encode QR_CODE, but got "+r);if(a<0||l<0)throw new R(`Requested dimensions are too small: ${a}x${l}`);let u=Ct.L,h=Ai.QUIET_ZONE_SIZE;s!==null&&(s.get(Dn.ERROR_CORRECTION)!==void 0&&(u=Ct.fromString(s.get(Dn.ERROR_CORRECTION).toString())),s.get(Dn.MARGIN)!==void 0&&(h=Number.parseInt(s.get(Dn.MARGIN).toString(),10)));const p=ln.encode(t,u,s);return Ai.renderResult(p,a,l,h)}static renderResult(t,r,a,l){const s=t.getMatrix();if(s===null)throw new Je;const u=s.getWidth(),h=s.getHeight(),p=u+l*2,v=h+l*2,A=Math.max(r,p),_=Math.max(a,v),D=Math.min(Math.floor(A/p),Math.floor(_/v)),F=Math.floor((A-u*D)/2),Q=Math.floor((_-h*D)/2),$=new te(A,_);for(let se=0,ge=Q;se<h;se++,ge+=D)for(let Be=0,ke=F;Be<u;Be++,ke+=D)s.get(Be,se)===1&&$.setRegion(ke,ge,D,D);return $}}Ai.QUIET_ZONE_SIZE=4;class Bu{encode(t,r,a,l,s){let u;switch(r){case Te.QR_CODE:u=new Ai;break;default:throw new R("No encoder available for format "+r)}return u.encode(t,r,a,l,s)}}class Zr extends oe{constructor(t,r,a,l,s,u,h,p){if(super(u,h),this.yuvData=t,this.dataWidth=r,this.dataHeight=a,this.left=l,this.top=s,l+u>r||s+h>a)throw new R("Crop rectangle does not fit within image data.");p&&this.reverseHorizontal(u,h)}getRow(t,r){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const l=(t+this.top)*this.dataWidth+this.left;return Y.arraycopy(this.yuvData,l,r,0,a),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const a=t*r,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Y.arraycopy(this.yuvData,s,l,0,a),l;for(let u=0;u<r;u++){const h=u*t;Y.arraycopy(this.yuvData,s,l,h,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,r,a,l){return new Zr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,a,l,!1)}renderThumbnail(){const t=this.getWidth()/Zr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Zr.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*r),l=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const h=u*t;for(let p=0;p<t;p++){const v=l[s+p*Zr.THUMBNAIL_SCALE_FACTOR]&255;a[h+p]=4278190080|v*65793}s+=this.dataWidth*Zr.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Zr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Zr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const a=this.yuvData;for(let l=0,s=this.top*this.dataWidth+this.left;l<r;l++,s+=this.dataWidth){const u=s+t/2;for(let h=s,p=s+t-1;h<u;h++,p--){const v=a[h];a[h]=a[p],a[p]=v}}}invert(){return new Ne(this)}}Zr.THUMBNAIL_SCALE_FACTOR=2;class Ls extends oe{constructor(t,r,a,l,s,u,h){if(super(r,a),this.dataWidth=l,this.dataHeight=s,this.left=u,this.top=h,t.BYTES_PER_ELEMENT===4){const p=r*a,v=new Uint8ClampedArray(p);for(let A=0;A<p;A++){const _=t[A],D=_>>16&255,F=_>>7&510,Q=_&255;v[A]=(D+F+Q)/4&255}this.luminances=v}else this.luminances=t;if(l===void 0&&(this.dataWidth=r),s===void 0&&(this.dataHeight=a),u===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+a>this.dataHeight)throw new R("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new R("Requested row is outside the image: "+t);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const l=(t+this.top)*this.dataWidth+this.left;return Y.arraycopy(this.luminances,l,r,0,a),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const a=t*r,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Y.arraycopy(this.luminances,s,l,0,a),l;for(let u=0;u<r;u++){const h=u*t;Y.arraycopy(this.luminances,s,l,h,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,r,a,l){return new Ls(this.luminances,a,l,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new Ne(this)}}class qo extends W{static forName(t){return this.getCharacterSetECIByName(t)}}class hl{}hl.ISO_8859_1=W.ISO8859_1;class Si{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Zo{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Wo{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Xa extends Wo{constructor(t,r,a){super(t),this.value=r,this.bitCount=a}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new Xa(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Xa(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+H.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Vl extends Xa{constructor(t,r,a){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=a}appendTo(t,r){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+a],8)}addBinaryShift(t,r){return new Vl(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Qo(I,t,r){return new Vl(I,t,r)}function Ni(I,t,r){return new Xa(I,t,r)}const Ti=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ra=0,Gl=1,wr=2,zs=3,Dr=4,xl=new Xa(null,0,0),Ya=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ju(I){for(let t of I)j.fill(t,-1);return I[Ra][Dr]=0,I[Gl][Dr]=0,I[Gl][Ra]=28,I[zs][Dr]=0,I[wr][Dr]=0,I[wr][Ra]=15,I}const gl=ju(j.createInt32Array(6,6));class kr{constructor(t,r,a,l){this.token=t,this.mode=r,this.binaryShiftByteCount=a,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let a=this.bitCount,l=this.token;if(t!==this.mode){let u=Ya[this.mode][t];l=Ni(l,u&65535,u>>16),a+=u>>16}let s=t===wr?4:5;return l=Ni(l,r,s),new kr(l,t,0,a+s)}shiftAndAppend(t,r){let a=this.token,l=this.mode===wr?4:5;return a=Ni(a,gl[this.mode][t],l),a=Ni(a,r,5),new kr(a,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let r=this.token,a=this.mode,l=this.bitCount;if(this.mode===Dr||this.mode===wr){let h=Ya[a][Ra];r=Ni(r,h&65535,h>>16),l+=h>>16,a=Ra}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new kr(r,a,this.binaryShiftByteCount+1,l+s);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Qo(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new kr(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(Ya[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=kr.calculateBinaryShiftCost(t)-kr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())r.unshift(l);let a=new le;for(const l of r)l.appendTo(a,t);return a}toString(){return pe.format("%s bits=%d bytes=%d",Ti[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}kr.INITIAL_STATE=new kr(xl,Ra,0,0);function Ko(I){const t=pe.getCharCode(" "),r=pe.getCharCode("."),a=pe.getCharCode(",");I[Ra][t]=1;const l=pe.getCharCode("Z"),s=pe.getCharCode("A");for(let D=s;D<=l;D++)I[Ra][D]=D-s+2;I[Gl][t]=1;const u=pe.getCharCode("z"),h=pe.getCharCode("a");for(let D=h;D<=u;D++)I[Gl][D]=D-h+2;I[wr][t]=1;const p=pe.getCharCode("9"),v=pe.getCharCode("0");for(let D=v;D<=p;D++)I[wr][D]=D-v+2;I[wr][a]=12,I[wr][r]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<A.length;D++)I[zs][pe.getCharCode(A[D])]=D;const _=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<_.length;D++)pe.getCharCode(_[D])>0&&(I[Dr][pe.getCharCode(_[D])]=D);return I}const ml=Ko(j.createInt32Array(5,256));class qa{constructor(t){this.text=t}encode(){const t=pe.getCharCode(" "),r=pe.getCharCode(`
`);let a=Zo.singletonList(kr.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let u,h=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case pe.getCharCode("\r"):u=h===r?2:0;break;case pe.getCharCode("."):u=h===t?3:0;break;case pe.getCharCode(","):u=h===t?4:0;break;case pe.getCharCode(":"):u=h===t?5:0;break;default:u=0}u>0?(a=qa.updateStateListForPair(a,s,u),s++):a=this.updateStateListForChar(a,s)}return Zo.min(a,(s,u)=>s.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const a=[];for(let l of t)this.updateStateForChar(l,r,a);return qa.simplifyStates(a)}updateStateForChar(t,r,a){let l=this.text[r]&255,s=ml[t.getMode()][l]>0,u=null;for(let h=0;h<=Dr;h++){let p=ml[h][l];if(p>0){if(u==null&&(u=t.endBinaryShift(r)),!s||h===t.getMode()||h===wr){const v=u.latchAndAppend(h,p);a.push(v)}if(!s&&gl[t.getMode()][h]>=0){const v=u.shiftAndAppend(h,p);a.push(v)}}}if(t.getBinaryShiftByteCount()>0||ml[t.getMode()][l]===0){let h=t.addBinaryShiftChar(r);a.push(h)}}static updateStateListForPair(t,r,a){const l=[];for(let s of t)this.updateStateForPair(s,r,a,l);return this.simplifyStates(l)}static updateStateForPair(t,r,a,l){let s=t.endBinaryShift(r);if(l.push(s.latchAndAppend(Dr,a)),t.getMode()!==Dr&&l.push(s.shiftAndAppend(Dr,a)),a===3||a===4){let u=s.latchAndAppend(wr,16-a).latchAndAppend(wr,1);l.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);l.push(u)}}static simplifyStates(t){let r=[];for(const a of t){let l=!0;for(const s of r){if(s.isBetterThanOrEqualTo(a)){l=!1;break}a.isBetterThanOrEqualTo(s)&&(r=r.filter(u=>u!==s))}l&&r.push(a)}return r}}class It{constructor(){}static encodeBytes(t){return It.encode(t,It.DEFAULT_EC_PERCENT,It.DEFAULT_AZTEC_LAYERS)}static encode(t,r,a){let l=new qa(t).encode(),s=H.truncDivision(l.getSize()*r,100)+11,u=l.getSize()+s,h,p,v,A,_;if(a!==It.DEFAULT_AZTEC_LAYERS){if(h=a<0,p=Math.abs(a),p>(h?It.MAX_NB_BITS_COMPACT:It.MAX_NB_BITS))throw new R(pe.format("Illegal value %s for layers",a));v=It.totalBitsInLayer(p,h),A=It.WORD_SIZE[p];let Oe=v-v%A;if(_=It.stuffBits(l,A),_.getSize()+s>Oe)throw new R("Data to large for user specified layer");if(h&&_.getSize()>A*64)throw new R("Data to large for user specified layer")}else{A=0,_=null;for(let Oe=0;;Oe++){if(Oe>It.MAX_NB_BITS)throw new R("Data too large for an Aztec code");if(h=Oe<=3,p=h?Oe+1:Oe,v=It.totalBitsInLayer(p,h),u>v)continue;(_==null||A!==It.WORD_SIZE[p])&&(A=It.WORD_SIZE[p],_=It.stuffBits(l,A));let wt=v-v%A;if(!(h&&_.getSize()>A*64)&&_.getSize()+s<=wt)break}}let D=It.generateCheckWords(_,v,A),F=_.getSize()/A,Q=It.generateModeMessage(h,p,F),$=(h?11:14)+p*4,se=new Int32Array($),ge;if(h){ge=$;for(let Oe=0;Oe<se.length;Oe++)se[Oe]=Oe}else{ge=$+1+2*H.truncDivision(H.truncDivision($,2)-1,15);let Oe=H.truncDivision($,2),wt=H.truncDivision(ge,2);for(let st=0;st<Oe;st++){let Nn=st+H.truncDivision(st,15);se[Oe-st-1]=wt-Nn-1,se[Oe+st]=wt+Nn+1}}let Be=new te(ge);for(let Oe=0,wt=0;Oe<p;Oe++){let st=(p-Oe)*4+(h?9:12);for(let Nn=0;Nn<st;Nn++){let vr=Nn*2;for(let tr=0;tr<2;tr++)D.get(wt+vr+tr)&&Be.set(se[Oe*2+tr],se[Oe*2+Nn]),D.get(wt+st*2+vr+tr)&&Be.set(se[Oe*2+Nn],se[$-1-Oe*2-tr]),D.get(wt+st*4+vr+tr)&&Be.set(se[$-1-Oe*2-tr],se[$-1-Oe*2-Nn]),D.get(wt+st*6+vr+tr)&&Be.set(se[$-1-Oe*2-Nn],se[Oe*2+tr])}wt+=st*8}if(It.drawModeMessage(Be,h,ge,Q),h)It.drawBullsEye(Be,H.truncDivision(ge,2),5);else{It.drawBullsEye(Be,H.truncDivision(ge,2),7);for(let Oe=0,wt=0;Oe<H.truncDivision($,2)-1;Oe+=15,wt+=16)for(let st=H.truncDivision(ge,2)&1;st<ge;st+=2)Be.set(H.truncDivision(ge,2)-wt,st),Be.set(H.truncDivision(ge,2)+wt,st),Be.set(st,H.truncDivision(ge,2)-wt),Be.set(st,H.truncDivision(ge,2)+wt)}let ke=new Si;return ke.setCompact(h),ke.setSize(ge),ke.setLayers(p),ke.setCodeWords(F),ke.setMatrix(Be),ke}static drawBullsEye(t,r,a){for(let l=0;l<a;l+=2)for(let s=r-l;s<=r+l;s++)t.set(s,r-l),t.set(s,r+l),t.set(r-l,s),t.set(r+l,s);t.set(r-a,r-a),t.set(r-a+1,r-a),t.set(r-a,r-a+1),t.set(r+a,r-a),t.set(r+a,r-a+1),t.set(r+a,r+a-1)}static generateModeMessage(t,r,a){let l=new le;return t?(l.appendBits(r-1,2),l.appendBits(a-1,6),l=It.generateCheckWords(l,28,4)):(l.appendBits(r-1,5),l.appendBits(a-1,11),l=It.generateCheckWords(l,40,4)),l}static drawModeMessage(t,r,a,l){let s=H.truncDivision(a,2);if(r)for(let u=0;u<7;u++){let h=s-3+u;l.get(u)&&t.set(h,s-5),l.get(u+7)&&t.set(s+5,h),l.get(20-u)&&t.set(h,s+5),l.get(27-u)&&t.set(s-5,h)}else for(let u=0;u<10;u++){let h=s-5+u+H.truncDivision(u,5);l.get(u)&&t.set(h,s-7),l.get(u+10)&&t.set(s+7,h),l.get(29-u)&&t.set(h,s+7),l.get(39-u)&&t.set(s-7,h)}}static generateCheckWords(t,r,a){let l=t.getSize()/a,s=new fl(It.getGF(a)),u=H.truncDivision(r,a),h=It.bitsToWords(t,a,u);s.encode(h,u-l);let p=r%a,v=new le;v.appendBits(0,p);for(const A of Array.from(h))v.appendBits(A,a);return v}static bitsToWords(t,r,a){let l=new Int32Array(a),s,u;for(s=0,u=t.getSize()/r;s<u;s++){let h=0;for(let p=0;p<r;p++)h|=t.get(s*r+p)?1<<r-p-1:0;l[s]=h}return l}static getGF(t){switch(t){case 4:return at.AZTEC_PARAM;case 6:return at.AZTEC_DATA_6;case 8:return at.AZTEC_DATA_8;case 10:return at.AZTEC_DATA_10;case 12:return at.AZTEC_DATA_12;default:throw new R("Unsupported word size "+t)}}static stuffBits(t,r){let a=new le,l=t.getSize(),s=(1<<r)-2;for(let u=0;u<l;u+=r){let h=0;for(let p=0;p<r;p++)(u+p>=l||t.get(u+p))&&(h|=1<<r-1-p);(h&s)===s?(a.appendBits(h&s,r),u--):(h&s)===0?(a.appendBits(h|1,r),u--):a.appendBits(h,r)}return a}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}It.DEFAULT_EC_PERCENT=33,It.DEFAULT_AZTEC_LAYERS=0,It.MAX_NB_BITS=32,It.MAX_NB_BITS_COMPACT=4,It.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class pl{encode(t,r,a,l){return this.encodeWithHints(t,r,a,l,null)}encodeWithHints(t,r,a,l,s){let u=hl.ISO_8859_1,h=It.DEFAULT_EC_PERCENT,p=It.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(Dn.CHARACTER_SET)&&(u=qo.forName(s.get(Dn.CHARACTER_SET).toString())),s.has(Dn.ERROR_CORRECTION)&&(h=H.parseInt(s.get(Dn.ERROR_CORRECTION).toString())),s.has(Dn.AZTEC_LAYERS)&&(p=H.parseInt(s.get(Dn.AZTEC_LAYERS).toString()))),pl.encodeLayers(t,r,a,l,u,h,p)}static encodeLayers(t,r,a,l,s,u,h){if(r!==Te.AZTEC)throw new R("Can only encode AZTEC, but got "+r);let p=It.encode(pe.getBytes(t,s),u,h);return pl.renderResult(p,a,l)}static renderResult(t,r,a){let l=t.getMatrix();if(l==null)throw new Je;let s=l.getWidth(),u=l.getHeight(),h=Math.max(r,s),p=Math.max(a,u),v=Math.min(h/s,p/u),A=(h-s*v)/2,_=(p-u*v)/2,D=new te(h,p);for(let F=0,Q=_;F<u;F++,Q+=v)for(let $=0,se=A;$<s;$++,se+=v)l.get($,F)&&D.setRegion(se,Q,v,v);return D}}f.AbstractExpandedDecoder=On,f.ArgumentException=O,f.ArithmeticException=Et,f.AztecCode=Si,f.AztecCodeReader=Fa,f.AztecCodeWriter=pl,f.AztecDecoder=xt,f.AztecDetector=il,f.AztecDetectorResult=Ea,f.AztecEncoder=It,f.AztecHighLevelEncoder=qa,f.AztecPoint=pn,f.BarcodeFormat=Te,f.Binarizer=J,f.BinaryBitmap=P,f.BitArray=le,f.BitMatrix=te,f.BitSource=Or,f.BrowserAztecCodeReader=Ts,f.BrowserBarcodeReader=_u,f.BrowserCodeReader=Ae,f.BrowserDatamatrixCodeReader=jl,f.BrowserMultiFormatReader=Yo,f.BrowserPDF417Reader=Du,f.BrowserQRCodeReader=ku,f.BrowserQRCodeSvgWriter=Ga,f.CharacterSetECI=W,f.ChecksumException=X,f.Code128Reader=je,f.Code39Reader=Jt,f.DataMatrixDecodedBitStreamParser=ca,f.DataMatrixReader=ua,f.DecodeHintType=ne,f.DecoderResult=He,f.DefaultGridSampler=sa,f.DetectorResult=Ca,f.EAN13Reader=Gr,f.EncodeHintType=Dn,f.Exception=C,f.FormatException=z,f.GenericGF=at,f.GenericGFPoly=ft,f.GlobalHistogramBinarizer=G,f.GridSampler=$n,f.GridSamplerInstance=jn,f.HTMLCanvasElementLuminanceSource=Me,f.HybridBinarizer=ie,f.ITFReader=gt,f.IllegalArgumentException=R,f.IllegalStateException=Je,f.InvertedLuminanceSource=Ne,f.LuminanceSource=oe,f.MathUtils=it,f.MultiFormatOneDReader=_r,f.MultiFormatReader=Xo,f.MultiFormatWriter=Bu,f.NotFoundException=M,f.OneDReader=on,f.PDF417DecodedBitStreamParser=me,f.PDF417DecoderErrorCorrection=fa,f.PDF417Reader=qn,f.PDF417ResultMetadata=Ei,f.PerspectiveTransform=Bn,f.PlanarYUVLuminanceSource=Zr,f.QRCodeByteMatrix=Hl,f.QRCodeDataMask=hr,f.QRCodeDecodedBitStreamParser=rn,f.QRCodeDecoderErrorCorrectionLevel=Ct,f.QRCodeDecoderFormatInformation=Ln,f.QRCodeEncoder=ln,f.QRCodeEncoderQRCode=Va,f.QRCodeMaskUtil=yn,f.QRCodeMatrixUtil=et,f.QRCodeMode=Qe,f.QRCodeReader=da,f.QRCodeVersion=Ye,f.QRCodeWriter=Ai,f.RGBLuminanceSource=Ls,f.RSS14Reader=Gt,f.RSSExpandedReader=Ie,f.ReaderException=Fl,f.ReedSolomonDecoder=Zt,f.ReedSolomonEncoder=fl,f.ReedSolomonException=_e,f.Result=Re,f.ResultMetadataType=we,f.ResultPoint=Ue,f.StringUtils=pe,f.UnsupportedOperationException=fe,f.VideoInputDevice=V,f.WhiteRectangleDetector=Bt,f.WriterException=Xt,f.ZXingArrays=j,f.ZXingCharset=qo,f.ZXingInteger=H,f.ZXingStandardCharsets=hl,f.ZXingStringBuilder=ve,f.ZXingStringEncoding=Ce,f.ZXingSystem=Y,f.createAbstractExpandedDecoder=mi,Object.defineProperty(f,"__esModule",{value:!0})}))})(Co,Co.exports)),Co.exports}var hn=e3();const t3=vu(hn),n3=$2({__proto__:null,default:t3},[hn]);var bg=(function(){function c(d,f,m){if(this.formatMap=new Map([[Fe.QR_CODE,hn.BarcodeFormat.QR_CODE],[Fe.AZTEC,hn.BarcodeFormat.AZTEC],[Fe.CODABAR,hn.BarcodeFormat.CODABAR],[Fe.CODE_39,hn.BarcodeFormat.CODE_39],[Fe.CODE_93,hn.BarcodeFormat.CODE_93],[Fe.CODE_128,hn.BarcodeFormat.CODE_128],[Fe.DATA_MATRIX,hn.BarcodeFormat.DATA_MATRIX],[Fe.MAXICODE,hn.BarcodeFormat.MAXICODE],[Fe.ITF,hn.BarcodeFormat.ITF],[Fe.EAN_13,hn.BarcodeFormat.EAN_13],[Fe.EAN_8,hn.BarcodeFormat.EAN_8],[Fe.PDF_417,hn.BarcodeFormat.PDF_417],[Fe.RSS_14,hn.BarcodeFormat.RSS_14],[Fe.RSS_EXPANDED,hn.BarcodeFormat.RSS_EXPANDED],[Fe.UPC_A,hn.BarcodeFormat.UPC_A],[Fe.UPC_E,hn.BarcodeFormat.UPC_E],[Fe.UPC_EAN_EXTENSION,hn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!n3)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=f,this.logger=m;var w=this.createZXingFormats(d),y=new Map;y.set(hn.DecodeHintType.POSSIBLE_FORMATS,w),y.set(hn.DecodeHintType.TRY_HARDER,!1),this.hints=y}return c.prototype.decodeAsync=function(d){var f=this;return new Promise(function(m,w){try{m(f.decode(d))}catch(y){w(y)}})},c.prototype.decode=function(d){var f=new hn.MultiFormatReader(this.verbose,this.hints),m=new hn.HTMLCanvasElementLuminanceSource(d),w=new hn.BinaryBitmap(new hn.HybridBinarizer(m)),y=f.decode(w);return{text:y.text,format:_m.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}},c.prototype.createReverseFormatMap=function(){var d=new Map;return this.formatMap.forEach(function(f,m,w){d.set(f,m)}),d},c.prototype.toHtml5QrcodeSupportedFormats=function(d){if(!this.reverseFormatMap.has(d))throw"reverseFormatMap doesn't have ".concat(d);return this.reverseFormatMap.get(d)},c.prototype.createZXingFormats=function(d){for(var f=[],m=0,w=d;m<w.length;m++){var y=w[m];this.formatMap.has(y)?f.push(this.formatMap.get(y)):this.logger.logError("".concat(y," is not supported by")+"ZXingHtml5QrcodeShim")}return f},c.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},c})(),r3=function(c,d,f,m){function w(y){return y instanceof f?y:new f(function(E){E(y)})}return new(f||(f=Promise))(function(y,E){function T(O){try{C(m.next(O))}catch(R){E(R)}}function S(O){try{C(m.throw(O))}catch(R){E(R)}}function C(O){O.done?y(O.value):w(O.value).then(T,S)}C((m=m.apply(c,d||[])).next())})},a3=function(c,d){var f={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},m,w,y,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(C){return function(O){return S([C,O])}}function S(C){if(m)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(f=0)),f;)try{if(m=1,w&&(y=C[0]&2?w.return:C[0]?w.throw||((y=w.return)&&y.call(w),0):w.next)&&!(y=y.call(w,C[1])).done)return y;switch(w=0,y&&(C=[C[0]&2,y.value]),C[0]){case 0:case 1:y=C;break;case 4:return f.label++,{value:C[1],done:!1};case 5:f.label++,w=C[1],C=[0];continue;case 7:C=f.ops.pop(),f.trys.pop();continue;default:if(y=f.trys,!(y=y.length>0&&y[y.length-1])&&(C[0]===6||C[0]===2)){f=0;continue}if(C[0]===3&&(!y||C[1]>y[0]&&C[1]<y[3])){f.label=C[1];break}if(C[0]===6&&f.label<y[1]){f.label=y[1],y=C;break}if(y&&f.label<y[2]){f.label=y[2],f.ops.push(C);break}y[2]&&f.ops.pop(),f.trys.pop();continue}C=d.call(c,f)}catch(O){C=[6,O],w=0}finally{m=y=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},yg=(function(){function c(d,f,m){if(this.formatMap=new Map([[Fe.QR_CODE,"qr_code"],[Fe.AZTEC,"aztec"],[Fe.CODABAR,"codabar"],[Fe.CODE_39,"code_39"],[Fe.CODE_93,"code_93"],[Fe.CODE_128,"code_128"],[Fe.DATA_MATRIX,"data_matrix"],[Fe.ITF,"itf"],[Fe.EAN_13,"ean_13"],[Fe.EAN_8,"ean_8"],[Fe.PDF_417,"pdf417"],[Fe.UPC_A,"upc_a"],[Fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!c.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=f,this.logger=m;var w=this.createBarcodeDetectorFormats(d);if(this.detector=new BarcodeDetector(w),!this.detector)throw"BarcodeDetector detector not supported"}return c.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var d=new BarcodeDetector({formats:["qr_code"]});return typeof d<"u"},c.prototype.decodeAsync=function(d){return r3(this,void 0,void 0,function(){var f,m;return a3(this,function(w){switch(w.label){case 0:return[4,this.detector.detect(d)];case 1:if(f=w.sent(),!f||f.length===0)throw"No barcode or QR code detected.";return m=this.selectLargestBarcode(f),[2,{text:m.rawValue,format:_m.create(this.toHtml5QrcodeSupportedFormats(m.format)),debugData:this.createDebugData()}]}})})},c.prototype.selectLargestBarcode=function(d){for(var f=null,m=0,w=0,y=d;w<y.length;w++){var E=y[w],T=E.boundingBox.width*E.boundingBox.height;T>m&&(m=T,f=E)}if(!f)throw"No largest barcode found";return f},c.prototype.createBarcodeDetectorFormats=function(d){for(var f=[],m=0,w=d;m<w.length;m++){var y=w[m];this.formatMap.has(y)?f.push(this.formatMap.get(y)):this.logger.warn("".concat(y," is not supported by")+"BarcodeDetectorDelegate")}return{formats:f}},c.prototype.toHtml5QrcodeSupportedFormats=function(d){if(!this.reverseFormatMap.has(d))throw"reverseFormatMap doesn't have ".concat(d);return this.reverseFormatMap.get(d)},c.prototype.createReverseFormatMap=function(){var d=new Map;return this.formatMap.forEach(function(f,m,w){d.set(f,m)}),d},c.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},c})(),wg=function(c,d,f,m){function w(y){return y instanceof f?y:new f(function(E){E(y)})}return new(f||(f=Promise))(function(y,E){function T(O){try{C(m.next(O))}catch(R){E(R)}}function S(O){try{C(m.throw(O))}catch(R){E(R)}}function C(O){O.done?y(O.value):w(O.value).then(T,S)}C((m=m.apply(c,d||[])).next())})},vg=function(c,d){var f={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},m,w,y,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(C){return function(O){return S([C,O])}}function S(C){if(m)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(f=0)),f;)try{if(m=1,w&&(y=C[0]&2?w.return:C[0]?w.throw||((y=w.return)&&y.call(w),0):w.next)&&!(y=y.call(w,C[1])).done)return y;switch(w=0,y&&(C=[C[0]&2,y.value]),C[0]){case 0:case 1:y=C;break;case 4:return f.label++,{value:C[1],done:!1};case 5:f.label++,w=C[1],C=[0];continue;case 7:C=f.ops.pop(),f.trys.pop();continue;default:if(y=f.trys,!(y=y.length>0&&y[y.length-1])&&(C[0]===6||C[0]===2)){f=0;continue}if(C[0]===3&&(!y||C[1]>y[0]&&C[1]<y[3])){f.label=C[1];break}if(C[0]===6&&f.label<y[1]){f.label=y[1],y=C;break}if(y&&f.label<y[2]){f.label=y[2],f.ops.push(C);break}y[2]&&f.ops.pop(),f.trys.pop();continue}C=d.call(c,f)}catch(O){C=[6,O],w=0}finally{m=y=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},i3=(function(){function c(d,f,m,w){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=m,f&&yg.isSupported()?(this.primaryDecoder=new yg(d,m,w),this.secondaryDecoder=new bg(d,m,w)):this.primaryDecoder=new bg(d,m,w)}return c.prototype.decodeAsync=function(d){return wg(this,void 0,void 0,function(){var f;return vg(this,function(m){switch(m.label){case 0:f=performance.now(),m.label=1;case 1:return m.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(d)];case 2:return[2,m.sent()];case 3:return this.possiblyLogPerformance(f),[7];case 4:return[2]}})})},c.prototype.decodeRobustlyAsync=function(d){return wg(this,void 0,void 0,function(){var f,m;return vg(this,function(w){switch(w.label){case 0:f=performance.now(),w.label=1;case 1:return w.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(d)];case 2:return[2,w.sent()];case 3:if(m=w.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(d)];throw m;case 4:return this.possiblyLogPerformance(f),[7];case 5:return[2]}})})},c.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},c.prototype.possiblyLogPerformance=function(d){if(this.verbose){var f=performance.now()-d;this.executionResults.push(f),this.executions++,this.possiblyFlushPerformanceReport()}},c.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var d=0,f=0,m=this.executionResults;f<m.length;f++){var w=m[f];d+=w}var y=d/this.executionResults.length;console.log("".concat(y," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},c})(),v0=(function(){var c=function(d,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(m[y]=w[y])},c(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(d,f);function m(){this.constructor=d}d.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}})(),yu=function(c,d,f,m){function w(y){return y instanceof f?y:new f(function(E){E(y)})}return new(f||(f=Promise))(function(y,E){function T(O){try{C(m.next(O))}catch(R){E(R)}}function S(O){try{C(m.throw(O))}catch(R){E(R)}}function C(O){O.done?y(O.value):w(O.value).then(T,S)}C((m=m.apply(c,d||[])).next())})},wu=function(c,d){var f={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},m,w,y,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(C){return function(O){return S([C,O])}}function S(C){if(m)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(f=0)),f;)try{if(m=1,w&&(y=C[0]&2?w.return:C[0]?w.throw||((y=w.return)&&y.call(w),0):w.next)&&!(y=y.call(w,C[1])).done)return y;switch(w=0,y&&(C=[C[0]&2,y.value]),C[0]){case 0:case 1:y=C;break;case 4:return f.label++,{value:C[1],done:!1};case 5:f.label++,w=C[1],C=[0];continue;case 7:C=f.ops.pop(),f.trys.pop();continue;default:if(y=f.trys,!(y=y.length>0&&y[y.length-1])&&(C[0]===6||C[0]===2)){f=0;continue}if(C[0]===3&&(!y||C[1]>y[0]&&C[1]<y[3])){f.label=C[1];break}if(C[0]===6&&f.label<y[1]){f.label=y[1],y=C;break}if(y&&f.label<y[2]){f.label=y[2],f.ops.push(C);break}y[2]&&f.ops.pop(),f.trys.pop();continue}C=d.call(c,f)}catch(O){C=[6,O],w=0}finally{m=y=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Rm=(function(){function c(d,f){this.name=d,this.track=f}return c.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},c.prototype.apply=function(d){var f={};f[this.name]=d;var m={advanced:[f]};return this.track.applyConstraints(m)},c.prototype.value=function(){var d=this.track.getSettings();if(this.name in d){var f=d[this.name];return f}return null},c})(),l3=(function(c){v0(d,c);function d(f,m){return c.call(this,f,m)||this}return d.prototype.min=function(){return this.getCapabilities().min},d.prototype.max=function(){return this.getCapabilities().max},d.prototype.step=function(){return this.getCapabilities().step},d.prototype.apply=function(f){var m={};m[this.name]=f;var w={advanced:[m]};return this.track.applyConstraints(w)},d.prototype.getCapabilities=function(){this.failIfNotSupported();var f=this.track.getCapabilities(),m=f[this.name];return{min:m.min,max:m.max,step:m.step}},d.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},d})(Rm),s3=(function(c){v0(d,c);function d(f){return c.call(this,"zoom",f)||this}return d})(l3),o3=(function(c){v0(d,c);function d(f){return c.call(this,"torch",f)||this}return d})(Rm),c3=(function(){function c(d){this.track=d}return c.prototype.zoomFeature=function(){return new s3(this.track)},c.prototype.torchFeature=function(){return new o3(this.track)},c})(),u3=(function(){function c(d,f,m){this.isClosed=!1,this.parentElement=d,this.mediaStream=f,this.callbacks=m,this.surface=this.createVideoElement(this.parentElement.clientWidth),d.append(this.surface)}return c.prototype.createVideoElement=function(d){var f=document.createElement("video");return f.style.width="".concat(d,"px"),f.style.display="block",f.muted=!0,f.setAttribute("muted","true"),f.playsInline=!0,f},c.prototype.setupSurface=function(){var d=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var f=function(){var m=d.surface.clientWidth,w=d.surface.clientHeight;d.callbacks.onRenderSurfaceReady(m,w),d.surface.removeEventListener("playing",f)};this.surface.addEventListener("playing",f),this.surface.srcObject=this.mediaStream,this.surface.play()},c.create=function(d,f,m,w){return yu(this,void 0,void 0,function(){var y,E;return wu(this,function(T){switch(T.label){case 0:return y=new c(d,f,w),m.aspectRatio?(E={aspectRatio:m.aspectRatio},[4,y.getFirstTrackOrFail().applyConstraints(E)]):[3,2];case 1:T.sent(),T.label=2;case 2:return y.setupSurface(),[2,y]}})})},c.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},c.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},c.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},c.prototype.resume=function(d){this.failIfClosed();var f=this,m=function(){setTimeout(d,200),f.surface.removeEventListener("playing",m)};this.surface.addEventListener("playing",m),this.surface.play()},c.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},c.prototype.getSurface=function(){return this.failIfClosed(),this.surface},c.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},c.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},c.prototype.applyVideoConstraints=function(d){return yu(this,void 0,void 0,function(){return wu(this,function(f){if("aspectRatio"in d)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(d)]})})},c.prototype.close=function(){if(this.isClosed)return Promise.resolve();var d=this;return new Promise(function(f,m){var w=d.mediaStream.getVideoTracks(),y=w.length,E=0;d.mediaStream.getVideoTracks().forEach(function(T){d.mediaStream.removeTrack(T),T.stop(),++E,E>=y&&(d.isClosed=!0,d.parentElement.removeChild(d.surface),f())})})},c.prototype.getCapabilities=function(){return new c3(this.getFirstTrackOrFail())},c})(),d3=(function(){function c(d){this.mediaStream=d}return c.prototype.render=function(d,f,m){return yu(this,void 0,void 0,function(){return wu(this,function(w){return[2,u3.create(d,this.mediaStream,f,m)]})})},c.create=function(d){return yu(this,void 0,void 0,function(){var f,m;return wu(this,function(w){switch(w.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return f={audio:!1,video:d},[4,navigator.mediaDevices.getUserMedia(f)];case 1:return m=w.sent(),[2,new c(m)]}})})},c})(),Cg=function(c,d,f,m){function w(y){return y instanceof f?y:new f(function(E){E(y)})}return new(f||(f=Promise))(function(y,E){function T(O){try{C(m.next(O))}catch(R){E(R)}}function S(O){try{C(m.throw(O))}catch(R){E(R)}}function C(O){O.done?y(O.value):w(O.value).then(T,S)}C((m=m.apply(c,d||[])).next())})},Eg=function(c,d){var f={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},m,w,y,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(C){return function(O){return S([C,O])}}function S(C){if(m)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(f=0)),f;)try{if(m=1,w&&(y=C[0]&2?w.return:C[0]?w.throw||((y=w.return)&&y.call(w),0):w.next)&&!(y=y.call(w,C[1])).done)return y;switch(w=0,y&&(C=[C[0]&2,y.value]),C[0]){case 0:case 1:y=C;break;case 4:return f.label++,{value:C[1],done:!1};case 5:f.label++,w=C[1],C=[0];continue;case 7:C=f.ops.pop(),f.trys.pop();continue;default:if(y=f.trys,!(y=y.length>0&&y[y.length-1])&&(C[0]===6||C[0]===2)){f=0;continue}if(C[0]===3&&(!y||C[1]>y[0]&&C[1]<y[3])){f.label=C[1];break}if(C[0]===6&&f.label<y[1]){f.label=y[1],y=C;break}if(y&&f.label<y[2]){f.label=y[2],f.ops.push(C);break}y[2]&&f.ops.pop(),f.trys.pop();continue}C=d.call(c,f)}catch(O){C=[6,O],w=0}finally{m=y=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},f3=(function(){function c(){}return c.failIfNotSupported=function(){return Cg(this,void 0,void 0,function(){return Eg(this,function(d){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new c]})})},c.prototype.create=function(d){return Cg(this,void 0,void 0,function(){return Eg(this,function(f){return[2,d3.create(d)]})})},c})(),h3=function(c,d,f,m){function w(y){return y instanceof f?y:new f(function(E){E(y)})}return new(f||(f=Promise))(function(y,E){function T(O){try{C(m.next(O))}catch(R){E(R)}}function S(O){try{C(m.throw(O))}catch(R){E(R)}}function C(O){O.done?y(O.value):w(O.value).then(T,S)}C((m=m.apply(c,d||[])).next())})},x3=function(c,d){var f={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},m,w,y,E;return E={next:T(0),throw:T(1),return:T(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function T(C){return function(O){return S([C,O])}}function S(C){if(m)throw new TypeError("Generator is already executing.");for(;E&&(E=0,C[0]&&(f=0)),f;)try{if(m=1,w&&(y=C[0]&2?w.return:C[0]?w.throw||((y=w.return)&&y.call(w),0):w.next)&&!(y=y.call(w,C[1])).done)return y;switch(w=0,y&&(C=[C[0]&2,y.value]),C[0]){case 0:case 1:y=C;break;case 4:return f.label++,{value:C[1],done:!1};case 5:f.label++,w=C[1],C=[0];continue;case 7:C=f.ops.pop(),f.trys.pop();continue;default:if(y=f.trys,!(y=y.length>0&&y[y.length-1])&&(C[0]===6||C[0]===2)){f=0;continue}if(C[0]===3&&(!y||C[1]>y[0]&&C[1]<y[3])){f.label=C[1];break}if(C[0]===6&&f.label<y[1]){f.label=y[1],y=C;break}if(y&&f.label<y[2]){f.label=y[2],f.ops.push(C);break}y[2]&&f.ops.pop(),f.trys.pop();continue}C=d.call(c,f)}catch(O){C=[6,O],w=0}finally{m=y=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},g3=(function(){function c(){}return c.retrieve=function(){if(navigator.mediaDevices)return c.getCamerasFromMediaDevices();var d=MediaStreamTrack;return MediaStreamTrack&&d.getSources?c.getCamerasFromMediaStreamTrack():c.rejectWithError()},c.rejectWithError=function(){var d=ps.unableToQuerySupportedDevices();return c.isHttpsOrLocalhost()||(d=ps.insecureContextCameraQueryError()),Promise.reject(d)},c.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var d=location.host.split(":")[0];return d==="127.0.0.1"||d==="localhost"},c.getCamerasFromMediaDevices=function(){return h3(this,void 0,void 0,function(){var d,f,m,w,y,E,T;return x3(this,function(S){switch(S.label){case 0:return d=function(C){for(var O=C.getVideoTracks(),R=0,P=O;R<P.length;R++){var X=P[R];X.enabled=!1,X.stop(),C.removeTrack(X)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return f=S.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(m=S.sent(),w=[],y=0,E=m;y<E.length;y++)T=E[y],T.kind==="videoinput"&&w.push({id:T.deviceId,label:T.label});return d(f),[2,w]}})})},c.getCamerasFromMediaStreamTrack=function(){return new Promise(function(d,f){var m=function(y){for(var E=[],T=0,S=y;T<S.length;T++){var C=S[T];C.kind==="video"&&E.push({id:C.id,label:C.label})}d(E)},w=MediaStreamTrack;w.getSources(m)})},c})(),_n;(function(c){c[c.UNKNOWN=0]="UNKNOWN",c[c.NOT_STARTED=1]="NOT_STARTED",c[c.SCANNING=2]="SCANNING",c[c.PAUSED=3]="PAUSED"})(_n||(_n={}));var m3=(function(){function c(){this.state=_n.NOT_STARTED,this.onGoingTransactionNewState=_n.UNKNOWN}return c.prototype.directTransition=function(d){this.failIfTransitionOngoing(),this.validateTransition(d),this.state=d},c.prototype.startTransition=function(d){return this.failIfTransitionOngoing(),this.validateTransition(d),this.onGoingTransactionNewState=d,this},c.prototype.execute=function(){if(this.onGoingTransactionNewState===_n.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var d=this.onGoingTransactionNewState;this.onGoingTransactionNewState=_n.UNKNOWN,this.directTransition(d)},c.prototype.cancel=function(){if(this.onGoingTransactionNewState===_n.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=_n.UNKNOWN},c.prototype.getState=function(){return this.state},c.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==_n.UNKNOWN)throw"Cannot transition to a new state, already under transition"},c.prototype.validateTransition=function(d){switch(this.state){case _n.UNKNOWN:throw"Transition from unknown is not allowed";case _n.NOT_STARTED:this.failIfNewStateIs(d,[_n.PAUSED]);break;case _n.SCANNING:break;case _n.PAUSED:break}},c.prototype.failIfNewStateIs=function(d,f){for(var m=0,w=f;m<w.length;m++){var y=w[m];if(d===y)throw"Cannot transition from ".concat(this.state," to ").concat(d)}},c})(),p3=(function(){function c(d){this.stateManager=d}return c.prototype.startTransition=function(d){return this.stateManager.startTransition(d)},c.prototype.directTransition=function(d){this.stateManager.directTransition(d)},c.prototype.getState=function(){return this.stateManager.getState()},c.prototype.canScanFile=function(){return this.stateManager.getState()===_n.NOT_STARTED},c.prototype.isScanning=function(){return this.stateManager.getState()!==_n.NOT_STARTED},c.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===_n.SCANNING},c.prototype.isPaused=function(){return this.stateManager.getState()===_n.PAUSED},c})(),b3=(function(){function c(){}return c.create=function(){return new p3(new m3)},c})(),y3=(function(){var c=function(d,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var y in w)Object.prototype.hasOwnProperty.call(w,y)&&(m[y]=w[y])},c(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(d,f);function m(){this.constructor=d}d.prototype=f===null?Object.create(f):(m.prototype=f.prototype,new m)}})(),Fr=(function(c){y3(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.DEFAULT_WIDTH=300,d.DEFAULT_WIDTH_OFFSET=2,d.FILE_SCAN_MIN_HEIGHT=300,d.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,d.MIN_QR_BOX_SIZE=50,d.SHADED_LEFT=1,d.SHADED_RIGHT=2,d.SHADED_TOP=3,d.SHADED_BOTTOM=4,d.SHADED_REGION_ELEMENT_ID="qr-shaded-region",d.VERBOSE=!1,d.BORDER_SHADER_DEFAULT_COLOR="#ffffff",d.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",d})(Qw),w3=(function(){function c(d,f){this.logger=f,this.fps=Fr.SCAN_DEFAULT_FPS,d?(d.fps&&(this.fps=d.fps),this.disableFlip=d.disableFlip===!0,this.qrbox=d.qrbox,this.aspectRatio=d.aspectRatio,this.videoConstraints=d.videoConstraints):this.disableFlip=Fr.DEFAULT_DISABLE_FLIP}return c.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Om.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},c.prototype.isShadedBoxEnabled=function(){return!ui(this.qrbox)},c.create=function(d,f){return new c(d,f)},c})(),v3=(function(){function c(d,f){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(d))throw"HTML Element with id=".concat(d," not found");this.elementId=d,this.verbose=!1;var m;typeof f=="boolean"?this.verbose=f===!0:f&&(m=f,this.verbose=m.verbose===!0,m.experimentalFeatures),this.logger=new Jw(this.verbose),this.qrcode=new i3(this.getSupportedFormats(f),this.getUseBarCodeDetectorIfSupported(m),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=b3.create()}return c.prototype.start=function(d,f,m,w){var y=this;if(!d)throw"cameraIdOrConfig is required";if(!m||typeof m!="function")throw"qrCodeSuccessCallback is required and should be a function.";var E;w?E=w:E=this.verbose?this.logger.log:function(){};var T=w3.create(f,this.logger);this.clearElement();var S=!1;T.videoConstraints&&(T.isMediaStreamConstraintsValid()?S=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var C=S,O=document.getElementById(this.elementId);O.clientWidth?O.clientWidth:Fr.DEFAULT_WIDTH,O.style.position="relative",this.shouldScan=!0,this.element=O;var R=this,P=this.stateManagerProxy.startTransition(_n.SCANNING);return new Promise(function(X,J){var Y=C?T.videoConstraints:R.createVideoConstraints(d);if(!Y){P.cancel(),J("videoConstraints should be defined");return}var K={};(!C||T.aspectRatio)&&(K.aspectRatio=T.aspectRatio);var B={onRenderSurfaceReady:function(j,H){R.setupUi(j,H,T),R.isScanning=!0,R.foreverScan(T,m,E)}};f3.failIfNotSupported().then(function(j){j.create(Y).then(function(H){return H.render(y.element,K,B).then(function(le){R.renderedCamera=le,P.execute(),X(null)}).catch(function(le){P.cancel(),J(le)})}).catch(function(H){P.cancel(),J(ps.errorGettingUserMedia(H))})}).catch(function(j){P.cancel(),J(ps.cameraStreamingNotSupported())})})},c.prototype.pause=function(d){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(_n.PAUSED),this.showPausedState(),(ui(d)||d!==!0)&&(d=!1),d&&this.renderedCamera&&this.renderedCamera.pause()},c.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var d=this,f=function(){d.stateManagerProxy.directTransition(_n.SCANNING),d.hidePausedState()};if(!this.renderedCamera.isPaused()){f();return}this.renderedCamera.resume(function(){f()})},c.prototype.getState=function(){return this.stateManagerProxy.getState()},c.prototype.stop=function(){var d=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var f=this.stateManagerProxy.startTransition(_n.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var m=function(){if(d.element){var y=document.getElementById(Fr.SHADED_REGION_ELEMENT_ID);y&&d.element.removeChild(y)}},w=this;return this.renderedCamera.close().then(function(){return w.renderedCamera=null,w.element&&(w.element.removeChild(w.canvasElement),w.canvasElement=null),m(),w.qrRegion&&(w.qrRegion=null),w.context&&(w.context=null),f.execute(),w.hidePausedState(),w.isScanning=!1,Promise.resolve()})},c.prototype.scanFile=function(d,f){return this.scanFileV2(d,f).then(function(m){return m.decodedText})},c.prototype.scanFileV2=function(d,f){var m=this;if(!d||!(d instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ui(f)&&(f=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(w,y){m.possiblyCloseLastScanImageFile(),m.clearElement(),m.lastScanImageFile=URL.createObjectURL(d);var E=new Image;E.onload=function(){var T=E.width,S=E.height,C=document.getElementById(m.elementId),O=C.clientWidth?C.clientWidth:Fr.DEFAULT_WIDTH,R=Math.max(C.clientHeight?C.clientHeight:S,Fr.FILE_SCAN_MIN_HEIGHT),P=m.computeCanvasDrawConfig(T,S,O,R);if(f){var X=m.createCanvasElement(O,R,"qr-canvas-visible");X.style.display="inline-block",C.appendChild(X);var J=X.getContext("2d");if(!J)throw"Unable to get 2d context from canvas";J.canvas.width=O,J.canvas.height=R,J.drawImage(E,0,0,T,S,P.x,P.y,P.width,P.height)}var Y=Fr.FILE_SCAN_HIDDEN_CANVAS_PADDING,K=Math.max(E.width,P.width),B=Math.max(E.height,P.height),j=K+2*Y,H=B+2*Y,le=m.createCanvasElement(j,H);C.appendChild(le);var he=le.getContext("2d");if(!he)throw"Unable to get 2d context from canvas";he.canvas.width=j,he.canvas.height=H,he.drawImage(E,0,0,T,S,Y,Y,K,B);try{m.qrcode.decodeRobustlyAsync(le).then(function(ne){w(mg.createFromQrcodeResult(ne))}).catch(y)}catch(ne){y("QR code parse error, error = ".concat(ne))}},E.onerror=y,E.onabort=y,E.onstalled=y,E.onsuspend=y,E.src=URL.createObjectURL(d)})},c.prototype.clear=function(){this.clearElement()},c.getCameras=function(){return g3.retrieve()},c.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},c.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},c.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},c.prototype.applyVideoConstraints=function(d){if(d){if(!Om.isMediaStreamConstraintsValid(d,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(d)},c.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},c.prototype.getSupportedFormats=function(d){var f=[Fe.QR_CODE,Fe.AZTEC,Fe.CODABAR,Fe.CODE_39,Fe.CODE_93,Fe.CODE_128,Fe.DATA_MATRIX,Fe.MAXICODE,Fe.ITF,Fe.EAN_13,Fe.EAN_8,Fe.PDF_417,Fe.RSS_14,Fe.RSS_EXPANDED,Fe.UPC_A,Fe.UPC_E,Fe.UPC_EAN_EXTENSION];if(!d||typeof d=="boolean"||!d.formatsToSupport)return f;if(!Array.isArray(d.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(d.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var m=[],w=0,y=d.formatsToSupport;w<y.length;w++){var E=y[w];Ww(E)?m.push(E):this.logger.warn("Invalid format: ".concat(E," passed in config, ignoring."))}if(m.length===0)throw"None of formatsToSupport match supported values.";return m},c.prototype.getUseBarCodeDetectorIfSupported=function(d){if(ui(d))return!0;if(!ui(d.useBarCodeDetectorIfSupported))return d.useBarCodeDetectorIfSupported!==!1;if(ui(d.experimentalFeatures))return!0;var f=d.experimentalFeatures;return ui(f.useBarCodeDetectorIfSupported)?!0:f.useBarCodeDetectorIfSupported!==!1},c.prototype.validateQrboxSize=function(d,f,m){var w=this,y=m.qrbox;this.validateQrboxConfig(y);var E=this.toQrdimensions(d,f,y),T=function(C){if(C<Fr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Fr.MIN_QR_BOX_SIZE,"px.")},S=function(C){return C>d&&(w.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),C=d),C};T(E.width),T(E.height),E.width=S(E.width)},c.prototype.validateQrboxConfig=function(d){if(typeof d!="number"&&typeof d!="function"&&(d.width===void 0||d.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},c.prototype.toQrdimensions=function(d,f,m){if(typeof m=="number")return{width:m,height:m};if(typeof m=="function")try{return m(d,f)}catch(w){throw new Error("qrbox config was passed as a function but it failed with unknown error"+w)}return m},c.prototype.setupUi=function(d,f,m){m.isShadedBoxEnabled()&&this.validateQrboxSize(d,f,m);var w=ui(m.qrbox)?{width:d,height:f}:m.qrbox;this.validateQrboxConfig(w);var y=this.toQrdimensions(d,f,w);y.height>f&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var E=m.isShadedBoxEnabled()&&y.height<=f,T={x:0,y:0,width:d,height:f},S=E?this.getShadedRegionBounds(d,f,y):T,C=this.createCanvasElement(S.width,S.height),O={willReadFrequently:!0},R=C.getContext("2d",O);R.canvas.width=S.width,R.canvas.height=S.height,this.element.append(C),E&&this.possiblyInsertShadingElement(this.element,d,f,y),this.createScannerPausedUiElement(this.element),this.qrRegion=S,this.context=R,this.canvasElement=C},c.prototype.createScannerPausedUiElement=function(d){var f=document.createElement("div");f.innerText=ps.scannerPaused(),f.style.display="none",f.style.position="absolute",f.style.top="0px",f.style.zIndex="1",f.style.background="rgba(9, 9, 9, 0.46)",f.style.color="#FFECEC",f.style.textAlign="center",f.style.width="100%",d.appendChild(f),this.scannerPausedUiElement=f},c.prototype.scanContext=function(d,f){var m=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(w){return d(w.text,mg.createFromQrcodeResult(w)),m.possiblyUpdateShaders(!0),!0}).catch(function(w){m.possiblyUpdateShaders(!1);var y=ps.codeParseError(w);return f(y,Kw.createFrom(y)),!1})},c.prototype.foreverScan=function(d,f,m){var w=this;if(this.shouldScan&&this.renderedCamera){var y=this.renderedCamera.getSurface(),E=y.videoWidth/y.clientWidth,T=y.videoHeight/y.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var S=this.qrRegion.width*E,C=this.qrRegion.height*T,O=this.qrRegion.x*E,R=this.qrRegion.y*T;this.context.drawImage(y,O,R,S,C,0,0,this.qrRegion.width,this.qrRegion.height);var P=function(){w.foreverScanTimeout=setTimeout(function(){w.foreverScan(d,f,m)},w.getTimeoutFps(d.fps))};this.scanContext(f,m).then(function(X){!X&&d.disableFlip!==!0?(w.context.translate(w.context.canvas.width,0),w.context.scale(-1,1),w.scanContext(f,m).finally(function(){P()})):P()}).catch(function(X){w.logger.logError("Error happend while scanning context",X),P()})}},c.prototype.createVideoConstraints=function(d){if(typeof d=="string")return{deviceId:{exact:d}};if(typeof d=="object"){var f="facingMode",m="deviceId",w={user:!0,environment:!0},y="exact",E=function(J){if(J in w)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(J,"'")},T=Object.keys(d);if(T.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(T.length," keys");var S=Object.keys(d)[0];if(S!==f&&S!==m)throw"Only '".concat(f,"' and '").concat(m,"' ")+" are supported for 'cameraIdOrConfig'";if(S===f){var C=d.facingMode;if(typeof C=="string"){if(E(C))return{facingMode:C}}else if(typeof C=="object")if(y in C){if(E(C["".concat(y)]))return{facingMode:{exact:C["".concat(y)]}}}else throw"'facingMode' should be string or object with"+" ".concat(y," as key.");else{var O=typeof C;throw"Invalid type of 'facingMode' = ".concat(O)}}else{var R=d.deviceId;if(typeof R=="string")return{deviceId:R};if(typeof R=="object"){if(y in R)return{deviceId:{exact:R["".concat(y)]}};throw"'deviceId' should be string or object with"+" ".concat(y," as key.")}else{var P=typeof R;throw"Invalid type of 'deviceId' = ".concat(P)}}}var X=typeof d;throw"Invalid type of 'cameraIdOrConfig' = ".concat(X)},c.prototype.computeCanvasDrawConfig=function(d,f,m,w){if(d<=m&&f<=w){var y=(m-d)/2,E=(w-f)/2;return{x:y,y:E,width:d,height:f}}else{var T=d,S=f;return d>m&&(f=m/d*f,d=m),f>w&&(d=w/f*d,f=w),this.logger.log("Image downsampled from "+"".concat(T,"X").concat(S)+" to ".concat(d,"X").concat(f,".")),this.computeCanvasDrawConfig(d,f,m,w)}},c.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var d=document.getElementById(this.elementId);d&&(d.innerHTML="")},c.prototype.possiblyUpdateShaders=function(d){this.qrMatch!==d&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(f){f.style.backgroundColor=d?Fr.BORDER_SHADER_MATCH_COLOR:Fr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=d)},c.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},c.prototype.createCanvasElement=function(d,f,m){var w=d,y=f,E=document.createElement("canvas");return E.style.width="".concat(w,"px"),E.style.height="".concat(y,"px"),E.style.display="none",E.id=ui(m)?"qr-canvas":m,E},c.prototype.getShadedRegionBounds=function(d,f,m){if(m.width>d||m.height>f)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(d-m.width)/2,y:(f-m.height)/2,width:m.width,height:m.height}},c.prototype.possiblyInsertShadingElement=function(d,f,m,w){if(!(f-w.width<1||m-w.height<1)){var y=document.createElement("div");y.style.position="absolute";var E=(f-w.width)/2,T=(m-w.height)/2;if(y.style.borderLeft="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderRight="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderTop="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderBottom="".concat(T,"px solid rgba(0, 0, 0, 0.48)"),y.style.boxSizing="border-box",y.style.top="0px",y.style.bottom="0px",y.style.left="0px",y.style.right="0px",y.id="".concat(Fr.SHADED_REGION_ELEMENT_ID),f-w.width<11||m-w.height<11)this.hasBorderShaders=!1;else{var S=5,C=40;this.insertShaderBorders(y,C,S,-S,null,0,!0),this.insertShaderBorders(y,C,S,-S,null,0,!1),this.insertShaderBorders(y,C,S,null,-S,0,!0),this.insertShaderBorders(y,C,S,null,-S,0,!1),this.insertShaderBorders(y,S,C+S,-S,null,-S,!0),this.insertShaderBorders(y,S,C+S,null,-S,-S,!0),this.insertShaderBorders(y,S,C+S,-S,null,-S,!1),this.insertShaderBorders(y,S,C+S,null,-S,-S,!1),this.hasBorderShaders=!0}d.append(y)}},c.prototype.insertShaderBorders=function(d,f,m,w,y,E,T){var S=document.createElement("div");S.style.position="absolute",S.style.backgroundColor=Fr.BORDER_SHADER_DEFAULT_COLOR,S.style.width="".concat(f,"px"),S.style.height="".concat(m,"px"),w!==null&&(S.style.top="".concat(w,"px")),y!==null&&(S.style.bottom="".concat(y,"px")),T?S.style.left="".concat(E,"px"):S.style.right="".concat(E,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(S),d.appendChild(S)},c.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},c.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},c.prototype.getTimeoutFps=function(d){return 1e3/d},c})(),Ag;(function(c){c[c.STATUS_DEFAULT=0]="STATUS_DEFAULT",c[c.STATUS_SUCCESS=1]="STATUS_SUCCESS",c[c.STATUS_WARNING=2]="STATUS_WARNING",c[c.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ag||(Ag={}));const C3=({onOpenSidebar:c,onNavigate:d,addToCart:f,cartItemCount:m,products:w,cart:y,updateQuantity:E,removeFromCart:T})=>{var pe;const S=ve=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ve),[C,O]=U.useState(()=>localStorage.getItem("falcon_product_filter")||""),[R,P]=U.useState(w||[]),X=xy(),[J,Y]=U.useState(""),[K,B]=U.useState(!1),[j,H]=U.useState(()=>localStorage.getItem("showStock")!=="false"),[le,he]=U.useState(()=>localStorage.getItem("showCategoryFilter")!=="false"),[ne,z]=U.useState(!1),[q,W]=U.useState("");U.useEffect(()=>{Gn("falcon_product_filter",{value:C})},[C]),U.useEffect(()=>{const ve=async()=>{const M=await Rt("falcon_products_db");P(M)};ve();const te=()=>ve();return window.addEventListener("focus",te),()=>window.removeEventListener("focus",te)},[]),U.useEffect(()=>()=>{},[]);const fe=U.useMemo(()=>{let ve=R;return J&&(ve=ve.filter(te=>te.category===J)),ve.filter(te=>te.name.toLowerCase().includes(C.toLowerCase())||te.category&&te.category.toLowerCase().includes(C.toLowerCase())||te.Codigo&&String(te.Codigo).toLowerCase().includes(C.toLowerCase()))},[R,C,J]),Ce=y.reduce((ve,te)=>ve+te.price*te.quantity,0);return U.useEffect(()=>{if(ne){W("");const ve=new v3("barcode-scanner");let te=!1;return ve.start({facingMode:"environment"},{fps:10,qrbox:280,formatsToSupport:[Fe.EAN_13,Fe.CODE_128,Fe.EAN_8]},M=>{O(M),z(!1),te||(ve.stop().then(()=>{const G=document.getElementById("barcode-scanner");G&&(G.innerHTML="")}),te=!0)},M=>{W("No foi possvel acessar a cmera ou ler o cdigo. Verifique as permisses e tente novamente.")}).catch(M=>{W("Erro ao iniciar a cmera: "+M)}),()=>{te||(ve.stop().then(()=>{const M=document.getElementById("barcode-scanner");M&&(M.innerHTML="")}).catch(()=>{}),te=!0)}}},[ne]),x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("div",{className:"flex flex-col gap-2 bg-background-light dark:bg-background-dark p-4 pb-2 sticky top-0 z-10 shadow-sm lg:shadow-none",children:[x.jsxs("div",{className:"flex h-12 items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:c,className:"lg:hidden text-slate-900 dark:text-white",children:x.jsx("span",{className:"material-symbols-outlined text-3xl",children:"menu"})}),x.jsx("h1",{className:"text-2xl font-bold leading-tight tracking-tight text-slate-900 dark:text-white hidden lg:block",children:"Lista de Produtos"})]}),x.jsxs("div",{className:"flex items-center gap-6",children:[x.jsxs("span",{className:"text-lg font-bold text-blue-700 dark:text-blue-300 whitespace-nowrap",children:["Total: ",S(Ce)]}),x.jsxs("button",{onClick:()=>d("shop"),className:"relative flex h-12 w-12 cursor-pointer items-center justify-center rounded-lg hover:bg-black/5 dark:hover:bg-white/10 transition-colors text-slate-900 dark:text-white",children:[x.jsx("span",{className:"material-symbols-outlined text-3xl",children:"shopping_cart"}),m>0&&x.jsx("span",{className:"absolute top-2 right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white",children:m})]})]})]}),x.jsx("p",{className:"text-2xl font-bold leading-tight tracking-tight text-slate-900 dark:text-white lg:hidden",children:"Lista de Produtos"})]}),le&&x.jsx("div",{className:"px-4 pt-3 pb-1 sticky top-[100px] lg:top-0 z-10 bg-background-light dark:bg-background-dark",children:x.jsx("div",{className:"mb-2 flex items-center gap-2",children:x.jsxs("div",{className:"relative",children:[x.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-lg shadow-sm text-slate-900 dark:text-white hover:bg-gray-100 dark:hover:bg-slate-700 min-w-[160px]",onClick:()=>B(ve=>!ve),type:"button",children:[x.jsx("span",{className:"material-symbols-outlined text-base",children:"category"}),J&&((pe=X.find(ve=>ve.id===J))==null?void 0:pe.name)||"Todas as categorias",x.jsx("span",{className:"material-symbols-outlined ml-2 text-base",children:"expand_more"})]}),K&&x.jsxs("div",{className:"absolute left-0 mt-2 w-full bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark rounded-lg shadow-lg z-20 max-h-60 overflow-y-auto custom-scrollbar",children:[x.jsx("button",{className:`w-full text-left px-4 py-2 hover:bg-blue-100 dark:hover:bg-blue-900/30 ${J?"":"font-bold text-primary"}`,onClick:()=>{Y(""),B(!1)},children:"Todas as categorias"}),X.map(ve=>x.jsx("button",{className:`w-full text-left px-4 py-2 hover:bg-blue-100 dark:hover:bg-blue-900/30 ${J===ve.id?"font-bold text-primary":""}`,onClick:()=>{Y(ve.id),B(!1)},children:ve.name},ve.id))]})]})})}),x.jsxs("div",{className:"px-4 py-3 bg-background-light dark:bg-background-dark",children:[x.jsx("label",{className:"flex h-12 w-full flex-col",children:x.jsxs("div",{className:"flex h-full w-full flex-1 items-stretch rounded-xl shadow-sm relative",children:[x.jsx("div",{className:"flex items-center justify-center rounded-l-xl border-y border-l border-border-light dark:border-border-dark bg-white dark:bg-surface-dark/50 pl-4 text-slate-400 dark:text-slate-500",children:x.jsx("span",{className:"material-symbols-outlined",children:"search"})}),x.jsx("input",{className:"h-full min-w-0 flex-1 resize-none overflow-hidden rounded-r-xl border-y border-r border-border-light dark:border-border-dark bg-white dark:bg-surface-dark/50 px-4 text-base font-normal leading-normal text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-0",placeholder:"Buscar produtos...",value:C,onChange:ve=>O(ve.target.value)}),x.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark hover:text-primary",onClick:()=>z(!0),title:"Ler cdigo de barras",children:x.jsx("span",{className:"material-symbols-outlined",children:"photo_camera"})})]})}),ne&&x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center",children:x.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-lg p-6 shadow-lg relative",children:[x.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-red-600",onClick:()=>z(!1),title:"Fechar",children:x.jsx("span",{className:"material-symbols-outlined",children:"close"})}),x.jsx("div",{id:"barcode-scanner",style:{width:320,height:240}}),x.jsx("p",{className:"mt-2 text-center text-sm",children:"Aponte a cmera para o cdigo de barras"}),q&&x.jsx("p",{className:"mt-2 text-center text-sm text-red-600",children:q})]})})]}),x.jsx("div",{className:"p-4 pb-24",children:x.jsx(Nm,{style:{height:600},className:"custom-scrollbar",totalCount:fe.length,itemContent:ve=>{const te=fe[ve];return x.jsxs("div",{className:"flex items-stretch justify-between gap-4 rounded-xl bg-white dark:bg-surface-dark/50 p-4 shadow-sm hover:shadow-md transition-shadow mb-2",children:[x.jsxs("div",{className:"flex flex-[2_2_0px] flex-col h-full justify-between",children:[x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsx("p",{className:"text-base font-bold leading-tight text-slate-500 dark:text-slate-400 break-words",children:te.name}),x.jsx("p",{className:"text-base font-bold leading-normal text-slate-900 text-blue-600 dark:text-slate-200",children:S(te.price)})]}),x.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[x.jsx("button",{onClick:()=>f(te),className:"flex h-9 items-center justify-center overflow-hidden rounded-lg bg-primary px-3 text-sm font-medium leading-normal text-white hover:bg-blue-600 transition-colors active:scale-95",children:x.jsx("span",{className:"truncate",children:"Adicionar ao Pedido"})}),j&&typeof te.stock=="number"&&x.jsx("span",{className:"inline-block rounded-full bg-yellow-900/80 px-3 py-1 text-base font-bold text-yellow-300 ml-2",children:Number.isInteger(te.stock)?te.stock:te.stock.toLocaleString("pt-BR",{minimumFractionDigits:2})})]})]}),te.image?x.jsx("div",{className:"aspect-square w-20 sm:w-28 lg:w-32 flex-shrink-0 rounded-lg bg-cover bg-center bg-no-repeat bg-gray-200 dark:bg-gray-800",style:{backgroundImage:`url('${te.image}')`},"aria-label":te.name}):x.jsx("div",{className:"aspect-square w-20 sm:w-28 lg:w-32 flex-shrink-0 rounded-lg bg-gray-200 dark:bg-gray-800 flex items-center justify-center",children:x.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"image_not_supported"})})]},te.id)}})})]})},E3=({cart:c,updateQuantity:d,onNavigate:f,onBack:m,onCancel:w,editingOrder:y})=>{const E=c.reduce((B,j)=>B+j.price*j.quantity,0),T=c.reduce((B,j)=>B+j.quantity,0),[S,C]=ze.useState({}),[O,R]=ze.useState(!1),P=B=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B),X=B=>{C(j=>{var H;return{...j,[B]:{active:!0,value:((H=j[B])==null?void 0:H.value)||""}}})},J=B=>{C(j=>{var le;return((le=j[B])==null?void 0:le.value)||""?j:{...j,[B]:{active:!1,value:""}}})},Y=(B,j)=>{const H=j.replace(/[^0-9.,]/g,"");C(le=>({...le,[B]:{active:!0,value:H}}))},K=B=>{const j=S[B.id];if(j&&j.value!==""){const H=parseFloat(j.value.replace(",","."));!isNaN(H)&&H>0&&(d(B.id,H-B.quantity),C(le=>({...le,[B.id]:{active:!1,value:""}})))}};return x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("header",{className:"flex items-center justify-between p-4 bg-background-light dark:bg-background-dark border-b border-border-light dark:border-border-dark sticky top-0 z-10",children:[x.jsx("button",{onClick:m,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:x.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),x.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[x.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white text-center",children:y?`Editando Pedido #${y.id}`:"Itens do Pedido"}),!y&&x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>R(!0),className:"w-7 h-7 flex items-center justify-center bg-red-100 dark:bg-red-700 rounded-full text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-600 mt-2",title:"Cancelar pedido",children:x.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"})}),x.jsx(ia,{isOpen:O,onClose:()=>R(!1),title:"Cancelar Pedido",footer:x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 text-slate-800 dark:text-white font-medium hover:bg-gray-300 dark:hover:bg-gray-600",children:"No"}),x.jsx("button",{onClick:()=>{R(!1),typeof w=="function"&&w()},className:"px-4 py-2 rounded-lg bg-red-600 text-white font-bold hover:bg-red-700",children:"Sim, cancelar"})]}),children:"Tem certeza que deseja cancelar este pedido?"})]})]}),y?x.jsx("button",{onClick:w,className:"text-red-500 font-medium text-sm hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1 rounded-lg transition-colors",children:"Cancelar"}):x.jsxs("button",{className:"relative text-slate-800 dark:text-white p-1",children:[x.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"}),T>0&&x.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold w-4 h-4 rounded-full flex items-center justify-center",children:T})]})]}),x.jsxs("main",{className:"flex-grow overflow-y-auto p-4 space-y-4 pb-24",children:[y&&y.Obs&&x.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 dark:border-yellow-600 rounded",children:[x.jsx("span",{className:"block text-xs text-yellow-700 dark:text-yellow-200 font-semibold mb-1",children:"Observao do Pedido:"}),x.jsx("span",{className:"text-sm text-yellow-900 dark:text-yellow-100",children:y.Obs})]}),c.length===0?x.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500 dark:text-slate-400",children:[x.jsx("span",{className:"material-symbols-outlined text-6xl mb-4",children:"remove_shopping_cart"}),x.jsx("p",{children:"Seu pedido est vazio."}),x.jsx("button",{onClick:()=>f("productList"),className:"mt-4 text-primary font-medium hover:underline",children:"Navegar nos Produtos"})]}):c.map(B=>{const j=S[B.id]||{active:!1,value:""};let H=B.quantity;return typeof H=="number"&&(H=H.toString().replace(".",",")),(j.active&&j.value||!j.active&&j.value)&&(H=j.value),x.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg flex items-center space-x-4 shadow-sm",children:[B.image?x.jsx("img",{src:B.image,alt:B.name,className:"w-20 h-20 object-cover rounded-md flex-shrink-0 bg-slate-200 dark:bg-slate-700"}):x.jsx("div",{className:"w-20 h-20 rounded-md flex-shrink-0 bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:x.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"image_not_supported"})}),x.jsxs("div",{className:"flex-grow min-w-0",children:[x.jsx("h2",{className:"font-semibold text-slate-500 dark:text-slate-400",children:B.name}),x.jsx("p",{className:"text-lg text-slate-900 text-blue-600 dark:text-slate-200 font-medium",children:P(B.price)}),x.jsxs("div",{className:"flex items-center mt-2",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[j.active?null:x.jsx("button",{onClick:()=>d(B.id,-1),className:"w-7 h-7 flex items-center justify-center bg-slate-100 dark:bg-slate-700 rounded-full text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:x.jsx("span",{className:"material-symbols-outlined text-base",children:"remove"})}),x.jsx("span",{className:"font-medium text-slate-900 dark:text-white min-w-[2.5rem] text-center mr-2",children:H}),x.jsx("button",{onClick:()=>{j.active&&j.value!==""?K(B):d(B.id,1)},className:"w-7 h-7 flex items-center justify-center bg-primary text-white rounded-full hover:bg-blue-600",children:x.jsx("span",{className:"material-symbols-outlined text-base",children:"add"})}),x.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",value:j.value,onFocus:()=>X(B.id),onBlur:()=>J(B.id),onChange:le=>Y(B.id,le.target.value),placeholder:"Qtd.",className:"w-20 px-2 py-1 rounded border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark text-slate-900 dark:text-white text-sm ml-2",style:{textAlign:"center"}})]}),x.jsx("button",{onClick:()=>d(B.id,-B.quantity),className:"w-7 h-7 flex items-center justify-center bg-red-100 dark:bg-red-700 rounded-full text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-600 ml-auto",title:"Remover item",children:x.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"})})]})]})]},B.id)})]}),c.length>0&&x.jsxs("footer",{className:"p-4 bg-white dark:bg-background-dark border-t border-border-light dark:border-border-dark sticky bottom-16 lg:bottom-0",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Subtotal"}),x.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white",children:P(E)})]}),x.jsx("button",{onClick:()=>f("checkout"),className:"w-full bg-primary text-white font-bold py-3 rounded-lg text-center hover:bg-blue-600 transition-colors shadow-lg shadow-primary/20",children:"Ir para o Pagamento"})]})]})};async function Dm(){const c=await Rt("falcon_orders_db"),d=c.filter(m=>m.syncStatus==="sincronizado");if(d.length===0)return;const f=d.map(m=>m.pedidoId).filter(Boolean);if(f.length!==0){for(const m of f)try{const y=await fetch(`${Ki}/Pedidos?db=${Ji}&filtros=${encodeURIComponent(JSON.stringify([{campo:"PedidoId",valor:m}]))}&code=${$i}`);if(!y.ok)continue;const E=await y.json();if(Array.isArray(E)&&E.length>0&&E[0].Status==="F"){const S=c.findIndex(C=>C.pedidoId===m);S!==-1&&(c[S].syncStatus="Processado",c[S].status="Processado")}}catch{}await ws("falcon_orders_db"),await Promise.all(c.map(m=>Gn("falcon_orders_db",m)))}}async function C0(){const c=localStorage.getItem("apiProtocol")||"https",d=localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443",f=`${c}://${d}/api`,m=localStorage.getItem("dbName")||"VNETPedidos",w="vnetapi7474",y=await Rt("ProdutosExcluidosPedidos");for(const T of y)try{if(T.itemUid){const S=[{campo:"itemUid",valor:T.itemUid}];await fetch(`${f}/PedidoItens?db=${m}&filtros=${encodeURIComponent(JSON.stringify(S))}&code=${w}`,{method:"DELETE"}),await tl("ProdutosExcluidosPedidos",T.id)}}catch(S){console.error("Erro ao excluir produto do pedido no servidor:",S)}const E=await Rt("PedidosExcluidos");for(const T of E)try{const S=[{campo:"PedidoId",valor:T.pedidoId}];await fetch(`${f}/Pedidos?db=${m}&filtros=${encodeURIComponent(JSON.stringify(S))}&code=${w}`,{method:"DELETE"});const C=[{campo:"IDPedido",valor:T.pedidoId}];await fetch(`${f}/PedidoItens?db=${m}&filtros=${encodeURIComponent(JSON.stringify(C))}&code=${w}`,{method:"DELETE"}),await tl("PedidosExcluidos",T.id)}catch(S){console.error("Erro ao excluir pedido do servidor:",S)}}const A3=localStorage.getItem("apiProtocol")||"https",S3=localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443",Ki=`${A3}://${S3}/api`,Ji=localStorage.getItem("dbName")||"VNETPedidos",$i="vnetapi7474";function Sg(c,d,f){if(c==="Usuarios")return{Id:d.Id,Nome:d.Nome,Email:d.Email,Telefone:d.Telefone||"",Bio:d.Bio||"",Avatar:d.Avatar||""};if(c==="Produtos")return{IDProduto:d.id??"",Nome:d.name??"",Descricao:d.description??"",Preco:d.price??0,Categoria:d.category??"",Status:d.status??"",Imagem:d.image??"",Estoque:d.stock??0};if(c==="Pedidos"){let m="";try{const w=new Date(d.date);isNaN(w.getTime())?m=new Date().toISOString().slice(0,19).replace("T"," "):m=w.toISOString().slice(0,19).replace("T"," ")}catch{m=new Date().toISOString().slice(0,19).replace("T"," ")}return{Cliente:d.customer,Data:m,formaPagamento:d.formaPagamento,id:d.id,ItensCount:d.itemsCount,pedidoId:d.pedidoId,status:d.status,total:d.total,IDUsuario:f.id,Usuario:f.Nome,Endereco:d.address,Cidade:d.city,Estado:d.estado,Cep:d.cep,Obs:d.Obs,Bairro:d.bairro,Numero:d.numero}}return c==="PedidoItens"?{IDPedido:d.pedidoId,IDProduto:d.id,Descricao:d.name,Quantidade:d.quantity,PrecoUnitario:d.price,Total:(d.price??0)*(d.quantity??1),Ordem:typeof d.Ordem<"u"?d.Ordem:null,itemUid:d.itemUid??null,Imagem:d.image??null}:d}function km({onBack:c,onSyncProdutos:d}){const[f,m]=U.useState({open:!1,message:"",title:""}),[w,y]=U.useState(!1),[E,T]=U.useState(!1),[S,C]=U.useState(!1),[O,R]=U.useState(!1);async function P(){R(!0);try{const J=encodeURIComponent(JSON.stringify([{campo:"Descricao",operador:"like",valor:"%"}])),Y=await fetch(`${Ki}/Estoque?db=${Ji}&campos=Codigo,Departamento,Obs,IDProduto,Foto,Descricao,Preco,Inativo,Quantidade&filtros=${J}&code=${$i}`);if(!Y.ok)throw new Error(await Y.text());const K=await Y.json(),B=await Rt("falcon_products_db"),j=K.map(le=>({id:le.IDProduto,name:le.Descricao,description:le.Obs??"",price:le.Preco,image:le.Foto??"",category:le.Departamento??"",stock:le.Quantidade??0,status:le.Inativo===1?"inativo":"ativo",Codigo:le.Codigo})),H=[...B];j.forEach(le=>{const he=H.findIndex(ne=>ne.id===le.id);he>=0?H[he]={...H[he],...le}:H.push(le)}),await ws("falcon_products_db"),await Jg("falcon_products_db",H),d&&d(H),m({open:!0,message:`Produtos importados: ${j.length}. Clique em OK para fechar.`,title:"Importao"})}catch(J){m({open:!0,message:`Erro ao importar produtos: ${J.message}`,title:"Erro"})}R(!1)}async function X(){C(!0),await C0(),await Dm();let J=await Rt("falcon_orders_db"),Y=0,K=0,B=[];const j=await Rt("falcon_user_logged"),H=j&&j.length>0?j[0]:null;let le=J.filter(he=>he.syncStatus==="novo"||he.syncStatus==="alterado");for(const he of le)try{const ne=Sg("Pedidos",he,H),z=[{campo:"PedidoId",valor:ne.pedidoId}],q=await fetch(`${Ki}/Pedidos?db=${Ji}&filtros=${encodeURIComponent(JSON.stringify(z))}&code=${$i}`);let W=!1;if(q.ok)try{const Ce=await q.json();W=Array.isArray(Ce)?Ce.length>0:!!Ce}catch{}let fe;if(W?fe=await fetch(`${Ki}/Pedidos?db=${Ji}&filtros=${encodeURIComponent(JSON.stringify(z))}&code=${$i}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)}):fe=await fetch(`${Ki}/Pedidos?db=${Ji}&code=${$i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)}),!fe.ok)throw new Error(await fe.text());for(const[Ce,pe]of(he.items||[]).entries()){const ve={...pe,Ordem:Ce},te=Sg("PedidoItens",ve,H),M=[{campo:"IDPedido",valor:te.IDPedido},{campo:"IDProduto",valor:te.IDProduto}],G=await fetch(`${Ki}/PedidoItens?db=${Ji}&filtros=${encodeURIComponent(JSON.stringify(M))}&code=${$i}`);let ie=!1;if(G.ok)try{const oe=await G.json();ie=Array.isArray(oe)?oe.length>0:!!oe}catch{}if(ie){let oe=await fetch(`${Ki}/PedidoItens?db=${Ji}&filtros=${encodeURIComponent(JSON.stringify(M))}&code=${$i}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});if(!oe.ok)throw new Error(await oe.text())}else{let oe=await fetch(`${Ki}/PedidoItens?db=${Ji}&code=${$i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});if(!oe.ok)throw new Error(await oe.text())}}he.syncStatus="sincronizado",he.status="Sincronizado",Y++}catch(ne){K++,B.push(`Pedido ${he.id}: ${ne.message}`)}localStorage.setItem("falcon_orders_db",JSON.stringify(J)),await ws("falcon_orders_db"),await Promise.all(J.map(he=>Gn("falcon_orders_db",he))),C(!1),m({open:!0,message:`Pedidos sincronizados: ${Y}
Erros: ${K}
${B.join(`
`)}`,title:"Sincronizao"})}return x.jsxs("div",{className:"flex flex-col min-h-screen bg-[#181C23] text-white dark:bg-[#181C23] bg-[#F5F6FA] dark:text-white text-[#181C23]",children:[x.jsxs("div",{className:"w-full flex items-center px-6 py-4 border-b border-[#232733] dark:border-border-dark",children:[x.jsx("button",{onClick:c,className:"text-[#181C23] dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-[#232733]/10 dark:hover:bg-white/10 rounded-full","aria-label":"Voltar",children:x.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),x.jsx("h1",{className:"flex-1 text-lg font-bold text-center",children:"Sincronizao de Dados"})]}),x.jsx("div",{className:"flex flex-1 items-center justify-center",children:x.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-6 w-full max-w-xl px-4",children:[x.jsxs("button",{onClick:X,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[x.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${S?" blinking-icon":""}`,children:"assignment"}),x.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Sincronizar Pedidos"})]}),x.jsxs("button",{onClick:P,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[x.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${O?" blinking-icon":""}`,children:"cloud_download"}),x.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Importar Produtos do Servidor"})]})]})}),x.jsxs(ia,{isOpen:f.open,onClose:()=>m({...f,open:!1}),title:f.title||"Sincronizao",children:[x.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:f.message}),x.jsx("div",{className:"flex justify-end mt-4",children:x.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded",onClick:()=>m({...f,open:!1}),children:"OK"})})]})]})}const Mm=Object.freeze(Object.defineProperty({__proto__:null,default:km,processarExclusoesPedidosServidor:C0,verificarPedidosProcessadosServidor:Dm},Symbol.toStringTag,{value:"Module"})),Ng=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),N3=({cart:c,onBack:d,onComplete:f,editingOrder:m,onSyncOrdersUpdate:w})=>{const y=c.reduce((q,W)=>q+W.price*W.quantity,0),E=y,[T,S]=U.useState("Nenhum"),C=U.useRef(null),O=U.useRef(null),R=U.useRef(null),P=U.useRef(null),X=U.useRef(null),J=U.useRef(null),Y=U.useRef(null),K=U.useRef(null),B=(q,W)=>{W.key==="Enter"&&(W.preventDefault(),q.current&&q.current.focus())};U.useEffect(()=>{if(m&&(C.current&&(C.current.value=m.customer||""),O.current&&(O.current.value=m.address||""),R.current&&(R.current.value=m.numero||""),P.current&&(P.current.value=m.bairro||""),J.current&&(J.current.value=m.city||""),Y.current&&(Y.current.value=m.estado||""),X.current&&(X.current.value=m.cep||""),K.current&&(K.current.value=m.Obs||""),m.formaPagamento)){const q=["Nenhum","Dinheiro","Carto","Pix"].find(W=>W.toLowerCase()===(m.formaPagamento||"").toLowerCase());q&&S(q)}},[m]);const[j,H]=U.useState({open:!1,message:"",title:""}),[le,he]=U.useState(!1);async function ne(){he(!0);const q=localStorage.getItem("apiProtocol")||"https",W=localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443",fe=`${q}://${W}/api`,Ce=localStorage.getItem("dbName")||"VNETPedidos",pe="vnetapi7474";function ve(te,M,G){if(te==="Pedidos"){let ie="";try{const oe=new Date(M.date);isNaN(oe.getTime())?ie=new Date().toISOString().slice(0,19).replace("T"," "):ie=oe.toISOString().slice(0,19).replace("T"," ")}catch{ie=new Date().toISOString().slice(0,19).replace("T"," ")}return{Cliente:M.customer,Data:ie,formaPagamento:M.formaPagamento,id:M.id,ItensCount:M.itemsCount,pedidoId:M.pedidoId,status:M.status,total:M.total,IDUsuario:G.id,Usuario:G.Nome,Endereco:M.address,Cidade:M.city,Cep:M.cep,Estado:M.estado,Obs:M.Obs,Bairro:M.bairro,Numero:M.numero}}return te==="PedidoItens"?{IDPedido:M.pedidoId,IDProduto:M.id,Descricao:M.name,Quantidade:M.quantity,PrecoUnitario:M.price,Total:(M.price??0)*(M.quantity??1),Ordem:typeof M.Ordem<"u"?M.Ordem:null,itemUid:M.itemUid??null,Imagem:M.image??null}:M}try{let te=await Rt("falcon_orders_db");const M=await Rt("falcon_user_logged"),G=M&&M.length>0?M[0]:null;let ie=te.filter(V=>V.syncStatus==="novo"||V.syncStatus==="alterado"),oe=0,Ne=0,Me=[];for(const V of ie)try{const ae=ve("Pedidos",V,G),Ae=[{campo:"PedidoId",valor:ae.pedidoId}],Re=await fetch(`${fe}/Pedidos?db=${Ce}&filtros=${encodeURIComponent(JSON.stringify(Ae))}&code=${pe}`);let Xe=!1;if(Re.ok)try{const qe=await Re.json();Xe=Array.isArray(qe)?qe.length>0:!!qe}catch{}let Te;if(Xe?Te=await fetch(`${fe}/Pedidos?db=${Ce}&filtros=${encodeURIComponent(JSON.stringify(Ae))}&code=${pe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}):Te=await fetch(`${fe}/Pedidos?db=${Ce}&code=${pe}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),!Te.ok)throw new Error(await Te.text());for(const[qe,we]of(V.items||[]).entries()){const He={...we,Ordem:qe,itemUid:we.itemUid},ut=ve("PedidoItens",He,G),ft=[{campo:"IDPedido",valor:ut.IDPedido},{campo:"IDProduto",valor:ut.IDProduto}],Et=await fetch(`${fe}/PedidoItens?db=${Ce}&filtros=${encodeURIComponent(JSON.stringify(ft))}&code=${pe}`);let at=!1;if(Et.ok)try{const _e=await Et.json();at=Array.isArray(_e)?_e.length>0:!!_e}catch{}if(at){let _e=await fetch(`${fe}/PedidoItens?db=${Ce}&filtros=${encodeURIComponent(JSON.stringify(ft))}&code=${pe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ut)});if(!_e.ok)throw new Error(await _e.text())}else{let _e=await fetch(`${fe}/PedidoItens?db=${Ce}&code=${pe}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ut)});if(!_e.ok)throw new Error(await _e.text())}}V.syncStatus="sincronizado",V.status="Sincronizado",oe++}catch(ae){Ne++,Me.push(`Pedido ${V.id}: ${ae.message}`)}await ws("falcon_orders_db"),await Promise.all(te.map(V=>Gn("falcon_orders_db",V))),H({open:!0,message:`Pedidos sincronizados: ${oe}
Erros: ${Ne}
${Me.join(`
`)}`,title:"Sincronizao"}),typeof w=="function"&&w()}catch(te){H({open:!0,message:`Erro ao sincronizar pedidos: ${te.message}`,title:"Erro"})}he(!1)}const z=()=>{var G,ie,oe,Ne,Me,V,ae,Ae;const q=((G=C.current)==null?void 0:G.value)||"",W=((ie=O.current)==null?void 0:ie.value)||"",fe=((oe=R.current)==null?void 0:oe.value)||"",Ce=((Ne=P.current)==null?void 0:Ne.value)||"",pe=((Me=J.current)==null?void 0:Me.value)||"",ve=((V=Y.current)==null?void 0:V.value)||"",te=((ae=X.current)==null?void 0:ae.value)||"",M=((Ae=K.current)==null?void 0:Ae.value)||"";f({customer:q,address:W,numero:fe,bairro:Ce,city:pe,estado:ve,cep:te,paymentMethod:T,status:"Pendente",Obs:M}),localStorage.getItem("autoSyncPedido")==="true"&&C0().finally(()=>{setTimeout(async()=>{await ne();try{const{verificarPedidosProcessadosServidor:Re}=await bs(async()=>{const{verificarPedidosProcessadosServidor:Xe}=await Promise.resolve().then(()=>Mm);return{verificarPedidosProcessadosServidor:Xe}},[]);typeof Re=="function"&&(await Re(),typeof w=="function"&&w())}catch{}},500)})};return x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between px-4 py-3 bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark shadow-sm",children:[x.jsx("button",{onClick:d,className:"text-slate-900 dark:text-white p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:x.jsx("span",{className:"material-symbols-outlined",children:"arrow_back_ios_new"})}),x.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:m?"Editar Pedido":"Pagamento"}),x.jsx("div",{className:"w-8"})]}),x.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24",children:[x.jsxs("section",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm",children:[x.jsx("h2",{className:"text-lg font-semibold mb-4 text-slate-900 dark:text-white",children:"Resumo do Pedido"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between text-text-secondary-light dark:text-text-secondary-dark",children:[x.jsx("span",{children:"Subtotal"}),x.jsx("span",{className:"text-slate-900 dark:text-white",children:Ng(y)})]}),x.jsx("div",{className:"border-t border-border-light dark:border-border-dark my-3"}),x.jsxs("div",{className:"flex justify-between font-bold text-slate-900 dark:text-white text-lg",children:[x.jsx("span",{children:"Total"}),x.jsx("span",{children:Ng(E)})]})]})]}),x.jsxs("section",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Endereo de Entrega"}),x.jsx("button",{className:"text-primary text-sm font-medium hover:underline",children:"Alterar"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("input",{ref:C,className:"w-full bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Nome Completo",defaultValue:"",onKeyDown:q=>B(O,q)}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("input",{ref:O,className:"w-2/3 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Endereo",defaultValue:"",onKeyDown:q=>B(R,q)}),x.jsx("input",{ref:R,className:"w-1/3 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Nmero",defaultValue:"",onKeyDown:q=>B(P,q)})]}),x.jsx("input",{ref:P,className:"w-full bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Bairro",defaultValue:"",onKeyDown:q=>B(X,q)}),x.jsx("input",{ref:X,className:"w-full bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"CEP",defaultValue:"",onKeyDown:q=>B(J,q)}),x.jsxs("div",{className:"flex space-x-3",children:[x.jsx("input",{ref:J,className:"w-2/3 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Cidade",defaultValue:"",onKeyDown:q=>B(Y,q)}),x.jsx("input",{ref:Y,className:"w-1/3 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Estado",defaultValue:"",onKeyDown:q=>B(K,q)})]}),x.jsx("textarea",{ref:K,className:"w-full bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none resize-y min-h-[48px] max-h-40",placeholder:"Observao do pedido (opcional)",defaultValue:"",maxLength:200,rows:2,onKeyDown:q=>{q.key==="Enter"&&!q.shiftKey&&q.preventDefault()}})]})]}),x.jsxs("section",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm",children:[x.jsx("h2",{className:"text-lg font-semibold mb-4 text-slate-900 dark:text-white",children:"Forma de Pagamento"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[x.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Nenhum",checked:T==="Nenhum",onChange:()=>S("Nenhum")}),x.jsx("span",{className:"material-symbols-outlined mx-3 text-text-secondary-light dark:text-text-secondary-dark",children:"block"}),x.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Nenhum"})]}),x.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[x.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Dinheiro",checked:T==="Dinheiro",onChange:()=>S("Dinheiro")}),x.jsx("span",{className:"material-symbols-outlined mx-3 text-green-500",children:"attach_money"}),x.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Dinheiro"})]}),x.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[x.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Carto",checked:T==="Carto",onChange:()=>S("Carto")}),x.jsx("span",{className:"material-symbols-outlined mx-3 text-blue-500",children:"credit_card"}),x.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Carto"})]}),x.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[x.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Pix",checked:T==="Pix",onChange:()=>S("Pix")}),x.jsx("span",{className:"material-symbols-outlined mx-3 text-purple-500",children:"qr_code_2"}),x.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Pix"})]})]})]}),x.jsx("div",{className:"pt-2",children:x.jsx("button",{onClick:z,className:"w-full bg-primary text-white font-bold py-3 rounded-lg text-lg shadow-md hover:bg-blue-600 transition-colors duration-200 active:scale-95",children:"Finalizar Pedido"})})]}),j.open&&x.jsxs(ia,{isOpen:j.open,onClose:()=>H({...j,open:!1}),title:j.title,children:[x.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:j.message}),x.jsx("div",{className:"flex justify-end mt-4",children:x.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded",onClick:()=>H({...j,open:!1}),children:"OK"})})]})]})},T3={avatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuCmtYBGg27cUA8Az6-R5ao1qFDVklEQMZSu2fF-mjGQ6Rr48DEO2WTkscl3GByvyCA3T6zJAL2DO1oddajH8uwx7s32K3OmUCO935ZQROKdM_da1NlVg6WIWQhKopw7kLBb7YAn7og5GJUU3YFQiaH9VoPoctFBDRcN4phQQYQXjJjmjdouDTt-6SIN_b8pL_Zn37l8GbBT-A0eoneiBi3PHQkHXVlKGPaFkP17AGplUvr2RJ0aBklgK22cz23EgSsOVavWYGKlnD4K"},Tg=[{id:"1",sender:"Diana",avatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuAy54Q84nDigdhGJjVgDtj8HFCehcjGm53oMv-H4UIjkjdy5J5QdBz90VK09S-6luF1QkrNq0X5WBpki9oSQWtbS2vWc4so_Atf1J9Vq3zXw7-sBvWIwtG1XjlgxNRSO7mcpEqBO1-c-r8IxFZiAhUTbmaVtKhHqDBGPu1pMnHF0WW8vaCxOW37iY58bjT6iP03IRJjey0EyyKAQg2w6w1K4rgzSZ8vHaqfdBWfRr_nXt7QRDjFgOeTphkrN5iIU5lKAyBmbZDExYe7",date:"26 Mar",subject:"Resumo Dirio de Trabalho",preview:"E eles provavelmente faro muito estrago em um...",isUnread:!0,isStarred:!0},{id:"2",sender:"Equipe Unsplash",avatar:"",date:"25 Mar",subject:"Participe do Dia Internacional da Mulher",preview:"Junte-se a ns para celebrar...",isUnread:!0,isStarred:!1,labels:[{text:"Inverno",icon:"photo_camera",colorClass:"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400"},{text:"Caf",icon:"coffee",colorClass:"bg-orange-100 text-orange-700 dark:bg-orange-900/50 dark:text-orange-400"}]},{id:"3",sender:"Goodreads",avatar:"",date:"05 Mar",subject:"Newsletter Goodreads: 5 de Maro",preview:"Os livros mais aguardados da primavera...",isUnread:!0,isStarred:!1},{id:"4",sender:"GitHub",avatar:"",date:"11:50",subject:"[GitHub] Inscrito em tech/photogallery",preview:"Voc foi inscrito em...",isUnread:!1,isStarred:!0},{id:"5",sender:"Coursera",avatar:"",date:"03 Mar",subject:"Recomendado: Desenvolvimento Server-side",preview:"Melhore suas habilidades com este curso...",isUnread:!1,isStarred:!1}],I3=({onOpenSidebar:c})=>x.jsxs("div",{className:"flex flex-col h-screen bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-200",children:[x.jsxs("header",{className:"p-4 flex items-center justify-between border-b border-border-light dark:border-border-dark sticky top-0 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm z-10",children:[x.jsx("button",{onClick:c,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800",children:x.jsx("span",{className:"material-symbols-outlined text-slate-600 dark:text-slate-400",children:"menu"})}),x.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Caixa de Entrada"}),x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("button",{className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800",children:x.jsx("span",{className:"material-symbols-outlined text-slate-600 dark:text-slate-400",children:"add_circle"})}),x.jsx("img",{alt:"User avatar",className:"h-8 w-8 rounded-full border border-border-dark",src:T3.avatar})]})]}),x.jsxs("main",{className:"flex-1 p-4 space-y-6 overflow-y-auto pb-24",children:[x.jsxs("div",{className:"relative",children:[x.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500",children:"search"}),x.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-surface-dark border-transparent focus:border-primary focus:ring-primary rounded-lg text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm",placeholder:"Buscar e-mails...",type:"text"})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-xs font-bold uppercase text-slate-400 dark:text-slate-500 mb-3 px-2",children:"No Lidos"}),x.jsx("div",{className:"bg-white dark:bg-surface-dark/50 rounded-lg shadow-sm divide-y divide-border-light dark:divide-border-dark",children:Tg.filter(d=>d.isUnread).map(d=>x.jsxs("div",{className:"flex items-start p-4 hover:bg-gray-50 dark:hover:bg-slate-800/80 transition-colors cursor-pointer",children:[d.avatar?x.jsx("img",{alt:d.sender,className:"h-10 w-10 rounded-full mr-4 object-cover",src:d.avatar}):x.jsx("div",{className:"w-10 h-10 mr-4 flex-shrink-0 bg-black dark:bg-white/10 rounded-full flex items-center justify-center",children:x.jsx("span",{className:"text-white font-bold",children:d.sender[0]})}),x.jsxs("div",{className:"flex-grow min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 truncate",children:d.sender}),x.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0 ml-2",children:d.date})]}),x.jsx("p",{className:`text-sm ${d.labels?"font-semibold text-primary":"text-slate-600 dark:text-slate-300"} truncate`,children:d.subject}),d.labels&&x.jsx("div",{className:"mt-2 flex items-center gap-2",children:d.labels.map((f,m)=>x.jsxs("span",{className:`text-xs px-2 py-1 rounded-full flex items-center gap-1 ${f.colorClass}`,children:[x.jsx("span",{className:"material-symbols-outlined !text-sm",children:f.icon})," ",f.text]},m))}),!d.labels&&x.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 truncate",children:d.preview})]}),x.jsx("span",{className:`material-symbols-outlined ml-4 flex-shrink-0 ${d.isStarred?"filled text-amber-500":"text-slate-300"}`,children:"star"})]},d.id))})]}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-xs font-bold uppercase text-slate-400 dark:text-slate-500 mb-3 px-2",children:"Outros"}),x.jsx("div",{className:"bg-white dark:bg-surface-dark/50 rounded-lg shadow-sm divide-y divide-border-light dark:divide-border-dark",children:Tg.filter(d=>!d.isUnread).map(d=>x.jsxs("div",{className:"flex items-center p-4 hover:bg-gray-50 dark:hover:bg-slate-800/80 transition-colors cursor-pointer",children:[x.jsx("div",{className:`w-10 h-10 mr-4 flex-shrink-0 rounded-full flex items-center justify-center text-white font-bold ${d.sender==="Goodreads"?"bg-amber-900":d.sender==="Coursera"?"bg-blue-600":"bg-gray-700"}`,children:d.sender[0]}),x.jsxs("div",{className:"flex-grow min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 truncate",children:d.sender}),x.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0 ml-2",children:d.date})]}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 truncate",children:d.subject}),x.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 truncate",children:d.preview})]}),x.jsx("span",{className:`material-symbols-outlined ml-4 flex-shrink-0 ${d.isStarred?"filled text-amber-500":"text-slate-300 dark:text-slate-600"}`,children:"star"})]},d.id))})]})]})]}),_3=({onBack:c,onProductAdded:d})=>{const[f,m]=U.useState(!1),[w,y]=U.useState(null),[E,T]=U.useState(""),[S,C]=U.useState(""),[O,R]=U.useState(""),[P,X]=U.useState(""),[J,Y]=U.useState(""),[K,B]=U.useState(1),[j,H]=U.useState([]),[le,he]=U.useState("");U.useEffect(()=>{Rt("falcon_categories_db").then(q=>H(q))},[]);const ne=q=>{var fe;const W=(fe=q.target.files)==null?void 0:fe[0];if(W){const Ce=new window.Image,pe=new FileReader;pe.onload=ve=>{var te;Ce.src=(te=ve.target)==null?void 0:te.result,Ce.onload=()=>{const M=document.createElement("canvas"),oe=Math.min(800/Ce.width,800/Ce.height,1);M.width=Ce.width*oe,M.height=Ce.height*oe;const Ne=M.getContext("2d");if(Ne){Ne.drawImage(Ce,0,0,M.width,M.height);const Me=Ne.getImageData(0,0,M.width,M.height);let V=!1;for(let Ae=3;Ae<Me.data.length;Ae+=4)if(Me.data[Ae]<255){V=!0;break}let ae;V?ae=M.toDataURL("image/png"):ae=M.toDataURL("image/jpeg",K),y(ae)}}},pe.readAsDataURL(W)}},z=()=>{if(!E||!O)return alert("Preencha todos os campos obrigatrios!");Rt("falcon_products_db").then(q=>{let W=J;if(!W){const Ce=q.map(pe=>Number(pe.Codigo)).filter(pe=>!isNaN(pe));W=Ce.length>0?String(Math.max(...Ce)+1):"1"}const fe={id:el(),name:E,description:S,price:parseFloat(O.replace(",",".")),image:w||"",category:le,status:"Ativo",stock:P?parseInt(P):0,Codigo:W,syncStatus:"novo"};Gn("falcon_products_db",fe).then(()=>{d&&d(fe),c()})})};return x.jsxs("div",{className:"relative flex flex-col h-full bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display",children:[x.jsxs("div",{className:"sticky top-0 z-10 flex items-center bg-white dark:bg-background-dark p-4 pb-2 justify-between border-b border-border-light dark:border-border-dark",children:[x.jsx("button",{onClick:c,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:x.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),x.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Cadastrar Produto"})]}),x.jsx("main",{className:"flex-grow px-4 overflow-y-auto pb-36",children:x.jsxs("div",{className:"flex flex-col gap-4 py-3 max-w-2xl mx-auto",children:[x.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Cdigo"}),x.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Deixe vazio para gerar automaticamente",value:J,onChange:q=>Y(q.target.value)})]}),x.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Nome"}),x.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"ex: Fones de Ouvido Sem Fio",value:E,onChange:q=>T(q.target.value)})]}),x.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Descrio"}),x.jsx("textarea",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary min-h-36 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Insira as principais caractersticas e detalhes...",value:S,onChange:q=>C(q.target.value)})]}),x.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Categoria"}),x.jsxs("select",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",value:le,onChange:q=>he(q.target.value),children:[x.jsx("option",{value:"",children:"Selecione uma categoria"}),j.map(q=>x.jsx("option",{value:q.id,children:q.name},q.id))]})]}),x.jsxs("div",{className:"flex w-full flex-wrap items-end gap-4",children:[x.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Preo"}),x.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",inputMode:"decimal",placeholder:"ex: R$ 299.99",type:"text",value:O,onChange:q=>R(q.target.value)})]}),x.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Quantidade em Estoque"}),x.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",inputMode:"numeric",placeholder:"ex: 50",type:"number",value:P,onChange:q=>X(q.target.value)})]})]}),x.jsxs("div",{className:"pt-4 pb-2",children:[x.jsx("h3",{className:"text-white text-lg font-bold leading-tight tracking-[-0.015em] pb-2",children:"Imagens do Produto"}),x.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[x.jsx("span",{className:"text-sm text-white",children:"Qualidade da foto:"}),x.jsxs("select",{value:K,onChange:q=>B(Number(q.target.value)),className:"rounded px-2 py-1 bg-surface-dark text-white border border-border-dark",children:[x.jsx("option",{value:.5,children:"Baixa"}),x.jsx("option",{value:.7,children:"Mdia"}),x.jsx("option",{value:1,children:"Alta"})]})]}),x.jsx("div",{className:"flex items-center gap-3 mb-3",children:x.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-primary text-white cursor-pointer hover:bg-blue-700 transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined text-xl",children:"photo_camera"}),x.jsx("span",{className:"text-sm font-medium",children:"Tirar Foto"}),x.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:ne})]})}),x.jsx("div",{className:"flex items-center justify-center w-full",children:x.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-border-dark border-dashed rounded-xl cursor-pointer bg-surface-dark hover:bg-primary/10 hover:border-primary transition-all group",children:[x.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[x.jsx("span",{className:"material-symbols-outlined text-text-secondary-dark text-4xl mb-2 group-hover:text-primary transition-colors",children:"add_photo_alternate"}),x.jsx("p",{className:"mb-2 text-sm text-text-secondary-dark",children:x.jsx("span",{className:"font-semibold",children:"Toque para adicionar fotos"})}),x.jsx("p",{className:"text-xs text-text-secondary-dark",children:"PNG, JPG ou GIF"})]}),x.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",accept:"image/*",onChange:ne})]})}),w&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex flex-col items-center mt-4 gap-2",children:[x.jsx("img",{src:w,alt:"Preview",className:"h-24 w-24 rounded-lg object-cover border border-border-dark"}),x.jsxs("div",{className:"flex gap-3 mt-2",children:[x.jsxs("button",{type:"button",onClick:()=>m(!0),className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-slate-700 dark:text-white hover:bg-primary/10",children:[x.jsx("span",{className:"material-symbols-outlined text-base",children:"visibility"}),x.jsx("span",{className:"text-xs",children:"Visualizar"})]}),x.jsxs("label",{className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-slate-700 dark:text-white cursor-pointer hover:bg-primary/10",children:[x.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"}),x.jsx("span",{className:"text-xs",children:"Alterar"}),x.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ne})]}),x.jsxs("button",{type:"button",onClick:()=>y(null),className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/20",children:[x.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"}),x.jsx("span",{className:"text-xs",children:"Remover"})]})]})]}),f&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70",children:x.jsxs("div",{className:"bg-white dark:bg-background-dark rounded-lg p-4 shadow-lg flex flex-col items-center",children:[x.jsx("img",{src:w,alt:"Visualizao",className:"w-[90vw] h-[80vh] rounded-lg object-contain border border-border-dark"}),x.jsx("button",{onClick:()=>m(!1),className:"mt-4 px-4 py-2 rounded bg-primary text-white font-medium hover:bg-blue-700",children:"Fechar"})]})})]})]})]})}),x.jsx("footer",{className:"fixed bottom-16 left-0 w-full bg-white dark:bg-background-dark p-4 pt-2 pb-6 border-t border-border-light dark:border-border-dark z-40 lg:static lg:bg-transparent lg:border-none",children:x.jsx("button",{onClick:z,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95 max-w-2xl mx-auto",children:"Salvar Produto"})})]})},O3=({onBack:c})=>{const[d,f]=U.useState(""),[m,w]=U.useState(""),[y,E]=U.useState(""),[T,S]=U.useState(""),[C,O]=U.useState(""),[R,P]=U.useState({}),[X,J]=U.useState(!0);U.useEffect(()=>{(async()=>{const j=await Rt("falcon_user_logged");if(j&&j.length>0){const H=j[0];P(H),f(H.Avatar||""),w(H.Nome||""),E(H.Email||""),S(H.Telefone||""),O(H.Bio||"")}J(!1)})()},[]);const Y=B=>{var H;const j=(H=B.target.files)==null?void 0:H[0];if(j){const le=new FileReader;le.onload=he=>{var ne;f((ne=he.target)==null?void 0:ne.result)},le.readAsDataURL(j)}},K=()=>{const B={...R,Avatar:d,Nome:m,Email:y,Telefone:T,Bio:C};Gn("falcon_user_logged",B).then(()=>{Gn("falcon_users_db",B).then(()=>{c()})})};return X?x.jsx("div",{style:{color:"white",textAlign:"center",marginTop:40},children:"Carregando..."}):x.jsxs("div",{className:"relative flex flex-col h-full bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display",children:[x.jsxs("div",{className:"sticky top-0 z-10 flex items-center bg-white dark:bg-background-dark p-4 pb-2 justify-between border-b border-border-light dark:border-border-dark",children:[x.jsx("button",{onClick:c,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:x.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),x.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Editar Perfil"})]}),x.jsx("main",{className:"flex-grow px-4 overflow-y-auto pb-24",children:x.jsxs("div",{className:"flex flex-col gap-4 py-3 max-w-2xl mx-auto",children:[x.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:x.jsxs("div",{className:"relative group cursor-pointer",children:[x.jsx("img",{alt:"User profile picture",className:"h-28 w-28 rounded-full object-cover border-4 border-surface-dark",src:d||"https://ui-avatars.com/api/?name="+encodeURIComponent(m)}),x.jsxs("label",{className:"absolute bottom-0 right-0 flex h-8 w-8 items-center justify-center rounded-full border-2 border-background-dark bg-primary text-white hover:scale-110 transition-transform cursor-pointer",children:[x.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"}),x.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Y})]})]})}),x.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Nome Completo"}),x.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Digite seu nome completo",value:m,onChange:B=>w(B.target.value)})]}),x.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"E-mail"}),x.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Digite seu e-mail",type:"email",value:y,onChange:B=>E(B.target.value)})]}),x.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Telefone"}),x.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Digite seu telefone",type:"tel",value:T,onChange:B=>S(B.target.value)})]}),x.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[x.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Biografia"}),x.jsx("textarea",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary min-h-28 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Conte um pouco sobre voc...",value:C,onChange:B=>O(B.target.value)})]})]})}),x.jsx("footer",{className:"fixed bottom-16 left-0 w-full bg-white dark:bg-background-dark p-4 pt-2 pb-6 border-t border-border-light dark:border-border-dark z-40 lg:static lg:bg-transparent lg:border-none",children:x.jsx("button",{onClick:K,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95 max-w-2xl mx-auto",children:"Salvar Alteraes"})})]})},R3=({onOpenSidebar:c,onNavigate:d})=>{const[f,m]=U.useState([]);U.useEffect(()=>{const _e=async()=>{const Zt=await Rt("falcon_products_db");m(Zt)};_e();const Je=()=>_e();return window.addEventListener("focus",Je),()=>window.removeEventListener("focus",Je)},[]);const[w,y]=U.useState("Todos"),[E,T]=U.useState([]),[S,C]=U.useState({});U.useEffect(()=>{Rt("falcon_categories_db").then(_e=>{T(_e);const Je={};_e.forEach(Zt=>{Je[Zt.id]=Zt.name}),C(Je)})},[]);const[O,R]=U.useState("Todos"),[P,X]=U.useState(""),[J,Y]=U.useState(null),[K,B]=U.useState(null),[j,H]=U.useState(""),[le,he]=U.useState(""),[ne,z]=U.useState(""),[q,W]=U.useState("Ativo"),[fe,Ce]=U.useState(""),[pe,ve]=U.useState(1),[te,M]=U.useState(""),[G,ie]=U.useState(!1),[oe,Ne]=U.useState(!1),[Me,V]=U.useState(null);U.useEffect(()=>{Rt("falcon_user_logged").then(_e=>{V(_e&&_e.length>0?_e[0]:null)})},[]),U.useMemo(()=>["Todos",...Array.from(new Set(f.map(Je=>Je.category).filter(Boolean))),"Sem Categoria"],[f,S]);const ae=U.useMemo(()=>["Todos",...Array.from(new Set(f.map(_e=>_e.status||"Desconhecido"))).sort()],[f]),Ae=U.useMemo(()=>f.filter(_e=>{const Je=_e.name.toLowerCase().includes(P.toLowerCase());let Zt=!0;w!=="Todos"&&(w==="Sem Categoria"?Zt=!_e.category:Zt=_e.category===w);const dt=O==="Todos"||(_e.status||"Desconhecido")===O;return Je&&Zt&&dt}),[P,w,O,f]),Re=()=>{y("Todos"),R("Todos"),X(""),Y(null)},Xe=w!=="Todos"||O!=="Todos",Te=_e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_e),qe=_e=>{B(_e),H(_e.name),he(_e.price.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})),z(_e.category||""),W(_e.status||"Ativo"),Ce(_e.image||""),M(_e.Codigo||""),ie(!0)},we=_e=>{var Zt;const Je=(Zt=_e.target.files)==null?void 0:Zt[0];if(Je){const dt=new window.Image,xt=new FileReader;xt.onload=it=>{var sr;dt.src=typeof((sr=it.target)==null?void 0:sr.result)=="string"?it.target.result:"",dt.onload=()=>{const Ue=document.createElement("canvas"),Bt=Math.min(800/dt.width,800/dt.height,1);Ue.width=dt.width*Bt,Ue.height=dt.height*Bt;const $n=Ue.getContext("2d");if($n){$n.drawImage(dt,0,0,Ue.width,Ue.height);const Bn=$n.getImageData(0,0,Ue.width,Ue.height);let sa=!1;for(let pn=3;pn<Bn.data.length;pn+=4)if(Bn.data[pn]<255){sa=!0;break}let jn;sa?jn=Ue.toDataURL("image/png"):jn=Ue.toDataURL("image/jpeg",pe),Ce(jn)}}},xt.readAsDataURL(Je)}},He=()=>{if(!K)return;const _e={...K,name:j,price:parseFloat(le.replace(".","").replace(",",".")),category:ne,status:q,image:fe,Codigo:te,syncStatus:"alterado"};Gn("falcon_products_db",_e).then(()=>{m(Je=>{const Zt=Je.findIndex(dt=>dt.id===_e.id);if(Zt>=0){const dt=[...Je];return dt[Zt]=_e,dt}else return[...Je,_e]}),ie(!1),Ne(!0)})},ut=()=>{if(!K)return;const _e=f.filter(Je=>Je.id!==K.id);ws("falcon_products_db").then(()=>{Promise.all(_e.map(Je=>Gn("falcon_products_db",Je))).then(()=>{m(_e),ie(!1),Ne(!0)})})},[ft,Et]=U.useState(!1),at=w==="Todos"?"Todas Categorias":w==="Sem Categoria"?"Sem Categoria":S[w]||"Categoria desconhecida";return x.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[J&&x.jsx("div",{className:"fixed inset-0 z-10 cursor-default",onClick:()=>Y(null)}),x.jsx("header",{className:"flex-shrink-0 bg-surface-light dark:bg-surface-dark/80 backdrop-blur-sm border-b border-border-light dark:border-border-dark",children:x.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"flex h-16 items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:c,className:"lg:hidden text-text-secondary-light dark:text-text-secondary-dark",children:x.jsx("span",{className:"material-symbols-outlined",children:"menu"})}),x.jsx("h1",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Gerenciamento de Produtos"})]}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs("button",{className:"relative text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),x.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"})]}),Me!=null&&Me.Avatar?x.jsx("img",{alt:"User avatar",className:"h-8 w-8 rounded-full border border-border-dark",src:Me.Avatar}):x.jsx("div",{className:"h-8 w-8 rounded-full border border-border-dark bg-slate-200 flex items-center justify-center",children:x.jsx("span",{className:"material-symbols-outlined text-lg text-gray-400",children:"image_not_supported"})})]})]})})}),x.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pb-24",children:x.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[x.jsxs("div",{className:"relative flex-1 w-full sm:w-auto",children:[x.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark",children:"search"}),x.jsx("input",{value:P,onChange:_e=>X(_e.target.value),className:"w-full rounded-lg border-border-light dark:border-border-dark bg-white dark:bg-surface-dark pl-10 pr-4 py-2.5 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-primary focus:border-primary shadow-sm",placeholder:"Buscar produtos...",type:"text"})]}),x.jsxs("button",{onClick:()=>d("addProduct"),className:"w-full sm:w-auto flex items-center justify-center gap-2 rounded-lg bg-primary px-4 py-2.5 text-white font-semibold shadow-sm hover:bg-blue-600 transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined text-xl",children:"add"}),x.jsx("span",{children:"Novo Produto"})]})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-4 bg-white dark:bg-surface-dark p-4 rounded-lg border border-border-light dark:border-border-dark shadow-sm",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:[x.jsx("span",{className:"material-symbols-outlined text-lg",children:"filter_list"}),x.jsx("span",{children:"Filtros Rpidos:"})]}),x.jsxs("div",{className:"relative",children:[x.jsxs("button",{type:"button",className:"inline-flex justify-between items-center w-48 rounded-md border border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark px-4 py-2 text-sm font-medium text-slate-800 dark:text-slate-200 shadow-sm hover:bg-primary/10 focus:outline-none",onClick:()=>Et(_e=>!_e),children:[x.jsx("span",{className:"truncate",children:at}),x.jsx("span",{className:"material-symbols-outlined ml-2 text-base",children:"expand_more"})]}),ft&&x.jsx("div",{className:"absolute z-20 mt-1 w-48 rounded-md bg-white dark:bg-surface-dark shadow-lg ring-1 ring-black ring-opacity-5",children:x.jsxs("ul",{className:"py-1",children:[x.jsx("li",{children:x.jsx("button",{className:`w-full text-left px-4 py-2 text-sm ${w==="Todos"?"bg-primary/10 font-semibold":""}`,onClick:()=>{y("Todos"),Et(!1)},children:"Todas Categorias"})}),E.map(_e=>x.jsx("li",{children:x.jsx("button",{className:`w-full text-left px-4 py-2 text-sm ${w===_e.id?"bg-primary/10 font-semibold":""}`,onClick:()=>{y(_e.id),Et(!1)},children:_e.name})},_e.id)),x.jsx("li",{children:x.jsx("button",{className:`w-full text-left px-4 py-2 text-sm ${w==="Sem Categoria"?"bg-primary/10 font-semibold":""}`,onClick:()=>{y("Sem Categoria"),Et(!1)},children:"Sem Categoria"})})]})})]}),x.jsx("select",{value:O,onChange:_e=>R(_e.target.value),className:"rounded-md border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-200 text-sm focus:ring-primary focus:border-primary py-1.5 pl-3 pr-8",children:ae.map(_e=>x.jsx("option",{value:_e,children:_e==="Todos"?"Todos Status":_e},_e))}),Xe&&x.jsxs("button",{onClick:Re,className:"ml-auto text-sm text-red-500 hover:text-red-600 font-medium flex items-center gap-1",children:[x.jsx("span",{className:"material-symbols-outlined text-base",children:"close"}),"Limpar"]})]}),x.jsx("div",{className:"rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark shadow-sm",children:x.jsx(Mw,{style:{height:600},data:Ae,components:{Scroller:_e=>x.jsx("div",{..._e,className:"overflow-auto custom-scrollbar"}),Table:_e=>x.jsxs("table",{style:{tableLayout:"fixed"},className:"w-full table-fixed divide-y divide-border-light dark:divide-border-dark relative",..._e,children:[x.jsxs("colgroup",{children:[x.jsx("col",{style:{width:"48px"}}),x.jsx("col",{}),x.jsx("col",{className:"hidden sm:table-column",style:{width:"200px"}}),x.jsx("col",{className:"hidden sm:table-column",style:{width:"120px"}}),x.jsx("col",{style:{width:"120px"}}),x.jsx("col",{style:{width:"48px"}})]}),_e.children]})},fixedHeaderContent:()=>x.jsxs("tr",{className:"bg-gray-50 dark:bg-slate-800/50",children:[x.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left",children:x.jsx("input",{className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary bg-white dark:bg-surface-dark",type:"checkbox"})}),x.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Produto"}),x.jsx("th",{scope:"col",className:"hidden sm:table-cell py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Categoria"}),x.jsx("th",{scope:"col",className:"hidden sm:table-cell py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Status"}),x.jsx("th",{scope:"col",className:"py-3.5 px-3 text-right text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Preo"}),x.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4",children:x.jsx("span",{className:"sr-only",children:"Editar"})})]}),itemContent:(_e,Je)=>x.jsxs(x.Fragment,{children:[x.jsx("td",{className:"py-4 pl-4 pr-3",children:x.jsx("input",{className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary bg-white dark:bg-surface-dark",type:"checkbox"})}),x.jsxs("td",{className:"py-4 px-3 text-sm",children:[x.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 truncate",children:Je.name}),x.jsxs("div",{className:"text-text-secondary-light dark:text-text-secondary-dark text-xs",children:["ID: #",String(Je.id).padStart(6,"0")]})]}),x.jsx("td",{className:"hidden sm:table-cell whitespace-nowrap py-4 px-3 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:Je.category?S[Je.category]||Je.category:"Sem Categoria"}),x.jsx("td",{className:"hidden sm:table-cell whitespace-nowrap py-4 px-3 text-sm",children:x.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium 
                        ${Je.status==="Ativo"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":Je.status==="Rascunho"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:Je.status||"Desconhecido"})}),x.jsx("td",{className:"whitespace-nowrap py-4 px-3 text-sm font-medium text-slate-800 dark:text-slate-200 text-right",children:Te(Je.price)}),x.jsx("td",{className:"py-4 pl-3 pr-4 text-right text-sm font-medium",children:x.jsx("button",{className:"text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",onClick:()=>qe(Je),children:x.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})})})]})})}),x.jsx(ia,{isOpen:G,onClose:()=>ie(!1),title:"Editar Produto",footer:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:ut,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Excluir"}),x.jsx("button",{onClick:He,className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-lg hover:bg-blue-700",children:"Salvar"})]}),children:x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsxs("label",{className:"flex flex-col",children:[x.jsx("span",{className:"text-sm font-medium mb-1",children:"Cdigo"}),x.jsx("input",{value:te,onChange:_e=>M(_e.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Cdigo do Produto"})]}),x.jsxs("label",{className:"flex flex-col",children:[x.jsx("span",{className:"text-sm font-medium mb-1",children:"Nome"}),x.jsx("input",{value:j,onChange:_e=>H(_e.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary"})]}),x.jsxs("label",{className:"flex flex-col",children:[x.jsx("span",{className:"text-sm font-medium mb-1",children:"Preo"}),x.jsx("input",{value:le,onChange:_e=>he(_e.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",inputMode:"decimal",placeholder:"ex: 1.552,33"})]}),x.jsxs("label",{className:"flex flex-col",children:[x.jsx("span",{className:"text-sm font-medium mb-1",children:"Categoria"}),x.jsxs("select",{value:ne,onChange:_e=>z(_e.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",children:[x.jsx("option",{value:"",children:"Sem Categoria"}),E.map(_e=>x.jsx("option",{value:_e.id,children:_e.name},_e.id))]})]}),x.jsxs("label",{className:"flex flex-col",children:[x.jsx("span",{className:"text-sm font-medium mb-1",children:"Status"}),x.jsxs("select",{value:q,onChange:_e=>W(_e.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",children:[x.jsx("option",{value:"Ativo",children:"Ativo"}),x.jsx("option",{value:"Rascunho",children:"Rascunho"}),x.jsx("option",{value:"Arquivado",children:"Arquivado"})]})]}),x.jsxs("label",{className:"flex flex-col",children:[x.jsx("span",{className:"text-sm font-medium mb-1",children:"Imagem"}),x.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[x.jsx("span",{className:"text-xs",children:"Qualidade da foto:"}),x.jsxs("select",{value:pe,onChange:_e=>ve(Number(_e.target.value)),className:"rounded px-2 py-1 bg-surface-dark text-white border border-border-dark",children:[x.jsx("option",{value:.5,children:"Baixa"}),x.jsx("option",{value:.7,children:"Mdia"}),x.jsx("option",{value:1,children:"Alta"})]})]}),x.jsx("div",{className:"flex items-center gap-3 mb-3",children:x.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-primary text-white cursor-pointer hover:bg-blue-700 transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined text-xl",children:"photo_camera"}),x.jsx("span",{className:"text-xs font-medium",children:"Tirar Foto"}),x.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:we})]})}),x.jsx("div",{className:"flex items-center justify-center w-full",children:x.jsxs("label",{htmlFor:"edit-image-upload",className:"flex flex-col items-center justify-center w-full h-24 border-2 border-border-dark border-dashed rounded-xl cursor-pointer bg-surface-dark hover:bg-primary/10 hover:border-primary transition-all group",children:[x.jsxs("div",{className:"flex flex-col items-center justify-center pt-3 pb-3",children:[x.jsx("span",{className:"material-symbols-outlined text-text-secondary-dark text-2xl mb-2 group-hover:text-primary transition-colors",children:"add_photo_alternate"}),x.jsx("p",{className:"mb-1 text-xs text-text-secondary-dark",children:x.jsx("span",{className:"font-semibold",children:"Escolher foto do produto"})}),x.jsx("p",{className:"text-xs text-text-secondary-dark",children:"PNG, JPG ou GIF"})]}),x.jsx("input",{id:"edit-image-upload",type:"file",className:"hidden",accept:"image/*",onChange:we})]})}),fe&&x.jsx("img",{src:fe,alt:"Preview",className:"h-16 w-16 mt-2 rounded-lg object-cover mx-auto border border-border-dark"})]})]})}),x.jsx(ia,{isOpen:oe,onClose:()=>Ne(!1),title:"Sucesso",footer:x.jsx("button",{onClick:()=>Ne(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"OK"}),children:x.jsxs("div",{className:"flex flex-col items-center text-center",children:[x.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:x.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-2xl",children:"check_circle"})}),x.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Produto salvo com sucesso!"}),x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"As alteraes foram salvas."})]})})]})})]})},D3=({onOpenSidebar:c,onDeleteOrder:d,onUpdateOrder:f,onEditOrder:m,refreshTrigger:w})=>{const y=()=>{const M=new Date,G=M.getFullYear(),ie=String(M.getMonth()+1).padStart(2,"0"),oe=String(M.getDate()).padStart(2,"0");return`${G}-${ie}-${oe}`},[E,T]=U.useState(y()),[S,C]=U.useState(y()),[O,R]=U.useState(""),[P,X]=U.useState([]),[J,Y]=U.useState(null);ze.useEffect(()=>{Rt("falcon_user_logged").then(M=>{Y(M&&M.length>0?M[0]:null)})},[]);const[K,B]=U.useState(!1),[j,H]=U.useState(null),[le,he]=U.useState(!1),[ne,z]=U.useState(!1),[q,W]=U.useState(null);ze.useEffect(()=>{Rt("falcon_orders_db").then(X)},[w]);const fe=(M,G)=>{M.stopPropagation(),H(G),B(!0)},Ce=async()=>{j&&typeof d=="function"&&(await d(j),Rt("falcon_orders_db").then(X),B(!1),H(null),he(!0))},pe=M=>{m&&m(M)},ve=M=>{switch(M){case"Entregue":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300";case"Enviado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300";case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300";case"Processando":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"Cancelado":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300";case"Sincronizado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},te=P.slice().sort((M,G)=>Number(G.id)-Number(M.id)).filter(M=>{if(M.date){const[G,ie,oe]=M.date.split("/"),Ne=`${oe}-${ie.padStart(2,"0")}-${G.padStart(2,"0")}`;if(E&&Ne<E||S&&Ne>S)return!1}return!0});return x.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[x.jsx("header",{className:"flex-shrink-0 bg-surface-light dark:bg-surface-dark/80 backdrop-blur-sm border-b border-border-light dark:border-border-dark",children:x.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"flex h-16 items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("button",{onClick:c,className:"lg:hidden text-text-secondary-light dark:text-text-secondary-dark",children:x.jsx("span",{className:"material-symbols-outlined",children:"menu"})}),x.jsx("h1",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Lista de Pedidos"})]}),x.jsxs("div",{className:"flex items-center space-x-4",children:[x.jsxs("button",{className:"relative text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),x.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"})]}),x.jsx("img",{alt:"User avatar",className:"h-8 w-8 rounded-full border border-border-dark",src:(J==null?void 0:J.Avatar)||"https://ui-avatars.com/api/?name=User"})]})]})})}),x.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pb-24",children:x.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[x.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm border border-border-light dark:border-border-dark",children:[x.jsx("p",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase",children:"Total Pedidos"}),x.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:te.length})]}),x.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm border border-border-light dark:border-border-dark",children:[x.jsx("p",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase",children:"Receita Total"}),x.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:iu(te.reduce((M,G)=>M+G.total,0))})]})]}),x.jsxs("div",{className:"flex flex-wrap gap-4 items-center p-4 bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark mt-4",children:[x.jsxs("label",{className:"flex flex-col",children:[x.jsx("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Data Inicial"}),x.jsx("input",{type:"date",value:E,onChange:M=>T(M.target.value),className:"rounded-lg border border-border-light dark:border-border-dark p-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-primary focus:border-primary"})]}),x.jsxs("label",{className:"flex flex-col",children:[x.jsx("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Data Final"}),x.jsx("input",{type:"date",value:S,onChange:M=>C(M.target.value),className:"rounded-lg border border-border-light dark:border-border-dark p-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-primary focus:border-primary"})]})]}),x.jsx("div",{className:"overflow-hidden rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark shadow-sm",children:x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-border-light dark:divide-border-dark",children:[x.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800/50",children:x.jsxs("tr",{children:[x.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"ID"}),x.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Cliente"}),x.jsx("th",{scope:"col",className:"hidden sm:table-cell py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Data"}),x.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Status"}),x.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Total"}),x.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4",children:x.jsx("span",{className:"sr-only",children:"Aes"})})]})}),x.jsxs("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:[te.map(M=>x.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer",onClick:()=>pe(M),children:[x.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium",children:x.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 font-medium ${ve(M.status)}`,children:M.id})}),x.jsxs("td",{className:"whitespace-nowrap py-4 px-3 text-sm text-slate-900 dark:text-slate-100",children:[M.customer,x.jsx("div",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark sm:hidden",children:M.date})]}),x.jsx("td",{className:"hidden sm:table-cell whitespace-nowrap py-4 px-3 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:M.date}),x.jsx("td",{className:"whitespace-nowrap py-4 px-3 text-sm",children:x.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${ve(M.status)}`,children:M.status})}),x.jsx("td",{className:"whitespace-nowrap py-4 px-3 text-sm font-medium text-slate-900 dark:text-slate-100",children:iu(M.total)}),x.jsx("td",{className:"whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium",children:x.jsxs("div",{className:"flex items-center justify-end gap-5",children:[x.jsx("button",{onClick:G=>{G.stopPropagation();const ie=` *Pedido #${M.id}*
 Cliente: ${M.customer}
 Total: ${iu(M.total)}

 *Itens:*
`+(M.items?M.items.map(Ne=>` ${Ne.name} (${Ne.quantity} x ${iu(Ne.price)})`).join(`
`):""),oe=`https://wa.me/?text=${encodeURIComponent(ie)}`;window.open(oe,"_blank")},className:"text-green-600 hover:text-green-700 p-1 rounded-full hover:bg-green-50 dark:hover:bg-green-900/20",title:"Compartilhar no WhatsApp",children:x.jsx("span",{className:"material-symbols-outlined text-lg",children:"share"})}),x.jsx("button",{onClick:async G=>{G.stopPropagation();const ie=localStorage.getItem("dbName")||"VNETPedidos",oe=`${window.location.origin}/pedido/${M.pedidoId||M.id}?db=${encodeURIComponent(ie)}`;W(oe);try{await navigator.clipboard.writeText(oe)}catch{}z(!0)},className:"text-blue-500 hover:text-blue-700 p-1 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Copiar link do pedido",children:x.jsx("span",{className:"material-symbols-outlined text-lg",children:"content_copy"})}),x.jsx("button",{onClick:G=>{G.stopPropagation(),pe(M)},className:"text-primary hover:text-blue-600 p-1 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Editar",children:x.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),x.jsx("button",{onClick:G=>fe(G,M.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20",title:"Excluir",children:x.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})})]},M.id)),te.length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:6,className:"py-8 text-center text-text-secondary-light dark:text-text-secondary-dark",children:"Nenhum pedido encontrado."})})]})]})})})]})}),x.jsx(ia,{isOpen:K,onClose:()=>B(!1),title:"Excluir Pedido",footer:x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Cancelar"}),x.jsx("button",{onClick:Ce,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Excluir"})]}),children:x.jsx("p",{children:"Tem certeza que deseja excluir este pedido? Esta ao no pode ser desfeita."})}),x.jsx(ia,{isOpen:le,onClose:()=>he(!1),title:"Sucesso",footer:x.jsx("button",{onClick:()=>he(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:x.jsxs("div",{className:"flex flex-col items-center text-center",children:[x.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:x.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-2xl",children:"check_circle"})}),x.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Pedido excludo com sucesso!"}),x.jsx("p",{hidden:!0,className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"As alteraes foram salvas com sucesso."})]})}),x.jsx(ia,{isOpen:ne,onClose:()=>z(!1),title:"Link copiado!",footer:x.jsx("button",{onClick:()=>z(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:x.jsxs("div",{className:"flex flex-col items-center text-center",children:[x.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4",children:x.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-400 text-2xl",children:"content_copy"})}),x.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white mb-2",children:"O link foi copiado para a rea de transferncia."}),q&&x.jsx("input",{type:"text",value:q,readOnly:!0,className:"w-full text-center bg-gray-100 dark:bg-gray-800 rounded p-2 text-slate-900 dark:text-white font-mono text-sm mb-2 mt-2 select-all",onFocus:M=>M.target.select(),style:{cursor:"pointer"}}),x.jsx("span",{className:"text-xs text-gray-500",children:"Se no copiar automaticamente, selecione e copie manualmente."})]})})]})},iu=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),k3=()=>{const[c,d]=U.useState("all"),[f,m]=U.useState([]),[w,y]=U.useState(""),[E,T]=U.useState(""),[S,C]=U.useState({}),[O,R]=U.useState([]),[P,X]=U.useState(""),[J,Y]=U.useState(null),[K,B]=U.useState(!1),[j,H]=U.useState(null),[le,he]=U.useState(!1);U.useEffect(()=>{f.length>0&&setTimeout(()=>{const te=document.querySelector("ul.space-y-4 > li:last-child");if(te)te.scrollIntoView({behavior:"smooth",block:"end"});else{const M=document.getElementById("balances-list-anchor");M&&M.scrollIntoView({behavior:"smooth",block:"end"})}},100)},[f.length]);const ne=te=>{Y(te.id),y(te.name),T(te.description);const M={};te.products.forEach(G=>{M[G.id]=String(G.quantity).replace(".",",")}),C(M)},z=async te=>{H(te),B(!0)},q=async()=>{j&&(await tl("Balancos",j),m(te=>te.filter(M=>M.id!==j))),B(!1),H(null)};U.useEffect(()=>{Rt("falcon_products_db").then(R),Rt("Balancos").then(m)},[]);const W=async()=>{if(!w)return;const te=O.filter(G=>S[G.id]!==void 0&&S[G.id]!=="").map(G=>({...G,quantity:parseFloat(S[G.id].replace(",","."))})),M=new Date().toISOString();if(J){const G={id:J,name:w,description:E,products:te,createdAt:M};await Gn("Balancos",G),m(f.map(ie=>ie.id===J?G:ie)),he(!0)}else{const G=el(),ie={id:G,name:w,description:E,products:te,createdAt:M};await Gn("Balancos",ie),m([...f,ie]),Y(G),he(!0)}},fe=U.useMemo(()=>{const te=P.trim().toLowerCase();let M=O;return c==="counted"?M=M.filter(G=>S[G.id]!==void 0&&S[G.id]!==""):c==="notCounted"&&(M=M.filter(G=>!S[G.id]||S[G.id]==="")),te?M.filter(G=>G.name.toLowerCase().includes(te)):M},[O,P,S,c]),Ce=U.useCallback(te=>{C(M=>{const G=M[te]?parseFloat(M[te].replace(",",".")):0;return{...M,[te]:(G+1).toString().replace(".",",")}})},[]),pe=U.useCallback(te=>{C(M=>{const G=M[te]?parseFloat(M[te].replace(",",".")):0;return{...M,[te]:Math.max(G-1,0).toString().replace(".",",")}})},[]),ve=U.useCallback((te,M)=>{const G=M.replace(/[^0-9.,]/g,"");C(ie=>({...ie,[te]:G}))},[]);return x.jsx("div",{className:"flex flex-col items-center min-h-screen bg-background-dark text-white p-8",children:x.jsxs("div",{className:"w-full max-w-3xl",children:[x.jsx("div",{className:"flex justify-end mb-2",children:x.jsx("button",{className:"px-4 py-2 bg-blue-700 text-white rounded-lg shadow hover:bg-blue-800 transition",onClick:()=>{Y(null),y(""),T(""),C({})},children:"Novo"})}),x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Novo Balano"}),x.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[x.jsx("input",{value:w,onChange:te=>y(te.target.value),placeholder:"Nome do balano",className:"flex-1 px-3 py-2 rounded border border-gray-600 bg-gray-900 text-white"}),x.jsx("textarea",{value:E,onChange:te=>T(te.target.value),placeholder:"Descrio",className:"flex-1 px-3 py-2 rounded border border-gray-600 bg-gray-900 text-white min-h-[40px]"}),x.jsx("button",{onClick:W,className:"px-4 py-2 bg-primary text-white rounded-lg shadow hover:bg-primary/80 transition self-start",children:"Salvar Balano"})]}),x.jsxs("div",{className:"mb-4",children:[x.jsxs("div",{className:"flex flex-col md:flex-row gap-2 mb-2",children:[x.jsx("input",{type:"text",value:P,onChange:te=>X(te.target.value),placeholder:"Buscar produtos...",className:"flex-1 px-3 py-2 rounded border border-gray-600 bg-gray-900 text-white"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:`px-3 py-2 rounded ${c==="all"?"bg-primary text-white":"bg-gray-700 text-gray-200"} text-xs`,onClick:()=>d("all"),children:"Todos"}),x.jsx("button",{className:`px-3 py-2 rounded ${c==="counted"?"bg-primary text-white":"bg-gray-700 text-gray-200"} text-xs`,onClick:()=>d("counted"),children:"Contados"}),x.jsx("button",{className:`px-3 py-2 rounded ${c==="notCounted"?"bg-primary text-white":"bg-gray-700 text-gray-200"} text-xs`,onClick:()=>d("notCounted"),children:"No contados"})]})]}),x.jsx(Nm,{style:{height:400},className:"custom-scrollbar",totalCount:fe.length,itemContent:te=>{var G;const M=fe[te];return x.jsxs("div",{className:"flex items-start gap-3 bg-gray-800 rounded p-2 mb-2",children:[M.image?x.jsx("img",{src:M.image,alt:M.name,className:"w-10 h-10 object-cover rounded bg-slate-700"}):x.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded bg-slate-700",children:x.jsx("span",{className:"material-symbols-outlined text-xl text-gray-400",children:"image_not_supported"})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("div",{className:"font-semibold text-white text-xs break-words whitespace-pre-line",children:M.name}),x.jsxs("div",{className:"text-xs text-gray-400",children:["R$ ",Number(M.price).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),M.description&&x.jsx("div",{className:"text-xs text-gray-300 whitespace-pre-line break-words mt-1",style:{wordBreak:"break-word",whiteSpace:"pre-line"},children:M.description}),x.jsxs("div",{className:"flex gap-2 items-center mt-2 flex-wrap",children:[x.jsx("button",{className:"w-7 h-7 flex items-center justify-center bg-slate-700 text-white rounded-full hover:bg-slate-600",onClick:()=>pe(M.id),type:"button",children:x.jsx("span",{className:"material-symbols-outlined text-base",children:"remove"})}),x.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",min:0,value:S[M.id]||"",onChange:ie=>ve(M.id,ie.target.value),className:"w-20 px-3 py-2 rounded border border-gray-600 bg-gray-900 text-white text-center text-base",placeholder:"Qtd."}),x.jsx("button",{className:"w-7 h-7 flex items-center justify-center bg-primary text-white rounded-full hover:bg-primary/80",onClick:()=>Ce(M.id),type:"button",children:x.jsx("span",{className:"material-symbols-outlined text-base",children:"add"})}),typeof M.stock<"u"&&x.jsx("span",{className:"inline-block rounded-full bg-yellow-900/80 px-3 py-1 text-xs font-bold text-yellow-300 ml-2",children:Number.isInteger(M.stock)?M.stock:(G=M.stock)==null?void 0:G.toLocaleString("pt-BR",{minimumFractionDigits:2})})]})]})]},M.id)}})]}),x.jsx("h3",{className:"text-xl font-bold mt-8 mb-2",children:"Balanos Salvos"}),x.jsx("div",{id:"balances-list-anchor"}),f.length===0?x.jsx("div",{className:"text-center text-gray-400 py-8",children:"Nenhum balano cadastrado."}):x.jsxs(x.Fragment,{children:[x.jsx("ul",{className:"space-y-4",children:f.map(te=>x.jsxs("li",{className:"bg-surface-light dark:bg-gray-800 rounded-lg p-4 shadow flex flex-col",children:[x.jsxs("div",{className:"flex items-center justify-between gap-2",children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-semibold text-lg",children:te.name}),x.jsx("span",{className:"text-xs text-gray-400 ml-2",children:te.createdAt.slice(0,10)})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"px-2 py-1 text-xs bg-blue-700 text-white rounded hover:bg-blue-800",onClick:()=>ne(te),children:"Editar"}),x.jsx("button",{className:"px-2 py-1 text-xs bg-red-700 text-white rounded hover:bg-red-800",onClick:()=>z(te.id),children:"Excluir"}),x.jsx(ia,{isOpen:K,onClose:()=>B(!1),title:"Excluir Balano",footer:x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400 mr-2",onClick:()=>B(!1),children:"Cancelar"}),x.jsx("button",{className:"px-4 py-2 bg-red-700 text-white rounded hover:bg-red-800",onClick:q,children:"Excluir"})]}),children:"Tem certeza que deseja excluir este balano? Esta ao no pode ser desfeita."}),x.jsx(ia,{isOpen:le,onClose:()=>he(!1),title:"Balano salvo",children:"O balano foi salvo com sucesso!"})]})]}),x.jsx("div",{className:"text-sm text-gray-300 mt-1",children:te.description}),x.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Produtos: ",te.products.length]})]},te.id))}),x.jsx("div",{style:{height:80}})]})]})})};function M3({onBack:c,setOrders:d}){const[f,m]=U.useState(localStorage.getItem("dbName")||"VNETPedidos"),[w,y]=U.useState(localStorage.getItem("apiProtocol")||"https"),[E,T]=U.useState(localStorage.getItem("apiDomain")||"www.vnetpb.com.br:4000"),[S,C]=U.useState({open:!1,message:"",title:""}),[O,R]=U.useState(()=>localStorage.getItem("autoSyncPedido")==="true"),[P,X]=U.useState(()=>localStorage.getItem("showStock")!=="false"),[J,Y]=U.useState(()=>localStorage.getItem("showCategoryFilter")!=="false");function K(fe){X(fe.target.checked),localStorage.setItem("showStock",fe.target.checked?"true":"false"),C({open:!0,message:`Exibir quantidade do estoque: ${fe.target.checked?"Sim":"No"}`,title:"Configurao"})}function B(fe){Y(fe.target.checked),localStorage.setItem("showCategoryFilter",fe.target.checked?"true":"false"),C({open:!0,message:`Exibir filtro por categoria: ${fe.target.checked?"Sim":"No"}`,title:"Configurao"})}function j(fe){R(fe.target.checked),localStorage.setItem("autoSyncPedido",fe.target.checked?"true":"false"),C({open:!0,message:`Sincronizar pedido automaticamente ao finalizar: ${fe.target.checked?"Ativado":"Desativado"}`,title:"Configurao"})}function H(fe){m(fe.target.value)}function le(){localStorage.setItem("dbName",f),C({open:!0,message:`Nome do banco salvo: ${f}`,title:"Configurao"})}function he(fe){y(fe.target.value),localStorage.setItem("apiProtocol",fe.target.value),C({open:!0,message:`Protocolo salvo: ${fe.target.value}`,title:"Configurao"})}function ne(fe){T(fe.target.value)}function z(){localStorage.setItem("apiDomain",E),C({open:!0,message:`Domnio salvo: ${E}`,title:"Configurao"})}async function q(){await bs(()=>Promise.resolve().then(()=>hu),void 0).then(async({clearStore:fe})=>{await fe("falcon_orders_db"),await fe("PedidosExcluidos"),await fe("ProdutosExcluidosPedidos")}),C({open:!0,message:"Todos os pedidos locais, PedidosExcluidos e ProdutosExcluidosPedidos foram excludos.",title:"Limpeza"}),d&&d([])}async function W(){await bs(async()=>{const{clearStore:fe}=await Promise.resolve().then(()=>hu);return{clearStore:fe}},void 0).then(({clearStore:fe})=>fe("falcon_products_db")),C({open:!0,message:"Todos os produtos locais foram excludos.",title:"Limpeza"})}return x.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-white",children:[x.jsxs("div",{className:"flex items-center gap-2 px-4 pt-6 pb-2",children:[c&&x.jsx("button",{onClick:c,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full","aria-label":"Voltar",children:x.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),x.jsx("h1",{className:"flex-1 text-2xl font-bold text-center",children:"Configuraes do Sistema"})]}),x.jsx("div",{className:"flex flex-col items-center justify-center flex-1 px-4 pb-8",children:x.jsxs("div",{className:"w-full max-w-md flex flex-col gap-6",children:[x.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow p-5 flex flex-col gap-4",children:[x.jsx("h2",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 tracking-widest mb-2",children:"PREFERNCIAS DE EXIBIO"}),x.jsxs("div",{className:"flex items-center justify-between py-1",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:"Estoque na lista"}),x.jsx("div",{className:"text-xs text-slate-400",children:"Exibe quantidade do estoque na lista de produtos"})]}),x.jsxs("label",{className:"switch",children:[x.jsx("input",{type:"checkbox",checked:P,onChange:K}),x.jsx("span",{className:"slider round"})]})]}),x.jsxs("div",{className:"flex items-center justify-between py-1",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:"Filtro de categoria"}),x.jsx("div",{className:"text-xs text-slate-400",children:"Exibe filtro por categoria na lista de produtos"})]}),x.jsxs("label",{className:"switch",children:[x.jsx("input",{type:"checkbox",checked:J,onChange:B}),x.jsx("span",{className:"slider round"})]})]}),x.jsxs("div",{className:"flex items-center justify-between py-1",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:"Sincronizao automtica"}),x.jsx("div",{className:"text-xs text-slate-400",children:"Sincronizar pedido com o servidor ao finalizar"})]}),x.jsxs("label",{className:"switch",children:[x.jsx("input",{type:"checkbox",checked:O,onChange:j}),x.jsx("span",{className:"slider round"})]})]})]}),x.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow p-5 flex flex-col gap-3",children:[x.jsx("h2",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 tracking-widest mb-2",children:"BANCO DE DADOS"}),x.jsx("label",{className:"text-sm font-semibold mb-1",children:"Nome do banco de dados"}),x.jsx("input",{type:"text",value:f,onChange:H,className:"rounded px-3 py-2 w-full text-black dark:text-white bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark"}),x.jsx("button",{onClick:le,className:"mt-2 w-full bg-primary rounded-lg py-2 px-6 font-semibold text-white hover:bg-blue-600",children:"Salvar Nome do Banco"})]}),x.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow p-5 flex flex-col gap-3",children:[x.jsx("h2",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 tracking-widest mb-2",children:"CONFIGURAO DA API"}),x.jsx("label",{className:"text-sm font-semibold mb-1",children:"Protocolo da API"}),x.jsxs("select",{value:w,onChange:he,className:"rounded px-3 py-2 w-full text-black dark:text-white bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark",children:[x.jsx("option",{value:"https",children:"HTTPS"}),x.jsx("option",{value:"http",children:"HTTP"})]}),x.jsx("label",{className:"text-sm font-semibold mb-1 mt-2",children:"Domnio da API"}),x.jsx("input",{type:"text",value:E,onChange:ne,className:"rounded px-3 py-2 w-full text-black dark:text-white bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark"}),x.jsx("button",{onClick:z,className:"mt-2 w-full bg-primary rounded-lg py-2 px-6 font-semibold text-white hover:bg-blue-600",children:"Salvar Domnio"})]}),x.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark rounded-xl shadow p-5 flex flex-col gap-3 mt-2",children:[x.jsx("button",{onClick:q,className:"w-full bg-red-600 rounded-lg py-2 px-6 font-semibold text-white hover:bg-red-800",children:"Excluir Todos os Pedidos Locais"}),x.jsx("button",{onClick:W,className:"w-full bg-red-600 rounded-lg py-2 px-6 font-semibold text-white hover:bg-red-800",children:"Excluir Todos os Produtos Locais"})]})]})}),S.open&&x.jsx(ia,{isOpen:S.open,onClose:()=>{C({...S,open:!1}),S.message.includes("Pedidos locais foram excludos")&&c&&c()},title:S.title,footer:x.jsx("button",{onClick:()=>{C({...S,open:!1}),S.message.includes("Pedidos locais foram excludos")&&c&&c()},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:x.jsxs("div",{className:"flex flex-col items-center text-center",children:[x.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:x.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-2xl",children:"delete"})}),x.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:S.message})]})})]})}const B3=({onBack:c})=>{const[d,f]=U.useState([]),[m,w]=U.useState(""),[y,E]=U.useState(void 0),[T,S]=U.useState(null),[C,O]=U.useState(!1),[R,P]=U.useState(1),[X,J]=U.useState({open:!1,message:""});U.useRef(null),U.useEffect(()=>{Rt("falcon_categories_db").then(f)},[]);const Y=async()=>{if(!m.trim()){J({open:!0,message:"Informe a descrio da categoria."});return}if(T){const j={id:T,name:m,image:y};try{await Gn("falcon_categories_db",j),f(d.map(H=>H.id===T?j:H)),J({open:!0,message:"Categoria atualizada com sucesso!"})}catch(H){J({open:!0,message:"Erro ao atualizar categoria: "+H})}}else{const j={id:el(),name:m,image:y};try{await Gn("falcon_categories_db",j),f([...d,j]),J({open:!0,message:"Categoria cadastrada com sucesso!"})}catch(H){J({open:!0,message:"Erro ao salvar categoria: "+H})}}w(""),E(void 0),S(null)},K=async j=>{await tl("falcon_categories_db",j),f(d.filter(H=>H.id!==j)),T===j&&(w(""),E(void 0),S(null))},B=j=>{var le;const H=(le=j.target.files)==null?void 0:le[0];if(H){const he=new window.Image,ne=new FileReader;ne.onload=z=>{var q;he.src=(q=z.target)==null?void 0:q.result,he.onload=()=>{const W=document.createElement("canvas"),pe=Math.min(800/he.width,800/he.height,1);W.width=he.width*pe,W.height=he.height*pe;const ve=W.getContext("2d");if(ve){ve.drawImage(he,0,0,W.width,W.height);const te=ve.getImageData(0,0,W.width,W.height);let M=!1;for(let ie=3;ie<te.data.length;ie+=4)if(te.data[ie]<255){M=!0;break}let G;M?G=W.toDataURL("image/png"):G=W.toDataURL("image/jpeg",R),E(G)}}},ne.readAsDataURL(H)}};return x.jsxs("main",{className:"relative flex flex-col h-full bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display",children:[x.jsxs("div",{className:"sticky top-0 z-10 flex items-center bg-white dark:bg-background-dark p-4 pb-2 justify-between border-b border-border-light dark:border-border-dark",children:[x.jsx("button",{onClick:c,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:x.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),x.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Categorias"})]}),x.jsxs("div",{className:"flex flex-col flex-1 items-center px-4 pt-8 pb-8",children:[x.jsxs("form",{className:"w-full max-w-3xl flex flex-col gap-6",children:[x.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[x.jsx("p",{className:"text-slate-900 dark:text-white text-base font-medium leading-normal pb-2",children:"Descrio da Categoria"}),x.jsx("input",{type:"text",value:m,onChange:j=>w(j.target.value),className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"ex: Eletrnicos, Ferramentas, etc."})]}),x.jsxs("div",{className:"pt-4 pb-2 max-w-2xl mx-auto w-full",children:[x.jsx("h3",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] pb-2",children:"Foto da Categoria"}),x.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[x.jsx("span",{className:"text-sm text-slate-900 dark:text-white",children:"Qualidade da foto:"}),x.jsxs("select",{value:R,onChange:j=>P(Number(j.target.value)),className:"rounded px-2 py-1 bg-white dark:bg-surface-dark text-slate-900 dark:text-white border border-gray-300 dark:border-border-dark shadow-sm focus:border-primary focus:ring-2 focus:ring-primary/20 transition",children:[x.jsx("option",{value:.5,children:"Baixa"}),x.jsx("option",{value:.7,children:"Mdia"}),x.jsx("option",{value:1,children:"Alta"})]})]}),x.jsx("div",{className:"flex items-center gap-3 mb-3",children:x.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-primary text-white cursor-pointer hover:bg-blue-700 transition-colors",children:[x.jsx("span",{className:"material-symbols-outlined text-xl",children:"photo_camera"}),x.jsx("span",{className:"text-sm font-medium",children:"Tirar Foto"}),x.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:B})]})}),x.jsx("div",{className:"flex items-center justify-center w-full",children:x.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 dark:border-border-dark border-dashed rounded-xl cursor-pointer bg-white dark:bg-surface-dark hover:bg-gray-100 dark:hover:bg-primary/10 hover:border-primary transition-all group",children:[x.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[x.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-text-secondary-dark text-4xl mb-2 group-hover:text-primary transition-colors",children:"add_photo_alternate"}),x.jsx("p",{className:"mb-2 text-sm text-slate-900 dark:text-text-secondary-dark",children:x.jsx("span",{className:"font-semibold",children:"Toque para adicionar fotos"})}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-text-secondary-dark",children:"PNG, JPG ou GIF"})]}),x.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",accept:"image/*",onChange:B})]})}),y&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex flex-col items-center mt-4 gap-2",children:[x.jsx("img",{src:y,alt:"Preview",className:"h-24 w-24 rounded-lg object-cover border border-border-dark"}),x.jsxs("div",{className:"flex gap-3 mt-2",children:[x.jsxs("button",{type:"button",onClick:()=>O(!0),className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-slate-700 dark:text-white hover:bg-primary/10",children:[x.jsx("span",{className:"material-symbols-outlined text-base",children:"visibility"}),x.jsx("span",{className:"text-xs",children:"Visualizar"})]}),x.jsxs("label",{className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-slate-700 dark:text-white cursor-pointer hover:bg-primary/10",children:[x.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"}),x.jsx("span",{className:"text-xs",children:"Alterar"}),x.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:B})]}),x.jsxs("button",{type:"button",onClick:()=>E(void 0),className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/20",children:[x.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"}),x.jsx("span",{className:"text-xs",children:"Remover"})]})]})]}),C&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70",children:x.jsxs("div",{className:"bg-white dark:bg-background-dark rounded-lg p-4 shadow-lg flex flex-col items-center",children:[x.jsx("img",{src:y,alt:"Visualizao",className:"w-[90vw] h-[80vh] rounded-lg object-contain border border-border-dark"}),x.jsx("button",{onClick:()=>O(!1),className:"mt-4 px-4 py-2 rounded bg-primary text-white font-medium hover:bg-blue-700",children:"Fechar"})]})})]})]}),x.jsxs("div",{className:"flex gap-3 w-full",children:[x.jsx("button",{type:"button",onClick:Y,className:"flex-1 bg-primary rounded-lg py-2 px-6 font-semibold text-white hover:bg-blue-600",children:"Salvar Categoria"}),x.jsx("button",{type:"button",onClick:()=>{w(""),E(void 0),S(null)},className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-lg py-2 px-6 font-semibold text-slate-800 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600",children:"Nova"})]})]}),x.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[x.jsx("hr",{className:"my-2 border-border-dark"}),x.jsx("h2",{className:"font-semibold text-lg mb-2",children:"Lista de Categorias"}),x.jsx("div",{className:"max-h-96 overflow-y-auto custom-scrollbar pb-24",children:x.jsx("ul",{className:"flex flex-col gap-4 px-4 py-2",children:d.map(j=>x.jsxs("li",{className:`flex items-center gap-4 bg-white dark:bg-surface-dark/50 rounded-2xl px-4 py-3 shadow-md cursor-pointer transition-all hover:bg-gray-100 dark:hover:bg-[#232e22] ${T===j.id?"ring-2 ring-primary ring-offset-2 ring-offset-background-light dark:ring-offset-background-dark":""}`,onClick:()=>{w(j.name),E(j.image),S(j.id)},children:[x.jsx("div",{className:"flex-shrink-0 w-14 h-14 rounded-full bg-[#2c3a2e] flex items-center justify-center overflow-hidden",children:j.image?x.jsx("img",{src:j.image,alt:j.name,className:"w-full h-full object-cover"}):x.jsx("span",{className:"material-symbols-outlined text-4xl text-[#b5cbb7]",children:"image"})}),x.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[x.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg truncate",children:j.name}),x.jsx("span",{className:"text-[#b5cbb7] text-sm truncate",children:"Categoria"})]}),x.jsx("button",{onClick:H=>{H.stopPropagation(),K(j.id)},className:"ml-4 w-9 h-9 flex items-center justify-center rounded-full bg-red-600 hover:bg-red-700 text-white transition-colors shadow",title:"Excluir categoria",children:x.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]},j.id))})})]})]})]})},j3=()=>{const[c,d]=U.useState(!1),[f,m]=U.useState("login"),[w,y]=U.useState(!0),[E,T]=U.useState([]),[S,C]=U.useState(()=>{const oe=localStorage.getItem("falcon_cart");return oe?JSON.parse(oe):[]}),[O,R]=U.useState(()=>{const oe=localStorage.getItem("falcon_editingOrder");return oe?JSON.parse(oe):null});U.useEffect(()=>{localStorage.setItem("falcon_cart",JSON.stringify(S))},[S]),U.useEffect(()=>{localStorage.setItem("falcon_editingOrder",JSON.stringify(O))},[O]),U.useEffect(()=>{Rt("falcon_products_db").then(T)},[]),U.useEffect(()=>{(async()=>{try{const Ne=await Rt("falcon_user_logged");Ne&&Ne.length>0?m("productList"):m("login")}catch{m("login")}finally{y(!1)}})()},[]);const[P,X]=U.useState(!1),[J,Y]=U.useState([]),[K,B]=U.useState(0),[j,H]=U.useState(!1),[le,he]=U.useState(!1),[ne,z]=U.useState(localStorage.getItem("falcon_theme")||"light");U.useEffect(()=>{document.documentElement.classList.toggle("dark",ne==="dark"),localStorage.setItem("falcon_theme",ne)},[ne]),U.useEffect(()=>{(async()=>{H(!0);try{const Ne=await Rt("falcon_orders_db");Y(Ne)}catch(Ne){console.error("Failed to load orders",Ne)}finally{H(!1)}})()},[]);const q=U.useCallback(oe=>{C(Ne=>Ne.find(V=>V.id===oe.id)?Ne.map(V=>V.id===oe.id?{...V,quantity:V.quantity+1}:V):[...Ne,{...oe,quantity:1}])},[]),W=U.useCallback((oe,Ne)=>{C(Me=>{if(O&&O.syncStatus&&O.syncStatus.trim().toLowerCase()==="sincronizado"){const V=Me.find(ae=>ae.id===oe);V&&V.quantity+Ne<=0&&bs(()=>Promise.resolve().then(()=>hu),void 0).then(ae=>ae.saveItem("ProdutosExcluidosPedidos",{id:`${O.pedidoId||O.id}_${oe}`,pedidoId:O.pedidoId||O.id,ordem:Me.findIndex(Ae=>Ae.id===oe),produtoId:oe,dataExclusao:new Date().toISOString()}))}return Me.map(V=>{if(O&&O.syncStatus&&O.syncStatus.trim().toLowerCase()==="sincronizado"){const ae=Me.find(Ae=>Ae.id===oe);ae&&ae.quantity+Ne<=0&&bs(()=>Promise.resolve().then(()=>hu),void 0).then(Ae=>Ae.saveItem("ProdutosExcluidosPedidos",{id:`${O.pedidoId||O.id}_${oe}`,pedidoId:O.pedidoId||O.id,ordem:Me.findIndex(Re=>Re.id===oe),produtoId:oe,itemUid:ae.itemUid,dataExclusao:new Date().toISOString()}))}if(V.id===oe){const ae=Math.max(0,V.quantity+Ne);return{...V,quantity:ae}}return V}).filter(V=>V.quantity>0)})},[O]),fe=oe=>{R(oe),C(oe.items||[]),m("shop")},Ce=async oe=>{if(O){const Ne=S.reduce((V,ae)=>V+ae.price*ae.quantity,0),Me={...O,customer:oe.customer,address:oe.address,numero:oe.numero||"",bairro:oe.bairro||"",city:oe.city,estado:oe.estado||"",cep:oe.cep,formaPagamento:oe.paymentMethod,Obs:oe.Obs||"",items:S.map((V,ae)=>({...V,pedidoId:O.pedidoId||O.id,syncStatus:"alterado",itemUid:V.itemUid?V.itemUid:el()})),total:Ne,itemsCount:S.reduce((V,ae)=>V+ae.quantity,0),status:"Pendente",syncStatus:"alterado"};await te(Me),R(null),C([]),m("orderList"),he(!0),B(V=>V+1)}else{const Ne=await Rt("falcon_orders_db"),Me=Ne.length>0?Math.max(...Ne.map(qe=>Number(qe.id)||0)):0,V=String(Me+1),ae=el(),Ae=S.reduce((qe,we)=>qe+we.price*we.quantity,0),Re=await Rt("falcon_user_logged"),Xe=Re&&Re.length>0?Re[0].id:1,Te={id:V,pedidoId:ae,customer:oe.customer,address:oe.address,numero:oe.numero||"",bairro:oe.bairro||"",city:oe.city,estado:oe.estado||"",cep:oe.cep,date:new Date().toLocaleDateString("pt-BR"),total:Number(Ae),status:"Pendente",itemsCount:Number(S.reduce((qe,we)=>qe+we.quantity,0)),usuarioId:Xe?String(Xe):void 0,formaPagamento:oe.paymentMethod,Obs:oe.Obs||"",items:S.map(qe=>({...qe,pedidoId:ae,syncStatus:"novo",itemUid:el()})),syncStatus:"novo"};await pe(Te),B(qe=>qe+1)}},pe=async oe=>{try{await Gn("falcon_orders_db",oe);const Ne=await Rt("falcon_orders_db");Y(Ne),C([]),m("orderList"),he(!0)}catch(Ne){console.error("Failed to save order",Ne)}},ve=async oe=>{const Me=(await Rt("falcon_orders_db")).find(ae=>ae.id===oe),V=[...J];Y(ae=>ae.filter(Ae=>Ae.id!==oe));try{if(Me&&Me.syncStatus&&Me.syncStatus.trim().toLowerCase()==="sincronizado"){const Ae=`${Me.id}_${el()}`;await Gn("PedidosExcluidos",{id:Ae,pedidoId:Me.pedidoId||Me.id,dataExclusao:new Date().toISOString()}),localStorage.getItem("autoSyncPedido")==="true"&&bs(()=>Promise.resolve().then(()=>Mm),void 0).then(Re=>{Re.processarExclusoesPedidosServidor&&Re.processarExclusoesPedidosServidor()})}await tl("falcon_orders_db",oe);const ae=await Rt("falcon_orders_db");Y(ae)}catch(ae){console.error("Failed to delete order",ae),Y(V),alert("Erro ao excluir pedido.")}},te=async oe=>{const Ne={...oe,syncStatus:"alterado"};try{await Gn("falcon_orders_db",Ne);const Me=await Rt("falcon_orders_db");Y(Me)}catch(Me){console.error("Failed to update order",Me),alert("Erro ao atualizar pedido.")}},M=U.useCallback(oe=>{oe==="login"&&Rt("falcon_user_logged").then(Ne=>{Ne&&Ne.length>0&&Ne.forEach(Me=>tl("falcon_user_logged",Me.id))}),oe==="orderList"&&(R(null),C([])),m(oe),X(!1),window.scrollTo(0,0)},[]),G={isSidebarOpen:P,setIsSidebarOpen:X,onNavigate:M,currentScreen:f,theme:ne,setTheme:z},ie=()=>{if(w)return x.jsx("div",{style:{color:"white",textAlign:"center",marginTop:40},children:"Carregando..."});switch(f){case"balance":return x.jsx(Pr,{...G,children:x.jsx(k3,{})});case"categoryList":return x.jsx(Pr,{...G,children:x.jsx(B3,{onBack:()=>m("productList")})});case"login":return x.jsx(Yx,{onNavigate:M});case"register":return x.jsx(hy,{onNavigate:M});case"productList":return x.jsx(Pr,{...G,children:x.jsx(C3,{onOpenSidebar:()=>X(!0),onNavigate:M,addToCart:q,cartItemCount:S.reduce((oe,Ne)=>oe+Ne.quantity,0),products:E,cart:S,updateQuantity:W,removeFromCart:oe=>C(Ne=>Ne.filter(Me=>Me.id!==oe))})});case"shop":return x.jsx(Pr,{...G,children:x.jsx(E3,{cart:S,updateQuantity:W,onNavigate:M,onBack:()=>M("productList"),onCancel:async()=>{if(O&&O.pedidoId){const Ne=(await Rt("ProdutosExcluidosPedidos")).filter(Me=>Me.pedidoId===O.pedidoId||Me.pedidoId===O.id);for(const Me of Ne)await tl("ProdutosExcluidosPedidos",Me.id)}M("orderList")},editingOrder:O})});case"checkout":return x.jsx(Pr,{...G,children:x.jsx(N3,{cart:S,onBack:()=>M("shop"),onComplete:Ce,editingOrder:O,onSyncOrdersUpdate:()=>B(oe=>oe+1)})});case"inbox":return x.jsx(Pr,{...G,showBottomNav:!1,children:x.jsx(I3,{onOpenSidebar:()=>X(!0)})});case"addProduct":return x.jsx(Pr,{...G,children:x.jsx(_3,{onBack:()=>M("productList"),onProductAdded:oe=>T(Ne=>[oe,...Ne])})});case"profile":return x.jsx(Pr,{...G,children:x.jsx(O3,{onBack:()=>M("productList")})});case"productTable":return x.jsx(Pr,{...G,children:x.jsx(R3,{onOpenSidebar:()=>X(!0),onNavigate:M,products:E})});case"orderList":return x.jsx(Pr,{...G,children:x.jsx(D3,{onOpenSidebar:()=>X(!0),onDeleteOrder:ve,onUpdateOrder:te,onEditOrder:fe,refreshTrigger:K})});case"sync":return x.jsx(Pr,{...G,showBottomNav:!1,children:x.jsx(km,{onBack:()=>{Rt("falcon_orders_db").then(Y),M("productList")},onSyncProdutos:T})});case"config":return c?x.jsx(Pr,{...G,showBottomNav:!1,children:x.jsx(M3,{onBack:()=>{d(!1),M("productList")},setOrders:Y})}):x.jsx(Pr,{...G,showBottomNav:!1,children:x.jsx(fp,{onNavigate:oe=>{oe==="config"?d(!0):(d(!1),M(oe))}})});default:return x.jsx(Yx,{onNavigate:M})}};return x.jsx(Bb,{children:x.jsxs(db,{children:[x.jsx(Hf,{path:"/pedido/:pedidoId",element:x.jsx(ly,{})}),x.jsx(Hf,{path:"*",element:x.jsxs(x.Fragment,{children:[ie(),x.jsx(ia,{isOpen:le,onClose:()=>he(!1),title:"Sucesso",footer:x.jsx("button",{onClick:()=>he(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:x.jsxs("div",{className:"flex flex-col items-center text-center",children:[x.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:x.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-2xl",children:"check_circle"})}),x.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Pedido realizado com sucesso!"}),x.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Seu pedido foi processado e logo ser enviado."})]})})]})})]})})},Bm=document.getElementById("root");if(!Bm)throw new Error("Could not find root element to mount to");const L3=cp.createRoot(Bm);L3.render(x.jsx(ze.StrictMode,{children:x.jsx(j3,{})}));
