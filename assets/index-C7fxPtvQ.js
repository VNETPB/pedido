function Rm(d,h){for(var g=0;g<h.length;g++){const y=h[g];if(typeof y!="string"&&!Array.isArray(y)){for(const E in y)if(E!=="default"&&!(E in d)){const w=Object.getOwnPropertyDescriptor(y,E);w&&Object.defineProperty(d,E,w.get?w:{enumerable:!0,get:()=>y[E]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const E of document.querySelectorAll('link[rel="modulepreload"]'))y(E);new MutationObserver(E=>{for(const w of E)if(w.type==="childList")for(const N of w.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&y(N)}).observe(document,{childList:!0,subtree:!0});function g(E){const w={};return E.integrity&&(w.integrity=E.integrity),E.referrerPolicy&&(w.referrerPolicy=E.referrerPolicy),E.crossOrigin==="use-credentials"?w.credentials="include":E.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function y(E){if(E.ep)return;E.ep=!0;const w=g(E);fetch(E.href,w)}})();var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jc(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var J0={exports:{}},ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function Dm(){if(zh)return ao;zh=1;var d=Symbol.for("react.transitional.element"),h=Symbol.for("react.fragment");function g(y,E,w){var N=null;if(w!==void 0&&(N=""+w),E.key!==void 0&&(N=""+E.key),"key"in E){w={};for(var R in E)R!=="key"&&(w[R]=E[R])}else w=E;return E=w.ref,{$$typeof:d,type:y,key:N,ref:E!==void 0?E:null,props:w}}return ao.Fragment=h,ao.jsx=g,ao.jsxs=g,ao}var Uh;function Mm(){return Uh||(Uh=1,J0.exports=Dm()),J0.exports}var b=Mm(),$0={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function Bm(){if(Hh)return it;Hh=1;var d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),N=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),G=Symbol.iterator;function W(P){return P===null||typeof P!="object"?null:(P=G&&P[G]||P["@@iterator"],typeof P=="function"?P:null)}var se={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,X={};function j(P,ge,Se){this.props=P,this.context=ge,this.refs=X,this.updater=Se||se}j.prototype.isReactComponent={},j.prototype.setState=function(P,ge){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ge,"setState")},j.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function F(){}F.prototype=j.prototype;function J(P,ge,Se){this.props=P,this.context=ge,this.refs=X,this.updater=Se||se}var oe=J.prototype=new F;oe.constructor=J,U(oe,j.prototype),oe.isPureReactComponent=!0;var be=Array.isArray;function Q(){}var D={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function K(P,ge,Se){var De=Se.ref;return{$$typeof:d,type:P,key:ge,ref:De!==void 0?De:null,props:Se}}function de(P,ge){return K(P.type,ge,P.props)}function pe(P){return typeof P=="object"&&P!==null&&P.$$typeof===d}function me(P){var ge={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(Se){return ge[Se]})}var Re=/\/+/g;function xe(P,ge){return typeof P=="object"&&P!==null&&P.key!=null?me(""+P.key):ge.toString(36)}function V(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(Q,Q):(P.status="pending",P.then(function(ge){P.status==="pending"&&(P.status="fulfilled",P.value=ge)},function(ge){P.status==="pending"&&(P.status="rejected",P.reason=ge)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Z(P,ge,Se,De,We){var ne=typeof P;(ne==="undefined"||ne==="boolean")&&(P=null);var Ue=!1;if(P===null)Ue=!0;else switch(ne){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(P.$$typeof){case d:case h:Ue=!0;break;case k:return Ue=P._init,Z(Ue(P._payload),ge,Se,De,We)}}if(Ue)return We=We(P),Ue=De===""?"."+xe(P,0):De,be(We)?(Se="",Ue!=null&&(Se=Ue.replace(Re,"$&/")+"/"),Z(We,ge,Se,"",function(bt){return bt})):We!=null&&(pe(We)&&(We=de(We,Se+(We.key==null||P&&P.key===We.key?"":(""+We.key).replace(Re,"$&/")+"/")+Ue)),ge.push(We)),1;Ue=0;var we=De===""?".":De+":";if(be(P))for(var ke=0;ke<P.length;ke++)De=P[ke],ne=we+xe(De,ke),Ue+=Z(De,ge,Se,ne,We);else if(ke=W(P),typeof ke=="function")for(P=ke.call(P),ke=0;!(De=P.next()).done;)De=De.value,ne=we+xe(De,ke++),Ue+=Z(De,ge,Se,ne,We);else if(ne==="object"){if(typeof P.then=="function")return Z(V(P),ge,Se,De,We);throw ge=String(P),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(P,ge,Se){if(P==null)return P;var De=[],We=0;return Z(P,De,"","",function(ne){return ge.call(Se,ne,We++)}),De}function Me(P){if(P._status===-1){var ge=P._result;ge=ge(),ge.then(function(Se){(P._status===0||P._status===-1)&&(P._status=1,P._result=Se)},function(Se){(P._status===0||P._status===-1)&&(P._status=2,P._result=Se)}),P._status===-1&&(P._status=0,P._result=ge)}if(P._status===1)return P._result.default;throw P._result}var qe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ye={map:ae,forEach:function(P,ge,Se){ae(P,function(){ge.apply(this,arguments)},Se)},count:function(P){var ge=0;return ae(P,function(){ge++}),ge},toArray:function(P){return ae(P,function(ge){return ge})||[]},only:function(P){if(!pe(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return it.Activity=M,it.Children=Ye,it.Component=j,it.Fragment=g,it.Profiler=E,it.PureComponent=J,it.StrictMode=y,it.Suspense=_,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,it.__COMPILER_RUNTIME={__proto__:null,c:function(P){return D.H.useMemoCache(P)}},it.cache=function(P){return function(){return P.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(P,ge,Se){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var De=U({},P.props),We=P.key;if(ge!=null)for(ne in ge.key!==void 0&&(We=""+ge.key),ge)!ee.call(ge,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&ge.ref===void 0||(De[ne]=ge[ne]);var ne=arguments.length-2;if(ne===1)De.children=Se;else if(1<ne){for(var Ue=Array(ne),we=0;we<ne;we++)Ue[we]=arguments[we+2];De.children=Ue}return K(P.type,We,De)},it.createContext=function(P){return P={$$typeof:N,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:w,_context:P},P},it.createElement=function(P,ge,Se){var De,We={},ne=null;if(ge!=null)for(De in ge.key!==void 0&&(ne=""+ge.key),ge)ee.call(ge,De)&&De!=="key"&&De!=="__self"&&De!=="__source"&&(We[De]=ge[De]);var Ue=arguments.length-2;if(Ue===1)We.children=Se;else if(1<Ue){for(var we=Array(Ue),ke=0;ke<Ue;ke++)we[ke]=arguments[ke+2];We.children=we}if(P&&P.defaultProps)for(De in Ue=P.defaultProps,Ue)We[De]===void 0&&(We[De]=Ue[De]);return K(P,ne,We)},it.createRef=function(){return{current:null}},it.forwardRef=function(P){return{$$typeof:R,render:P}},it.isValidElement=pe,it.lazy=function(P){return{$$typeof:k,_payload:{_status:-1,_result:P},_init:Me}},it.memo=function(P,ge){return{$$typeof:C,type:P,compare:ge===void 0?null:ge}},it.startTransition=function(P){var ge=D.T,Se={};D.T=Se;try{var De=P(),We=D.S;We!==null&&We(Se,De),typeof De=="object"&&De!==null&&typeof De.then=="function"&&De.then(Q,qe)}catch(ne){qe(ne)}finally{ge!==null&&Se.types!==null&&(ge.types=Se.types),D.T=ge}},it.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},it.use=function(P){return D.H.use(P)},it.useActionState=function(P,ge,Se){return D.H.useActionState(P,ge,Se)},it.useCallback=function(P,ge){return D.H.useCallback(P,ge)},it.useContext=function(P){return D.H.useContext(P)},it.useDebugValue=function(){},it.useDeferredValue=function(P,ge){return D.H.useDeferredValue(P,ge)},it.useEffect=function(P,ge){return D.H.useEffect(P,ge)},it.useEffectEvent=function(P){return D.H.useEffectEvent(P)},it.useId=function(){return D.H.useId()},it.useImperativeHandle=function(P,ge,Se){return D.H.useImperativeHandle(P,ge,Se)},it.useInsertionEffect=function(P,ge){return D.H.useInsertionEffect(P,ge)},it.useLayoutEffect=function(P,ge){return D.H.useLayoutEffect(P,ge)},it.useMemo=function(P,ge){return D.H.useMemo(P,ge)},it.useOptimistic=function(P,ge){return D.H.useOptimistic(P,ge)},it.useReducer=function(P,ge,Se){return D.H.useReducer(P,ge,Se)},it.useRef=function(P){return D.H.useRef(P)},it.useState=function(P){return D.H.useState(P)},it.useSyncExternalStore=function(P,ge,Se){return D.H.useSyncExternalStore(P,ge,Se)},it.useTransition=function(){return D.H.useTransition()},it.version="19.2.0",it}var Fh;function pf(){return Fh||(Fh=1,$0.exports=Bm()),$0.exports}var Ne=pf();const Le=Jc(Ne);var ef={exports:{}},io={},tf={exports:{}},nf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function km(){return Ph||(Ph=1,(function(d){function h(Z,ae){var Me=Z.length;Z.push(ae);e:for(;0<Me;){var qe=Me-1>>>1,Ye=Z[qe];if(0<E(Ye,ae))Z[qe]=ae,Z[Me]=Ye,Me=qe;else break e}}function g(Z){return Z.length===0?null:Z[0]}function y(Z){if(Z.length===0)return null;var ae=Z[0],Me=Z.pop();if(Me!==ae){Z[0]=Me;e:for(var qe=0,Ye=Z.length,P=Ye>>>1;qe<P;){var ge=2*(qe+1)-1,Se=Z[ge],De=ge+1,We=Z[De];if(0>E(Se,Me))De<Ye&&0>E(We,Se)?(Z[qe]=We,Z[De]=Me,qe=De):(Z[qe]=Se,Z[ge]=Me,qe=ge);else if(De<Ye&&0>E(We,Me))Z[qe]=We,Z[De]=Me,qe=De;else break e}}return ae}function E(Z,ae){var Me=Z.sortIndex-ae.sortIndex;return Me!==0?Me:Z.id-ae.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;d.unstable_now=function(){return w.now()}}else{var N=Date,R=N.now();d.unstable_now=function(){return N.now()-R}}var _=[],C=[],k=1,M=null,G=3,W=!1,se=!1,U=!1,X=!1,j=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function oe(Z){for(var ae=g(C);ae!==null;){if(ae.callback===null)y(C);else if(ae.startTime<=Z)y(C),ae.sortIndex=ae.expirationTime,h(_,ae);else break;ae=g(C)}}function be(Z){if(U=!1,oe(Z),!se)if(g(_)!==null)se=!0,Q||(Q=!0,me());else{var ae=g(C);ae!==null&&V(be,ae.startTime-Z)}}var Q=!1,D=-1,ee=5,K=-1;function de(){return X?!0:!(d.unstable_now()-K<ee)}function pe(){if(X=!1,Q){var Z=d.unstable_now();K=Z;var ae=!0;try{e:{se=!1,U&&(U=!1,F(D),D=-1),W=!0;var Me=G;try{t:{for(oe(Z),M=g(_);M!==null&&!(M.expirationTime>Z&&de());){var qe=M.callback;if(typeof qe=="function"){M.callback=null,G=M.priorityLevel;var Ye=qe(M.expirationTime<=Z);if(Z=d.unstable_now(),typeof Ye=="function"){M.callback=Ye,oe(Z),ae=!0;break t}M===g(_)&&y(_),oe(Z)}else y(_);M=g(_)}if(M!==null)ae=!0;else{var P=g(C);P!==null&&V(be,P.startTime-Z),ae=!1}}break e}finally{M=null,G=Me,W=!1}ae=void 0}}finally{ae?me():Q=!1}}}var me;if(typeof J=="function")me=function(){J(pe)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,xe=Re.port2;Re.port1.onmessage=pe,me=function(){xe.postMessage(null)}}else me=function(){j(pe,0)};function V(Z,ae){D=j(function(){Z(d.unstable_now())},ae)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(Z){Z.callback=null},d.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<Z?Math.floor(1e3/Z):5},d.unstable_getCurrentPriorityLevel=function(){return G},d.unstable_next=function(Z){switch(G){case 1:case 2:case 3:var ae=3;break;default:ae=G}var Me=G;G=ae;try{return Z()}finally{G=Me}},d.unstable_requestPaint=function(){X=!0},d.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Me=G;G=Z;try{return ae()}finally{G=Me}},d.unstable_scheduleCallback=function(Z,ae,Me){var qe=d.unstable_now();switch(typeof Me=="object"&&Me!==null?(Me=Me.delay,Me=typeof Me=="number"&&0<Me?qe+Me:qe):Me=qe,Z){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=Me+Ye,Z={id:k++,callback:ae,priorityLevel:Z,startTime:Me,expirationTime:Ye,sortIndex:-1},Me>qe?(Z.sortIndex=Me,h(C,Z),g(_)===null&&Z===g(C)&&(U?(F(D),D=-1):U=!0,V(be,Me-qe))):(Z.sortIndex=Ye,h(_,Z),se||W||(se=!0,Q||(Q=!0,me()))),Z},d.unstable_shouldYield=de,d.unstable_wrapCallback=function(Z){var ae=G;return function(){var Me=G;G=ae;try{return Z.apply(this,arguments)}finally{G=Me}}}})(nf)),nf}var Gh;function Lm(){return Gh||(Gh=1,tf.exports=km()),tf.exports}var rf={exports:{}},rr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function jm(){if(Vh)return rr;Vh=1;var d=pf();function h(_){var C="https://react.dev/errors/"+_;if(1<arguments.length){C+="?args[]="+encodeURIComponent(arguments[1]);for(var k=2;k<arguments.length;k++)C+="&args[]="+encodeURIComponent(arguments[k])}return"Minified React error #"+_+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(){}var y={d:{f:g,r:function(){throw Error(h(522))},D:g,C:g,L:g,m:g,X:g,S:g,M:g},p:0,findDOMNode:null},E=Symbol.for("react.portal");function w(_,C,k){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:M==null?null:""+M,children:_,containerInfo:C,implementation:k}}var N=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function R(_,C){if(_==="font")return"";if(typeof C=="string")return C==="use-credentials"?C:""}return rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=y,rr.createPortal=function(_,C){var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error(h(299));return w(_,C,null,k)},rr.flushSync=function(_){var C=N.T,k=y.p;try{if(N.T=null,y.p=2,_)return _()}finally{N.T=C,y.p=k,y.d.f()}},rr.preconnect=function(_,C){typeof _=="string"&&(C?(C=C.crossOrigin,C=typeof C=="string"?C==="use-credentials"?C:"":void 0):C=null,y.d.C(_,C))},rr.prefetchDNS=function(_){typeof _=="string"&&y.d.D(_)},rr.preinit=function(_,C){if(typeof _=="string"&&C&&typeof C.as=="string"){var k=C.as,M=R(k,C.crossOrigin),G=typeof C.integrity=="string"?C.integrity:void 0,W=typeof C.fetchPriority=="string"?C.fetchPriority:void 0;k==="style"?y.d.S(_,typeof C.precedence=="string"?C.precedence:void 0,{crossOrigin:M,integrity:G,fetchPriority:W}):k==="script"&&y.d.X(_,{crossOrigin:M,integrity:G,fetchPriority:W,nonce:typeof C.nonce=="string"?C.nonce:void 0})}},rr.preinitModule=function(_,C){if(typeof _=="string")if(typeof C=="object"&&C!==null){if(C.as==null||C.as==="script"){var k=R(C.as,C.crossOrigin);y.d.M(_,{crossOrigin:k,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0})}}else C==null&&y.d.M(_)},rr.preload=function(_,C){if(typeof _=="string"&&typeof C=="object"&&C!==null&&typeof C.as=="string"){var k=C.as,M=R(k,C.crossOrigin);y.d.L(_,k,{crossOrigin:M,integrity:typeof C.integrity=="string"?C.integrity:void 0,nonce:typeof C.nonce=="string"?C.nonce:void 0,type:typeof C.type=="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority=="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy=="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet=="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes=="string"?C.imageSizes:void 0,media:typeof C.media=="string"?C.media:void 0})}},rr.preloadModule=function(_,C){if(typeof _=="string")if(C){var k=R(C.as,C.crossOrigin);y.d.m(_,{as:typeof C.as=="string"&&C.as!=="script"?C.as:void 0,crossOrigin:k,integrity:typeof C.integrity=="string"?C.integrity:void 0})}else y.d.m(_)},rr.requestFormReset=function(_){y.d.r(_)},rr.unstable_batchedUpdates=function(_,C){return _(C)},rr.useFormState=function(_,C,k){return N.H.useFormState(_,C,k)},rr.useFormStatus=function(){return N.H.useHostTransitionStatus()},rr.version="19.2.0",rr}var Xh;function Mx(){if(Xh)return rf.exports;Xh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(h){console.error(h)}}return d(),rf.exports=jm(),rf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function zm(){if(Yh)return io;Yh=1;var d=Lm(),h=pf(),g=Mx();function y(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function E(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function N(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function R(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(w(e)!==e)throw Error(y(188))}function C(e){var n=e.alternate;if(!n){if(n=w(e),n===null)throw Error(y(188));return n!==e?null:e}for(var i=e,o=n;;){var f=i.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){i=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===i)return _(f),e;if(m===o)return _(f),n;m=m.sibling}throw Error(y(188))}if(i.return!==o.return)i=f,o=m;else{for(var v=!1,O=f.child;O;){if(O===i){v=!0,i=f,o=m;break}if(O===o){v=!0,o=f,i=m;break}O=O.sibling}if(!v){for(O=m.child;O;){if(O===i){v=!0,i=m,o=f;break}if(O===o){v=!0,o=m,i=f;break}O=O.sibling}if(!v)throw Error(y(189))}}if(i.alternate!==o)throw Error(y(190))}if(i.tag!==3)throw Error(y(188));return i.stateNode.current===i?e:n}function k(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=k(e),n!==null)return n;e=e.sibling}return null}var M=Object.assign,G=Symbol.for("react.element"),W=Symbol.for("react.transitional.element"),se=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),J=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=pe&&e[pe]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case j:return"Profiler";case X:return"StrictMode";case be:return"Suspense";case Q:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case se:return"Portal";case J:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case oe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:xe(e.type)||"Memo";case ee:n=e._payload,e=e._init;try{return xe(e(n))}catch{}}return null}var V=Array.isArray,Z=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Me={pending:!1,data:null,method:null,action:null},qe=[],Ye=-1;function P(e){return{current:e}}function ge(e){0>Ye||(e.current=qe[Ye],qe[Ye]=null,Ye--)}function Se(e,n){Ye++,qe[Ye]=e.current,e.current=n}var De=P(null),We=P(null),ne=P(null),Ue=P(null);function we(e,n){switch(Se(ne,n),Se(We,e),Se(De,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?sh(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=sh(n),e=oh(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ge(De),Se(De,e)}function ke(){ge(De),ge(We),ge(ne)}function bt(e){e.memoizedState!==null&&Se(Ue,e);var n=De.current,i=oh(n,e.type);n!==i&&(Se(We,e),Se(De,i))}function xt(e){We.current===e&&(ge(De),ge(We)),Ue.current===e&&(ge(Ue),eo._currentValue=Me)}var Ot,et;function Tn(e){if(Ot===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Ot=n&&n[1]||"",et=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ot+e+et}var yn=!1;function Zn(e,n){if(!e||yn)return"";yn=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(he){var ce=he}Reflect.construct(e,[],Ce)}else{try{Ce.call()}catch(he){ce=he}e.call(Ce.prototype)}}else{try{throw Error()}catch(he){ce=he}(Ce=e())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(he){if(he&&ce&&typeof he.stack=="string")return[he.stack,ce.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),v=m[0],O=m[1];if(v&&O){var z=v.split(`
`),le=O.split(`
`);for(f=o=0;o<z.length&&!z[o].includes("DetermineComponentFrameRoot");)o++;for(;f<le.length&&!le[f].includes("DetermineComponentFrameRoot");)f++;if(o===z.length||f===le.length)for(o=z.length-1,f=le.length-1;1<=o&&0<=f&&z[o]!==le[f];)f--;for(;1<=o&&0<=f;o--,f--)if(z[o]!==le[f]){if(o!==1||f!==1)do if(o--,f--,0>f||z[o]!==le[f]){var ye=`
`+z[o].replace(" at new "," at ");return e.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",e.displayName)),ye}while(1<=o&&0<=f);break}}}finally{yn=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Tn(i):""}function Lt(e,n){switch(e.tag){case 26:case 27:case 5:return Tn(e.type);case 16:return Tn("Lazy");case 13:return e.child!==n&&n!==null?Tn("Suspense Fallback"):Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 15:return Zn(e.type,!1);case 11:return Zn(e.type.render,!1);case 1:return Zn(e.type,!0);case 31:return Tn("Activity");default:return""}}function gt(e){try{var n="",i=null;do n+=Lt(e,i),i=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var st=Object.prototype.hasOwnProperty,vr=d.unstable_scheduleCallback,He=d.unstable_cancelCallback,ka=d.unstable_shouldYield,La=d.unstable_requestPaint,Ht=d.unstable_now,Sr=d.unstable_getCurrentPriorityLevel,Wn=d.unstable_ImmediatePriority,oi=d.unstable_UserBlockingPriority,nr=d.unstable_NormalPriority,Dn=d.unstable_LowPriority,Zi=d.unstable_IdlePriority,ja=d.log,hs=d.unstable_setDisableYieldValue,rn=null,Oe=null;function Zt(e){if(typeof ja=="function"&&hs(e),Oe&&typeof Oe.setStrictMode=="function")try{Oe.setStrictMode(rn,e)}catch{}}var ct=Math.clz32?Math.clz32:xs,hn=Math.log,Wi=Math.LN2;function xs(e){return e>>>=0,e===0?32:31-(hn(e)/Wi|0)|0}var Qi=256,At=262144,Fr=4194304;function ba(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ki(e,n,i){var o=e.pendingLanes;if(o===0)return 0;var f=0,m=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var O=o&134217727;return O!==0?(o=O&~m,o!==0?f=ba(o):(v&=O,v!==0?f=ba(v):i||(i=O&~e,i!==0&&(f=ba(i))))):(O=o&~m,O!==0?f=ba(O):v!==0?f=ba(v):i||(i=o&~e,i!==0&&(f=ba(i)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,i=n&-n,m>=i||m===32&&(i&4194048)!==0)?n:f}function Qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function gs(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hn(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function ya(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function wa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pr(e,n,i,o,f,m){var v=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var O=e.entanglements,z=e.expirationTimes,le=e.hiddenUpdates;for(i=v&~i;0<i;){var ye=31-ct(i),Ce=1<<ye;O[ye]=0,z[ye]=-1;var ce=le[ye];if(ce!==null)for(le[ye]=null,ye=0;ye<ce.length;ye++){var he=ce[ye];he!==null&&(he.lane&=-536870913)}i&=~Ce}o!==0&&wo(e,o,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(v&~n))}function wo(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ct(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function Ea(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var o=31-ct(i),f=1<<o;f&n|e[o]&n&&(e[o]|=n),i&=~f}}function vl(e,n){var i=n&-n;return i=(i&42)!==0?1:Yn(i),(i&(e.suspendedLanes|n))!==0?0:i}function Yn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function na(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ir(){var e=ae.p;return e!==0?e:(e=window.event,e===void 0?32:Rh(e.type))}function je(e,n){var i=ae.p;try{return ae.p=e,n()}finally{ae.p=i}}var lr=Math.random().toString(36).slice(2),Nn="__reactFiber$"+lr,Xt="__reactProps$"+lr,Tr="__reactContainer$"+lr,ci="__reactEvents$"+lr,Sl="__reactListeners$"+lr,Gr="__reactHandles$"+lr,Eo="__reactResources$"+lr,Ji="__reactMarker$"+lr;function hr(e){delete e[Nn],delete e[Xt],delete e[ci],delete e[Sl],delete e[Gr]}function wn(e){var n=e[Nn];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Tr]||i[Nn]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=gh(e);e!==null;){if(i=e[Nn])return i;e=gh(e)}return n}e=i,i=e.parentNode}return null}function jt(e){if(e=e[Nn]||e[Tr]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ui(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(y(33))}function sr(e){var n=e[Eo];return n||(n=e[Eo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function En(e){e[Ji]=!0}var Ae=new Set,Co={};function Ft(e,n){Nr(e,n),Nr(e+"Capture",n)}function Nr(e,n){for(Co[e]=n,e=0;e<n.length;e++)Ae.add(n[e])}var au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rt={},It={};function wt(e){return st.call(It,e)?!0:st.call(Rt,e)?!1:au.test(e)?It[e]=!0:(Rt[e]=!0,!1)}function fi(e,n,i){if(wt(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function di(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function _r(e,n,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+o)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ra(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function iu(e,n,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){i=""+v,m.call(this,v)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function an(e){if(!e._valueTracker){var n=ra(e)?"checked":"value";e._valueTracker=iu(e,n,""+e[n])}}function aa(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),o="";return e&&(o=ra(e)?e.checked?"true":"false":e.value),e=o,e!==i?(n.setValue(e),!0):!1}function Tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hi=/[\n"\\]/g;function yt(e){return e.replace(hi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Mn(e,n,i,o,f,m,v,O){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Dt(n)):e.value!==""+Dt(n)&&(e.value=""+Dt(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?B(e,v,Dt(n)):i!=null?B(e,v,Dt(i)):o!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?e.name=""+Dt(O):e.removeAttribute("name")}function re(e,n,i,o,f,m,v,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){an(e);return}i=i!=null?""+Dt(i):"",n=n!=null?""+Dt(n):i,O||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=O?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),an(e)}function B(e,n,i){n==="number"&&Tl(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ge(e,n,i,o){if(e=e.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=n.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Dt(i),n=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function _n(e,n,i){if(n!=null&&(n=""+Dt(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+Dt(i):""}function or(e,n,i,o){if(n==null){if(o!=null){if(i!=null)throw Error(y(92));if(V(o)){if(1<o.length)throw Error(y(93));o=o[0]}i=o}i==null&&(i=""),n=i}i=Dt(n),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),an(e)}function xi(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cr(e,n,i){var o=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,i):typeof i!="number"||i===0||ms.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function Ze(e,n,i){if(n!=null&&typeof n!="object")throw Error(y(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&i[f]!==o&&cr(e,f,o)}else for(var m in n)n.hasOwnProperty(m)&&cr(e,m,n[m])}function $t(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ao=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gi(e){return lu.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xr(){}var $i=null;function ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ln=null,Vr=null;function ia(e){var n=jt(e);if(n&&(e=n.stateNode)){var i=e[Xt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Mn(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+yt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var o=i[n];if(o!==e&&o.form===e.form){var f=o[Xt]||null;if(!f)throw Error(y(90));Mn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)o=i[n],o.form===e.form&&aa(o)}break e;case"textarea":_n(e,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Ge(e,!!i.multiple,n,!1)}}}var Ke=!1;function vo(e,n,i){if(Ke)return e(n,i);Ke=!0;try{var o=e(n);return o}finally{if(Ke=!1,(ln!==null||Vr!==null)&&(gc(),ln&&(n=ln,e=Vr,Vr=ln=null,ia(n),e)))for(n=0;n<e.length;n++)ia(e[n])}}function rt(e,n){var i=e.stateNode;if(i===null)return null;var o=i[Xt]||null;if(o===null)return null;i=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(y(231,n,typeof i));return i}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=!1;if(en)try{var za={};Object.defineProperty(za,"passive",{get:function(){bs=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{bs=!1}var la=null,sa=null,Nl=null;function mi(){if(Nl)return Nl;var e,n=sa,i=n.length,o,f="value"in la?la.value:la.textContent,m=f.length;for(e=0;e<i&&n[e]===f[e];e++);var v=i-e;for(o=1;o<=v&&n[i-o]===f[m-o];o++);return Nl=f.slice(e,1<o?1-o:void 0)}function Ca(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Aa(){return!0}function ys(){return!1}function Bn(e){function n(i,o,f,m,v){this._reactName=i,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var O in e)e.hasOwnProperty(O)&&(i=e[O],this[O]=i?i(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Aa:ys,this.isPropagationStopped=ys,this}return M(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),n}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fn=Bn(Ir),pi=M({},Ir,{view:0,detail:0}),So=Bn(pi),_l,ws,el,Il=M({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==el&&(el&&e.type==="mousemove"?(_l=e.screenX-el.screenX,ws=e.screenY-el.screenY):ws=_l=0,el=e),_l)},movementY:function(e){return"movementY"in e?e.movementY:ws}}),zt=Bn(Il),To=M({},Il,{dataTransfer:0}),Ol=Bn(To),va=M({},pi,{relatedTarget:0}),Es=Bn(va),fe=M({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),ut=Bn(fe),Pn=M({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rl=Bn(Pn),No=M({},Ir,{data:0}),_o=Bn(No),su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Cs[e])?!!n[e]:!1}function tl(){return In}var xn=M({},pi,{key:function(e){if(e.key){var n=su[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tl,charCode:function(e){return e.type==="keypress"?Ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dl=Bn(xn),Ua=M({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pt=Bn(Ua),Je=M({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tl}),cu=Bn(Je),tn=M({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ha=Bn(tn),bi=M({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),uu=Bn(bi),Xr=M({},Ir,{newState:0,oldState:0}),As=Bn(Xr),Io=[9,13,27,32],nl=en&&"CompositionEvent"in window,yi=null;en&&"documentMode"in document&&(yi=document.documentMode);var Oo=en&&"TextEvent"in window&&!yi,Ro=en&&(!nl||yi&&8<yi&&11>=yi),Fa=" ",Ml=!1;function Do(e,n){switch(e){case"keyup":return Io.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function Sa(e,n){switch(e){case"compositionend":return wi(n);case"keypress":return n.which!==32?null:(Ml=!0,Fa);case"textInput":return e=n.data,e===Fa&&Ml?null:e;default:return null}}function Bl(e,n){if(Ei)return e==="compositionend"||!nl&&Do(e,n)?(e=mi(),Nl=sa=la=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ro&&n.locale!=="ko"?null:n.data;default:return null}}var gr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!gr[e.type]:n==="textarea"}function Or(e,n,i,o){ln?Vr?Vr.push(o):Vr=[o]:ln=o,n=Cc(n,"onChange"),0<n.length&&(i=new Fn("onChange","change",null,i,o),e.push({event:i,listeners:n}))}var rl=null,Pa=null;function fu(e){th(e,0)}function al(e){var n=ui(e);if(aa(n))return e}function Rr(e,n){if(e==="change")return n}var Mo=!1;if(en){var il;if(en){var Ga="oninput"in document;if(!Ga){var vt=document.createElement("div");vt.setAttribute("oninput","return;"),Ga=typeof vt.oninput=="function"}il=Ga}else il=!1;Mo=il&&(!document.documentMode||9<document.documentMode)}function ll(){rl&&(rl.detachEvent("onpropertychange",S),Pa=rl=null)}function S(e){if(e.propertyName==="value"&&al(Pa)){var n=[];Or(n,Pa,e,ps(e)),vo(fu,n)}}function t(e,n,i){e==="focusin"?(ll(),rl=n,Pa=i,rl.attachEvent("onpropertychange",S)):e==="focusout"&&ll()}function r(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Pa)}function a(e,n){if(e==="click")return al(n)}function l(e,n){if(e==="input"||e==="change")return al(n)}function s(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var c=typeof Object.is=="function"?Object.is:s;function u(e,n){if(c(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),o=Object.keys(n);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var f=i[o];if(!st.call(n,f)||!c(e[f],n[f]))return!1}return!0}function x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p(e,n){var i=x(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=n&&o>=n)return{node:i,offset:n-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=x(i)}}function A(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?A(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function T(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Tl(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Tl(e.document)}return n}function I(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var L=en&&"documentMode"in document&&11>=document.documentMode,H=null,Y=null,te=null,ue=!1;function Ie(e,n,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ue||H==null||H!==Tl(o)||(o=H,"selectionStart"in o&&I(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),te&&u(te,o)||(te=o,o=Cc(Y,"onSelect"),0<o.length&&(n=new Fn("onSelect","select",null,n,i),e.push({event:n,listeners:o}),n.target=H)))}function _e(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var ve={animationend:_e("Animation","AnimationEnd"),animationiteration:_e("Animation","AnimationIteration"),animationstart:_e("Animation","AnimationStart"),transitionrun:_e("Transition","TransitionRun"),transitionstart:_e("Transition","TransitionStart"),transitioncancel:_e("Transition","TransitionCancel"),transitionend:_e("Transition","TransitionEnd")},mt={},at={};en&&(at=document.createElement("div").style,"AnimationEvent"in window||(delete ve.animationend.animation,delete ve.animationiteration.animation,delete ve.animationstart.animation),"TransitionEvent"in window||delete ve.transitionend.transition);function Cn(e){if(mt[e])return mt[e];if(!ve[e])return e;var n=ve[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in at)return mt[e]=n[i];return e}var mr=Cn("animationend"),Kn=Cn("animationiteration"),Gt=Cn("animationstart"),Gn=Cn("transitionrun"),ur=Cn("transitionstart"),Ci=Cn("transitioncancel"),Va=Cn("transitionend"),Bo=new Map,Ss="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ss.push("scrollEnd");function oa(e,n){Bo.set(e,n),Ft(n,[e])}var ko=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yr=[],kl=0,du=0;function Lo(){for(var e=kl,n=du=kl=0;n<e;){var i=Yr[n];Yr[n++]=null;var o=Yr[n];Yr[n++]=null;var f=Yr[n];Yr[n++]=null;var m=Yr[n];if(Yr[n++]=null,o!==null&&f!==null){var v=o.pending;v===null?f.next=f:(f.next=v.next,v.next=f),o.pending=f}m!==0&&Lf(i,f,m)}}function jo(e,n,i,o){Yr[kl++]=e,Yr[kl++]=n,Yr[kl++]=i,Yr[kl++]=o,du|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function hu(e,n,i,o){return jo(e,n,i,o),zo(e)}function sl(e,n){return jo(e,null,null,n),zo(e)}function Lf(e,n,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var f=!1,m=e.return;m!==null;)m.childLanes|=i,o=m.alternate,o!==null&&(o.childLanes|=i),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&n!==null&&(f=31-ct(i),e=m.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=i|536870912),m):null}function zo(e){if(50<qs)throw qs=0,C0=null,Error(y(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ll={};function xg(e,n,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,n,i,o){return new xg(e,n,i,o)}function xu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xa(e,n){var i=e.alternate;return i===null?(i=Dr(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function jf(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Uo(e,n,i,o,f,m){var v=0;if(o=e,typeof e=="function")xu(e)&&(v=1);else if(typeof e=="string")v=ym(e,i,De.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=Dr(31,i,n,f),e.elementType=K,e.lanes=m,e;case U:return ol(i.children,f,m,n);case X:v=8,f|=24;break;case j:return e=Dr(12,i,n,f|2),e.elementType=j,e.lanes=m,e;case be:return e=Dr(13,i,n,f),e.elementType=be,e.lanes=m,e;case Q:return e=Dr(19,i,n,f),e.elementType=Q,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:v=10;break e;case F:v=9;break e;case oe:v=11;break e;case D:v=14;break e;case ee:v=16,o=null;break e}v=29,i=Error(y(130,e===null?"null":typeof e,"")),o=null}return n=Dr(v,i,n,f),n.elementType=e,n.type=o,n.lanes=m,n}function ol(e,n,i,o){return e=Dr(7,e,o,n),e.lanes=i,e}function gu(e,n,i){return e=Dr(6,e,null,n),e.lanes=i,e}function zf(e){var n=Dr(18,null,null,0);return n.stateNode=e,n}function mu(e,n,i){return n=Dr(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Uf=new WeakMap;function qr(e,n){if(typeof e=="object"&&e!==null){var i=Uf.get(e);return i!==void 0?i:(n={value:e,source:n,stack:gt(n)},Uf.set(e,n),n)}return{value:e,source:n,stack:gt(n)}}var jl=[],zl=0,Ho=null,Ts=0,Zr=[],Wr=0,Ai=null,Ta=1,Na="";function Ya(e,n){jl[zl++]=Ts,jl[zl++]=Ho,Ho=e,Ts=n}function Hf(e,n,i){Zr[Wr++]=Ta,Zr[Wr++]=Na,Zr[Wr++]=Ai,Ai=e;var o=Ta;e=Na;var f=32-ct(o)-1;o&=~(1<<f),i+=1;var m=32-ct(n)+f;if(30<m){var v=f-f%5;m=(o&(1<<v)-1).toString(32),o>>=v,f-=v,Ta=1<<32-ct(n)+f|i<<f|o,Na=m+e}else Ta=1<<m|i<<f|o,Na=e}function pu(e){e.return!==null&&(Ya(e,1),Hf(e,1,0))}function bu(e){for(;e===Ho;)Ho=jl[--zl],jl[zl]=null,Ts=jl[--zl],jl[zl]=null;for(;e===Ai;)Ai=Zr[--Wr],Zr[Wr]=null,Na=Zr[--Wr],Zr[Wr]=null,Ta=Zr[--Wr],Zr[Wr]=null}function Ff(e,n){Zr[Wr++]=Ta,Zr[Wr++]=Na,Zr[Wr++]=Ai,Ta=n.id,Na=n.overflow,Ai=e}var Jn=null,sn=null,Nt=!1,vi=null,Qr=!1,yu=Error(y(519));function Si(e){var n=Error(y(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ns(qr(n,e)),yu}function Pf(e){var n=e.stateNode,i=e.type,o=e.memoizedProps;switch(n[Nn]=e,n[Xt]=o,i){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(i=0;i<Ws.length;i++)Ct(Ws[i],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),re(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),or(n,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||o.suppressHydrationWarning===!0||ih(n.textContent,i)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=xr),n=!0):n=!1,n||Si(e,!0)}function Gf(e){for(Jn=e.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Jn=Jn.return}}function Ul(e){if(e!==Jn)return!1;if(!Nt)return Gf(e),Nt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||j0(e.type,e.memoizedProps)),i=!i),i&&sn&&Si(e),Gf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));sn=xh(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(317));sn=xh(e)}else n===27?(n=sn,Ui(e.type)?(e=P0,P0=null,sn=e):sn=n):sn=Jn?Jr(e.stateNode.nextSibling):null;return!0}function cl(){sn=Jn=null,Nt=!1}function wu(){var e=vi;return e!==null&&(wr===null?wr=e:wr.push.apply(wr,e),vi=null),e}function Ns(e){vi===null?vi=[e]:vi.push(e)}var Eu=P(null),ul=null,qa=null;function Ti(e,n,i){Se(Eu,n._currentValue),n._currentValue=i}function Za(e){e._currentValue=Eu.current,ge(Eu)}function Cu(e,n,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===i)break;e=e.return}}function Au(e,n,i,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=f;for(var z=0;z<n.length;z++)if(O.context===n[z]){m.lanes|=i,O=m.alternate,O!==null&&(O.lanes|=i),Cu(m.return,i,e),o||(v=null);break e}m=O.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(y(341));v.lanes|=i,m=v.alternate,m!==null&&(m.lanes|=i),Cu(v,i,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Hl(e,n,i,o){e=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(y(387));if(v=v.memoizedProps,v!==null){var O=f.type;c(f.pendingProps.value,v.value)||(e!==null?e.push(O):e=[O])}}else if(f===Ue.current){if(v=f.alternate,v===null)throw Error(y(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(eo):e=[eo])}f=f.return}e!==null&&Au(n,e,i,o),n.flags|=262144}function Fo(e){for(e=e.firstContext;e!==null;){if(!c(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fl(e){ul=e,qa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $n(e){return Vf(ul,e)}function Po(e,n){return ul===null&&fl(e),Vf(e,n)}function Vf(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},qa===null){if(e===null)throw Error(y(308));qa=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qa=qa.next=n;return i}var gg=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},mg=d.unstable_scheduleCallback,pg=d.unstable_NormalPriority,kn={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vu(){return{controller:new gg,data:new Map,refCount:0}}function _s(e){e.refCount--,e.refCount===0&&mg(pg,function(){e.controller.abort()})}var Is=null,Su=0,Fl=0,Pl=null;function bg(e,n){if(Is===null){var i=Is=[];Su=0,Fl=_0(),Pl={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Su++,n.then(Xf,Xf),n}function Xf(){if(--Su===0&&Is!==null){Pl!==null&&(Pl.status="fulfilled");var e=Is;Is=null,Fl=0,Pl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function yg(e,n){var i=[],o={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),o}var Yf=Z.S;Z.S=function(e,n){I1=Ht(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&bg(e,n),Yf!==null&&Yf(e,n)};var dl=P(null);function Tu(){var e=dl.current;return e!==null?e:nn.pooledCache}function Go(e,n){n===null?Se(dl,dl.current):Se(dl,n.pool)}function qf(){var e=Tu();return e===null?null:{parent:kn._currentValue,pool:e}}var Gl=Error(y(460)),Nu=Error(y(474)),Vo=Error(y(542)),Xo={then:function(){}};function Zf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wf(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(xr,xr),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kf(e),e;default:if(typeof n.status=="string")n.then(xr,xr);else{if(e=nn,e!==null&&100<e.shellSuspendCounter)throw Error(y(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kf(e),e}throw xl=n,Gl}}function hl(e){try{var n=e._init;return n(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(xl=i,Gl):i}}var xl=null;function Qf(){if(xl===null)throw Error(y(459));var e=xl;return xl=null,e}function Kf(e){if(e===Gl||e===Vo)throw Error(y(483))}var Vl=null,Os=0;function Yo(e){var n=Os;return Os+=1,Vl===null&&(Vl=[]),Wf(Vl,e,n)}function Rs(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function qo(e,n){throw n.$$typeof===G?Error(y(525)):(e=Object.prototype.toString.call(n),Error(y(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jf(e){function n($,q){if(e){var ie=$.deletions;ie===null?($.deletions=[q],$.flags|=16):ie.push(q)}}function i($,q){if(!e)return null;for(;q!==null;)n($,q),q=q.sibling;return null}function o($){for(var q=new Map;$!==null;)$.key!==null?q.set($.key,$):q.set($.index,$),$=$.sibling;return q}function f($,q){return $=Xa($,q),$.index=0,$.sibling=null,$}function m($,q,ie){return $.index=ie,e?(ie=$.alternate,ie!==null?(ie=ie.index,ie<q?($.flags|=67108866,q):ie):($.flags|=67108866,q)):($.flags|=1048576,q)}function v($){return e&&$.alternate===null&&($.flags|=67108866),$}function O($,q,ie,Ee){return q===null||q.tag!==6?(q=gu(ie,$.mode,Ee),q.return=$,q):(q=f(q,ie),q.return=$,q)}function z($,q,ie,Ee){var Qe=ie.type;return Qe===U?ye($,q,ie.props.children,Ee,ie.key):q!==null&&(q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ee&&hl(Qe)===q.type)?(q=f(q,ie.props),Rs(q,ie),q.return=$,q):(q=Uo(ie.type,ie.key,ie.props,null,$.mode,Ee),Rs(q,ie),q.return=$,q)}function le($,q,ie,Ee){return q===null||q.tag!==4||q.stateNode.containerInfo!==ie.containerInfo||q.stateNode.implementation!==ie.implementation?(q=mu(ie,$.mode,Ee),q.return=$,q):(q=f(q,ie.children||[]),q.return=$,q)}function ye($,q,ie,Ee,Qe){return q===null||q.tag!==7?(q=ol(ie,$.mode,Ee,Qe),q.return=$,q):(q=f(q,ie),q.return=$,q)}function Ce($,q,ie){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=gu(""+q,$.mode,ie),q.return=$,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case W:return ie=Uo(q.type,q.key,q.props,null,$.mode,ie),Rs(ie,q),ie.return=$,ie;case se:return q=mu(q,$.mode,ie),q.return=$,q;case ee:return q=hl(q),Ce($,q,ie)}if(V(q)||me(q))return q=ol(q,$.mode,ie,null),q.return=$,q;if(typeof q.then=="function")return Ce($,Yo(q),ie);if(q.$$typeof===J)return Ce($,Po($,q),ie);qo($,q)}return null}function ce($,q,ie,Ee){var Qe=q!==null?q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Qe!==null?null:O($,q,""+ie,Ee);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case W:return ie.key===Qe?z($,q,ie,Ee):null;case se:return ie.key===Qe?le($,q,ie,Ee):null;case ee:return ie=hl(ie),ce($,q,ie,Ee)}if(V(ie)||me(ie))return Qe!==null?null:ye($,q,ie,Ee,null);if(typeof ie.then=="function")return ce($,q,Yo(ie),Ee);if(ie.$$typeof===J)return ce($,q,Po($,ie),Ee);qo($,ie)}return null}function he($,q,ie,Ee,Qe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return $=$.get(ie)||null,O(q,$,""+Ee,Qe);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case W:return $=$.get(Ee.key===null?ie:Ee.key)||null,z(q,$,Ee,Qe);case se:return $=$.get(Ee.key===null?ie:Ee.key)||null,le(q,$,Ee,Qe);case ee:return Ee=hl(Ee),he($,q,ie,Ee,Qe)}if(V(Ee)||me(Ee))return $=$.get(ie)||null,ye(q,$,Ee,Qe,null);if(typeof Ee.then=="function")return he($,q,ie,Yo(Ee),Qe);if(Ee.$$typeof===J)return he($,q,ie,Po(q,Ee),Qe);qo(q,Ee)}return null}function Pe($,q,ie,Ee){for(var Qe=null,Mt=null,Ve=q,ft=q=0,Tt=null;Ve!==null&&ft<ie.length;ft++){Ve.index>ft?(Tt=Ve,Ve=null):Tt=Ve.sibling;var Bt=ce($,Ve,ie[ft],Ee);if(Bt===null){Ve===null&&(Ve=Tt);break}e&&Ve&&Bt.alternate===null&&n($,Ve),q=m(Bt,q,ft),Mt===null?Qe=Bt:Mt.sibling=Bt,Mt=Bt,Ve=Tt}if(ft===ie.length)return i($,Ve),Nt&&Ya($,ft),Qe;if(Ve===null){for(;ft<ie.length;ft++)Ve=Ce($,ie[ft],Ee),Ve!==null&&(q=m(Ve,q,ft),Mt===null?Qe=Ve:Mt.sibling=Ve,Mt=Ve);return Nt&&Ya($,ft),Qe}for(Ve=o(Ve);ft<ie.length;ft++)Tt=he(Ve,$,ft,ie[ft],Ee),Tt!==null&&(e&&Tt.alternate!==null&&Ve.delete(Tt.key===null?ft:Tt.key),q=m(Tt,q,ft),Mt===null?Qe=Tt:Mt.sibling=Tt,Mt=Tt);return e&&Ve.forEach(function(Vi){return n($,Vi)}),Nt&&Ya($,ft),Qe}function $e($,q,ie,Ee){if(ie==null)throw Error(y(151));for(var Qe=null,Mt=null,Ve=q,ft=q=0,Tt=null,Bt=ie.next();Ve!==null&&!Bt.done;ft++,Bt=ie.next()){Ve.index>ft?(Tt=Ve,Ve=null):Tt=Ve.sibling;var Vi=ce($,Ve,Bt.value,Ee);if(Vi===null){Ve===null&&(Ve=Tt);break}e&&Ve&&Vi.alternate===null&&n($,Ve),q=m(Vi,q,ft),Mt===null?Qe=Vi:Mt.sibling=Vi,Mt=Vi,Ve=Tt}if(Bt.done)return i($,Ve),Nt&&Ya($,ft),Qe;if(Ve===null){for(;!Bt.done;ft++,Bt=ie.next())Bt=Ce($,Bt.value,Ee),Bt!==null&&(q=m(Bt,q,ft),Mt===null?Qe=Bt:Mt.sibling=Bt,Mt=Bt);return Nt&&Ya($,ft),Qe}for(Ve=o(Ve);!Bt.done;ft++,Bt=ie.next())Bt=he(Ve,$,ft,Bt.value,Ee),Bt!==null&&(e&&Bt.alternate!==null&&Ve.delete(Bt.key===null?ft:Bt.key),q=m(Bt,q,ft),Mt===null?Qe=Bt:Mt.sibling=Bt,Mt=Bt);return e&&Ve.forEach(function(Om){return n($,Om)}),Nt&&Ya($,ft),Qe}function Kt($,q,ie,Ee){if(typeof ie=="object"&&ie!==null&&ie.type===U&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case W:e:{for(var Qe=ie.key;q!==null;){if(q.key===Qe){if(Qe=ie.type,Qe===U){if(q.tag===7){i($,q.sibling),Ee=f(q,ie.props.children),Ee.return=$,$=Ee;break e}}else if(q.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===ee&&hl(Qe)===q.type){i($,q.sibling),Ee=f(q,ie.props),Rs(Ee,ie),Ee.return=$,$=Ee;break e}i($,q);break}else n($,q);q=q.sibling}ie.type===U?(Ee=ol(ie.props.children,$.mode,Ee,ie.key),Ee.return=$,$=Ee):(Ee=Uo(ie.type,ie.key,ie.props,null,$.mode,Ee),Rs(Ee,ie),Ee.return=$,$=Ee)}return v($);case se:e:{for(Qe=ie.key;q!==null;){if(q.key===Qe)if(q.tag===4&&q.stateNode.containerInfo===ie.containerInfo&&q.stateNode.implementation===ie.implementation){i($,q.sibling),Ee=f(q,ie.children||[]),Ee.return=$,$=Ee;break e}else{i($,q);break}else n($,q);q=q.sibling}Ee=mu(ie,$.mode,Ee),Ee.return=$,$=Ee}return v($);case ee:return ie=hl(ie),Kt($,q,ie,Ee)}if(V(ie))return Pe($,q,ie,Ee);if(me(ie)){if(Qe=me(ie),typeof Qe!="function")throw Error(y(150));return ie=Qe.call(ie),$e($,q,ie,Ee)}if(typeof ie.then=="function")return Kt($,q,Yo(ie),Ee);if(ie.$$typeof===J)return Kt($,q,Po($,ie),Ee);qo($,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,q!==null&&q.tag===6?(i($,q.sibling),Ee=f(q,ie),Ee.return=$,$=Ee):(i($,q),Ee=gu(ie,$.mode,Ee),Ee.return=$,$=Ee),v($)):i($,q)}return function($,q,ie,Ee){try{Os=0;var Qe=Kt($,q,ie,Ee);return Vl=null,Qe}catch(Ve){if(Ve===Gl||Ve===Vo)throw Ve;var Mt=Dr(29,Ve,null,$.mode);return Mt.lanes=Ee,Mt.return=$,Mt}finally{}}}var gl=Jf(!0),$f=Jf(!1),Ni=!1;function _u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(e,n,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ut&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=zo(e),Lf(e,null,i),n}return jo(e,o,n,i),zo(e)}function Ds(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Ea(e,i)}}function Ou(e,n){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var f=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var v={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,i=i.next}while(i!==null);m===null?f=m=n:m=m.next=n}else f=m=n;i={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var Ru=!1;function Ms(){if(Ru){var e=Pl;if(e!==null)throw e}}function Bs(e,n,i,o){Ru=!1;var f=e.updateQueue;Ni=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,O=f.shared.pending;if(O!==null){f.shared.pending=null;var z=O,le=z.next;z.next=null,v===null?m=le:v.next=le,v=z;var ye=e.alternate;ye!==null&&(ye=ye.updateQueue,O=ye.lastBaseUpdate,O!==v&&(O===null?ye.firstBaseUpdate=le:O.next=le,ye.lastBaseUpdate=z))}if(m!==null){var Ce=f.baseState;v=0,ye=le=z=null,O=m;do{var ce=O.lane&-536870913,he=ce!==O.lane;if(he?(St&ce)===ce:(o&ce)===ce){ce!==0&&ce===Fl&&(Ru=!0),ye!==null&&(ye=ye.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Pe=e,$e=O;ce=n;var Kt=i;switch($e.tag){case 1:if(Pe=$e.payload,typeof Pe=="function"){Ce=Pe.call(Kt,Ce,ce);break e}Ce=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=$e.payload,ce=typeof Pe=="function"?Pe.call(Kt,Ce,ce):Pe,ce==null)break e;Ce=M({},Ce,ce);break e;case 2:Ni=!0}}ce=O.callback,ce!==null&&(e.flags|=64,he&&(e.flags|=8192),he=f.callbacks,he===null?f.callbacks=[ce]:he.push(ce))}else he={lane:ce,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ye===null?(le=ye=he,z=Ce):ye=ye.next=he,v|=ce;if(O=O.next,O===null){if(O=f.shared.pending,O===null)break;he=O,O=he.next,he.next=null,f.lastBaseUpdate=he,f.shared.pending=null}}while(!0);ye===null&&(z=Ce),f.baseState=z,f.firstBaseUpdate=le,f.lastBaseUpdate=ye,m===null&&(f.shared.lanes=0),Bi|=v,e.lanes=v,e.memoizedState=Ce}}function ed(e,n){if(typeof e!="function")throw Error(y(191,e));e.call(n)}function td(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ed(i[e],n)}var Xl=P(null),Zo=P(0);function nd(e,n){e=ri,Se(Zo,e),Se(Xl,n),ri=e|n.baseLanes}function Du(){Se(Zo,ri),Se(Xl,Xl.current)}function Mu(){ri=Zo.current,ge(Xl),ge(Zo)}var Mr=P(null),Kr=null;function Oi(e){var n=e.alternate;Se(On,On.current&1),Se(Mr,e),Kr===null&&(n===null||Xl.current!==null||n.memoizedState!==null)&&(Kr=e)}function Bu(e){Se(On,On.current),Se(Mr,e),Kr===null&&(Kr=e)}function rd(e){e.tag===22?(Se(On,On.current),Se(Mr,e),Kr===null&&(Kr=e)):Ri()}function Ri(){Se(On,On.current),Se(Mr,Mr.current)}function Br(e){ge(Mr),Kr===e&&(Kr=null),ge(On)}var On=P(0);function Wo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||H0(i)||F0(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Wa=0,ot=null,Wt=null,Ln=null,Qo=!1,Yl=!1,ml=!1,Ko=0,ks=0,ql=null,wg=0;function An(){throw Error(y(321))}function ku(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!c(e[i],n[i]))return!1;return!0}function Lu(e,n,i,o,f,m){return Wa=m,ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=e===null||e.memoizedState===null?Hd:Ku,ml=!1,m=i(o,f),ml=!1,Yl&&(m=id(n,i,o,f)),ad(e),m}function ad(e){Z.H=zs;var n=Wt!==null&&Wt.next!==null;if(Wa=0,Ln=Wt=ot=null,Qo=!1,ks=0,ql=null,n)throw Error(y(300));e===null||jn||(e=e.dependencies,e!==null&&Fo(e)&&(jn=!0))}function id(e,n,i,o){ot=e;var f=0;do{if(Yl&&(ql=null),ks=0,Yl=!1,25<=f)throw Error(y(301));if(f+=1,Ln=Wt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=Fd,m=n(i,o)}while(Yl);return m}function Eg(){var e=Z.H,n=e.useState()[0];return n=typeof n.then=="function"?Ls(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(ot.flags|=1024),n}function ju(){var e=Ko!==0;return Ko=0,e}function zu(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Uu(e){if(Qo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Qo=!1}Wa=0,Ln=Wt=ot=null,Yl=!1,ks=Ko=0,ql=null}function fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?ot.memoizedState=Ln=e:Ln=Ln.next=e,Ln}function Rn(){if(Wt===null){var e=ot.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Ln===null?ot.memoizedState:Ln.next;if(n!==null)Ln=n,Wt=e;else{if(e===null)throw ot.alternate===null?Error(y(467)):Error(y(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ln===null?ot.memoizedState=Ln=e:Ln=Ln.next=e}return Ln}function Jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ls(e){var n=ks;return ks+=1,ql===null&&(ql=[]),e=Wf(ql,e,n),n=ot,(Ln===null?n.memoizedState:Ln.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?Hd:Ku),e}function $o(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ls(e);if(e.$$typeof===J)return $n(e)}throw Error(y(438,String(e)))}function Hu(e){var n=null,i=ot.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var o=ot.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Jo(),ot.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),o=0;o<e;o++)i[o]=de;return n.index++,i}function Qa(e,n){return typeof n=="function"?n(e):n}function ec(e){var n=Rn();return Fu(n,Wt,e)}function Fu(e,n,i){var o=e.queue;if(o===null)throw Error(y(311));o.lastRenderedReducer=i;var f=e.baseQueue,m=o.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}n.baseQueue=f=m,o.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{n=f.next;var O=v=null,z=null,le=n,ye=!1;do{var Ce=le.lane&-536870913;if(Ce!==le.lane?(St&Ce)===Ce:(Wa&Ce)===Ce){var ce=le.revertLane;if(ce===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),Ce===Fl&&(ye=!0);else if((Wa&ce)===ce){le=le.next,ce===Fl&&(ye=!0);continue}else Ce={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},z===null?(O=z=Ce,v=m):z=z.next=Ce,ot.lanes|=ce,Bi|=ce;Ce=le.action,ml&&i(m,Ce),m=le.hasEagerState?le.eagerState:i(m,Ce)}else ce={lane:Ce,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},z===null?(O=z=ce,v=m):z=z.next=ce,ot.lanes|=Ce,Bi|=Ce;le=le.next}while(le!==null&&le!==n);if(z===null?v=m:z.next=O,!c(m,e.memoizedState)&&(jn=!0,ye&&(i=Pl,i!==null)))throw i;e.memoizedState=m,e.baseState=v,e.baseQueue=z,o.lastRenderedState=m}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Pu(e){var n=Rn(),i=n.queue;if(i===null)throw Error(y(311));i.lastRenderedReducer=e;var o=i.dispatch,f=i.pending,m=n.memoizedState;if(f!==null){i.pending=null;var v=f=f.next;do m=e(m,v.action),v=v.next;while(v!==f);c(m,n.memoizedState)||(jn=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,o]}function ld(e,n,i){var o=ot,f=Rn(),m=Nt;if(m){if(i===void 0)throw Error(y(407));i=i()}else i=n();var v=!c((Wt||f).memoizedState,i);if(v&&(f.memoizedState=i,jn=!0),f=f.queue,Xu(cd.bind(null,o,f,e),[e]),f.getSnapshot!==n||v||Ln!==null&&Ln.memoizedState.tag&1){if(o.flags|=2048,Zl(9,{destroy:void 0},od.bind(null,o,f,i,n),null),nn===null)throw Error(y(349));m||(Wa&127)!==0||sd(o,n,i)}return i}function sd(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=ot.updateQueue,n===null?(n=Jo(),ot.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function od(e,n,i,o){n.value=i,n.getSnapshot=o,ud(n)&&fd(e)}function cd(e,n,i){return i(function(){ud(n)&&fd(e)})}function ud(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!c(e,i)}catch{return!0}}function fd(e){var n=sl(e,2);n!==null&&Er(n,e,2)}function Gu(e){var n=fr();if(typeof e=="function"){var i=e;if(e=i(),ml){Zt(!0);try{i()}finally{Zt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:e},n}function dd(e,n,i,o){return e.baseState=i,Fu(e,Wt,typeof o=="function"?o:Qa)}function Cg(e,n,i,o,f){if(rc(e))throw Error(y(485));if(e=n.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};Z.T!==null?i(!0):m.isTransition=!1,o(m),i=n.pending,i===null?(m.next=n.pending=m,hd(n,m)):(m.next=i.next,n.pending=i.next=m)}}function hd(e,n){var i=n.action,o=n.payload,f=e.state;if(n.isTransition){var m=Z.T,v={};Z.T=v;try{var O=i(f,o),z=Z.S;z!==null&&z(v,O),xd(e,n,O)}catch(le){Vu(e,n,le)}finally{m!==null&&v.types!==null&&(m.types=v.types),Z.T=m}}else try{m=i(f,o),xd(e,n,m)}catch(le){Vu(e,n,le)}}function xd(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){gd(e,n,o)},function(o){return Vu(e,n,o)}):gd(e,n,i)}function gd(e,n,i){n.status="fulfilled",n.value=i,md(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,hd(e,i)))}function Vu(e,n,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=i,md(n),n=n.next;while(n!==o)}e.action=null}function md(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pd(e,n){return n}function bd(e,n){if(Nt){var i=nn.formState;if(i!==null){e:{var o=ot;if(Nt){if(sn){t:{for(var f=sn,m=Qr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Jr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){sn=Jr(f.nextSibling),o=f.data==="F!";break e}}Si(o)}o=!1}o&&(n=i[0])}}return i=fr(),i.memoizedState=i.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pd,lastRenderedState:n},i.queue=o,i=jd.bind(null,ot,o),o.dispatch=i,o=Gu(!1),m=Qu.bind(null,ot,!1,o.queue),o=fr(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,i=Cg.bind(null,ot,f,m,i),f.dispatch=i,o.memoizedState=e,[n,i,!1]}function yd(e){var n=Rn();return wd(n,Wt,e)}function wd(e,n,i){if(n=Fu(e,n,pd)[0],e=ec(Qa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ls(n)}catch(v){throw v===Gl?Vo:v}else o=n;n=Rn();var f=n.queue,m=f.dispatch;return i!==n.memoizedState&&(ot.flags|=2048,Zl(9,{destroy:void 0},Ag.bind(null,f,i),null)),[o,m,e]}function Ag(e,n){e.action=n}function Ed(e){var n=Rn(),i=Wt;if(i!==null)return wd(n,i,e);Rn(),n=n.memoizedState,i=Rn();var o=i.queue.dispatch;return i.memoizedState=e,[n,o,!1]}function Zl(e,n,i,o){return e={tag:e,create:i,deps:o,inst:n,next:null},n=ot.updateQueue,n===null&&(n=Jo(),ot.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,n.lastEffect=e),e}function Cd(){return Rn().memoizedState}function tc(e,n,i,o){var f=fr();ot.flags|=e,f.memoizedState=Zl(1|n,{destroy:void 0},i,o===void 0?null:o)}function nc(e,n,i,o){var f=Rn();o=o===void 0?null:o;var m=f.memoizedState.inst;Wt!==null&&o!==null&&ku(o,Wt.memoizedState.deps)?f.memoizedState=Zl(n,m,i,o):(ot.flags|=e,f.memoizedState=Zl(1|n,m,i,o))}function Ad(e,n){tc(8390656,8,e,n)}function Xu(e,n){nc(2048,8,e,n)}function vg(e){ot.flags|=4;var n=ot.updateQueue;if(n===null)n=Jo(),ot.updateQueue=n,n.events=[e];else{var i=n.events;i===null?n.events=[e]:i.push(e)}}function vd(e){var n=Rn().memoizedState;return vg({ref:n,nextImpl:e}),function(){if((Ut&2)!==0)throw Error(y(440));return n.impl.apply(void 0,arguments)}}function Sd(e,n){return nc(4,2,e,n)}function Td(e,n){return nc(4,4,e,n)}function Nd(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function _d(e,n,i){i=i!=null?i.concat([e]):null,nc(4,4,Nd.bind(null,n,e),i)}function Yu(){}function Id(e,n){var i=Rn();n=n===void 0?null:n;var o=i.memoizedState;return n!==null&&ku(n,o[1])?o[0]:(i.memoizedState=[e,n],e)}function Od(e,n){var i=Rn();n=n===void 0?null:n;var o=i.memoizedState;if(n!==null&&ku(n,o[1]))return o[0];if(o=e(),ml){Zt(!0);try{e()}finally{Zt(!1)}}return i.memoizedState=[o,n],o}function qu(e,n,i){return i===void 0||(Wa&1073741824)!==0&&(St&261930)===0?e.memoizedState=n:(e.memoizedState=i,e=R1(),ot.lanes|=e,Bi|=e,i)}function Rd(e,n,i,o){return c(i,n)?i:Xl.current!==null?(e=qu(e,i,o),c(e,n)||(jn=!0),e):(Wa&42)===0||(Wa&1073741824)!==0&&(St&261930)===0?(jn=!0,e.memoizedState=i):(e=R1(),ot.lanes|=e,Bi|=e,n)}function Dd(e,n,i,o,f){var m=ae.p;ae.p=m!==0&&8>m?m:8;var v=Z.T,O={};Z.T=O,Qu(e,!1,n,i);try{var z=f(),le=Z.S;if(le!==null&&le(O,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ye=yg(z,o);js(e,n,ye,jr(e))}else js(e,n,o,jr(e))}catch(Ce){js(e,n,{then:function(){},status:"rejected",reason:Ce},jr())}finally{ae.p=m,v!==null&&O.types!==null&&(v.types=O.types),Z.T=v}}function Sg(){}function Zu(e,n,i,o){if(e.tag!==5)throw Error(y(476));var f=Md(e).queue;Dd(e,f,n,Me,i===null?Sg:function(){return Bd(e),i(o)})}function Md(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Me,baseState:Me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:Me},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Bd(e){var n=Md(e);n.next===null&&(n=e.alternate.memoizedState),js(e,n.next.queue,{},jr())}function Wu(){return $n(eo)}function kd(){return Rn().memoizedState}function Ld(){return Rn().memoizedState}function Tg(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=jr();e=_i(i);var o=Ii(n,e,i);o!==null&&(Er(o,n,i),Ds(o,n,i)),n={cache:vu()},e.payload=n;return}n=n.return}}function Ng(e,n,i){var o=jr();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},rc(e)?zd(n,i):(i=hu(e,n,i,o),i!==null&&(Er(i,e,o),Ud(i,n,o)))}function jd(e,n,i){var o=jr();js(e,n,i,o)}function js(e,n,i,o){var f={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(rc(e))zd(n,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var v=n.lastRenderedState,O=m(v,i);if(f.hasEagerState=!0,f.eagerState=O,c(O,v))return jo(e,n,f,0),nn===null&&Lo(),!1}catch{}finally{}if(i=hu(e,n,f,o),i!==null)return Er(i,e,o),Ud(i,n,o),!0}return!1}function Qu(e,n,i,o){if(o={lane:2,revertLane:_0(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rc(e)){if(n)throw Error(y(479))}else n=hu(e,i,o,2),n!==null&&Er(n,e,2)}function rc(e){var n=e.alternate;return e===ot||n!==null&&n===ot}function zd(e,n){Yl=Qo=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Ud(e,n,i){if((i&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,i|=o,n.lanes=i,Ea(e,i)}}var zs={readContext:$n,use:$o,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An};zs.useEffectEvent=An;var Hd={readContext:$n,use:$o,useCallback:function(e,n){return fr().memoizedState=[e,n===void 0?null:n],e},useContext:$n,useEffect:Ad,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,tc(4194308,4,Nd.bind(null,n,e),i)},useLayoutEffect:function(e,n){return tc(4194308,4,e,n)},useInsertionEffect:function(e,n){tc(4,2,e,n)},useMemo:function(e,n){var i=fr();n=n===void 0?null:n;var o=e();if(ml){Zt(!0);try{e()}finally{Zt(!1)}}return i.memoizedState=[o,n],o},useReducer:function(e,n,i){var o=fr();if(i!==void 0){var f=i(n);if(ml){Zt(!0);try{i(n)}finally{Zt(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=Ng.bind(null,ot,e),[o.memoizedState,e]},useRef:function(e){var n=fr();return e={current:e},n.memoizedState=e},useState:function(e){e=Gu(e);var n=e.queue,i=jd.bind(null,ot,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Yu,useDeferredValue:function(e,n){var i=fr();return qu(i,e,n)},useTransition:function(){var e=Gu(!1);return e=Dd.bind(null,ot,e.queue,!0,!1),fr().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var o=ot,f=fr();if(Nt){if(i===void 0)throw Error(y(407));i=i()}else{if(i=n(),nn===null)throw Error(y(349));(St&127)!==0||sd(o,n,i)}f.memoizedState=i;var m={value:i,getSnapshot:n};return f.queue=m,Ad(cd.bind(null,o,m,e),[e]),o.flags|=2048,Zl(9,{destroy:void 0},od.bind(null,o,m,i,n),null),i},useId:function(){var e=fr(),n=nn.identifierPrefix;if(Nt){var i=Na,o=Ta;i=(o&~(1<<32-ct(o)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Ko++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=wg++,n="_"+n+"r_"+i.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Wu,useFormState:bd,useActionState:bd,useOptimistic:function(e){var n=fr();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Qu.bind(null,ot,!0,i),i.dispatch=n,[e,n]},useMemoCache:Hu,useCacheRefresh:function(){return fr().memoizedState=Tg.bind(null,ot)},useEffectEvent:function(e){var n=fr(),i={impl:e};return n.memoizedState=i,function(){if((Ut&2)!==0)throw Error(y(440));return i.impl.apply(void 0,arguments)}}},Ku={readContext:$n,use:$o,useCallback:Id,useContext:$n,useEffect:Xu,useImperativeHandle:_d,useInsertionEffect:Sd,useLayoutEffect:Td,useMemo:Od,useReducer:ec,useRef:Cd,useState:function(){return ec(Qa)},useDebugValue:Yu,useDeferredValue:function(e,n){var i=Rn();return Rd(i,Wt.memoizedState,e,n)},useTransition:function(){var e=ec(Qa)[0],n=Rn().memoizedState;return[typeof e=="boolean"?e:Ls(e),n]},useSyncExternalStore:ld,useId:kd,useHostTransitionStatus:Wu,useFormState:yd,useActionState:yd,useOptimistic:function(e,n){var i=Rn();return dd(i,Wt,e,n)},useMemoCache:Hu,useCacheRefresh:Ld};Ku.useEffectEvent=vd;var Fd={readContext:$n,use:$o,useCallback:Id,useContext:$n,useEffect:Xu,useImperativeHandle:_d,useInsertionEffect:Sd,useLayoutEffect:Td,useMemo:Od,useReducer:Pu,useRef:Cd,useState:function(){return Pu(Qa)},useDebugValue:Yu,useDeferredValue:function(e,n){var i=Rn();return Wt===null?qu(i,e,n):Rd(i,Wt.memoizedState,e,n)},useTransition:function(){var e=Pu(Qa)[0],n=Rn().memoizedState;return[typeof e=="boolean"?e:Ls(e),n]},useSyncExternalStore:ld,useId:kd,useHostTransitionStatus:Wu,useFormState:Ed,useActionState:Ed,useOptimistic:function(e,n){var i=Rn();return Wt!==null?dd(i,Wt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Hu,useCacheRefresh:Ld};Fd.useEffectEvent=vd;function Ju(e,n,i,o){n=e.memoizedState,i=i(o,n),i=i==null?n:M({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var $u={enqueueSetState:function(e,n,i){e=e._reactInternals;var o=jr(),f=_i(o);f.payload=n,i!=null&&(f.callback=i),n=Ii(e,f,o),n!==null&&(Er(n,e,o),Ds(n,e,o))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var o=jr(),f=_i(o);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Ii(e,f,o),n!==null&&(Er(n,e,o),Ds(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=jr(),o=_i(i);o.tag=2,n!=null&&(o.callback=n),n=Ii(e,o,i),n!==null&&(Er(n,e,i),Ds(n,e,i))}};function Pd(e,n,i,o,f,m,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,v):n.prototype&&n.prototype.isPureReactComponent?!u(i,o)||!u(f,m):!0}function Gd(e,n,i,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,o),n.state!==e&&$u.enqueueReplaceState(n,n.state,null)}function pl(e,n){var i=n;if("ref"in n){i={};for(var o in n)o!=="ref"&&(i[o]=n[o])}if(e=e.defaultProps){i===n&&(i=M({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function Vd(e){ko(e)}function Xd(e){console.error(e)}function Yd(e){ko(e)}function ac(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qd(e,n,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function e0(e,n,i){return i=_i(i),i.tag=3,i.payload={element:null},i.callback=function(){ac(e,n)},i}function Zd(e){return e=_i(e),e.tag=3,e}function Wd(e,n,i,o){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;e.payload=function(){return f(m)},e.callback=function(){qd(n,i,o)}}var v=i.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){qd(n,i,o),typeof f!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var O=o.stack;this.componentDidCatch(o.value,{componentStack:O!==null?O:""})})}function _g(e,n,i,o,f){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=i.alternate,n!==null&&Hl(n,i,f,!0),i=Mr.current,i!==null){switch(i.tag){case 31:case 13:return Kr===null?mc():i.alternate===null&&vn===0&&(vn=3),i.flags&=-257,i.flags|=65536,i.lanes=f,o===Xo?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([o]):n.add(o),S0(e,o,f)),!1;case 22:return i.flags|=65536,o===Xo?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([o]):i.add(o)),S0(e,o,f)),!1}throw Error(y(435,i.tag))}return S0(e,o,f),mc(),!1}if(Nt)return n=Mr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==yu&&(e=Error(y(422),{cause:o}),Ns(qr(e,i)))):(o!==yu&&(n=Error(y(423),{cause:o}),Ns(qr(n,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=qr(o,i),f=e0(e.stateNode,o,f),Ou(e,f),vn!==4&&(vn=2)),!1;var m=Error(y(520),{cause:o});if(m=qr(m,i),Ys===null?Ys=[m]:Ys.push(m),vn!==4&&(vn=2),n===null)return!0;o=qr(o,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=e0(i.stateNode,o,e),Ou(i,e),!1;case 1:if(n=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ki===null||!ki.has(m))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Zd(f),Wd(f,e,i,o),Ou(i,f),!1}i=i.return}while(i!==null);return!1}var t0=Error(y(461)),jn=!1;function er(e,n,i,o){n.child=e===null?$f(n,null,i,o):gl(n,e.child,i,o)}function Qd(e,n,i,o,f){i=i.render;var m=n.ref;if("ref"in o){var v={};for(var O in o)O!=="ref"&&(v[O]=o[O])}else v=o;return fl(n),o=Lu(e,n,i,v,m,f),O=ju(),e!==null&&!jn?(zu(e,n,f),Ka(e,n,f)):(Nt&&O&&pu(n),n.flags|=1,er(e,n,o,f),n.child)}function Kd(e,n,i,o,f){if(e===null){var m=i.type;return typeof m=="function"&&!xu(m)&&m.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=m,Jd(e,n,m,o,f)):(e=Uo(i.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!c0(e,f)){var v=m.memoizedProps;if(i=i.compare,i=i!==null?i:u,i(v,o)&&e.ref===n.ref)return Ka(e,n,f)}return n.flags|=1,e=Xa(m,o),e.ref=n.ref,e.return=n,n.child=e}function Jd(e,n,i,o,f){if(e!==null){var m=e.memoizedProps;if(u(m,o)&&e.ref===n.ref)if(jn=!1,n.pendingProps=o=m,c0(e,f))(e.flags&131072)!==0&&(jn=!0);else return n.lanes=e.lanes,Ka(e,n,f)}return n0(e,n,i,o,f)}function $d(e,n,i,o){var f=o.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,e!==null){for(o=n.child=e.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,n.child=null;return e1(e,n,m,i,o)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Go(n,m!==null?m.cachePool:null),m!==null?nd(n,m):Du(),rd(n);else return o=n.lanes=536870912,e1(e,n,m!==null?m.baseLanes|i:i,i,o)}else m!==null?(Go(n,m.cachePool),nd(n,m),Ri(),n.memoizedState=null):(e!==null&&Go(n,null),Du(),Ri());return er(e,n,f,i),n.child}function Us(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function e1(e,n,i,o,f){var m=Tu();return m=m===null?null:{parent:kn._currentValue,pool:m},n.memoizedState={baseLanes:i,cachePool:m},e!==null&&Go(n,null),Du(),rd(n),e!==null&&Hl(e,n,o,!0),n.childLanes=f,null}function ic(e,n){return n=sc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function t1(e,n,i){return gl(n,e.child,null,i),e=ic(n,n.pendingProps),e.flags|=2,Br(n),n.memoizedState=null,e}function Ig(e,n,i){var o=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Nt){if(o.mode==="hidden")return e=ic(n,o),n.lanes=536870912,Us(null,e);if(Bu(n),(e=sn)?(e=hh(e,Qr),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ai!==null?{id:Ta,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},i=zf(e),i.return=n,n.child=i,Jn=n,sn=null)):e=null,e===null)throw Si(n);return n.lanes=536870912,null}return ic(n,o)}var m=e.memoizedState;if(m!==null){var v=m.dehydrated;if(Bu(n),f)if(n.flags&256)n.flags&=-257,n=t1(e,n,i);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(y(558));else if(jn||Hl(e,n,i,!1),f=(i&e.childLanes)!==0,jn||f){if(o=nn,o!==null&&(v=vl(o,i),v!==0&&v!==m.retryLane))throw m.retryLane=v,sl(e,v),Er(o,e,v),t0;mc(),n=t1(e,n,i)}else e=m.treeContext,sn=Jr(v.nextSibling),Jn=n,Nt=!0,vi=null,Qr=!1,e!==null&&Ff(n,e),n=ic(n,o),n.flags|=4096;return n}return e=Xa(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function lc(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(y(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function n0(e,n,i,o,f){return fl(n),i=Lu(e,n,i,o,void 0,f),o=ju(),e!==null&&!jn?(zu(e,n,f),Ka(e,n,f)):(Nt&&o&&pu(n),n.flags|=1,er(e,n,i,f),n.child)}function n1(e,n,i,o,f,m){return fl(n),n.updateQueue=null,i=id(n,o,i,f),ad(e),o=ju(),e!==null&&!jn?(zu(e,n,m),Ka(e,n,m)):(Nt&&o&&pu(n),n.flags|=1,er(e,n,i,m),n.child)}function r1(e,n,i,o,f){if(fl(n),n.stateNode===null){var m=Ll,v=i.contextType;typeof v=="object"&&v!==null&&(m=$n(v)),m=new i(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=$u,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},_u(n),v=i.contextType,m.context=typeof v=="object"&&v!==null?$n(v):Ll,m.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Ju(n,i,v,o),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&$u.enqueueReplaceState(m,m.state,null),Bs(n,o,m,f),Ms(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){m=n.stateNode;var O=n.memoizedProps,z=pl(i,O);m.props=z;var le=m.context,ye=i.contextType;v=Ll,typeof ye=="object"&&ye!==null&&(v=$n(ye));var Ce=i.getDerivedStateFromProps;ye=typeof Ce=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=n.pendingProps!==O,ye||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||le!==v)&&Gd(n,m,o,v),Ni=!1;var ce=n.memoizedState;m.state=ce,Bs(n,o,m,f),Ms(),le=n.memoizedState,O||ce!==le||Ni?(typeof Ce=="function"&&(Ju(n,i,Ce,o),le=n.memoizedState),(z=Ni||Pd(n,i,z,o,ce,le,v))?(ye||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=le),m.props=o,m.state=le,m.context=v,o=z):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,Iu(e,n),v=n.memoizedProps,ye=pl(i,v),m.props=ye,Ce=n.pendingProps,ce=m.context,le=i.contextType,z=Ll,typeof le=="object"&&le!==null&&(z=$n(le)),O=i.getDerivedStateFromProps,(le=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==Ce||ce!==z)&&Gd(n,m,o,z),Ni=!1,ce=n.memoizedState,m.state=ce,Bs(n,o,m,f),Ms();var he=n.memoizedState;v!==Ce||ce!==he||Ni||e!==null&&e.dependencies!==null&&Fo(e.dependencies)?(typeof O=="function"&&(Ju(n,i,O,o),he=n.memoizedState),(ye=Ni||Pd(n,i,ye,o,ce,he,z)||e!==null&&e.dependencies!==null&&Fo(e.dependencies))?(le||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,he,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,he,z)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&ce===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&ce===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=he),m.props=o,m.state=he,m.context=z,o=ye):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&ce===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&ce===e.memoizedState||(n.flags|=1024),o=!1)}return m=o,lc(e,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&o?(n.child=gl(n,e.child,null,f),n.child=gl(n,null,i,f)):er(e,n,i,f),n.memoizedState=m.state,e=n.child):e=Ka(e,n,f),e}function a1(e,n,i,o){return cl(),n.flags|=256,er(e,n,i,o),n.child}var r0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function a0(e){return{baseLanes:e,cachePool:qf()}}function i0(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Lr),e}function i1(e,n,i){var o=n.pendingProps,f=!1,m=(n.flags&128)!==0,v;if((v=m)||(v=e!==null&&e.memoizedState===null?!1:(On.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Nt){if(f?Oi(n):Ri(),(e=sn)?(e=hh(e,Qr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ai!==null?{id:Ta,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},i=zf(e),i.return=n,n.child=i,Jn=n,sn=null)):e=null,e===null)throw Si(n);return F0(e)?n.lanes=32:n.lanes=536870912,null}var O=o.children;return o=o.fallback,f?(Ri(),f=n.mode,O=sc({mode:"hidden",children:O},f),o=ol(o,f,i,null),O.return=n,o.return=n,O.sibling=o,n.child=O,o=n.child,o.memoizedState=a0(i),o.childLanes=i0(e,v,i),n.memoizedState=r0,Us(null,o)):(Oi(n),l0(n,O))}var z=e.memoizedState;if(z!==null&&(O=z.dehydrated,O!==null)){if(m)n.flags&256?(Oi(n),n.flags&=-257,n=s0(e,n,i)):n.memoizedState!==null?(Ri(),n.child=e.child,n.flags|=128,n=null):(Ri(),O=o.fallback,f=n.mode,o=sc({mode:"visible",children:o.children},f),O=ol(O,f,i,null),O.flags|=2,o.return=n,O.return=n,o.sibling=O,n.child=o,gl(n,e.child,null,i),o=n.child,o.memoizedState=a0(i),o.childLanes=i0(e,v,i),n.memoizedState=r0,n=Us(null,o));else if(Oi(n),F0(O)){if(v=O.nextSibling&&O.nextSibling.dataset,v)var le=v.dgst;v=le,o=Error(y(419)),o.stack="",o.digest=v,Ns({value:o,source:null,stack:null}),n=s0(e,n,i)}else if(jn||Hl(e,n,i,!1),v=(i&e.childLanes)!==0,jn||v){if(v=nn,v!==null&&(o=vl(v,i),o!==0&&o!==z.retryLane))throw z.retryLane=o,sl(e,o),Er(v,e,o),t0;H0(O)||mc(),n=s0(e,n,i)}else H0(O)?(n.flags|=192,n.child=e.child,n=null):(e=z.treeContext,sn=Jr(O.nextSibling),Jn=n,Nt=!0,vi=null,Qr=!1,e!==null&&Ff(n,e),n=l0(n,o.children),n.flags|=4096);return n}return f?(Ri(),O=o.fallback,f=n.mode,z=e.child,le=z.sibling,o=Xa(z,{mode:"hidden",children:o.children}),o.subtreeFlags=z.subtreeFlags&65011712,le!==null?O=Xa(le,O):(O=ol(O,f,i,null),O.flags|=2),O.return=n,o.return=n,o.sibling=O,n.child=o,Us(null,o),o=n.child,O=e.child.memoizedState,O===null?O=a0(i):(f=O.cachePool,f!==null?(z=kn._currentValue,f=f.parent!==z?{parent:z,pool:z}:f):f=qf(),O={baseLanes:O.baseLanes|i,cachePool:f}),o.memoizedState=O,o.childLanes=i0(e,v,i),n.memoizedState=r0,Us(e.child,o)):(Oi(n),i=e.child,e=i.sibling,i=Xa(i,{mode:"visible",children:o.children}),i.return=n,i.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=i,n.memoizedState=null,i)}function l0(e,n){return n=sc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function sc(e,n){return e=Dr(22,e,null,n),e.lanes=0,e}function s0(e,n,i){return gl(n,e.child,null,i),e=l0(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function l1(e,n,i){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Cu(e.return,n,i)}function o0(e,n,i,o,f,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:f,treeForkCount:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=i,v.tailMode=f,v.treeForkCount=m)}function s1(e,n,i){var o=n.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var v=On.current,O=(v&2)!==0;if(O?(v=v&1|2,n.flags|=128):v&=1,Se(On,v),er(e,n,o,i),o=Nt?Ts:0,!O&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&l1(e,i,n);else if(e.tag===19)l1(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)e=i.alternate,e!==null&&Wo(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),o0(n,!1,f,i,m,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Wo(e)===null){n.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}o0(n,!0,i,null,m,o);break;case"together":o0(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ka(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Bi|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Hl(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(y(153));if(n.child!==null){for(e=n.child,i=Xa(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Xa(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function c0(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Fo(e)))}function Og(e,n,i){switch(n.tag){case 3:we(n,n.stateNode.containerInfo),Ti(n,kn,e.memoizedState.cache),cl();break;case 27:case 5:bt(n);break;case 4:we(n,n.stateNode.containerInfo);break;case 10:Ti(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Bu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Oi(n),n.flags|=128,null):(i&n.child.childLanes)!==0?i1(e,n,i):(Oi(n),e=Ka(e,n,i),e!==null?e.sibling:null);Oi(n);break;case 19:var f=(e.flags&128)!==0;if(o=(i&n.childLanes)!==0,o||(Hl(e,n,i,!1),o=(i&n.childLanes)!==0),f){if(o)return s1(e,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Se(On,On.current),o)break;return null;case 22:return n.lanes=0,$d(e,n,i,n.pendingProps);case 24:Ti(n,kn,e.memoizedState.cache)}return Ka(e,n,i)}function o1(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)jn=!0;else{if(!c0(e,i)&&(n.flags&128)===0)return jn=!1,Og(e,n,i);jn=(e.flags&131072)!==0}else jn=!1,Nt&&(n.flags&1048576)!==0&&Hf(n,Ts,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=hl(n.elementType),n.type=e,typeof e=="function")xu(e)?(o=pl(e,o),n.tag=1,n=r1(null,n,e,o,i)):(n.tag=0,n=n0(null,n,e,o,i));else{if(e!=null){var f=e.$$typeof;if(f===oe){n.tag=11,n=Qd(null,n,e,o,i);break e}else if(f===D){n.tag=14,n=Kd(null,n,e,o,i);break e}}throw n=xe(e)||e,Error(y(306,n,""))}}return n;case 0:return n0(e,n,n.type,n.pendingProps,i);case 1:return o=n.type,f=pl(o,n.pendingProps),r1(e,n,o,f,i);case 3:e:{if(we(n,n.stateNode.containerInfo),e===null)throw Error(y(387));o=n.pendingProps;var m=n.memoizedState;f=m.element,Iu(e,n),Bs(n,o,null,i);var v=n.memoizedState;if(o=v.cache,Ti(n,kn,o),o!==m.cache&&Au(n,[kn],i,!0),Ms(),o=v.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=a1(e,n,o,i);break e}else if(o!==f){f=qr(Error(y(424)),n),Ns(f),n=a1(e,n,o,i);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(sn=Jr(e.firstChild),Jn=n,Nt=!0,vi=null,Qr=!0,i=$f(n,null,o,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(cl(),o===f){n=Ka(e,n,i);break e}er(e,n,o,i)}n=n.child}return n;case 26:return lc(e,n),e===null?(i=yh(n.type,null,n.pendingProps,null))?n.memoizedState=i:Nt||(i=n.type,e=n.pendingProps,o=Ac(ne.current).createElement(i),o[Nn]=n,o[Xt]=e,tr(o,i,e),En(o),n.stateNode=o):n.memoizedState=yh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return bt(n),e===null&&Nt&&(o=n.stateNode=mh(n.type,n.pendingProps,ne.current),Jn=n,Qr=!0,f=sn,Ui(n.type)?(P0=f,sn=Jr(o.firstChild)):sn=f),er(e,n,n.pendingProps.children,i),lc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Nt&&((f=o=sn)&&(o=lm(o,n.type,n.pendingProps,Qr),o!==null?(n.stateNode=o,Jn=n,sn=Jr(o.firstChild),Qr=!1,f=!0):f=!1),f||Si(n)),bt(n),f=n.type,m=n.pendingProps,v=e!==null?e.memoizedProps:null,o=m.children,j0(f,m)?o=null:v!==null&&j0(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=Lu(e,n,Eg,null,null,i),eo._currentValue=f),lc(e,n),er(e,n,o,i),n.child;case 6:return e===null&&Nt&&((e=i=sn)&&(i=sm(i,n.pendingProps,Qr),i!==null?(n.stateNode=i,Jn=n,sn=null,e=!0):e=!1),e||Si(n)),null;case 13:return i1(e,n,i);case 4:return we(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=gl(n,null,o,i):er(e,n,o,i),n.child;case 11:return Qd(e,n,n.type,n.pendingProps,i);case 7:return er(e,n,n.pendingProps,i),n.child;case 8:return er(e,n,n.pendingProps.children,i),n.child;case 12:return er(e,n,n.pendingProps.children,i),n.child;case 10:return o=n.pendingProps,Ti(n,n.type,o.value),er(e,n,o.children,i),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,fl(n),f=$n(f),o=o(f),n.flags|=1,er(e,n,o,i),n.child;case 14:return Kd(e,n,n.type,n.pendingProps,i);case 15:return Jd(e,n,n.type,n.pendingProps,i);case 19:return s1(e,n,i);case 31:return Ig(e,n,i);case 22:return $d(e,n,i,n.pendingProps);case 24:return fl(n),o=$n(kn),e===null?(f=Tu(),f===null&&(f=nn,m=vu(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=i),f=m),n.memoizedState={parent:o,cache:f},_u(n),Ti(n,kn,f)):((e.lanes&i)!==0&&(Iu(e,n),Bs(n,null,null,i),Ms()),f=e.memoizedState,m=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ti(n,kn,o)):(o=m.cache,Ti(n,kn,o),o!==f.cache&&Au(n,[kn],i,!0))),er(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(y(156,n.tag))}function Ja(e){e.flags|=4}function u0(e,n,i,o,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(k1())e.flags|=8192;else throw xl=Xo,Nu}else e.flags&=-16777217}function c1(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!vh(n))if(k1())e.flags|=8192;else throw xl=Xo,Nu}function oc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Hn():536870912,e.lanes|=n,Jl|=n)}function Hs(e,n){if(!Nt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function on(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(n)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=i,n}function Rg(e,n,i){var o=n.pendingProps;switch(bu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(n),null;case 1:return on(n),null;case 3:return i=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Za(kn),ke(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ul(n)?Ja(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wu())),on(n),null;case 26:var f=n.type,m=n.memoizedState;return e===null?(Ja(n),m!==null?(on(n),c1(n,m)):(on(n),u0(n,f,null,o,i))):m?m!==e.memoizedState?(Ja(n),on(n),c1(n,m)):(on(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ja(n),on(n),u0(n,f,e,o,i)),null;case 27:if(xt(n),i=ne.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ja(n);else{if(!o){if(n.stateNode===null)throw Error(y(166));return on(n),null}e=De.current,Ul(n)?Pf(n):(e=mh(f,o,i),n.stateNode=e,Ja(n))}return on(n),null;case 5:if(xt(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Ja(n);else{if(!o){if(n.stateNode===null)throw Error(y(166));return on(n),null}if(m=De.current,Ul(n))Pf(n);else{var v=Ac(ne.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?v.createElement(f,{is:o.is}):v.createElement(f)}}m[Nn]=n,m[Xt]=o;e:for(v=n.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===n)break e;for(;v.sibling===null;){if(v.return===null||v.return===n)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}n.stateNode=m;e:switch(tr(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ja(n)}}return on(n),u0(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,i),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Ja(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(y(166));if(e=ne.current,Ul(n)){if(e=n.stateNode,i=n.memoizedProps,o=null,f=Jn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Nn]=n,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||ih(e.nodeValue,i)),e||Si(n,!0)}else e=Ac(e).createTextNode(o),e[Nn]=n,n.stateNode=e}return on(n),null;case 31:if(i=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ul(n),i!==null){if(e===null){if(!o)throw Error(y(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(y(557));e[Nn]=n}else cl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;on(n),e=!1}else i=wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return n.flags&256?(Br(n),n):(Br(n),null);if((n.flags&128)!==0)throw Error(y(558))}return on(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ul(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(y(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(y(317));f[Nn]=n}else cl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;on(n),f=!1}else f=wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Br(n),n):(Br(n),null)}return Br(n),(n.flags&128)!==0?(n.lanes=i,n):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),i!==e&&i&&(n.child.flags|=8192),oc(n,n.updateQueue),on(n),null);case 4:return ke(),e===null&&D0(n.stateNode.containerInfo),on(n),null;case 10:return Za(n.type),on(n),null;case 19:if(ge(On),o=n.memoizedState,o===null)return on(n),null;if(f=(n.flags&128)!==0,m=o.rendering,m===null)if(f)Hs(o,!1);else{if(vn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=Wo(e),m!==null){for(n.flags|=128,Hs(o,!1),e=m.updateQueue,n.updateQueue=e,oc(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)jf(i,e),i=i.sibling;return Se(On,On.current&1|2),Nt&&Ya(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Ht()>hc&&(n.flags|=128,f=!0,Hs(o,!1),n.lanes=4194304)}else{if(!f)if(e=Wo(m),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,oc(n,e),Hs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Nt)return on(n),null}else 2*Ht()-o.renderingStartTime>hc&&i!==536870912&&(n.flags|=128,f=!0,Hs(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(e=o.last,e!==null?e.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ht(),e.sibling=null,i=On.current,Se(On,f?i&1|2:i&1),Nt&&Ya(n,o.treeForkCount),e):(on(n),null);case 22:case 23:return Br(n),Mu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(i&536870912)!==0&&(n.flags&128)===0&&(on(n),n.subtreeFlags&6&&(n.flags|=8192)):on(n),i=n.updateQueue,i!==null&&oc(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==i&&(n.flags|=2048),e!==null&&ge(dl),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Za(kn),on(n),null;case 25:return null;case 30:return null}throw Error(y(156,n.tag))}function Dg(e,n){switch(bu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Za(kn),ke(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return xt(n),null;case 31:if(n.memoizedState!==null){if(Br(n),n.alternate===null)throw Error(y(340));cl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Br(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(y(340));cl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ge(On),null;case 4:return ke(),null;case 10:return Za(n.type),null;case 22:case 23:return Br(n),Mu(),e!==null&&ge(dl),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Za(kn),null;case 25:return null;default:return null}}function u1(e,n){switch(bu(n),n.tag){case 3:Za(kn),ke();break;case 26:case 27:case 5:xt(n);break;case 4:ke();break;case 31:n.memoizedState!==null&&Br(n);break;case 13:Br(n);break;case 19:ge(On);break;case 10:Za(n.type);break;case 22:case 23:Br(n),Mu(),e!==null&&ge(dl);break;case 24:Za(kn)}}function Fs(e,n){try{var i=n.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&e)===e){o=void 0;var m=i.create,v=i.inst;o=m(),v.destroy=o}i=i.next}while(i!==f)}}catch(O){qt(n,n.return,O)}}function Di(e,n,i){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&e)===e){var v=o.inst,O=v.destroy;if(O!==void 0){v.destroy=void 0,f=n;var z=i,le=O;try{le()}catch(ye){qt(f,z,ye)}}}o=o.next}while(o!==m)}}catch(ye){qt(n,n.return,ye)}}function f1(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{td(n,i)}catch(o){qt(e,e.return,o)}}}function d1(e,n,i){i.props=pl(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){qt(e,n,o)}}function Ps(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(f){qt(e,n,f)}}function _a(e,n){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(f){qt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){qt(e,n,f)}else i.current=null}function h1(e){var n=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(f){qt(e,e.return,f)}}function f0(e,n,i){try{var o=e.stateNode;em(o,e.type,i,n),o[Xt]=n}catch(f){qt(e,e.return,f)}}function x1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ui(e.type)||e.tag===4}function d0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ui(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function h0(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=xr));else if(o!==4&&(o===27&&Ui(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(h0(e,n,i),e=e.sibling;e!==null;)h0(e,n,i),e=e.sibling}function cc(e,n,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(o!==4&&(o===27&&Ui(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(cc(e,n,i),e=e.sibling;e!==null;)cc(e,n,i),e=e.sibling}function g1(e){var n=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);tr(n,o,i),n[Nn]=e,n[Xt]=i}catch(m){qt(e,e.return,m)}}var $a=!1,zn=!1,x0=!1,m1=typeof WeakSet=="function"?WeakSet:Set,qn=null;function Mg(e,n){if(e=e.containerInfo,k0=Oc,e=T(e),I(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var v=0,O=-1,z=-1,le=0,ye=0,Ce=e,ce=null;t:for(;;){for(var he;Ce!==i||f!==0&&Ce.nodeType!==3||(O=v+f),Ce!==m||o!==0&&Ce.nodeType!==3||(z=v+o),Ce.nodeType===3&&(v+=Ce.nodeValue.length),(he=Ce.firstChild)!==null;)ce=Ce,Ce=he;for(;;){if(Ce===e)break t;if(ce===i&&++le===f&&(O=v),ce===m&&++ye===o&&(z=v),(he=Ce.nextSibling)!==null)break;Ce=ce,ce=Ce.parentNode}Ce=he}i=O===-1||z===-1?null:{start:O,end:z}}else i=null}i=i||{start:0,end:0}}else i=null;for(L0={focusedElem:e,selectionRange:i},Oc=!1,qn=n;qn!==null;)if(n=qn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qn=e;else for(;qn!==null;){switch(n=qn,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,i=n,f=m.memoizedProps,m=m.memoizedState,o=i.stateNode;try{var Pe=pl(i.type,f);e=o.getSnapshotBeforeUpdate(Pe,m),o.__reactInternalSnapshotBeforeUpdate=e}catch($e){qt(i,i.return,$e)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)U0(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":U0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(y(163))}if(e=n.sibling,e!==null){e.return=n.return,qn=e;break}qn=n.return}}function p1(e,n,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:ti(e,i),o&4&&Fs(5,i);break;case 1:if(ti(e,i),o&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(v){qt(i,i.return,v)}else{var f=pl(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){qt(i,i.return,v)}}o&64&&f1(i),o&512&&Ps(i,i.return);break;case 3:if(ti(e,i),o&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{td(e,n)}catch(v){qt(i,i.return,v)}}break;case 27:n===null&&o&4&&g1(i);case 26:case 5:ti(e,i),n===null&&o&4&&h1(i),o&512&&Ps(i,i.return);break;case 12:ti(e,i);break;case 31:ti(e,i),o&4&&w1(e,i);break;case 13:ti(e,i),o&4&&E1(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=Pg.bind(null,i),om(e,i))));break;case 22:if(o=i.memoizedState!==null||$a,!o){n=n!==null&&n.memoizedState!==null||zn,f=$a;var m=zn;$a=o,(zn=n)&&!m?ni(e,i,(i.subtreeFlags&8772)!==0):ti(e,i),$a=f,zn=m}break;case 30:break;default:ti(e,i)}}function b1(e){var n=e.alternate;n!==null&&(e.alternate=null,b1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&hr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var gn=null,pr=!1;function ei(e,n,i){for(i=i.child;i!==null;)y1(e,n,i),i=i.sibling}function y1(e,n,i){if(Oe&&typeof Oe.onCommitFiberUnmount=="function")try{Oe.onCommitFiberUnmount(rn,i)}catch{}switch(i.tag){case 26:zn||_a(i,n),ei(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:zn||_a(i,n);var o=gn,f=pr;Ui(i.type)&&(gn=i.stateNode,pr=!1),ei(e,n,i),Ks(i.stateNode),gn=o,pr=f;break;case 5:zn||_a(i,n);case 6:if(o=gn,f=pr,gn=null,ei(e,n,i),gn=o,pr=f,gn!==null)if(pr)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(i.stateNode)}catch(m){qt(i,n,m)}else try{gn.removeChild(i.stateNode)}catch(m){qt(i,n,m)}break;case 18:gn!==null&&(pr?(e=gn,fh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ls(e)):fh(gn,i.stateNode));break;case 4:o=gn,f=pr,gn=i.stateNode.containerInfo,pr=!0,ei(e,n,i),gn=o,pr=f;break;case 0:case 11:case 14:case 15:Di(2,i,n),zn||Di(4,i,n),ei(e,n,i);break;case 1:zn||(_a(i,n),o=i.stateNode,typeof o.componentWillUnmount=="function"&&d1(i,n,o)),ei(e,n,i);break;case 21:ei(e,n,i);break;case 22:zn=(o=zn)||i.memoizedState!==null,ei(e,n,i),zn=o;break;default:ei(e,n,i)}}function w1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ls(e)}catch(i){qt(n,n.return,i)}}}function E1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ls(e)}catch(i){qt(n,n.return,i)}}function Bg(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new m1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new m1),n;default:throw Error(y(435,e.tag))}}function uc(e,n){var i=Bg(e);n.forEach(function(o){if(!i.has(o)){i.add(o);var f=Gg.bind(null,e,o);o.then(f,f)}})}function br(e,n){var i=n.deletions;if(i!==null)for(var o=0;o<i.length;o++){var f=i[o],m=e,v=n,O=v;e:for(;O!==null;){switch(O.tag){case 27:if(Ui(O.type)){gn=O.stateNode,pr=!1;break e}break;case 5:gn=O.stateNode,pr=!1;break e;case 3:case 4:gn=O.stateNode.containerInfo,pr=!0;break e}O=O.return}if(gn===null)throw Error(y(160));y1(m,v,f),gn=null,pr=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)C1(n,e),n=n.sibling}var ca=null;function C1(e,n){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:br(n,e),yr(e),o&4&&(Di(3,e,e.return),Fs(3,e),Di(5,e,e.return));break;case 1:br(n,e),yr(e),o&512&&(zn||i===null||_a(i,i.return)),o&64&&$a&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var f=ca;if(br(n,e),yr(e),o&512&&(zn||i===null||_a(i,i.return)),o&4){var m=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ji]||m[Nn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),tr(m,o,i),m[Nn]=e,En(m),o=m;break e;case"link":var v=Ch("link","href",f).get(o+(i.href||""));if(v){for(var O=0;O<v.length;O++)if(m=v[O],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){v.splice(O,1);break t}}m=f.createElement(o),tr(m,o,i),f.head.appendChild(m);break;case"meta":if(v=Ch("meta","content",f).get(o+(i.content||""))){for(O=0;O<v.length;O++)if(m=v[O],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){v.splice(O,1);break t}}m=f.createElement(o),tr(m,o,i),f.head.appendChild(m);break;default:throw Error(y(468,o))}m[Nn]=e,En(m),o=m}e.stateNode=o}else Ah(f,e.type,e.stateNode);else e.stateNode=Eh(f,o,e.memoizedProps);else m!==o?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,o===null?Ah(f,e.type,e.stateNode):Eh(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&f0(e,e.memoizedProps,i.memoizedProps)}break;case 27:br(n,e),yr(e),o&512&&(zn||i===null||_a(i,i.return)),i!==null&&o&4&&f0(e,e.memoizedProps,i.memoizedProps);break;case 5:if(br(n,e),yr(e),o&512&&(zn||i===null||_a(i,i.return)),e.flags&32){f=e.stateNode;try{xi(f,"")}catch(Pe){qt(e,e.return,Pe)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,f0(e,f,i!==null?i.memoizedProps:f)),o&1024&&(x0=!0);break;case 6:if(br(n,e),yr(e),o&4){if(e.stateNode===null)throw Error(y(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(Pe){qt(e,e.return,Pe)}}break;case 3:if(Tc=null,f=ca,ca=vc(n.containerInfo),br(n,e),ca=f,yr(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{ls(n.containerInfo)}catch(Pe){qt(e,e.return,Pe)}x0&&(x0=!1,A1(e));break;case 4:o=ca,ca=vc(e.stateNode.containerInfo),br(n,e),yr(e),ca=o;break;case 12:br(n,e),yr(e);break;case 31:br(n,e),yr(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 13:br(n,e),yr(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(dc=Ht()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 22:f=e.memoizedState!==null;var z=i!==null&&i.memoizedState!==null,le=$a,ye=zn;if($a=le||f,zn=ye||z,br(n,e),zn=ye,$a=le,yr(e),o&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||z||$a||zn||bl(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){z=i=n;try{if(m=z.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{O=z.stateNode;var Ce=z.memoizedProps.style,ce=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;O.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(Pe){qt(z,z.return,Pe)}}}else if(n.tag===6){if(i===null){z=n;try{z.stateNode.nodeValue=f?"":z.memoizedProps}catch(Pe){qt(z,z.return,Pe)}}}else if(n.tag===18){if(i===null){z=n;try{var he=z.stateNode;f?dh(he,!0):dh(z.stateNode,!1)}catch(Pe){qt(z,z.return,Pe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,uc(e,i))));break;case 19:br(n,e),yr(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,uc(e,o)));break;case 30:break;case 21:break;default:br(n,e),yr(e)}}function yr(e){var n=e.flags;if(n&2){try{for(var i,o=e.return;o!==null;){if(x1(o)){i=o;break}o=o.return}if(i==null)throw Error(y(160));switch(i.tag){case 27:var f=i.stateNode,m=d0(e);cc(e,m,f);break;case 5:var v=i.stateNode;i.flags&32&&(xi(v,""),i.flags&=-33);var O=d0(e);cc(e,O,v);break;case 3:case 4:var z=i.stateNode.containerInfo,le=d0(e);h0(e,le,z);break;default:throw Error(y(161))}}catch(ye){qt(e,e.return,ye)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function A1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;A1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ti(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)p1(e,n.alternate,n),n=n.sibling}function bl(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Di(4,n,n.return),bl(n);break;case 1:_a(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&d1(n,n.return,i),bl(n);break;case 27:Ks(n.stateNode);case 26:case 5:_a(n,n.return),bl(n);break;case 22:n.memoizedState===null&&bl(n);break;case 30:bl(n);break;default:bl(n)}e=e.sibling}}function ni(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,m=n,v=m.flags;switch(m.tag){case 0:case 11:case 15:ni(f,m,i),Fs(4,m);break;case 1:if(ni(f,m,i),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(le){qt(o,o.return,le)}if(o=m,f=o.updateQueue,f!==null){var O=o.stateNode;try{var z=f.shared.hiddenCallbacks;if(z!==null)for(f.shared.hiddenCallbacks=null,f=0;f<z.length;f++)ed(z[f],O)}catch(le){qt(o,o.return,le)}}i&&v&64&&f1(m),Ps(m,m.return);break;case 27:g1(m);case 26:case 5:ni(f,m,i),i&&o===null&&v&4&&h1(m),Ps(m,m.return);break;case 12:ni(f,m,i);break;case 31:ni(f,m,i),i&&v&4&&w1(f,m);break;case 13:ni(f,m,i),i&&v&4&&E1(f,m);break;case 22:m.memoizedState===null&&ni(f,m,i),Ps(m,m.return);break;case 30:break;default:ni(f,m,i)}n=n.sibling}}function g0(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&_s(i))}function m0(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_s(e))}function ua(e,n,i,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)v1(e,n,i,o),n=n.sibling}function v1(e,n,i,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ua(e,n,i,o),f&2048&&Fs(9,n);break;case 1:ua(e,n,i,o);break;case 3:ua(e,n,i,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_s(e)));break;case 12:if(f&2048){ua(e,n,i,o),e=n.stateNode;try{var m=n.memoizedProps,v=m.id,O=m.onPostCommit;typeof O=="function"&&O(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(z){qt(n,n.return,z)}}else ua(e,n,i,o);break;case 31:ua(e,n,i,o);break;case 13:ua(e,n,i,o);break;case 23:break;case 22:m=n.stateNode,v=n.alternate,n.memoizedState!==null?m._visibility&2?ua(e,n,i,o):Gs(e,n):m._visibility&2?ua(e,n,i,o):(m._visibility|=2,Wl(e,n,i,o,(n.subtreeFlags&10256)!==0||!1)),f&2048&&g0(v,n);break;case 24:ua(e,n,i,o),f&2048&&m0(n.alternate,n);break;default:ua(e,n,i,o)}}function Wl(e,n,i,o,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,v=n,O=i,z=o,le=v.flags;switch(v.tag){case 0:case 11:case 15:Wl(m,v,O,z,f),Fs(8,v);break;case 23:break;case 22:var ye=v.stateNode;v.memoizedState!==null?ye._visibility&2?Wl(m,v,O,z,f):Gs(m,v):(ye._visibility|=2,Wl(m,v,O,z,f)),f&&le&2048&&g0(v.alternate,v);break;case 24:Wl(m,v,O,z,f),f&&le&2048&&m0(v.alternate,v);break;default:Wl(m,v,O,z,f)}n=n.sibling}}function Gs(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,o=n,f=o.flags;switch(o.tag){case 22:Gs(i,o),f&2048&&g0(o.alternate,o);break;case 24:Gs(i,o),f&2048&&m0(o.alternate,o);break;default:Gs(i,o)}n=n.sibling}}var Vs=8192;function Ql(e,n,i){if(e.subtreeFlags&Vs)for(e=e.child;e!==null;)S1(e,n,i),e=e.sibling}function S1(e,n,i){switch(e.tag){case 26:Ql(e,n,i),e.flags&Vs&&e.memoizedState!==null&&wm(i,ca,e.memoizedState,e.memoizedProps);break;case 5:Ql(e,n,i);break;case 3:case 4:var o=ca;ca=vc(e.stateNode.containerInfo),Ql(e,n,i),ca=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Vs,Vs=16777216,Ql(e,n,i),Vs=o):Ql(e,n,i));break;default:Ql(e,n,i)}}function T1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];qn=o,_1(o,e)}T1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)N1(e),e=e.sibling}function N1(e){switch(e.tag){case 0:case 11:case 15:Xs(e),e.flags&2048&&Di(9,e,e.return);break;case 3:Xs(e);break;case 12:Xs(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,fc(e)):Xs(e);break;default:Xs(e)}}function fc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];qn=o,_1(o,e)}T1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Di(8,n,n.return),fc(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,fc(n));break;default:fc(n)}e=e.sibling}}function _1(e,n){for(;qn!==null;){var i=qn;switch(i.tag){case 0:case 11:case 15:Di(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:_s(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,qn=o;else e:for(i=e;qn!==null;){o=qn;var f=o.sibling,m=o.return;if(b1(o),o===i){qn=null;break e}if(f!==null){f.return=m,qn=f;break e}qn=m}}}var kg={getCacheForType:function(e){var n=$n(kn),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i},cacheSignal:function(){return $n(kn).controller.signal}},Lg=typeof WeakMap=="function"?WeakMap:Map,Ut=0,nn=null,Et=null,St=0,Yt=0,kr=null,Mi=!1,Kl=!1,p0=!1,ri=0,vn=0,Bi=0,yl=0,b0=0,Lr=0,Jl=0,Ys=null,wr=null,y0=!1,dc=0,I1=0,hc=1/0,xc=null,ki=null,Vn=0,Li=null,$l=null,ai=0,w0=0,E0=null,O1=null,qs=0,C0=null;function jr(){return(Ut&2)!==0&&St!==0?St&-St:Z.T!==null?_0():ir()}function R1(){if(Lr===0)if((St&536870912)===0||Nt){var e=At;At<<=1,(At&3932160)===0&&(At=262144),Lr=e}else Lr=536870912;return e=Mr.current,e!==null&&(e.flags|=32),Lr}function Er(e,n,i){(e===nn&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(es(e,0),ji(e,St,Lr,!1)),wa(e,i),((Ut&2)===0||e!==nn)&&(e===nn&&((Ut&2)===0&&(yl|=i),vn===4&&ji(e,St,Lr,!1)),Ia(e))}function D1(e,n,i){if((Ut&6)!==0)throw Error(y(327));var o=!i&&(n&127)===0&&(n&e.expiredLanes)===0||Qn(e,n),f=o?Ug(e,n):v0(e,n,!0),m=o;do{if(f===0){Kl&&!o&&ji(e,n,0,!1);break}else{if(i=e.current.alternate,m&&!jg(i)){f=v0(e,n,!1),m=!1;continue}if(f===2){if(m=n,e.errorRecoveryDisabledLanes&m)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;e:{var O=e;f=Ys;var z=O.current.memoizedState.isDehydrated;if(z&&(es(O,v).flags|=256),v=v0(O,v,!1),v!==2){if(p0&&!z){O.errorRecoveryDisabledLanes|=m,yl|=m,f=4;break e}m=wr,wr=f,m!==null&&(wr===null?wr=m:wr.push.apply(wr,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){es(e,0),ji(e,n,0,!0);break}e:{switch(o=e,m=f,m){case 0:case 1:throw Error(y(345));case 4:if((n&4194048)!==n)break;case 6:ji(o,n,Lr,!Mi);break e;case 2:wr=null;break;case 3:case 5:break;default:throw Error(y(329))}if((n&62914560)===n&&(f=dc+300-Ht(),10<f)){if(ji(o,n,Lr,!Mi),Ki(o,0,!0)!==0)break e;ai=n,o.timeoutHandle=ch(M1.bind(null,o,i,wr,xc,y0,n,Lr,yl,Jl,Mi,m,"Throttled",-0,0),f);break e}M1(o,i,wr,xc,y0,n,Lr,yl,Jl,Mi,m,null,-0,0)}}break}while(!0);Ia(e)}function M1(e,n,i,o,f,m,v,O,z,le,ye,Ce,ce,he){if(e.timeoutHandle=-1,Ce=n.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xr},S1(n,m,Ce);var Pe=(m&62914560)===m?dc-Ht():(m&4194048)===m?I1-Ht():0;if(Pe=Em(Ce,Pe),Pe!==null){ai=m,e.cancelPendingCommit=Pe(F1.bind(null,e,n,m,i,o,f,v,O,z,ye,Ce,null,ce,he)),ji(e,m,v,!le);return}}F1(e,n,m,i,o,f,v,O,z)}function jg(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var f=i[o],m=f.getSnapshot;f=f.value;try{if(!c(m(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ji(e,n,i,o){n&=~b0,n&=~yl,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var m=31-ct(f),v=1<<m;o[m]=-1,f&=~v}i!==0&&wo(e,i,n)}function gc(){return(Ut&6)===0?(Zs(0),!1):!0}function A0(){if(Et!==null){if(Yt===0)var e=Et.return;else e=Et,qa=ul=null,Uu(e),Vl=null,Os=0,e=Et;for(;e!==null;)u1(e.alternate,e),e=e.return;Et=null}}function es(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,rm(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ai=0,A0(),nn=e,Et=i=Xa(e.current,null),St=n,Yt=0,kr=null,Mi=!1,Kl=Qn(e,n),p0=!1,Jl=Lr=b0=yl=Bi=vn=0,wr=Ys=null,y0=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-ct(o),m=1<<f;n|=e[f],o&=~m}return ri=n,Lo(),i}function B1(e,n){ot=null,Z.H=zs,n===Gl||n===Vo?(n=Qf(),Yt=3):n===Nu?(n=Qf(),Yt=4):Yt=n===t0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,kr=n,Et===null&&(vn=1,ac(e,qr(n,e.current)))}function k1(){var e=Mr.current;return e===null?!0:(St&4194048)===St?Kr===null:(St&62914560)===St||(St&536870912)!==0?e===Kr:!1}function L1(){var e=Z.H;return Z.H=zs,e===null?zs:e}function j1(){var e=Z.A;return Z.A=kg,e}function mc(){vn=4,Mi||(St&4194048)!==St&&Mr.current!==null||(Kl=!0),(Bi&134217727)===0&&(yl&134217727)===0||nn===null||ji(nn,St,Lr,!1)}function v0(e,n,i){var o=Ut;Ut|=2;var f=L1(),m=j1();(nn!==e||St!==n)&&(xc=null,es(e,n)),n=!1;var v=vn;e:do try{if(Yt!==0&&Et!==null){var O=Et,z=kr;switch(Yt){case 8:A0(),v=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(n=!0);var le=Yt;if(Yt=0,kr=null,ts(e,O,z,le),i&&Kl){v=0;break e}break;default:le=Yt,Yt=0,kr=null,ts(e,O,z,le)}}zg(),v=vn;break}catch(ye){B1(e,ye)}while(!0);return n&&e.shellSuspendCounter++,qa=ul=null,Ut=o,Z.H=f,Z.A=m,Et===null&&(nn=null,St=0,Lo()),v}function zg(){for(;Et!==null;)z1(Et)}function Ug(e,n){var i=Ut;Ut|=2;var o=L1(),f=j1();nn!==e||St!==n?(xc=null,hc=Ht()+500,es(e,n)):Kl=Qn(e,n);e:do try{if(Yt!==0&&Et!==null){n=Et;var m=kr;t:switch(Yt){case 1:Yt=0,kr=null,ts(e,n,m,1);break;case 2:case 9:if(Zf(m)){Yt=0,kr=null,U1(n);break}n=function(){Yt!==2&&Yt!==9||nn!==e||(Yt=7),Ia(e)},m.then(n,n);break e;case 3:Yt=7;break e;case 4:Yt=5;break e;case 7:Zf(m)?(Yt=0,kr=null,U1(n)):(Yt=0,kr=null,ts(e,n,m,7));break;case 5:var v=null;switch(Et.tag){case 26:v=Et.memoizedState;case 5:case 27:var O=Et;if(v?vh(v):O.stateNode.complete){Yt=0,kr=null;var z=O.sibling;if(z!==null)Et=z;else{var le=O.return;le!==null?(Et=le,pc(le)):Et=null}break t}}Yt=0,kr=null,ts(e,n,m,5);break;case 6:Yt=0,kr=null,ts(e,n,m,6);break;case 8:A0(),vn=6;break e;default:throw Error(y(462))}}Hg();break}catch(ye){B1(e,ye)}while(!0);return qa=ul=null,Z.H=o,Z.A=f,Ut=i,Et!==null?0:(nn=null,St=0,Lo(),vn)}function Hg(){for(;Et!==null&&!ka();)z1(Et)}function z1(e){var n=o1(e.alternate,e,ri);e.memoizedProps=e.pendingProps,n===null?pc(e):Et=n}function U1(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=n1(i,n,n.pendingProps,n.type,void 0,St);break;case 11:n=n1(i,n,n.pendingProps,n.type.render,n.ref,St);break;case 5:Uu(n);default:u1(i,n),n=Et=jf(n,ri),n=o1(i,n,ri)}e.memoizedProps=e.pendingProps,n===null?pc(e):Et=n}function ts(e,n,i,o){qa=ul=null,Uu(n),Vl=null,Os=0;var f=n.return;try{if(_g(e,f,n,i,St)){vn=1,ac(e,qr(i,e.current)),Et=null;return}}catch(m){if(f!==null)throw Et=f,m;vn=1,ac(e,qr(i,e.current)),Et=null;return}n.flags&32768?(Nt||o===1?e=!0:Kl||(St&536870912)!==0?e=!1:(Mi=e=!0,(o===2||o===9||o===3||o===6)&&(o=Mr.current,o!==null&&o.tag===13&&(o.flags|=16384))),H1(n,e)):pc(n)}function pc(e){var n=e;do{if((n.flags&32768)!==0){H1(n,Mi);return}e=n.return;var i=Rg(n.alternate,n,ri);if(i!==null){Et=i;return}if(n=n.sibling,n!==null){Et=n;return}Et=n=e}while(n!==null);vn===0&&(vn=5)}function H1(e,n){do{var i=Dg(e.alternate,e);if(i!==null){i.flags&=32767,Et=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Et=e;return}Et=e=i}while(e!==null);vn=6,Et=null}function F1(e,n,i,o,f,m,v,O,z){e.cancelPendingCommit=null;do bc();while(Vn!==0);if((Ut&6)!==0)throw Error(y(327));if(n!==null){if(n===e.current)throw Error(y(177));if(m=n.lanes|n.childLanes,m|=du,Pr(e,i,m,v,O,z),e===nn&&(Et=nn=null,St=0),$l=n,Li=e,ai=i,w0=m,E0=f,O1=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vg(nr,function(){return Y1(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null,f=ae.p,ae.p=2,v=Ut,Ut|=4;try{Mg(e,n,i)}finally{Ut=v,ae.p=f,Z.T=o}}Vn=1,P1(),G1(),V1()}}function P1(){if(Vn===1){Vn=0;var e=Li,n=$l,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=Z.T,Z.T=null;var o=ae.p;ae.p=2;var f=Ut;Ut|=4;try{C1(n,e);var m=L0,v=T(e.containerInfo),O=m.focusedElem,z=m.selectionRange;if(v!==O&&O&&O.ownerDocument&&A(O.ownerDocument.documentElement,O)){if(z!==null&&I(O)){var le=z.start,ye=z.end;if(ye===void 0&&(ye=le),"selectionStart"in O)O.selectionStart=le,O.selectionEnd=Math.min(ye,O.value.length);else{var Ce=O.ownerDocument||document,ce=Ce&&Ce.defaultView||window;if(ce.getSelection){var he=ce.getSelection(),Pe=O.textContent.length,$e=Math.min(z.start,Pe),Kt=z.end===void 0?$e:Math.min(z.end,Pe);!he.extend&&$e>Kt&&(v=Kt,Kt=$e,$e=v);var $=p(O,$e),q=p(O,Kt);if($&&q&&(he.rangeCount!==1||he.anchorNode!==$.node||he.anchorOffset!==$.offset||he.focusNode!==q.node||he.focusOffset!==q.offset)){var ie=Ce.createRange();ie.setStart($.node,$.offset),he.removeAllRanges(),$e>Kt?(he.addRange(ie),he.extend(q.node,q.offset)):(ie.setEnd(q.node,q.offset),he.addRange(ie))}}}}for(Ce=[],he=O;he=he.parentNode;)he.nodeType===1&&Ce.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<Ce.length;O++){var Ee=Ce[O];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}Oc=!!k0,L0=k0=null}finally{Ut=f,ae.p=o,Z.T=i}}e.current=n,Vn=2}}function G1(){if(Vn===2){Vn=0;var e=Li,n=$l,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=Z.T,Z.T=null;var o=ae.p;ae.p=2;var f=Ut;Ut|=4;try{p1(e,n.alternate,n)}finally{Ut=f,ae.p=o,Z.T=i}}Vn=3}}function V1(){if(Vn===4||Vn===3){Vn=0,La();var e=Li,n=$l,i=ai,o=O1;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vn=5:(Vn=0,$l=Li=null,X1(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ki=null),na(i),n=n.stateNode,Oe&&typeof Oe.onCommitFiberRoot=="function")try{Oe.onCommitFiberRoot(rn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Z.T,f=ae.p,ae.p=2,Z.T=null;try{for(var m=e.onRecoverableError,v=0;v<o.length;v++){var O=o[v];m(O.value,{componentStack:O.stack})}}finally{Z.T=n,ae.p=f}}(ai&3)!==0&&bc(),Ia(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===C0?qs++:(qs=0,C0=e):qs=0,Zs(0)}}function X1(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,_s(n)))}function bc(){return P1(),G1(),V1(),Y1()}function Y1(){if(Vn!==5)return!1;var e=Li,n=w0;w0=0;var i=na(ai),o=Z.T,f=ae.p;try{ae.p=32>i?32:i,Z.T=null,i=E0,E0=null;var m=Li,v=ai;if(Vn=0,$l=Li=null,ai=0,(Ut&6)!==0)throw Error(y(331));var O=Ut;if(Ut|=4,N1(m.current),v1(m,m.current,v,i),Ut=O,Zs(0,!1),Oe&&typeof Oe.onPostCommitFiberRoot=="function")try{Oe.onPostCommitFiberRoot(rn,m)}catch{}return!0}finally{ae.p=f,Z.T=o,X1(e,n)}}function q1(e,n,i){n=qr(i,n),n=e0(e.stateNode,n,2),e=Ii(e,n,2),e!==null&&(wa(e,2),Ia(e))}function qt(e,n,i){if(e.tag===3)q1(e,e,i);else for(;n!==null;){if(n.tag===3){q1(n,e,i);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ki===null||!ki.has(o))){e=qr(i,e),i=Zd(2),o=Ii(n,i,2),o!==null&&(Wd(i,o,n,e),wa(o,2),Ia(o));break}}n=n.return}}function S0(e,n,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Lg;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(i)||(p0=!0,f.add(i),e=Fg.bind(null,e,n,i),n.then(e,e))}function Fg(e,n,i){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,nn===e&&(St&i)===i&&(vn===4||vn===3&&(St&62914560)===St&&300>Ht()-dc?(Ut&2)===0&&es(e,0):b0|=i,Jl===St&&(Jl=0)),Ia(e)}function Z1(e,n){n===0&&(n=Hn()),e=sl(e,n),e!==null&&(wa(e,n),Ia(e))}function Pg(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Z1(e,i)}function Gg(e,n){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(y(314))}o!==null&&o.delete(n),Z1(e,i)}function Vg(e,n){return vr(e,n)}var yc=null,ns=null,T0=!1,wc=!1,N0=!1,zi=0;function Ia(e){e!==ns&&e.next===null&&(ns===null?yc=ns=e:ns=ns.next=e),wc=!0,T0||(T0=!0,Yg())}function Zs(e,n){if(!N0&&wc){N0=!0;do for(var i=!1,o=yc;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var v=o.suspendedLanes,O=o.pingedLanes;m=(1<<31-ct(42|e)+1)-1,m&=f&~(v&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,J1(o,m))}else m=St,m=Ki(o,o===nn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Qn(o,m)||(i=!0,J1(o,m));o=o.next}while(i);N0=!1}}function Xg(){W1()}function W1(){wc=T0=!1;var e=0;zi!==0&&nm()&&(e=zi);for(var n=Ht(),i=null,o=yc;o!==null;){var f=o.next,m=Q1(o,n);m===0?(o.next=null,i===null?yc=f:i.next=f,f===null&&(ns=i)):(i=o,(e!==0||(m&3)!==0)&&(wc=!0)),o=f}Vn!==0&&Vn!==5||Zs(e),zi!==0&&(zi=0)}function Q1(e,n){for(var i=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var v=31-ct(m),O=1<<v,z=f[v];z===-1?((O&i)===0||(O&o)!==0)&&(f[v]=gs(O,n)):z<=n&&(e.expiredLanes|=O),m&=~O}if(n=nn,i=St,i=Ki(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&He(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Qn(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(o!==null&&He(o),na(i)){case 2:case 8:i=oi;break;case 32:i=nr;break;case 268435456:i=Zi;break;default:i=nr}return o=K1.bind(null,e),i=vr(i,o),e.callbackPriority=n,e.callbackNode=i,n}return o!==null&&o!==null&&He(o),e.callbackPriority=2,e.callbackNode=null,2}function K1(e,n){if(Vn!==0&&Vn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(bc()&&e.callbackNode!==i)return null;var o=St;return o=Ki(e,e===nn?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(D1(e,o,n),Q1(e,Ht()),e.callbackNode!=null&&e.callbackNode===i?K1.bind(null,e):null)}function J1(e,n){if(bc())return null;D1(e,n,!0)}function Yg(){am(function(){(Ut&6)!==0?vr(Wn,Xg):W1()})}function _0(){if(zi===0){var e=Fl;e===0&&(e=Qi,Qi<<=1,(Qi&261888)===0&&(Qi=256)),zi=e}return zi}function $1(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gi(""+e)}function eh(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function qg(e,n,i,o,f){if(n==="submit"&&i&&i.stateNode===f){var m=$1((f[Xt]||null).action),v=o.submitter;v&&(n=(n=v[Xt]||null)?$1(n.formAction):v.getAttribute("formAction"),n!==null&&(m=n,v=null));var O=new Fn("action","action",null,o,f);e.push({event:O,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(zi!==0){var z=v?eh(f,v):new FormData(f);Zu(i,{pending:!0,data:z,method:f.method,action:m},null,z)}}else typeof m=="function"&&(O.preventDefault(),z=v?eh(f,v):new FormData(f),Zu(i,{pending:!0,data:z,method:f.method,action:m},m,z))},currentTarget:f}]})}}for(var I0=0;I0<Ss.length;I0++){var O0=Ss[I0],Zg=O0.toLowerCase(),Wg=O0[0].toUpperCase()+O0.slice(1);oa(Zg,"on"+Wg)}oa(mr,"onAnimationEnd"),oa(Kn,"onAnimationIteration"),oa(Gt,"onAnimationStart"),oa("dblclick","onDoubleClick"),oa("focusin","onFocus"),oa("focusout","onBlur"),oa(Gn,"onTransitionRun"),oa(ur,"onTransitionStart"),oa(Ci,"onTransitionCancel"),oa(Va,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ws));function th(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],f=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var v=o.length-1;0<=v;v--){var O=o[v],z=O.instance,le=O.currentTarget;if(O=O.listener,z!==m&&f.isPropagationStopped())break e;m=O,f.currentTarget=le;try{m(f)}catch(ye){ko(ye)}f.currentTarget=null,m=z}else for(v=0;v<o.length;v++){if(O=o[v],z=O.instance,le=O.currentTarget,O=O.listener,z!==m&&f.isPropagationStopped())break e;m=O,f.currentTarget=le;try{m(f)}catch(ye){ko(ye)}f.currentTarget=null,m=z}}}}function Ct(e,n){var i=n[ci];i===void 0&&(i=n[ci]=new Set);var o=e+"__bubble";i.has(o)||(nh(n,e,2,!1),i.add(o))}function R0(e,n,i){var o=0;n&&(o|=4),nh(i,e,o,n)}var Ec="_reactListening"+Math.random().toString(36).slice(2);function D0(e){if(!e[Ec]){e[Ec]=!0,Ae.forEach(function(i){i!=="selectionchange"&&(Qg.has(i)||R0(i,!1,e),R0(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ec]||(n[Ec]=!0,R0("selectionchange",!1,n))}}function nh(e,n,i,o){switch(Rh(n)){case 2:var f=vm;break;case 8:f=Sm;break;default:f=q0}i=f.bind(null,n,i,e),f=void 0,!bs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,i,{capture:!0,passive:f}):e.addEventListener(n,i,!0):f!==void 0?e.addEventListener(n,i,{passive:f}):e.addEventListener(n,i,!1)}function M0(e,n,i,o,f){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var O=o.stateNode.containerInfo;if(O===f)break;if(v===4)for(v=o.return;v!==null;){var z=v.tag;if((z===3||z===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;O!==null;){if(v=wn(O),v===null)return;if(z=v.tag,z===5||z===6||z===26||z===27){o=m=v;continue e}O=O.parentNode}}o=o.return}vo(function(){var le=m,ye=ps(i),Ce=[];e:{var ce=Bo.get(e);if(ce!==void 0){var he=Fn,Pe=e;switch(e){case"keypress":if(Ca(i)===0)break e;case"keydown":case"keyup":he=Dl;break;case"focusin":Pe="focus",he=Es;break;case"focusout":Pe="blur",he=Es;break;case"beforeblur":case"afterblur":he=Es;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=zt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Ol;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=cu;break;case mr:case Kn:case Gt:he=ut;break;case Va:he=Ha;break;case"scroll":case"scrollend":he=So;break;case"wheel":he=uu;break;case"copy":case"cut":case"paste":he=Rl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=Pt;break;case"toggle":case"beforetoggle":he=As}var $e=(n&4)!==0,Kt=!$e&&(e==="scroll"||e==="scrollend"),$=$e?ce!==null?ce+"Capture":null:ce;$e=[];for(var q=le,ie;q!==null;){var Ee=q;if(ie=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||ie===null||$===null||(Ee=rt(q,$),Ee!=null&&$e.push(Qs(q,Ee,ie))),Kt)break;q=q.return}0<$e.length&&(ce=new he(ce,Pe,null,i,ye),Ce.push({event:ce,listeners:$e}))}}if((n&7)===0){e:{if(ce=e==="mouseover"||e==="pointerover",he=e==="mouseout"||e==="pointerout",ce&&i!==$i&&(Pe=i.relatedTarget||i.fromElement)&&(wn(Pe)||Pe[Tr]))break e;if((he||ce)&&(ce=ye.window===ye?ye:(ce=ye.ownerDocument)?ce.defaultView||ce.parentWindow:window,he?(Pe=i.relatedTarget||i.toElement,he=le,Pe=Pe?wn(Pe):null,Pe!==null&&(Kt=w(Pe),$e=Pe.tag,Pe!==Kt||$e!==5&&$e!==27&&$e!==6)&&(Pe=null)):(he=null,Pe=le),he!==Pe)){if($e=zt,Ee="onMouseLeave",$="onMouseEnter",q="mouse",(e==="pointerout"||e==="pointerover")&&($e=Pt,Ee="onPointerLeave",$="onPointerEnter",q="pointer"),Kt=he==null?ce:ui(he),ie=Pe==null?ce:ui(Pe),ce=new $e(Ee,q+"leave",he,i,ye),ce.target=Kt,ce.relatedTarget=ie,Ee=null,wn(ye)===le&&($e=new $e($,q+"enter",Pe,i,ye),$e.target=ie,$e.relatedTarget=Kt,Ee=$e),Kt=Ee,he&&Pe)t:{for($e=Kg,$=he,q=Pe,ie=0,Ee=$;Ee;Ee=$e(Ee))ie++;Ee=0;for(var Qe=q;Qe;Qe=$e(Qe))Ee++;for(;0<ie-Ee;)$=$e($),ie--;for(;0<Ee-ie;)q=$e(q),Ee--;for(;ie--;){if($===q||q!==null&&$===q.alternate){$e=$;break t}$=$e($),q=$e(q)}$e=null}else $e=null;he!==null&&rh(Ce,ce,he,$e,!1),Pe!==null&&Kt!==null&&rh(Ce,Kt,Pe,$e,!0)}}e:{if(ce=le?ui(le):window,he=ce.nodeName&&ce.nodeName.toLowerCase(),he==="select"||he==="input"&&ce.type==="file")var Mt=Rr;else if(vs(ce))if(Mo)Mt=l;else{Mt=r;var Ve=t}else he=ce.nodeName,!he||he.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&$t(le.elementType)&&(Mt=Rr):Mt=a;if(Mt&&(Mt=Mt(e,le))){Or(Ce,Mt,i,ye);break e}Ve&&Ve(e,ce,le),e==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&B(ce,"number",ce.value)}switch(Ve=le?ui(le):window,e){case"focusin":(vs(Ve)||Ve.contentEditable==="true")&&(H=Ve,Y=le,te=null);break;case"focusout":te=Y=H=null;break;case"mousedown":ue=!0;break;case"contextmenu":case"mouseup":case"dragend":ue=!1,Ie(Ce,i,ye);break;case"selectionchange":if(L)break;case"keydown":case"keyup":Ie(Ce,i,ye)}var ft;if(nl)e:{switch(e){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Ei?Do(e,i)&&(Tt="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Tt="onCompositionStart");Tt&&(Ro&&i.locale!=="ko"&&(Ei||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Ei&&(ft=mi()):(la=ye,sa="value"in la?la.value:la.textContent,Ei=!0)),Ve=Cc(le,Tt),0<Ve.length&&(Tt=new _o(Tt,e,null,i,ye),Ce.push({event:Tt,listeners:Ve}),ft?Tt.data=ft:(ft=wi(i),ft!==null&&(Tt.data=ft)))),(ft=Oo?Sa(e,i):Bl(e,i))&&(Tt=Cc(le,"onBeforeInput"),0<Tt.length&&(Ve=new _o("onBeforeInput","beforeinput",null,i,ye),Ce.push({event:Ve,listeners:Tt}),Ve.data=ft)),qg(Ce,e,le,i,ye)}th(Ce,n)})}function Qs(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Cc(e,n){for(var i=n+"Capture",o=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=rt(e,i),f!=null&&o.unshift(Qs(e,f,m)),f=rt(e,n),f!=null&&o.push(Qs(e,f,m))),e.tag===3)return o;e=e.return}return[]}function Kg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rh(e,n,i,o,f){for(var m=n._reactName,v=[];i!==null&&i!==o;){var O=i,z=O.alternate,le=O.stateNode;if(O=O.tag,z!==null&&z===o)break;O!==5&&O!==26&&O!==27||le===null||(z=le,f?(le=rt(i,m),le!=null&&v.unshift(Qs(i,le,z))):f||(le=rt(i,m),le!=null&&v.push(Qs(i,le,z)))),i=i.return}v.length!==0&&e.push({event:n,listeners:v})}var Jg=/\r\n?/g,$g=/\u0000|\uFFFD/g;function ah(e){return(typeof e=="string"?e:""+e).replace(Jg,`
`).replace($g,"")}function ih(e,n){return n=ah(n),ah(e)===n}function Qt(e,n,i,o,f,m){switch(i){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||xi(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&xi(e,""+o);break;case"className":di(e,"class",o);break;case"tabIndex":di(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":di(e,i,o);break;case"style":Ze(e,o,m);break;case"data":if(n!=="object"){di(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=gi(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(n!=="input"&&Qt(e,n,"name",f.name,f,null),Qt(e,n,"formEncType",f.formEncType,f,null),Qt(e,n,"formMethod",f.formMethod,f,null),Qt(e,n,"formTarget",f.formTarget,f,null)):(Qt(e,n,"encType",f.encType,f,null),Qt(e,n,"method",f.method,f,null),Qt(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=gi(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=xr);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(y(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(y(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=gi(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),fi(e,"popover",o);break;case"xlinkActuate":_r(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":_r(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":_r(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":_r(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":_r(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":_r(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":_r(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":_r(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":_r(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ao.get(i)||i,fi(e,i,o))}}function B0(e,n,i,o,f,m){switch(i){case"style":Ze(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(y(61));if(i=o.__html,i!=null){if(f.children!=null)throw Error(y(60));e.innerHTML=i}}break;case"children":typeof o=="string"?xi(e,o):(typeof o=="number"||typeof o=="bigint")&&xi(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),m=e[Xt]||null,m=m!=null?m[i]:null,typeof m=="function"&&e.removeEventListener(n,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,o,f);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):fi(e,i,o)}}}function tr(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,f=!1,m;for(m in i)if(i.hasOwnProperty(m)){var v=i[m];if(v!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(y(137,n));default:Qt(e,n,m,v,i,null)}}f&&Qt(e,n,"srcSet",i.srcSet,i,null),o&&Qt(e,n,"src",i.src,i,null);return;case"input":Ct("invalid",e);var O=m=v=f=null,z=null,le=null;for(o in i)if(i.hasOwnProperty(o)){var ye=i[o];if(ye!=null)switch(o){case"name":f=ye;break;case"type":v=ye;break;case"checked":z=ye;break;case"defaultChecked":le=ye;break;case"value":m=ye;break;case"defaultValue":O=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(y(137,n));break;default:Qt(e,n,o,ye,i,null)}}re(e,m,O,z,le,v,f,!1);return;case"select":Ct("invalid",e),o=v=m=null;for(f in i)if(i.hasOwnProperty(f)&&(O=i[f],O!=null))switch(f){case"value":m=O;break;case"defaultValue":v=O;break;case"multiple":o=O;default:Qt(e,n,f,O,i,null)}n=m,i=v,e.multiple=!!o,n!=null?Ge(e,!!o,n,!1):i!=null&&Ge(e,!!o,i,!0);return;case"textarea":Ct("invalid",e),m=f=o=null;for(v in i)if(i.hasOwnProperty(v)&&(O=i[v],O!=null))switch(v){case"value":o=O;break;case"defaultValue":f=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(y(91));break;default:Qt(e,n,v,O,i,null)}or(e,o,f,m);return;case"option":for(z in i)if(i.hasOwnProperty(z)&&(o=i[z],o!=null))switch(z){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Qt(e,n,z,o,i,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<Ws.length;o++)Ct(Ws[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in i)if(i.hasOwnProperty(le)&&(o=i[le],o!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(y(137,n));default:Qt(e,n,le,o,i,null)}return;default:if($t(n)){for(ye in i)i.hasOwnProperty(ye)&&(o=i[ye],o!==void 0&&B0(e,n,ye,o,i,void 0));return}}for(O in i)i.hasOwnProperty(O)&&(o=i[O],o!=null&&Qt(e,n,O,o,i,null))}function em(e,n,i,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,O=null,z=null,le=null,ye=null;for(he in i){var Ce=i[he];if(i.hasOwnProperty(he)&&Ce!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":z=Ce;default:o.hasOwnProperty(he)||Qt(e,n,he,null,o,Ce)}}for(var ce in o){var he=o[ce];if(Ce=i[ce],o.hasOwnProperty(ce)&&(he!=null||Ce!=null))switch(ce){case"type":m=he;break;case"name":f=he;break;case"checked":le=he;break;case"defaultChecked":ye=he;break;case"value":v=he;break;case"defaultValue":O=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(y(137,n));break;default:he!==Ce&&Qt(e,n,ce,he,o,Ce)}}Mn(e,v,O,z,le,ye,m,f);return;case"select":he=v=O=ce=null;for(m in i)if(z=i[m],i.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":he=z;default:o.hasOwnProperty(m)||Qt(e,n,m,null,o,z)}for(f in o)if(m=o[f],z=i[f],o.hasOwnProperty(f)&&(m!=null||z!=null))switch(f){case"value":ce=m;break;case"defaultValue":O=m;break;case"multiple":v=m;default:m!==z&&Qt(e,n,f,m,o,z)}n=O,i=v,o=he,ce!=null?Ge(e,!!i,ce,!1):!!o!=!!i&&(n!=null?Ge(e,!!i,n,!0):Ge(e,!!i,i?[]:"",!1));return;case"textarea":he=ce=null;for(O in i)if(f=i[O],i.hasOwnProperty(O)&&f!=null&&!o.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Qt(e,n,O,null,o,f)}for(v in o)if(f=o[v],m=i[v],o.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":ce=f;break;case"defaultValue":he=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(y(91));break;default:f!==m&&Qt(e,n,v,f,o,m)}_n(e,ce,he);return;case"option":for(var Pe in i)if(ce=i[Pe],i.hasOwnProperty(Pe)&&ce!=null&&!o.hasOwnProperty(Pe))switch(Pe){case"selected":e.selected=!1;break;default:Qt(e,n,Pe,null,o,ce)}for(z in o)if(ce=o[z],he=i[z],o.hasOwnProperty(z)&&ce!==he&&(ce!=null||he!=null))switch(z){case"selected":e.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:Qt(e,n,z,ce,o,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in i)ce=i[$e],i.hasOwnProperty($e)&&ce!=null&&!o.hasOwnProperty($e)&&Qt(e,n,$e,null,o,ce);for(le in o)if(ce=o[le],he=i[le],o.hasOwnProperty(le)&&ce!==he&&(ce!=null||he!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(y(137,n));break;default:Qt(e,n,le,ce,o,he)}return;default:if($t(n)){for(var Kt in i)ce=i[Kt],i.hasOwnProperty(Kt)&&ce!==void 0&&!o.hasOwnProperty(Kt)&&B0(e,n,Kt,void 0,o,ce);for(ye in o)ce=o[ye],he=i[ye],!o.hasOwnProperty(ye)||ce===he||ce===void 0&&he===void 0||B0(e,n,ye,ce,o,he);return}}for(var $ in i)ce=i[$],i.hasOwnProperty($)&&ce!=null&&!o.hasOwnProperty($)&&Qt(e,n,$,null,o,ce);for(Ce in o)ce=o[Ce],he=i[Ce],!o.hasOwnProperty(Ce)||ce===he||ce==null&&he==null||Qt(e,n,Ce,ce,o,he)}function lh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tm(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var f=i[o],m=f.transferSize,v=f.initiatorType,O=f.duration;if(m&&O&&lh(v)){for(v=0,O=f.responseEnd,o+=1;o<i.length;o++){var z=i[o],le=z.startTime;if(le>O)break;var ye=z.transferSize,Ce=z.initiatorType;ye&&lh(Ce)&&(z=z.responseEnd,v+=ye*(z<O?1:(O-le)/(z-le)))}if(--o,n+=8*(m+v)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var k0=null,L0=null;function Ac(e){return e.nodeType===9?e:e.ownerDocument}function sh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function j0(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var z0=null;function nm(){var e=window.event;return e&&e.type==="popstate"?e===z0?!1:(z0=e,!0):(z0=null,!1)}var ch=typeof setTimeout=="function"?setTimeout:void 0,rm=typeof clearTimeout=="function"?clearTimeout:void 0,uh=typeof Promise=="function"?Promise:void 0,am=typeof queueMicrotask=="function"?queueMicrotask:typeof uh<"u"?function(e){return uh.resolve(null).then(e).catch(im)}:ch;function im(e){setTimeout(function(){throw e})}function Ui(e){return e==="head"}function fh(e,n){var i=n,o=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(f),ls(n);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")Ks(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ks(i);for(var m=i.firstChild;m;){var v=m.nextSibling,O=m.nodeName;m[Ji]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=v}}else i==="body"&&Ks(e.ownerDocument.body);i=f}while(i);ls(n)}function dh(e,n){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function U0(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":U0(i),hr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function lm(e,n,i,o){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ji])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Jr(e.nextSibling),e===null)break}return null}function sm(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Jr(e.nextSibling),e===null))return null;return e}function hh(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Jr(e.nextSibling),e===null))return null;return e}function H0(e){return e.data==="$?"||e.data==="$~"}function F0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function om(e,n){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||i.readyState!=="loading")n();else{var o=function(){n(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Jr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var P0=null;function xh(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(n===0)return Jr(e.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}e=e.nextSibling}return null}function gh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return e;n--}else i!=="/$"&&i!=="/&"||n++}e=e.previousSibling}return null}function mh(e,n,i){switch(n=Ac(i),e){case"html":if(e=n.documentElement,!e)throw Error(y(452));return e;case"head":if(e=n.head,!e)throw Error(y(453));return e;case"body":if(e=n.body,!e)throw Error(y(454));return e;default:throw Error(y(451))}}function Ks(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);hr(e)}var $r=new Map,ph=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ii=ae.d;ae.d={f:cm,r:um,D:fm,C:dm,L:hm,m:xm,X:mm,S:gm,M:pm};function cm(){var e=ii.f(),n=gc();return e||n}function um(e){var n=jt(e);n!==null&&n.tag===5&&n.type==="form"?Bd(n):ii.r(e)}var rs=typeof document>"u"?null:document;function bh(e,n,i){var o=rs;if(o&&typeof n=="string"&&n){var f=yt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),ph.has(f)||(ph.add(f),e={rel:e,crossOrigin:i,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),tr(n,"link",e),En(n),o.head.appendChild(n)))}}function fm(e){ii.D(e),bh("dns-prefetch",e,null)}function dm(e,n){ii.C(e,n),bh("preconnect",e,n)}function hm(e,n,i){ii.L(e,n,i);var o=rs;if(o&&e&&n){var f='link[rel="preload"][as="'+yt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+yt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+yt(i.imageSizes)+'"]')):f+='[href="'+yt(e)+'"]';var m=f;switch(n){case"style":m=as(e);break;case"script":m=is(e)}$r.has(m)||(e=M({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),$r.set(m,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(Js(m))||n==="script"&&o.querySelector($s(m))||(n=o.createElement("link"),tr(n,"link",e),En(n),o.head.appendChild(n)))}}function xm(e,n){ii.m(e,n);var i=rs;if(i&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+yt(o)+'"][href="'+yt(e)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=is(e)}if(!$r.has(m)&&(e=M({rel:"modulepreload",href:e},n),$r.set(m,e),i.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector($s(m)))return}o=i.createElement("link"),tr(o,"link",e),En(o),i.head.appendChild(o)}}}function gm(e,n,i){ii.S(e,n,i);var o=rs;if(o&&e){var f=sr(o).hoistableStyles,m=as(e);n=n||"default";var v=f.get(m);if(!v){var O={loading:0,preload:null};if(v=o.querySelector(Js(m)))O.loading=5;else{e=M({rel:"stylesheet",href:e,"data-precedence":n},i),(i=$r.get(m))&&G0(e,i);var z=v=o.createElement("link");En(z),tr(z,"link",e),z._p=new Promise(function(le,ye){z.onload=le,z.onerror=ye}),z.addEventListener("load",function(){O.loading|=1}),z.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Sc(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:O},f.set(m,v)}}}function mm(e,n){ii.X(e,n);var i=rs;if(i&&e){var o=sr(i).hoistableScripts,f=is(e),m=o.get(f);m||(m=i.querySelector($s(f)),m||(e=M({src:e,async:!0},n),(n=$r.get(f))&&V0(e,n),m=i.createElement("script"),En(m),tr(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function pm(e,n){ii.M(e,n);var i=rs;if(i&&e){var o=sr(i).hoistableScripts,f=is(e),m=o.get(f);m||(m=i.querySelector($s(f)),m||(e=M({src:e,async:!0,type:"module"},n),(n=$r.get(f))&&V0(e,n),m=i.createElement("script"),En(m),tr(m,"link",e),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function yh(e,n,i,o){var f=(f=ne.current)?vc(f):null;if(!f)throw Error(y(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=as(i.href),i=sr(f).hoistableStyles,o=i.get(n),o||(o={type:"style",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=as(i.href);var m=sr(f).hoistableStyles,v=m.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,v),(m=f.querySelector(Js(e)))&&!m._p&&(v.instance=m,v.state.loading=5),$r.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},$r.set(e,i),m||bm(f,e,i,v.state))),n&&o===null)throw Error(y(528,""));return v}if(n&&o!==null)throw Error(y(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=is(i),i=sr(f).hoistableScripts,o=i.get(n),o||(o={type:"script",instance:null,count:0,state:null},i.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(y(444,e))}}function as(e){return'href="'+yt(e)+'"'}function Js(e){return'link[rel="stylesheet"]['+e+"]"}function wh(e){return M({},e,{"data-precedence":e.precedence,precedence:null})}function bm(e,n,i,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),tr(n,"link",i),En(n),e.head.appendChild(n))}function is(e){return'[src="'+yt(e)+'"]'}function $s(e){return"script[async]"+e}function Eh(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+yt(i.href)+'"]');if(o)return n.instance=o,En(o),o;var f=M({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),En(o),tr(o,"style",f),Sc(o,i.precedence,e),n.instance=o;case"stylesheet":f=as(i.href);var m=e.querySelector(Js(f));if(m)return n.state.loading|=4,n.instance=m,En(m),m;o=wh(i),(f=$r.get(f))&&G0(o,f),m=(e.ownerDocument||e).createElement("link"),En(m);var v=m;return v._p=new Promise(function(O,z){v.onload=O,v.onerror=z}),tr(m,"link",o),n.state.loading|=4,Sc(m,i.precedence,e),n.instance=m;case"script":return m=is(i.src),(f=e.querySelector($s(m)))?(n.instance=f,En(f),f):(o=i,(f=$r.get(m))&&(o=M({},i),V0(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),En(f),tr(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(y(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Sc(o,i.precedence,e));return n.instance}function Sc(e,n,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,v=0;v<o.length;v++){var O=o[v];if(O.dataset.precedence===n)m=O;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function G0(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function V0(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Tc=null;function Ch(e,n,i){if(Tc===null){var o=new Map,f=Tc=new Map;f.set(i,o)}else f=Tc,o=f.get(i),o||(o=new Map,f.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var m=i[f];if(!(m[Ji]||m[Nn]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(n)||"";v=e+v;var O=o.get(v);O?O.push(m):o.set(v,[m])}}return o}function Ah(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function ym(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function vh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function wm(e,n,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=as(o.href),m=n.querySelector(Js(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Nc.bind(e),n.then(e,e)),i.state.loading|=4,i.instance=m,En(m);return}m=n.ownerDocument||n,o=wh(o),(f=$r.get(f))&&G0(o,f),m=m.createElement("link"),En(m);var v=m;v._p=new Promise(function(O,z){v.onload=O,v.onerror=z}),tr(m,"link",o),i.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Nc.bind(e),n.addEventListener("load",i),n.addEventListener("error",i))}}var X0=0;function Em(e,n){return e.stylesheets&&e.count===0&&Ic(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&X0===0&&(X0=62500*tm());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>X0?50:800)+n);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function Ic(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(Cm,e),_c=null,Nc.call(e))}function Cm(e,n){if(!(n.state.loading&4)){var i=_c.get(e);if(i)var o=i.get(null);else{i=new Map,_c.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(i.set(v.dataset.precedence,v),o=v)}o&&i.set(null,o)}f=n.instance,v=f.getAttribute("data-precedence"),m=i.get(v)||o,m===o&&i.set(null,f),i.set(v,f),this.count++,o=Nc.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var eo={$$typeof:J,Provider:null,Consumer:null,_currentValue:Me,_currentValue2:Me,_threadCount:0};function Am(e,n,i,o,f,m,v,O,z){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.hiddenUpdates=ya(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Sh(e,n,i,o,f,m,v,O,z,le,ye,Ce){return e=new Am(e,n,i,v,z,le,ye,Ce,O),n=1,m===!0&&(n|=24),m=Dr(3,null,null,n),e.current=m,m.stateNode=e,n=vu(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:i,cache:n},_u(m),e}function Th(e){return e?(e=Ll,e):Ll}function Nh(e,n,i,o,f,m){f=Th(f),o.context===null?o.context=f:o.pendingContext=f,o=_i(n),o.payload={element:i},m=m===void 0?null:m,m!==null&&(o.callback=m),i=Ii(e,o,n),i!==null&&(Er(i,e,n),Ds(i,e,n))}function _h(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Y0(e,n){_h(e,n),(e=e.alternate)&&_h(e,n)}function Ih(e){if(e.tag===13||e.tag===31){var n=sl(e,67108864);n!==null&&Er(n,e,67108864),Y0(e,67108864)}}function Oh(e){if(e.tag===13||e.tag===31){var n=jr();n=Yn(n);var i=sl(e,n);i!==null&&Er(i,e,n),Y0(e,n)}}var Oc=!0;function vm(e,n,i,o){var f=Z.T;Z.T=null;var m=ae.p;try{ae.p=2,q0(e,n,i,o)}finally{ae.p=m,Z.T=f}}function Sm(e,n,i,o){var f=Z.T;Z.T=null;var m=ae.p;try{ae.p=8,q0(e,n,i,o)}finally{ae.p=m,Z.T=f}}function q0(e,n,i,o){if(Oc){var f=Z0(o);if(f===null)M0(e,n,o,Rc,i),Dh(e,o);else if(Nm(f,e,n,i,o))o.stopPropagation();else if(Dh(e,o),n&4&&-1<Tm.indexOf(e)){for(;f!==null;){var m=jt(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=ba(m.pendingLanes);if(v!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;v;){var z=1<<31-ct(v);O.entanglements[1]|=z,v&=~z}Ia(m),(Ut&6)===0&&(hc=Ht()+500,Zs(0))}}break;case 31:case 13:O=sl(m,2),O!==null&&Er(O,m,2),gc(),Y0(m,2)}if(m=Z0(o),m===null&&M0(e,n,o,Rc,i),m===f)break;f=m}f!==null&&o.stopPropagation()}else M0(e,n,o,null,i)}}function Z0(e){return e=ps(e),W0(e)}var Rc=null;function W0(e){if(Rc=null,e=wn(e),e!==null){var n=w(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=N(n),e!==null)return e;e=null}else if(i===31){if(e=R(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Rc=e,null}function Rh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sr()){case Wn:return 2;case oi:return 8;case nr:case Dn:return 32;case Zi:return 268435456;default:return 32}default:return 32}}var Q0=!1,Hi=null,Fi=null,Pi=null,to=new Map,no=new Map,Gi=[],Tm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dh(e,n){switch(e){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":to.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(n.pointerId)}}function ro(e,n,i,o,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:i,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},n!==null&&(n=jt(n),n!==null&&Ih(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Nm(e,n,i,o,f){switch(n){case"focusin":return Hi=ro(Hi,e,n,i,o,f),!0;case"dragenter":return Fi=ro(Fi,e,n,i,o,f),!0;case"mouseover":return Pi=ro(Pi,e,n,i,o,f),!0;case"pointerover":var m=f.pointerId;return to.set(m,ro(to.get(m)||null,e,n,i,o,f)),!0;case"gotpointercapture":return m=f.pointerId,no.set(m,ro(no.get(m)||null,e,n,i,o,f)),!0}return!1}function Mh(e){var n=wn(e.target);if(n!==null){var i=w(n);if(i!==null){if(n=i.tag,n===13){if(n=N(i),n!==null){e.blockedOn=n,je(e.priority,function(){Oh(i)});return}}else if(n===31){if(n=R(i),n!==null){e.blockedOn=n,je(e.priority,function(){Oh(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Z0(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);$i=o,i.target.dispatchEvent(o),$i=null}else return n=jt(i),n!==null&&Ih(n),e.blockedOn=i,!1;n.shift()}return!0}function Bh(e,n,i){Dc(e)&&i.delete(n)}function _m(){Q0=!1,Hi!==null&&Dc(Hi)&&(Hi=null),Fi!==null&&Dc(Fi)&&(Fi=null),Pi!==null&&Dc(Pi)&&(Pi=null),to.forEach(Bh),no.forEach(Bh)}function Mc(e,n){e.blockedOn===n&&(e.blockedOn=null,Q0||(Q0=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,_m)))}var Bc=null;function kh(e){Bc!==e&&(Bc=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Bc===e&&(Bc=null);for(var n=0;n<e.length;n+=3){var i=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(W0(o||i)===null)continue;break}var m=jt(i);m!==null&&(e.splice(n,3),n-=3,Zu(m,{pending:!0,data:f,method:i.method,action:o},o,f))}}))}function ls(e){function n(z){return Mc(z,e)}Hi!==null&&Mc(Hi,e),Fi!==null&&Mc(Fi,e),Pi!==null&&Mc(Pi,e),to.forEach(n),no.forEach(n);for(var i=0;i<Gi.length;i++){var o=Gi[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Gi.length&&(i=Gi[0],i.blockedOn===null);)Mh(i),i.blockedOn===null&&Gi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var f=i[o],m=i[o+1],v=f[Xt]||null;if(typeof m=="function")v||kh(i);else if(v){var O=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[Xt]||null)O=v.formAction;else if(W0(f)!==null)continue}else O=v.action;typeof O=="function"?i[o+1]=O:(i.splice(o,3),o-=3),kh(i)}}}function Lh(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function K0(e){this._internalRoot=e}kc.prototype.render=K0.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(y(409));var i=n.current,o=jr();Nh(i,o,e,n,null,null)},kc.prototype.unmount=K0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Nh(e.current,2,null,e,null,null),gc(),n[Tr]=null}};function kc(e){this._internalRoot=e}kc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ir();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Gi.length&&n!==0&&n<Gi[i].priority;i++);Gi.splice(i,0,e),i===0&&Mh(e)}};var jh=h.version;if(jh!=="19.2.0")throw Error(y(527,jh,"19.2.0"));ae.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(y(188)):(e=Object.keys(e).join(","),Error(y(268,e)));return e=C(n),e=e!==null?k(e):null,e=e===null?null:e.stateNode,e};var Im={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{rn=Lc.inject(Im),Oe=Lc}catch{}}return io.createRoot=function(e,n){if(!E(e))throw Error(y(299));var i=!1,o="",f=Vd,m=Xd,v=Yd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=Sh(e,1,!1,null,null,i,o,null,f,m,v,Lh),e[Tr]=n.current,D0(e),new K0(n)},io.hydrateRoot=function(e,n,i){if(!E(e))throw Error(y(299));var o=!1,f="",m=Vd,v=Xd,O=Yd,z=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(O=i.onRecoverableError),i.formState!==void 0&&(z=i.formState)),n=Sh(e,1,!0,n,i??null,o,f,z,m,v,O,Lh),n.context=Th(null),i=n.current,o=jr(),o=Yn(o),f=_i(o),f.callback=null,Ii(i,f,o),i=o,n.current.lanes=i,wa(n,i),Ia(n),e[Tr]=n.current,D0(e),new kc(n)},io.version="19.2.0",io}var qh;function Um(){if(qh)return ef.exports;qh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(h){console.error(h)}}return d(),ef.exports=zm(),ef.exports}var Hm=Um();const Fm=Jc(Hm);async function Bx(d,h){const y=(await cs()).transaction(d,"readwrite"),E=y.objectStore(d);return h.forEach(w=>E.put(w)),new Promise((w,N)=>{y.oncomplete=()=>w(),y.onerror=()=>N(y.error)})}function cs(){return new Promise((d,h)=>{const g=window.indexedDB.open("falcon_db",3);g.onupgradeneeded=()=>{const y=g.result;["falcon_products_db","falcon_orders_db","falcon_users_db","falcon_user","falcon_user_logged","falcon_order_items_db","falcon_inbox_db"].forEach(w=>{y.objectStoreNames.contains(w)||y.createObjectStore(w,{keyPath:"id",autoIncrement:!1})})},g.onsuccess=()=>d(g.result),g.onerror=()=>h(g.error)})}async function Ar(d,h){const y=(await cs()).transaction(d,"readwrite");return y.objectStore(d).put(h),new Promise((E,w)=>{y.oncomplete=()=>E(),y.onerror=()=>w(y.error)})}async function pn(d){const y=(await cs()).transaction(d,"readonly").objectStore(d);return new Promise(E=>{const w=y.getAll();w.onsuccess=()=>E(w.result)})}async function Vc(d,h){const y=(await cs()).transaction(d,"readwrite");return y.objectStore(d).delete(h),new Promise((E,w)=>{y.oncomplete=()=>E(),y.onerror=()=>w(y.error)})}async function so(d){const g=(await cs()).transaction(d,"readwrite");return g.objectStore(d).clear(),new Promise((y,E)=>{g.oncomplete=()=>y(),g.onerror=()=>E(g.error)})}const Zh=Object.freeze(Object.defineProperty({__proto__:null,clearStore:so,getAll:pn,openDB:cs,removeItem:Vc,saveItem:Ar,saveItems:Bx},Symbol.toStringTag,{value:"Module"})),El=({isOpen:d,onClose:h,title:g,children:y,footer:E})=>d?b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:b.jsxs("div",{className:"bg-white dark:bg-[#1E1E1E] rounded-xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all animate-scale-in border border-gray-100 dark:border-gray-700",children:[b.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[b.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:g}),b.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 transition-colors p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:b.jsx("span",{className:"material-symbols-outlined text-xl",children:"close"})})]}),b.jsx("div",{className:"p-6 text-slate-600 dark:text-gray-300 max-h-[50vh] overflow-y-auto",children:y}),E&&b.jsx("div",{className:"px-6 py-4 bg-gray-50 dark:bg-[#252525] flex justify-end gap-3 border-t border-gray-100 dark:border-gray-700",children:E})]})}):null,Wh=({isOpen:d,setIsOpen:h,onNavigate:g,currentScreen:y,theme:E,setTheme:w})=>{const N=R=>`flex items-center gap-3 p-2 rounded-lg transition-colors cursor-pointer ${y===R?"bg-primary/10 text-primary dark:text-primary":"text-text-secondary-light dark:text-text-secondary-dark hover:bg-gray-100 dark:hover:bg-gray-800"}`;return b.jsxs(b.Fragment,{children:[d&&b.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 transition-opacity lg:hidden",onClick:()=>h(!1)}),b.jsxs("aside",{className:`fixed inset-y-0 left-0 z-40 w-64 transform bg-surface-light dark:bg-background-dark p-4 shadow-xl transition-transform duration-300 ease-in-out lg:translate-x-0 ${d?"translate-x-0":"-translate-x-full"}`,children:[b.jsxs("div",{className:"flex items-center gap-2 mb-8 cursor-pointer",onClick:()=>g("productList"),children:[b.jsx("div",{className:"bg-primary p-2 rounded-lg",children:b.jsx("span",{className:"material-symbols-outlined text-white",children:"shopping_cart"})}),b.jsx("span",{className:"text-xl font-bold font-display",children:"VNET"}),b.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"v1.0.2"})]}),b.jsxs("nav",{className:"flex flex-col h-[calc(100%-4rem)] overflow-y-auto no-scrollbar",children:[b.jsxs("ul",{className:"space-y-1",children:[b.jsx("li",{children:b.jsxs("div",{className:N("productList"),onClick:()=>g("productList"),children:[b.jsx("span",{className:"material-symbols-outlined",children:"dashboard"}),b.jsx("span",{className:"font-medium",children:"Menu Principal"})]})}),b.jsx("li",{className:"pt-4 text-xs font-semibold uppercase text-gray-400 dark:text-gray-500 px-2 pb-2",children:"Opes"}),b.jsx("li",{hidden:!0,children:b.jsxs("div",{className:N("inbox"),onClick:()=>g("inbox"),children:[b.jsx("span",{className:"material-symbols-outlined",children:"mail"}),b.jsx("span",{className:"font-medium",children:"Caixa de Entrada"})]})}),b.jsx("li",{children:b.jsxs("div",{className:N("sync"),onClick:()=>g("sync"),children:[b.jsx("span",{className:"material-symbols-outlined",children:"sync"}),b.jsx("span",{className:"font-medium",children:"Sincronizar Dados"})]})}),b.jsx("li",{children:b.jsxs("div",{className:N("productTable"),onClick:()=>g("productTable"),children:[b.jsx("span",{className:"material-symbols-outlined",children:"inventory_2"}),b.jsx("span",{className:"font-medium",children:"Produtos"})]})}),b.jsx("li",{children:b.jsxs("div",{className:N("orderList"),onClick:()=>g("orderList"),children:[b.jsx("span",{className:"material-symbols-outlined",children:"orders"}),b.jsx("span",{className:"font-medium",children:"Pedidos"})]})}),b.jsx("li",{children:b.jsxs("div",{className:N("shop"),onClick:()=>g("shop"),children:[b.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"}),b.jsx("span",{className:"font-medium",children:"Novo Pedido"})]})}),b.jsx("li",{children:b.jsxs("div",{className:N("addProduct"),onClick:()=>g("addProduct"),children:[b.jsx("span",{className:"material-symbols-outlined",children:"add_circle"}),b.jsx("span",{className:"font-medium",children:"Adicionar Produto"})]})}),b.jsx("li",{children:b.jsxs("div",{className:N("config"),onClick:()=>g("config"),children:[b.jsx("span",{className:"material-symbols-outlined",children:"settings"}),b.jsx("span",{className:"font-medium",children:"Configuraes"})]})}),b.jsx("li",{children:b.jsxs("div",{className:N("profile"),onClick:()=>g("profile"),children:[b.jsx("span",{className:"material-symbols-outlined",children:"person"}),b.jsx("span",{className:"font-medium",children:"Perfil"})]})}),b.jsx("li",{hidden:!0,children:b.jsxs("a",{href:"#",className:"flex items-center gap-3 p-2 rounded-lg text-text-secondary-light dark:text-text-secondary-dark hover:bg-gray-100 dark:hover:bg-gray-800",children:[b.jsx("span",{className:"material-symbols-outlined",children:"calendar_today"}),b.jsx("span",{className:"font-medium",children:"Calendrio"})]})}),b.jsx("li",{hidden:!0,children:b.jsxs("a",{href:"#",className:"flex items-center gap-3 p-2 rounded-lg text-text-secondary-light dark:text-text-secondary-dark hover:bg-gray-100 dark:hover:bg-gray-800",children:[b.jsx("span",{className:"material-symbols-outlined",children:"chat_bubble"}),b.jsx("span",{className:"font-medium",children:"Chat"})]})})]}),b.jsxs("div",{className:"mt-auto pt-4 border-t border-border-light dark:border-border-dark",children:[b.jsxs("button",{onClick:()=>w(E==="dark"?"light":"dark"),className:"w-full flex items-center gap-3 p-2 rounded-lg text-primary hover:bg-primary/10 dark:hover:bg-primary/20 mb-2",children:[b.jsx("span",{className:"material-symbols-outlined",children:E==="dark"?"light_mode":"dark_mode"}),b.jsx("span",{className:"font-medium",children:E==="dark"?"Modo Claro":"Modo Escuro"})]}),b.jsxs("button",{onClick:()=>g("login"),className:"w-full flex items-center gap-3 p-2 rounded-lg text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20",children:[b.jsx("span",{className:"material-symbols-outlined",children:"logout"}),b.jsx("span",{className:"font-medium",children:"Sair"})]})]})]})]})]})},Pm=({currentScreen:d,onNavigate:h})=>{const g=y=>`flex flex-col items-center justify-center gap-1 w-1/5 ${d===y?"text-primary":"text-text-secondary-light dark:text-text-secondary-dark hover:text-primary dark:hover:text-white"}`;return b.jsx("nav",{className:"fixed bottom-0 left-0 w-full z-30 border-t border-border-light dark:border-border-dark bg-surface-light dark:bg-background-dark pb-safe",children:b.jsxs("div",{className:"flex h-16 items-center justify-around px-2",children:[b.jsxs("button",{className:g("productList"),onClick:()=>h("productList"),children:[b.jsx("span",{className:"material-symbols-outlined text-2xl",children:"home"}),b.jsx("span",{className:"text-[10px] font-medium",children:"Incio"})]}),b.jsxs("button",{className:g("productTable"),onClick:()=>h("productTable"),children:[b.jsx("span",{className:"material-symbols-outlined text-2xl",children:"inventory_2"}),b.jsx("span",{className:"text-[10px] font-medium",children:"Produtos"})]}),b.jsxs("button",{className:g("addProduct"),onClick:()=>h("addProduct"),children:[b.jsx("span",{className:"material-symbols-outlined text-2xl",children:"add_circle"}),b.jsx("span",{className:"text-[10px] font-medium",children:"Adicionar"})]}),b.jsxs("button",{className:g("shop"),onClick:()=>h("shop"),children:[b.jsx("span",{className:"material-symbols-outlined text-2xl",children:"shopping_cart"}),b.jsx("span",{className:"text-[10px] font-medium",children:"Novo Pedido"})]}),b.jsxs("button",{className:g("profile"),onClick:()=>h("profile"),children:[b.jsx("span",{className:"material-symbols-outlined text-2xl",children:"person"}),b.jsx("span",{className:"text-[10px] font-medium",children:"Perfil"})]})]})})},Oa=({children:d,title:h,showBottomNav:g=!0,isSidebarOpen:y,setIsSidebarOpen:E,onNavigate:w,currentScreen:N,theme:R,setTheme:_})=>b.jsxs("div",{className:"min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-sans overflow-x-hidden",children:[b.jsx("div",{className:"hidden lg:block",children:b.jsx(Wh,{isOpen:!0,setIsOpen:()=>{},onNavigate:w,currentScreen:N,theme:R,setTheme:_})}),b.jsx("div",{className:"lg:hidden",children:b.jsx(Wh,{isOpen:y,setIsOpen:E,onNavigate:w,currentScreen:N,theme:R,setTheme:_})}),b.jsxs("main",{className:`transition-all duration-300 ${["login","register"].includes(N)?"":"lg:ml-64"} flex flex-col min-h-screen`,children:[d,g&&b.jsx("div",{className:"lg:hidden mt-auto",children:b.jsx(Pm,{currentScreen:N,onNavigate:w})})]})]}),Qh=({onNavigate:d})=>{const[h,g]=Ne.useState(""),[y,E]=Ne.useState(""),[w,N]=Ne.useState(""),R=()=>{pn("falcon_users_db").then(_=>{if(!Array.isArray(_)||_.length===0){N("Usurio no encontrado.");return}const C=_.find(k=>(k.Email===h||k.Nome===h)&&k.password===y);if(!C){N("E-mail ou senha incorretos.");return}N(""),Ar("falcon_user_logged",C).then(()=>{d("productList")})})};return b.jsx("div",{className:"relative flex min-h-screen w-full flex-col bg-background-dark font-display text-white overflow-hidden",children:b.jsxs("div",{className:"flex flex-col flex-grow justify-center px-6 pt-12 pb-8 max-w-md mx-auto w-full",children:[b.jsxs("div",{className:"text-center mb-10",children:[b.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white mb-2",children:"Bem-vindo de volta"}),b.jsx("p",{className:"text-text-secondary-dark",children:"Faa login para continuar"})]}),b.jsxs("div",{className:"flex flex-col gap-5",children:[b.jsxs("label",{className:"flex flex-col flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Usurio ou E-mail"}),b.jsx("input",{className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"ex: seu.nome@exemplo.com",value:h,onChange:_=>g(_.target.value)})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("label",{className:"flex flex-col flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Senha"}),b.jsx("input",{type:"password",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite sua senha",value:y,onChange:_=>E(_.target.value)})]}),b.jsx("div",{className:"flex justify-end",children:b.jsx("button",{className:"text-sm font-medium text-primary hover:text-blue-400 transition-colors",children:"Esqueceu a senha?"})})]})]}),b.jsxs("div",{className:"mt-8",children:[w&&b.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:w}),b.jsx("button",{onClick:R,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95",children:"Entrar"})]}),b.jsx("div",{className:"mt-auto pt-8 text-center",children:b.jsxs("p",{className:"text-text-secondary-dark",children:["No tem uma conta?"," ",b.jsx("button",{onClick:()=>d("register"),className:"font-semibold text-primary hover:text-blue-400 transition-colors",children:"Criar Conta"})]})})]})})},Gm=({onNavigate:d})=>{const[h,g]=Ne.useState(""),[y,E]=Ne.useState(""),[w,N]=Ne.useState(""),[R,_]=Ne.useState(""),[C,k]=Ne.useState(""),M=()=>{if(!h||!y||!w||!R){k("Preencha todos os campos.");return}if(w!==R){k("As senhas no conferem.");return}const G={id:Date.now().toString(),Nome:h,Email:y,password:w,Avatar:"",Bio:"",Telefone:""};Ar("falcon_user",G).then(()=>{Ar("falcon_users_db",G).then(()=>{k(""),d("login")}).catch(W=>{k("Erro ao salvar em falcon_users_db: "+((W==null?void 0:W.message)||W))})}).catch(W=>{k("Erro ao salvar em falcon_user: "+((W==null?void 0:W.message)||W))})};return b.jsxs("div",{className:"relative flex min-h-screen w-full flex-col bg-background-dark font-display text-white overflow-hidden",children:[b.jsx("div",{className:"flex items-center p-4",children:b.jsx("h1",{className:"text-white text-3xl font-bold leading-tight",children:"Criar Conta"})}),b.jsx("main",{className:"flex-grow px-4 max-w-md mx-auto w-full",children:b.jsxs("div",{className:"flex flex-col gap-4 py-3",children:[b.jsxs("label",{className:"flex flex-col flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Nome"}),b.jsx("input",{className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite seu nome completo",value:h,onChange:G=>g(G.target.value)})]}),b.jsxs("label",{className:"flex flex-col flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium pb-2",children:"E-mail"}),b.jsx("input",{type:"email",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite seu e-mail",value:y,onChange:G=>E(G.target.value)})]}),b.jsxs("label",{className:"flex flex-col flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Senha"}),b.jsx("input",{type:"password",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Digite sua senha",value:w,onChange:G=>N(G.target.value)})]}),b.jsxs("label",{className:"flex flex-col flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium pb-2",children:"Confirmar Senha"}),b.jsx("input",{type:"password",className:"w-full rounded-lg bg-surface-dark border border-border-dark text-white placeholder-text-secondary-dark focus:border-primary focus:ring-primary h-14 px-4 transition-all outline-none",placeholder:"Confirme sua senha",value:R,onChange:G=>_(G.target.value)})]})]})}),b.jsxs("footer",{className:"mt-auto p-4 pb-6 max-w-md mx-auto w-full",children:[C&&b.jsx("p",{className:"text-red-500 text-sm mb-2 text-center",children:C}),b.jsx("button",{onClick:M,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95 mb-4",children:"Criar Conta"}),b.jsxs("p",{className:"text-center text-sm text-text-secondary-dark",children:["J tem uma conta?"," ",b.jsx("button",{onClick:()=>d("login"),className:"font-semibold text-primary hover:underline",children:"Entrar"})]})]})]})};var Vm=Mx();const Xm=Jc(Vm),$c=0,Xi=1,us=2,kx=4;function Kh(d){return()=>d}function Ym(d){d()}function uo(d,h){return g=>d(h(g))}function Jh(d,h){return()=>d(h)}function qm(d,h){return g=>d(h,g)}function bf(d){return d!==void 0}function Zm(...d){return()=>{d.map(Ym)}}function fs(){}function eu(d,h){return h(d),d}function Wm(d,h){return h(d)}function dn(...d){return d}function Vt(d,h){return d(Xi,h)}function ht(d,h){d($c,h)}function yf(d){d(us)}function bn(d){return d(kx)}function Xe(d,h){return Vt(d,qm(h,$c))}function xa(d,h){const g=d(Xi,y=>{g(),h(y)});return g}function $h(d){let h,g;return y=>E=>{h=E,g&&clearTimeout(g),g=setTimeout(()=>{y(h)},d)}}function Lx(d,h){return d===h}function un(d=Lx){let h;return g=>y=>{d(h,y)||(h=y,g(y))}}function tt(d){return h=>g=>{d(g)&&h(g)}}function Fe(d){return h=>uo(h,d)}function Ra(d){return h=>()=>{h(d)}}function Te(d,...h){const g=Qm(...h);return(y,E)=>{switch(y){case us:yf(d);return;case Xi:return Vt(d,g(E))}}}function Da(d,h){return g=>y=>{g(h=d(h,y))}}function Cl(d){return h=>g=>{d>0?d--:h(g)}}function si(d){let h=null,g;return y=>E=>{h=E,!g&&(g=setTimeout(()=>{g=void 0,y(h)},d))}}function pt(...d){const h=new Array(d.length);let g=0,y=null;const E=Math.pow(2,d.length)-1;return d.forEach((w,N)=>{const R=Math.pow(2,N);Vt(w,_=>{const C=g;g=g|R,h[N]=_,C!==E&&g===E&&y&&(y(),y=null)})}),w=>N=>{const R=()=>{w([N].concat(h))};g===E?R():y=R}}function Qm(...d){return h=>d.reduceRight(Wm,h)}function Km(d){let h,g;const y=()=>h==null?void 0:h();return function(E,w){switch(E){case Xi:return w?g===w?void 0:(y(),g=w,h=Vt(d,w),h):(y(),fs);case us:y(),g=null;return}}}function Be(d){let h=d;const g=_t();return(y,E)=>{switch(y){case $c:h=E;break;case Xi:{E(h);break}case kx:return h}return g(y,E)}}function ar(d,h){return eu(Be(h),g=>Xe(d,g))}function _t(){const d=[];return(h,g)=>{switch(h){case $c:d.slice().forEach(y=>{y(g)});return;case us:d.splice(0,d.length);return;case Xi:return d.push(g),()=>{const y=d.indexOf(g);y>-1&&d.splice(y,1)}}}}function Hr(d){return eu(_t(),h=>Xe(d,h))}function kt(d,h=[],{singleton:g}={singleton:!0}){return{constructor:d,dependencies:h,id:Jm(),singleton:g}}const Jm=()=>Symbol();function $m(d){const h=new Map,g=({constructor:y,dependencies:E,id:w,singleton:N})=>{if(N&&h.has(w))return h.get(w);const R=y(E.map(_=>g(_)));return N&&h.set(w,R),R};return g(d)}function Un(...d){const h=_t(),g=new Array(d.length);let y=0;const E=Math.pow(2,d.length)-1;return d.forEach((w,N)=>{const R=Math.pow(2,N);Vt(w,_=>{g[N]=_,y=y|R,y===E&&ht(h,g)})}),function(w,N){switch(w){case us:{yf(h);return}case Xi:return y===E&&N(g),Vt(h,N)}}}function nt(d,h=Lx){return Te(d,un(h))}function uf(...d){return function(h,g){switch(h){case us:return;case Xi:return Zm(...d.map(y=>Vt(y,g)))}}}var Cr=(d=>(d[d.DEBUG=0]="DEBUG",d[d.INFO=1]="INFO",d[d.WARN=2]="WARN",d[d.ERROR=3]="ERROR",d))(Cr||{});const e2={0:"debug",3:"error",1:"log",2:"warn"},t2=()=>typeof globalThis>"u"?window:globalThis,Yi=kt(()=>{const d=Be(3);return{log:Be((h,g,y=1)=>{var E;const w=(E=t2().VIRTUOSO_LOG_LEVEL)!=null?E:bn(d);y>=w&&console[e2[y]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",h,g)}),logLevel:d}},[],{singleton:!0});function Ma(d,h,g){return wf(d,h,g).callbackRef}function wf(d,h,g){const y=Le.useRef(null);let E=N=>{};const w=Le.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(N=>{const R=()=>{const _=N[0].target;_.offsetParent!==null&&d(_)};g?R():requestAnimationFrame(R)}):null,[d,g]);return E=N=>{N&&h?(w==null||w.observe(N),y.current=N):(y.current&&(w==null||w.unobserve(y.current)),y.current=null)},{callbackRef:E,ref:y}}function jx(d,h,g,y,E,w,N,R,_){const C=Le.useCallback(k=>{const M=n2(k.children,h,R?"offsetWidth":"offsetHeight",E);let G=k.parentElement;for(;!G.dataset.virtuosoScroller;)G=G.parentElement;const W=G.lastElementChild.dataset.viewportType==="window";let se;W&&(se=G.ownerDocument.defaultView);const U=N?R?N.scrollLeft:N.scrollTop:W?R?se.scrollX||se.document.documentElement.scrollLeft:se.scrollY||se.document.documentElement.scrollTop:R?G.scrollLeft:G.scrollTop,X=N?R?N.scrollWidth:N.scrollHeight:W?R?se.document.documentElement.scrollWidth:se.document.documentElement.scrollHeight:R?G.scrollWidth:G.scrollHeight,j=N?R?N.offsetWidth:N.offsetHeight:W?R?se.innerWidth:se.innerHeight:R?G.offsetWidth:G.offsetHeight;y({scrollHeight:X,scrollTop:Math.max(U,0),viewportHeight:j}),w==null||w(R?ex("column-gap",getComputedStyle(k).columnGap,E):ex("row-gap",getComputedStyle(k).rowGap,E)),M!==null&&d(M)},[d,h,E,w,N,y,R]);return wf(C,g,_)}function n2(d,h,g,y){const E=d.length;if(E===0)return null;const w=[];for(let N=0;N<E;N++){const R=d.item(N);if(R.dataset.index===void 0)continue;const _=parseInt(R.dataset.index),C=parseFloat(R.dataset.knownSize),k=h(R,g);if(k===0&&y("Zero-sized element, this should not happen",{child:R},Cr.ERROR),k===C)continue;const M=w[w.length-1];w.length===0||M.size!==k||M.endIndex!==_-1?w.push({endIndex:_,size:k,startIndex:_}):w[w.length-1].endIndex++}return w}function ex(d,h,g){return h!=="normal"&&!(h!=null&&h.endsWith("px"))&&g(`${d} was not resolved to pixel value correctly`,h,Cr.WARN),h==="normal"?0:parseInt(h??"0",10)}function Ef(d,h,g){const y=Le.useRef(null),E=Le.useCallback(_=>{if(!(_!=null&&_.offsetParent))return;const C=_.getBoundingClientRect(),k=C.width;let M,G;if(h){const W=h.getBoundingClientRect(),se=C.top-W.top;G=W.height-Math.max(0,se),M=se+h.scrollTop}else{const W=N.current.ownerDocument.defaultView;G=W.innerHeight-Math.max(0,C.top),M=C.top+W.scrollY}y.current={offsetTop:M,visibleHeight:G,visibleWidth:k},d(y.current)},[d,h]),{callbackRef:w,ref:N}=wf(E,!0,g),R=Le.useCallback(()=>{E(N.current)},[E,N]);return Le.useEffect(()=>{var _;if(h){h.addEventListener("scroll",R);const C=new ResizeObserver(()=>{requestAnimationFrame(R)});return C.observe(h),()=>{h.removeEventListener("scroll",R),C.unobserve(h)}}else{const C=(_=N.current)==null?void 0:_.ownerDocument.defaultView;return C==null||C.addEventListener("scroll",R),C==null||C.addEventListener("resize",R),()=>{C==null||C.removeEventListener("scroll",R),C==null||C.removeEventListener("resize",R)}}},[R,h,N]),w}const dr=kt(()=>{const d=_t(),h=_t(),g=Be(0),y=_t(),E=Be(0),w=_t(),N=_t(),R=Be(0),_=Be(0),C=Be(0),k=Be(0),M=_t(),G=_t(),W=Be(!1),se=Be(!1),U=Be(!1);return Xe(Te(d,Fe(({scrollTop:X})=>X)),h),Xe(Te(d,Fe(({scrollHeight:X})=>X)),N),Xe(h,E),{deviation:g,fixedFooterHeight:C,fixedHeaderHeight:_,footerHeight:k,headerHeight:R,horizontalDirection:se,scrollBy:G,scrollContainerState:d,scrollHeight:N,scrollingInProgress:W,scrollTo:M,scrollTop:h,skipAnimationFrameInResizeObserver:U,smoothScrollTargetReached:y,statefulScrollTop:E,viewportHeight:w}},[],{singleton:!0}),fo={lvl:0};function zx(d,h){const g=d.length;if(g===0)return[];let{index:y,value:E}=h(d[0]);const w=[];for(let N=1;N<g;N++){const{index:R,value:_}=h(d[N]);w.push({end:R-1,start:y,value:E}),y=R,E=_}return w.push({end:1/0,start:y,value:E}),w}function Jt(d){return d===fo}function ho(d,h){if(!Jt(d))return h===d.k?d.v:h<d.k?ho(d.l,h):ho(d.r,h)}function ma(d,h,g="k"){if(Jt(d))return[-1/0,void 0];if(Number(d[g])===h)return[d.k,d.v];if(Number(d[g])<h){const y=ma(d.r,h,g);return y[0]===-1/0?[d.k,d.v]:y}return ma(d.l,h,g)}function Ur(d,h,g){return Jt(d)?Fx(h,g,1):h===d.k?Xn(d,{k:h,v:g}):h<d.k?tx(Xn(d,{l:Ur(d.l,h,g)})):tx(Xn(d,{r:Ur(d.r,h,g)}))}function os(){return fo}function tu(d,h,g){if(Jt(d))return[];const y=ma(d,h)[0];return r2(df(d,y,g))}function ff(d,h){if(Jt(d))return fo;const{k:g,l:y,r:E}=d;if(h===g){if(Jt(y))return E;if(Jt(E))return y;{const[w,N]=Hx(y);return Pc(Xn(d,{k:w,l:Ux(y),v:N}))}}else return h<g?Pc(Xn(d,{l:ff(y,h)})):Pc(Xn(d,{r:ff(E,h)}))}function wl(d){return Jt(d)?[]:[...wl(d.l),{k:d.k,v:d.v},...wl(d.r)]}function df(d,h,g){if(Jt(d))return[];const{k:y,l:E,r:w,v:N}=d;let R=[];return y>h&&(R=R.concat(df(E,h,g))),y>=h&&y<=g&&R.push({k:y,v:N}),y<=g&&(R=R.concat(df(w,h,g))),R}function Pc(d){const{l:h,lvl:g,r:y}=d;if(y.lvl>=g-1&&h.lvl>=g-1)return d;if(g>y.lvl+1){if(af(h))return Px(Xn(d,{lvl:g-1}));if(!Jt(h)&&!Jt(h.r))return Xn(h.r,{l:Xn(h,{r:h.r.l}),lvl:g,r:Xn(d,{l:h.r.r,lvl:g-1})});throw new Error("Unexpected empty nodes")}else{if(af(d))return hf(Xn(d,{lvl:g-1}));if(!Jt(y)&&!Jt(y.l)){const E=y.l,w=af(E)?y.lvl-1:y.lvl;return Xn(E,{l:Xn(d,{lvl:g-1,r:E.l}),lvl:E.lvl+1,r:hf(Xn(y,{l:E.r,lvl:w}))})}else throw new Error("Unexpected empty nodes")}}function Xn(d,h){return Fx(h.k!==void 0?h.k:d.k,h.v!==void 0?h.v:d.v,h.lvl!==void 0?h.lvl:d.lvl,h.l!==void 0?h.l:d.l,h.r!==void 0?h.r:d.r)}function Ux(d){return Jt(d.r)?d.l:Pc(Xn(d,{r:Ux(d.r)}))}function af(d){return Jt(d)||d.lvl>d.r.lvl}function Hx(d){return Jt(d.r)?[d.k,d.v]:Hx(d.r)}function Fx(d,h,g,y=fo,E=fo){return{k:d,l:y,lvl:g,r:E,v:h}}function tx(d){return hf(Px(d))}function Px(d){const{l:h}=d;return!Jt(h)&&h.lvl===d.lvl?Xn(h,{r:Xn(d,{l:h.r})}):d}function hf(d){const{lvl:h,r:g}=d;return!Jt(g)&&!Jt(g.r)&&g.lvl===h&&g.r.lvl===h?Xn(g,{l:Xn(d,{r:g.l}),lvl:h+1}):d}function r2(d){return zx(d,({k:h,v:g})=>({index:h,value:g}))}function Gx(d,h){return!!(d&&d.startIndex===h.startIndex&&d.endIndex===h.endIndex)}function xo(d,h){return!!(d&&d[0]===h[0]&&d[1]===h[1])}const Cf=kt(()=>({recalcInProgress:Be(!1)}),[],{singleton:!0});function Vx(d,h,g){return d[Xc(d,h,g)]}function Xc(d,h,g,y=0){let E=d.length-1;for(;y<=E;){const w=Math.floor((y+E)/2),N=d[w],R=g(N,h);if(R===0)return w;if(R===-1){if(E-y<2)return w-1;E=w-1}else{if(E===y)return w;y=w+1}}throw new Error(`Failed binary finding record in array - ${d.join(",")}, searched for ${h}`)}function a2(d,h,g,y){const E=Xc(d,h,y),w=Xc(d,g,y,E);return d.slice(E,w+1)}function pa(d,h){return Math.round(d.getBoundingClientRect()[h])}function nu(d){return!Jt(d.groupOffsetTree)}function Af({index:d},h){return h===d?0:h<d?-1:1}function i2(){return{groupIndices:[],groupOffsetTree:os(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:os()}}function l2(d,h){let g=Jt(d)?0:1/0;for(const y of h){const{endIndex:E,size:w,startIndex:N}=y;if(g=Math.min(g,N),Jt(d)){d=Ur(d,0,w);continue}const R=tu(d,N-1,E+1);if(R.some(h2(y)))continue;let _=!1,C=!1;for(const{end:k,start:M,value:G}of R)_?(E>=M||w===G)&&(d=ff(d,M)):(C=G!==w,_=!0),k>E&&E>=M&&G!==w&&(d=Ur(d,E+1,G));C&&(d=Ur(d,N,w))}return[d,g]}function s2(d){return typeof d.groupIndex<"u"}function o2({offset:d},h){return h===d?0:h<d?-1:1}function go(d,h,g){if(h.length===0)return 0;const{index:y,offset:E,size:w}=Vx(h,d,Af),N=d-y,R=w*N+(N-1)*g+E;return R>0?R+g:R}function Xx(d,h){if(!nu(h))return d;let g=0;for(;h.groupIndices[g]<=d+g;)g++;return d+g}function Yx(d,h,g){if(s2(d))return h.groupIndices[d.groupIndex]+1;{const y=d.index==="LAST"?g:d.index;let E=Xx(y,h);return E=Math.max(0,E,Math.min(g,E)),E}}function c2(d,h,g,y=0){return y>0&&(h=Math.max(h,Vx(d,y,Af).offset)),zx(a2(d,h,g,o2),d2)}function u2(d,[h,g,y,E]){h.length>0&&y("received item sizes",h,Cr.DEBUG);const w=d.sizeTree;let N=w,R=0;if(g.length>0&&Jt(w)&&h.length===2){const G=h[0].size,W=h[1].size;N=g.reduce((se,U)=>Ur(Ur(se,U,G),U+1,W),N)}else[N,R]=l2(N,h);if(N===w)return d;const{lastIndex:_,lastOffset:C,lastSize:k,offsetTree:M}=xf(d.offsetTree,R,N,E);return{groupIndices:g,groupOffsetTree:g.reduce((G,W)=>Ur(G,W,go(W,M,E)),os()),lastIndex:_,lastOffset:C,lastSize:k,offsetTree:M,sizeTree:N}}function f2(d){return wl(d).map(({k:h,v:g},y,E)=>{const w=E[y+1];return{endIndex:w?w.k-1:1/0,size:g,startIndex:h}})}function nx(d,h){let g=0,y=0;for(;g<d;)g+=h[y+1]-h[y]-1,y++;return y-(g===d?0:1)}function xf(d,h,g,y){let E=d,w=0,N=0,R=0,_=0;if(h!==0){_=Xc(E,h-1,Af),R=E[_].offset;const C=ma(g,h-1);w=C[0],N=C[1],E.length&&E[_].size===ma(g,h)[1]&&(_-=1),E=E.slice(0,_+1)}else E=[];for(const{start:C,value:k}of tu(g,h,1/0)){const M=C-w,G=M*N+R+M*y;E.push({index:C,offset:G,size:k}),w=C,R=G,N=k}return{lastIndex:w,lastOffset:R,lastSize:N,offsetTree:E}}function d2(d){return{index:d.index,value:d}}function h2(d){const{endIndex:h,size:g,startIndex:y}=d;return E=>E.start===y&&(E.end===h||E.end===1/0)&&E.value===g}const x2={offsetHeight:"height",offsetWidth:"width"},Ba=kt(([{log:d},{recalcInProgress:h}])=>{const g=_t(),y=_t(),E=ar(y,0),w=_t(),N=_t(),R=Be(0),_=Be([]),C=Be(void 0),k=Be(void 0),M=Be(void 0),G=Be(void 0),W=Be((D,ee)=>pa(D,x2[ee])),se=Be(void 0),U=Be(0),X=i2(),j=ar(Te(g,pt(_,d,U),Da(u2,X),un()),X),F=ar(Te(_,un(),Da((D,ee)=>({current:ee,prev:D.current}),{current:[],prev:[]}),Fe(({prev:D})=>D)),[]);Xe(Te(_,tt(D=>D.length>0),pt(j,U),Fe(([D,ee,K])=>{const de=D.reduce((pe,me,Re)=>Ur(pe,me,go(me,ee.offsetTree,K)||Re),os());return{...ee,groupIndices:D,groupOffsetTree:de}})),j),Xe(Te(y,pt(j),tt(([D,{lastIndex:ee}])=>D<ee),Fe(([D,{lastIndex:ee,lastSize:K}])=>[{endIndex:ee,size:K,startIndex:D}])),g),Xe(C,k);const J=ar(Te(C,Fe(D=>D===void 0)),!0);Xe(Te(k,tt(D=>D!==void 0&&Jt(bn(j).sizeTree)),Fe(D=>{const ee=bn(M),K=bn(_).length>0;return ee?K?[{endIndex:0,size:ee,startIndex:0},{endIndex:1,size:D,startIndex:1}]:[]:[{endIndex:0,size:D,startIndex:0}]})),g),Xe(Te(G,tt(D=>D!==void 0&&D.length>0&&Jt(bn(j).sizeTree)),Fe(D=>{const ee=[];let K=D[0],de=0;for(let pe=1;pe<D.length;pe++){const me=D[pe];me!==K&&(ee.push({endIndex:pe-1,size:K,startIndex:de}),K=me,de=pe)}return ee.push({endIndex:D.length-1,size:K,startIndex:de}),ee})),g),Xe(Te(_,pt(M,k),tt(([,D,ee])=>D!==void 0&&ee!==void 0),Fe(([D,ee,K])=>{const de=[];for(let pe=0;pe<D.length;pe++){const me=D[pe],Re=D[pe+1];de.push({startIndex:me,endIndex:me,size:ee}),Re!==void 0&&de.push({startIndex:me+1,endIndex:Re-1,size:K})}return de})),g);const oe=Hr(Te(g,pt(j),Da(({sizes:D},[ee,K])=>({changed:K!==D,sizes:K}),{changed:!1,sizes:X}),Fe(D=>D.changed)));Vt(Te(R,Da((D,ee)=>({diff:D.prev-ee,prev:ee}),{diff:0,prev:0}),Fe(D=>D.diff)),D=>{const{groupIndices:ee}=bn(j);if(D>0)ht(h,!0),ht(w,D+nx(D,ee));else if(D<0){const K=bn(F);K.length>0&&(D-=nx(-D,K)),ht(N,D)}}),Vt(Te(R,pt(d)),([D,ee])=>{D<0&&ee("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:R},Cr.ERROR)});const be=Hr(w);Xe(Te(w,pt(j),Fe(([D,ee])=>{const K=ee.groupIndices.length>0,de=[],pe=ee.lastSize;if(K){const me=ho(ee.sizeTree,0);let Re=0,xe=0;for(;Re<D;){const Z=ee.groupIndices[xe],ae=ee.groupIndices.length===xe+1?1/0:ee.groupIndices[xe+1]-Z-1;de.push({endIndex:Z,size:me,startIndex:Z}),de.push({endIndex:Z+1+ae-1,size:pe,startIndex:Z+1}),xe++,Re+=ae+1}const V=wl(ee.sizeTree);return Re!==D&&V.shift(),V.reduce((Z,{k:ae,v:Me})=>{let qe=Z.ranges;return Z.prevSize!==0&&(qe=[...Z.ranges,{endIndex:ae+D-1,size:Z.prevSize,startIndex:Z.prevIndex}]),{prevIndex:ae+D,prevSize:Me,ranges:qe}},{prevIndex:D,prevSize:0,ranges:de}).ranges}return wl(ee.sizeTree).reduce((me,{k:Re,v:xe})=>({prevIndex:Re+D,prevSize:xe,ranges:[...me.ranges,{endIndex:Re+D-1,size:me.prevSize,startIndex:me.prevIndex}]}),{prevIndex:0,prevSize:pe,ranges:[]}).ranges})),g);const Q=Hr(Te(N,pt(j,U),Fe(([D,{offsetTree:ee},K])=>{const de=-D;return go(de,ee,K)})));return Xe(Te(N,pt(j,U),Fe(([D,ee,K])=>{if(ee.groupIndices.length>0){if(Jt(ee.sizeTree))return ee;let de=os();const pe=bn(F);let me=0,Re=0,xe=0;for(;me<-D;){xe=pe[Re];const V=pe[Re+1]-xe-1;Re++,me+=V+1}if(de=wl(ee.sizeTree).reduce((V,{k:Z,v:ae})=>Ur(V,Math.max(0,Z+D),ae),de),me!==-D){const V=ho(ee.sizeTree,xe);de=Ur(de,0,V);const Z=ma(ee.sizeTree,-D+1)[1];de=Ur(de,1,Z)}return{...ee,sizeTree:de,...xf(ee.offsetTree,0,de,K)}}else{const de=wl(ee.sizeTree).reduce((pe,{k:me,v:Re})=>Ur(pe,Math.max(0,me+D),Re),os());return{...ee,sizeTree:de,...xf(ee.offsetTree,0,de,K)}}})),j),{beforeUnshiftWith:be,data:se,defaultItemSize:k,firstItemIndex:R,fixedItemSize:C,fixedGroupSize:M,gap:U,groupIndices:_,heightEstimates:G,itemSize:W,listRefresh:oe,shiftWith:N,shiftWithOffset:Q,sizeRanges:g,sizes:j,statefulTotalCount:E,totalCount:y,trackItemSizes:J,unshiftWith:w}},dn(Yi,Cf),{singleton:!0});function g2(d){return d.reduce((h,g)=>(h.groupIndices.push(h.totalCount),h.totalCount+=g+1,h),{groupIndices:[],totalCount:0})}const qx=kt(([{groupIndices:d,sizes:h,totalCount:g},{headerHeight:y,scrollTop:E}])=>{const w=_t(),N=_t(),R=Hr(Te(w,Fe(g2)));return Xe(Te(R,Fe(_=>_.totalCount)),g),Xe(Te(R,Fe(_=>_.groupIndices)),d),Xe(Te(Un(E,h,y),tt(([_,C])=>nu(C)),Fe(([_,C,k])=>ma(C.groupOffsetTree,Math.max(_-k,0),"v")[0]),un(),Fe(_=>[_])),N),{groupCounts:w,topItemsIndexes:N}},dn(Ba,dr)),qi=kt(([{log:d}])=>{const h=Be(!1),g=Hr(Te(h,tt(y=>y),un()));return Vt(h,y=>{y&&bn(d)("props updated",{},Cr.DEBUG)}),{didMount:g,propsReady:h}},dn(Yi),{singleton:!0}),m2=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Zx(d){const h=typeof d=="number"?{index:d}:d;return h.align||(h.align="start"),(!h.behavior||!m2)&&(h.behavior="auto"),h.offset||(h.offset=0),h}const po=kt(([{gap:d,listRefresh:h,sizes:g,totalCount:y},{fixedFooterHeight:E,fixedHeaderHeight:w,footerHeight:N,headerHeight:R,scrollingInProgress:_,scrollTo:C,smoothScrollTargetReached:k,viewportHeight:M},{log:G}])=>{const W=_t(),se=_t(),U=Be(0);let X=null,j=null,F=null;function J(){X&&(X(),X=null),F&&(F(),F=null),j&&(clearTimeout(j),j=null),ht(_,!1)}return Xe(Te(W,pt(g,M,y,U,R,N,G),pt(d,w,E),Fe(([[oe,be,Q,D,ee,K,de,pe],me,Re,xe])=>{const V=Zx(oe),{align:Z,behavior:ae,offset:Me}=V,qe=D-1,Ye=Yx(V,be,qe);let P=go(Ye,be.offsetTree,me)+K;Z==="end"?(P+=Re+ma(be.sizeTree,Ye)[1]-Q+xe,Ye===qe&&(P+=de)):Z==="center"?P+=(Re+ma(be.sizeTree,Ye)[1]-Q+xe)/2:P-=ee,Me&&(P+=Me);const ge=Se=>{J(),Se?(pe("retrying to scroll to",{location:oe},Cr.DEBUG),ht(W,oe)):(ht(se,!0),pe("list did not change, scroll successful",{},Cr.DEBUG))};if(J(),ae==="smooth"){let Se=!1;F=Vt(h,De=>{Se=Se||De}),X=xa(k,()=>{ge(Se)})}else X=xa(Te(h,p2(150)),ge);return j=setTimeout(()=>{J()},1200),ht(_,!0),pe("scrolling from index to",{behavior:ae,index:Ye,top:P},Cr.DEBUG),{behavior:ae,top:P}})),C),{scrollTargetReached:se,scrollToIndex:W,topListHeight:U}},dn(Ba,dr,Yi),{singleton:!0});function p2(d){return h=>{const g=setTimeout(()=>{h(!1)},d);return y=>{y&&(h(!0),clearTimeout(g))}}}function vf(d,h){d==0?h():requestAnimationFrame(()=>{vf(d-1,h)})}function Sf(d,h){const g=h-1;return typeof d=="number"?d:d.index==="LAST"?g:d.index}const bo=kt(([{defaultItemSize:d,listRefresh:h,sizes:g},{scrollTop:y},{scrollTargetReached:E,scrollToIndex:w},{didMount:N}])=>{const R=Be(!0),_=Be(0),C=Be(!0);return Xe(Te(N,pt(_),tt(([k,M])=>!!M),Ra(!1)),R),Xe(Te(N,pt(_),tt(([k,M])=>!!M),Ra(!1)),C),Vt(Te(Un(h,N),pt(R,g,d,C),tt(([[,k],M,{sizeTree:G},W,se])=>k&&(!Jt(G)||bf(W))&&!M&&!se),pt(_)),([,k])=>{xa(E,()=>{ht(C,!0)}),vf(4,()=>{xa(y,()=>{ht(R,!0)}),ht(w,k)})}),{initialItemFinalLocationReached:C,initialTopMostItemIndex:_,scrolledToInitialItem:R}},dn(Ba,dr,po,qi),{singleton:!0});function Wx(d,h){return Math.abs(d-h)<1.01}const mo="up",oo="down",b2="none",y2={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},w2=0,yo=kt(([{footerHeight:d,headerHeight:h,scrollBy:g,scrollContainerState:y,scrollTop:E,viewportHeight:w}])=>{const N=Be(!1),R=Be(!0),_=_t(),C=_t(),k=Be(4),M=Be(w2),G=ar(Te(uf(Te(nt(E),Cl(1),Ra(!0)),Te(nt(E),Cl(1),Ra(!1),$h(100))),un()),!1),W=ar(Te(uf(Te(g,Ra(!0)),Te(g,Ra(!1),$h(200))),un()),!1);Xe(Te(Un(nt(E),nt(M)),Fe(([F,J])=>F<=J),un()),R),Xe(Te(R,si(50)),C);const se=Hr(Te(Un(y,nt(w),nt(h),nt(d),nt(k)),Da((F,[{scrollHeight:J,scrollTop:oe},be,Q,D,ee])=>{const K=oe+be-J>-ee,de={scrollHeight:J,scrollTop:oe,viewportHeight:be};if(K){let me,Re;return oe>F.state.scrollTop?(me="SCROLLED_DOWN",Re=F.state.scrollTop-oe):(me="SIZE_DECREASED",Re=F.state.scrollTop-oe||F.scrollTopDelta),{atBottom:!0,atBottomBecause:me,scrollTopDelta:Re,state:de}}let pe;return de.scrollHeight>F.state.scrollHeight?pe="SIZE_INCREASED":be<F.state.viewportHeight?pe="VIEWPORT_HEIGHT_DECREASING":oe<F.state.scrollTop?pe="SCROLLING_UPWARDS":pe="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:pe,state:de}},y2),un((F,J)=>F&&F.atBottom===J.atBottom))),U=ar(Te(y,Da((F,{scrollHeight:J,scrollTop:oe,viewportHeight:be})=>{if(Wx(F.scrollHeight,J))return{changed:!1,jump:0,scrollHeight:J,scrollTop:oe};{const Q=J-(oe+be)<1;return F.scrollTop!==oe&&Q?{changed:!0,jump:F.scrollTop-oe,scrollHeight:J,scrollTop:oe}:{changed:!0,jump:0,scrollHeight:J,scrollTop:oe}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),tt(F=>F.changed),Fe(F=>F.jump)),0);Xe(Te(se,Fe(F=>F.atBottom)),N),Xe(Te(N,si(50)),_);const X=Be(oo);Xe(Te(y,Fe(({scrollTop:F})=>F),un(),Da((F,J)=>bn(W)?{direction:F.direction,prevScrollTop:J}:{direction:J<F.prevScrollTop?mo:oo,prevScrollTop:J},{direction:oo,prevScrollTop:0}),Fe(F=>F.direction)),X),Xe(Te(y,si(50),Ra(b2)),X);const j=Be(0);return Xe(Te(G,tt(F=>!F),Ra(0)),j),Xe(Te(E,si(100),pt(G),tt(([F,J])=>!!J),Da(([F,J],[oe])=>[J,oe],[0,0]),Fe(([F,J])=>J-F)),j),{atBottomState:se,atBottomStateChange:_,atBottomThreshold:k,atTopStateChange:C,atTopThreshold:M,isAtBottom:N,isAtTop:R,isScrolling:G,lastJumpDueToItemResize:U,scrollDirection:X,scrollVelocity:j}},dn(dr)),Yc="top",qc="bottom",rx="none";function ax(d,h,g){return typeof d=="number"?g===mo&&h===Yc||g===oo&&h===qc?d:0:g===mo?h===Yc?d.main:d.reverse:h===qc?d.main:d.reverse}function ix(d,h){var g;return typeof d=="number"?d:(g=d[h])!=null?g:0}const Tf=kt(([{deviation:d,fixedHeaderHeight:h,headerHeight:g,scrollTop:y,viewportHeight:E}])=>{const w=_t(),N=Be(0),R=Be(0),_=Be(0),C=ar(Te(Un(nt(y),nt(E),nt(g),nt(w,xo),nt(_),nt(N),nt(h),nt(d),nt(R)),Fe(([k,M,G,[W,se],U,X,j,F,J])=>{const oe=k-F,be=X+j,Q=Math.max(G-oe,0);let D=rx;const ee=ix(J,Yc),K=ix(J,qc);return W-=F,W+=G+j,se+=G+j,se-=F,W>k+be-ee&&(D=mo),se<k-Q+M+K&&(D=oo),D!==rx?[Math.max(oe-G-ax(U,Yc,D)-ee,0),oe-Q-j+M+ax(U,qc,D)+K]:null}),tt(k=>k!=null),un(xo)),[0,0]);return{increaseViewportBy:R,listBoundary:w,overscan:_,topListHeight:N,visibleRange:C}},dn(dr),{singleton:!0});function E2(d,h,g){if(nu(h)){const y=Xx(d,h);return[{index:ma(h.groupOffsetTree,y)[0],offset:0,size:0},{data:g==null?void 0:g[0],index:y,offset:0,size:0}]}return[{data:g==null?void 0:g[0],index:d,offset:0,size:0}]}const lf={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function Gc(d,h,g,y,E,w){const{lastIndex:N,lastOffset:R,lastSize:_}=E;let C=0,k=0;if(d.length>0){C=d[0].offset;const U=d[d.length-1];k=U.offset+U.size}const M=g-N,G=R+M*_+(M-1)*y,W=C,se=G-k;return{bottom:k,firstItemIndex:w,items:lx(d,E,w),offsetBottom:se,offsetTop:C,top:W,topItems:lx(h,E,w),topListHeight:h.reduce((U,X)=>X.size+U,0),totalCount:g}}function Qx(d,h,g,y,E,w){let N=0;if(g.groupIndices.length>0)for(const k of g.groupIndices){if(k-N>=d)break;N++}const R=d+N,_=Sf(h,R),C=Array.from({length:R}).map((k,M)=>({data:w[M+_],index:M+_,offset:0,size:0}));return Gc(C,[],R,E,g,y)}function lx(d,h,g){if(d.length===0)return[];if(!nu(h))return d.map(C=>({...C,index:C.index+g,originalIndex:C.index}));const y=d[0].index,E=d[d.length-1].index,w=[],N=tu(h.groupOffsetTree,y,E);let R,_=0;for(const C of d){(!R||R.end<C.index)&&(R=N.shift(),_=h.groupIndices.indexOf(R.start));let k;C.index===R.start?k={index:_,type:"group"}:k={groupIndex:_,index:C.index-(_+1)+g},w.push({...k,data:C.data,offset:C.offset,originalIndex:C.index,size:C.size})}return w}const Al=kt(([{data:d,firstItemIndex:h,gap:g,sizes:y,totalCount:E},w,{listBoundary:N,topListHeight:R,visibleRange:_},{initialTopMostItemIndex:C,scrolledToInitialItem:k},{topListHeight:M},G,{didMount:W},{recalcInProgress:se}])=>{const U=Be([]),X=Be(0),j=_t();Xe(w.topItemsIndexes,U);const F=ar(Te(Un(W,se,nt(_,xo),nt(E),nt(y),nt(C),k,nt(U),nt(h),nt(g),d),tt(([Q,D,,ee,,,,,,,K])=>{const de=K&&K.length!==ee;return Q&&!D&&!de}),Fe(([,,[Q,D],ee,K,de,pe,me,Re,xe,V])=>{const Z=K,{offsetTree:ae,sizeTree:Me}=Z,qe=bn(X);if(ee===0)return{...lf,totalCount:ee};if(Q===0&&D===0)return qe===0?{...lf,totalCount:ee}:Qx(qe,de,K,Re,xe,V||[]);if(Jt(Me))return qe>0?null:Gc(E2(Sf(de,ee),Z,V),[],ee,xe,Z,Re);const Ye=[];if(me.length>0){const We=me[0],ne=me[me.length-1];let Ue=0;for(const we of tu(Me,We,ne)){const ke=we.value,bt=Math.max(we.start,We),xt=Math.min(we.end,ne);for(let Ot=bt;Ot<=xt;Ot++)Ye.push({data:V==null?void 0:V[Ot],index:Ot,offset:Ue,size:ke}),Ue+=ke}}if(!pe)return Gc([],Ye,ee,xe,Z,Re);const P=me.length>0?me[me.length-1]+1:0,ge=c2(ae,Q,D,P);if(ge.length===0)return null;const Se=ee-1,De=eu([],We=>{for(const ne of ge){const Ue=ne.value;let we=Ue.offset,ke=ne.start;const bt=Ue.size;if(Ue.offset<Q){ke+=Math.floor((Q-Ue.offset+xe)/(bt+xe));const Ot=ke-ne.start;we+=Ot*bt+Ot*xe}ke<P&&(we+=(P-ke)*bt,ke=P);const xt=Math.min(ne.end,Se);for(let Ot=ke;Ot<=xt&&!(we>=D);Ot++)We.push({data:V==null?void 0:V[Ot],index:Ot,offset:we,size:bt}),we+=bt+xe}});return Gc(De,Ye,ee,xe,Z,Re)}),tt(Q=>Q!==null),un()),lf);Xe(Te(d,tt(bf),Fe(Q=>Q==null?void 0:Q.length)),E),Xe(Te(F,Fe(Q=>Q.topListHeight)),M),Xe(M,R),Xe(Te(F,Fe(Q=>[Q.top,Q.bottom])),N),Xe(Te(F,Fe(Q=>Q.items)),j);const J=Hr(Te(F,tt(({items:Q})=>Q.length>0),pt(E,d),tt(([{items:Q},D])=>Q[Q.length-1].originalIndex===D-1),Fe(([,Q,D])=>[Q-1,D]),un(xo),Fe(([Q])=>Q))),oe=Hr(Te(F,si(200),tt(({items:Q,topItems:D})=>Q.length>0&&Q[0].originalIndex===D.length),Fe(({items:Q})=>Q[0].index),un())),be=Hr(Te(F,tt(({items:Q})=>Q.length>0),Fe(({items:Q})=>{let D=0,ee=Q.length-1;for(;Q[D].type==="group"&&D<ee;)D++;for(;Q[ee].type==="group"&&ee>D;)ee--;return{endIndex:Q[ee].index,startIndex:Q[D].index}}),un(Gx)));return{endReached:J,initialItemCount:X,itemsRendered:j,listState:F,rangeChanged:be,startReached:oe,topItemsIndexes:U,...G}},dn(Ba,qx,Tf,bo,po,yo,qi,Cf),{singleton:!0}),Kx=kt(([{fixedFooterHeight:d,fixedHeaderHeight:h,footerHeight:g,headerHeight:y},{listState:E}])=>{const w=_t(),N=ar(Te(Un(g,d,y,h,E),Fe(([R,_,C,k,M])=>R+_+C+k+M.offsetBottom+M.bottom)),0);return Xe(nt(N),w),{totalListHeight:N,totalListHeightChanged:w}},dn(dr,Al),{singleton:!0}),C2=kt(([{viewportHeight:d},{totalListHeight:h}])=>{const g=Be(!1),y=ar(Te(Un(g,d,h),tt(([E])=>E),Fe(([,E,w])=>Math.max(0,E-w)),si(0),un()),0);return{alignToBottom:g,paddingTopAddition:y}},dn(dr,Kx),{singleton:!0}),Jx=kt(()=>({context:Be(null)})),A2=({itemBottom:d,itemTop:h,locationParams:{align:g,behavior:y,...E},viewportBottom:w,viewportTop:N})=>h<N?{...E,align:g??"start",behavior:y}:d>w?{...E,align:g??"end",behavior:y}:null,$x=kt(([{gap:d,sizes:h,totalCount:g},{fixedFooterHeight:y,fixedHeaderHeight:E,headerHeight:w,scrollingInProgress:N,scrollTop:R,viewportHeight:_},{scrollToIndex:C}])=>{const k=_t();return Xe(Te(k,pt(h,_,g,w,E,y,R),pt(d),Fe(([[M,G,W,se,U,X,j,F],J])=>{const{align:oe,behavior:be,calculateViewLocation:Q=A2,done:D,...ee}=M,K=Yx(M,G,se-1),de=go(K,G.offsetTree,J)+U+X,pe=de+ma(G.sizeTree,K)[1],me=F+X,Re=F+W-j,xe=Q({itemBottom:pe,itemTop:de,locationParams:{align:oe,behavior:be,...ee},viewportBottom:Re,viewportTop:me});return xe?D&&xa(Te(N,tt(V=>!V),Cl(bn(N)?1:2)),D):D&&D(),xe}),tt(M=>M!==null)),C),{scrollIntoView:k}},dn(Ba,dr,po,Al,Yi),{singleton:!0});function sx(d){return d?d==="smooth"?"smooth":"auto":!1}const v2=(d,h)=>typeof d=="function"?sx(d(h)):h&&sx(d),S2=kt(([{listRefresh:d,totalCount:h,fixedItemSize:g,data:y},{atBottomState:E,isAtBottom:w},{scrollToIndex:N},{scrolledToInitialItem:R},{didMount:_,propsReady:C},{log:k},{scrollingInProgress:M},{context:G},{scrollIntoView:W}])=>{const se=Be(!1),U=_t();let X=null;function j(be){ht(N,{align:"end",behavior:be,index:"LAST"})}Vt(Te(Un(Te(nt(h),Cl(1)),_),pt(nt(se),w,R,M),Fe(([[be,Q],D,ee,K,de])=>{let pe=Q&&K,me="auto";return pe&&(me=v2(D,ee||de),pe=pe&&!!me),{followOutputBehavior:me,shouldFollow:pe,totalCount:be}}),tt(({shouldFollow:be})=>be)),({followOutputBehavior:be,totalCount:Q})=>{X&&(X(),X=null),bn(g)?requestAnimationFrame(()=>{bn(k)("following output to ",{totalCount:Q},Cr.DEBUG),j(be)}):X=xa(d,()=>{bn(k)("following output to ",{totalCount:Q},Cr.DEBUG),j(be),X=null})});function F(be){const Q=xa(E,D=>{be&&!D.atBottom&&D.notAtBottomBecause==="SIZE_INCREASED"&&!X&&(bn(k)("scrolling to bottom due to increased size",{},Cr.DEBUG),j("auto"))});setTimeout(Q,100)}Vt(Te(Un(nt(se),h,C),tt(([be,,Q])=>be&&Q),Da(({value:be},[,Q])=>({refreshed:be===Q,value:Q}),{refreshed:!1,value:0}),tt(({refreshed:be})=>be),pt(se,h)),([,be])=>{bn(R)&&F(be!==!1)}),Vt(U,()=>{F(bn(se)!==!1)}),Vt(Un(nt(se),E),([be,Q])=>{be&&!Q.atBottom&&Q.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&j("auto")});const J=Be(null),oe=_t();return Xe(uf(Te(nt(y),Fe(be=>{var Q;return(Q=be==null?void 0:be.length)!=null?Q:0})),Te(nt(h))),oe),Vt(Te(Un(Te(oe,Cl(1)),_),pt(nt(J),R,M,G),Fe(([[be,Q],D,ee,K,de])=>Q&&ee&&(D==null?void 0:D({context:de,totalCount:be,scrollingInProgress:K}))),tt(be=>!!be),si(0)),be=>{X&&(X(),X=null),bn(g)?requestAnimationFrame(()=>{bn(k)("scrolling into view",{}),ht(W,be)}):X=xa(d,()=>{bn(k)("scrolling into view",{}),ht(W,be),X=null})}),{autoscrollToBottom:U,followOutput:se,scrollIntoViewOnChange:J}},dn(Ba,yo,po,bo,qi,Yi,dr,Jx,$x)),T2=kt(([{data:d,firstItemIndex:h,gap:g,sizes:y},{initialTopMostItemIndex:E},{initialItemCount:w,listState:N},{didMount:R}])=>(Xe(Te(R,pt(w),tt(([,_])=>_!==0),pt(E,y,h,g,d),Fe(([[,_],C,k,M,G,W=[]])=>Qx(_,C,k,M,G,W))),N),{}),dn(Ba,bo,Al,qi),{singleton:!0}),N2=kt(([{didMount:d},{scrollTo:h},{listState:g}])=>{const y=Be(0);return Vt(Te(d,pt(y),tt(([,E])=>E!==0),Fe(([,E])=>({top:E}))),E=>{xa(Te(g,Cl(1),tt(w=>w.items.length>1)),()=>{requestAnimationFrame(()=>{ht(h,E)})})}),{initialScrollTop:y}},dn(qi,dr,Al),{singleton:!0}),eg=kt(([{scrollVelocity:d}])=>{const h=Be(!1),g=_t(),y=Be(!1);return Xe(Te(d,pt(y,h,g),tt(([E,w])=>!!w),Fe(([E,w,N,R])=>{const{enter:_,exit:C}=w;if(N){if(C(E,R))return!1}else if(_(E,R))return!0;return N}),un()),h),Vt(Te(Un(h,d,g),pt(y)),([[E,w,N],R])=>{E&&R&&R.change&&R.change(w,N)}),{isSeeking:h,scrollSeekConfiguration:y,scrollSeekRangeChanged:g,scrollVelocity:d}},dn(yo),{singleton:!0}),Nf=kt(([{scrollContainerState:d,scrollTo:h}])=>{const g=_t(),y=_t(),E=_t(),w=Be(!1),N=Be(void 0);return Xe(Te(Un(g,y),Fe(([{scrollHeight:R,scrollTop:_,viewportHeight:C},{offsetTop:k}])=>({scrollHeight:R,scrollTop:Math.max(0,_-k),viewportHeight:C}))),d),Xe(Te(h,pt(y),Fe(([R,{offsetTop:_}])=>({...R,top:R.top+_}))),E),{customScrollParent:N,useWindowScroll:w,windowScrollContainerState:g,windowScrollTo:E,windowViewportRect:y}},dn(dr)),_2=kt(([{sizeRanges:d,sizes:h},{headerHeight:g,scrollTop:y},{initialTopMostItemIndex:E},{didMount:w},{useWindowScroll:N,windowScrollContainerState:R,windowViewportRect:_}])=>{const C=_t(),k=Be(void 0),M=Be(null),G=Be(null);return Xe(R,M),Xe(_,G),Vt(Te(C,pt(h,y,N,M,G,g)),([W,se,U,X,j,F,J])=>{const oe=f2(se.sizeTree);X&&j!==null&&F!==null&&(U=j.scrollTop-F.offsetTop),U-=J,W({ranges:oe,scrollTop:U})}),Xe(Te(k,tt(bf),Fe(I2)),E),Xe(Te(w,pt(k),tt(([,W])=>W!==void 0),un(),Fe(([,W])=>W.ranges)),d),{getState:C,restoreStateFrom:k}},dn(Ba,dr,bo,qi,Nf));function I2(d){return{align:"start",index:0,offset:d.scrollTop}}const O2=kt(([{topItemsIndexes:d}])=>{const h=Be(0);return Xe(Te(h,tt(g=>g>=0),Fe(g=>Array.from({length:g}).map((y,E)=>E))),d),{topItemCount:h}},dn(Al));function tg(d){let h=!1,g;return()=>(h||(h=!0,g=d()),g)}const R2=tg(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),D2=kt(([{deviation:d,scrollBy:h,scrollingInProgress:g,scrollTop:y},{isAtBottom:E,isScrolling:w,lastJumpDueToItemResize:N,scrollDirection:R},{listState:_},{beforeUnshiftWith:C,gap:k,shiftWithOffset:M,sizes:G},{log:W},{recalcInProgress:se}])=>{const U=Hr(Te(_,pt(N),Da(([,j,F,J],[{bottom:oe,items:be,offsetBottom:Q,totalCount:D},ee])=>{const K=oe+Q;let de=0;return F===D&&j.length>0&&be.length>0&&(be[0].originalIndex===0&&j[0].originalIndex===0||(de=K-J,de!==0&&(de+=ee))),[de,be,D,K]},[0,[],0,0]),tt(([j])=>j!==0),pt(y,R,g,E,W,se),tt(([,j,F,J,,,oe])=>!oe&&!J&&j!==0&&F===mo),Fe(([[j],,,,,F])=>(F("Upward scrolling compensation",{amount:j},Cr.DEBUG),j))));function X(j){j>0?(ht(h,{behavior:"auto",top:-j}),ht(d,0)):(ht(d,0),ht(h,{behavior:"auto",top:-j}))}return Vt(Te(U,pt(d,w)),([j,F,J])=>{J&&R2()?ht(d,F-j):X(-j)}),Vt(Te(Un(ar(w,!1),d,se),tt(([j,F,J])=>!j&&!J&&F!==0),Fe(([j,F])=>F),si(1)),X),Xe(Te(M,Fe(j=>({top:-j}))),h),Vt(Te(C,pt(G,k),Fe(([j,{groupIndices:F,lastSize:J,sizeTree:oe},be])=>{function Q(D){return D*(J+be)}if(F.length===0)return Q(j);{let D=0;const ee=ho(oe,0);let K=0,de=0;for(;K<j;){K++,D+=ee;let pe=F.length===de+1?1/0:F[de+1]-F[de]-1;K+pe>j&&(D-=ee,pe=j-K+1),K+=pe,D+=Q(pe),de++}return D}})),j=>{ht(d,j),requestAnimationFrame(()=>{ht(h,{top:j}),requestAnimationFrame(()=>{ht(d,0),ht(se,!1)})})}),{deviation:d}},dn(dr,yo,Al,Ba,Yi,Cf)),M2=kt(([d,h,g,y,E,w,N,R,_,C,k])=>({...d,...h,...g,...y,...E,...w,...N,...R,..._,...C,...k}),dn(Tf,T2,qi,eg,Kx,N2,C2,Nf,$x,Yi,Jx)),ng=kt(([{data:d,defaultItemSize:h,firstItemIndex:g,fixedItemSize:y,fixedGroupSize:E,gap:w,groupIndices:N,heightEstimates:R,itemSize:_,sizeRanges:C,sizes:k,statefulTotalCount:M,totalCount:G,trackItemSizes:W},{initialItemFinalLocationReached:se,initialTopMostItemIndex:U,scrolledToInitialItem:X},j,F,J,{listState:oe,topItemsIndexes:be,...Q},{scrollToIndex:D},ee,{topItemCount:K},{groupCounts:de},pe])=>(Xe(Q.rangeChanged,pe.scrollSeekRangeChanged),Xe(Te(pe.windowViewportRect,Fe(me=>me.visibleHeight)),j.viewportHeight),{data:d,defaultItemHeight:h,firstItemIndex:g,fixedItemHeight:y,fixedGroupHeight:E,gap:w,groupCounts:de,heightEstimates:R,initialItemFinalLocationReached:se,initialTopMostItemIndex:U,scrolledToInitialItem:X,sizeRanges:C,topItemCount:K,topItemsIndexes:be,totalCount:G,...J,groupIndices:N,itemSize:_,listState:oe,scrollToIndex:D,statefulTotalCount:M,trackItemSizes:W,...Q,...pe,...j,sizes:k,...F}),dn(Ba,bo,dr,_2,S2,Al,po,D2,O2,qx,M2));function B2(d,h){const g={},y={};let E=0;const w=d.length;for(;E<w;)y[d[E]]=1,E+=1;for(const N in h)Object.hasOwn(y,N)||(g[N]=h[N]);return g}const zc=typeof document<"u"?Le.useLayoutEffect:Le.useEffect;function _f(d,h,g){const y=Object.keys(h.required||{}),E=Object.keys(h.optional||{}),w=Object.keys(h.methods||{}),N=Object.keys(h.events||{}),R=Le.createContext({});function _(X,j){X.propsReady&&ht(X.propsReady,!1);for(const F of y){const J=X[h.required[F]];ht(J,j[F])}for(const F of E)if(F in j){const J=X[h.optional[F]];ht(J,j[F])}X.propsReady&&ht(X.propsReady,!0)}function C(X){return w.reduce((j,F)=>(j[F]=J=>{const oe=X[h.methods[F]];ht(oe,J)},j),{})}function k(X){return N.reduce((j,F)=>(j[F]=Km(X[h.events[F]]),j),{})}const M=Le.forwardRef((X,j)=>{const{children:F,...J}=X,[oe]=Le.useState(()=>eu($m(d),D=>{_(D,J)})),[be]=Le.useState(Jh(k,oe));zc(()=>{for(const D of N)D in J&&Vt(be[D],J[D]);return()=>{Object.values(be).map(yf)}},[J,be,oe]),zc(()=>{_(oe,J)}),Le.useImperativeHandle(j,Kh(C(oe)));const Q=g;return b.jsx(R.Provider,{value:oe,children:g?b.jsx(Q,{...B2([...y,...E,...N],J),children:F}):F})}),G=X=>{const j=Le.useContext(R);return Le.useCallback(F=>{ht(j[X],F)},[j,X])},W=X=>{const j=Le.useContext(R)[X],F=Le.useCallback(J=>Vt(j,J),[j]);return Le.useSyncExternalStore(F,()=>bn(j),()=>bn(j))},se=X=>{const j=Le.useContext(R)[X],[F,J]=Le.useState(Jh(bn,j));return zc(()=>Vt(j,oe=>{oe!==F&&J(Kh(oe))}),[j,F]),F},U=Le.version.startsWith("18")?W:se;return{Component:M,useEmitter:(X,j)=>{const F=Le.useContext(R)[X];zc(()=>Vt(F,j),[j,F])},useEmitterValue:U,usePublisher:G}}const ru=Le.createContext(void 0),rg=Le.createContext(void 0),ag=typeof document<"u"?Le.useLayoutEffect:Le.useEffect;function sf(d){return"self"in d}function k2(d){return"body"in d}function ig(d,h,g,y=fs,E,w){const N=Le.useRef(null),R=Le.useRef(null),_=Le.useRef(null),C=Le.useCallback(G=>{let W,se,U;const X=G.target;if(k2(X)||sf(X)){const F=sf(X)?X:X.defaultView;U=w?F.scrollX:F.scrollY,W=w?F.document.documentElement.scrollWidth:F.document.documentElement.scrollHeight,se=w?F.innerWidth:F.innerHeight}else U=w?X.scrollLeft:X.scrollTop,W=w?X.scrollWidth:X.scrollHeight,se=w?X.offsetWidth:X.offsetHeight;const j=()=>{d({scrollHeight:W,scrollTop:Math.max(U,0),viewportHeight:se})};G.suppressFlushSync?j():Xm.flushSync(j),R.current!==null&&(U===R.current||U<=0||U===W-se)&&(R.current=null,h(!0),_.current&&(clearTimeout(_.current),_.current=null))},[d,h,w]);Le.useEffect(()=>{const G=E||N.current;return y(E||N.current),C({suppressFlushSync:!0,target:G}),G.addEventListener("scroll",C,{passive:!0}),()=>{y(null),G.removeEventListener("scroll",C)}},[N,C,g,y,E]);function k(G){const W=N.current;if(!W||(w?"offsetWidth"in W&&W.offsetWidth===0:"offsetHeight"in W&&W.offsetHeight===0))return;const se=G.behavior==="smooth";let U,X,j;sf(W)?(X=Math.max(pa(W.document.documentElement,w?"width":"height"),w?W.document.documentElement.scrollWidth:W.document.documentElement.scrollHeight),U=w?W.innerWidth:W.innerHeight,j=w?window.scrollX:window.scrollY):(X=W[w?"scrollWidth":"scrollHeight"],U=pa(W,w?"width":"height"),j=W[w?"scrollLeft":"scrollTop"]);const F=X-U;if(G.top=Math.ceil(Math.max(Math.min(F,G.top),0)),Wx(U,X)||G.top===j){d({scrollHeight:X,scrollTop:j,viewportHeight:U}),se&&h(!0);return}se?(R.current=G.top,_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{_.current=null,R.current=null,h(!0)},1e3)):R.current=null,w&&(G={behavior:G.behavior,left:G.top}),W.scrollTo(G)}function M(G){w&&(G={behavior:G.behavior,left:G.top}),N.current.scrollBy(G)}return{scrollByCallback:M,scrollerRef:N,scrollToCallback:k}}const of="-webkit-sticky",ox="sticky",If=tg(()=>{if(typeof document>"u")return ox;const d=document.createElement("div");return d.style.position=of,d.style.position===of?of:ox});function Of(d){return d}const L2=kt(()=>{const d=Be(R=>`Item ${R}`),h=Be(R=>`Group ${R}`),g=Be({}),y=Be(Of),E=Be("div"),w=Be(fs),N=(R,_=null)=>ar(Te(g,Fe(C=>C[R]),un()),_);return{components:g,computeItemKey:y,EmptyPlaceholder:N("EmptyPlaceholder"),FooterComponent:N("Footer"),GroupComponent:N("Group","div"),groupContent:h,HeaderComponent:N("Header"),HeaderFooterTag:E,ItemComponent:N("Item","div"),itemContent:d,ListComponent:N("List","div"),ScrollerComponent:N("Scroller","div"),scrollerRef:w,ScrollSeekPlaceholder:N("ScrollSeekPlaceholder"),TopItemListComponent:N("TopItemList")}}),j2=kt(([d,h])=>({...d,...h}),dn(ng,L2)),z2=({height:d})=>b.jsx("div",{style:{height:d}}),U2={overflowAnchor:"none",position:If(),zIndex:1},lg={overflowAnchor:"none"},H2={...lg,display:"inline-block",height:"100%"},cx=Le.memo(function({showTopList:d=!1}){const h=lt("listState"),g=ea("sizeRanges"),y=lt("useWindowScroll"),E=lt("customScrollParent"),w=ea("windowScrollContainerState"),N=ea("scrollContainerState"),R=E||y?w:N,_=lt("itemContent"),C=lt("context"),k=lt("groupContent"),M=lt("trackItemSizes"),G=lt("itemSize"),W=lt("log"),se=ea("gap"),U=lt("horizontalDirection"),{callbackRef:X}=jx(g,G,M,d?fs:R,W,se,E,U,lt("skipAnimationFrameInResizeObserver")),[j,F]=Le.useState(0);Mf("deviation",xe=>{j!==xe&&F(xe)});const J=lt("EmptyPlaceholder"),oe=lt("ScrollSeekPlaceholder")||z2,be=lt("ListComponent"),Q=lt("ItemComponent"),D=lt("GroupComponent"),ee=lt("computeItemKey"),K=lt("isSeeking"),de=lt("groupIndices").length>0,pe=lt("alignToBottom"),me=lt("initialItemFinalLocationReached"),Re=d?{}:{boxSizing:"border-box",...U?{display:"inline-block",height:"100%",marginLeft:j!==0?j:pe?"auto":0,paddingLeft:h.offsetTop,paddingRight:h.offsetBottom,whiteSpace:"nowrap"}:{marginTop:j!==0?j:pe?"auto":0,paddingBottom:h.offsetBottom,paddingTop:h.offsetTop},...me?{}:{visibility:"hidden"}};return!d&&h.totalCount===0&&J?b.jsx(J,{...fn(J,C)}):b.jsx(be,{...fn(be,C),"data-testid":d?"virtuoso-top-item-list":"virtuoso-item-list",ref:X,style:Re,children:(d?h.topItems:h.items).map(xe=>{const V=xe.originalIndex,Z=ee(V+h.firstItemIndex,xe.data,C);return K?Ne.createElement(oe,{...fn(oe,C),height:xe.size,index:xe.index,key:Z,type:xe.type||"item",...xe.type==="group"?{}:{groupIndex:xe.groupIndex}}):xe.type==="group"?Ne.createElement(D,{...fn(D,C),"data-index":V,"data-item-index":xe.index,"data-known-size":xe.size,key:Z,style:U2},k(xe.index,C)):Ne.createElement(Q,{...fn(Q,C),...sg(Q,xe.data),"data-index":V,"data-item-group-index":xe.groupIndex,"data-item-index":xe.index,"data-known-size":xe.size,key:Z,style:U?H2:lg},de?_(xe.index,xe.groupIndex,xe.data,C):_(xe.index,xe.data,C))})})}),F2={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},P2={outline:"none",overflowX:"auto",position:"relative"},ds=d=>({height:"100%",position:"absolute",top:0,width:"100%",...d?{display:"flex",flexDirection:"column"}:{}}),G2={position:If(),top:0,width:"100%",zIndex:1};function fn(d,h){if(typeof d!="string")return{context:h}}function sg(d,h){return{item:typeof d=="string"?void 0:h}}const V2=Le.memo(function(){const d=lt("HeaderComponent"),h=ea("headerHeight"),g=lt("HeaderFooterTag"),y=Ma(Le.useMemo(()=>w=>{h(pa(w,"height"))},[h]),!0,lt("skipAnimationFrameInResizeObserver")),E=lt("context");return d?b.jsx(g,{ref:y,children:b.jsx(d,{...fn(d,E)})}):null}),X2=Le.memo(function(){const d=lt("FooterComponent"),h=ea("footerHeight"),g=lt("HeaderFooterTag"),y=Ma(Le.useMemo(()=>w=>{h(pa(w,"height"))},[h]),!0,lt("skipAnimationFrameInResizeObserver")),E=lt("context");return d?b.jsx(g,{ref:y,children:b.jsx(d,{...fn(d,E)})}):null});function Rf({useEmitter:d,useEmitterValue:h,usePublisher:g}){return Le.memo(function({children:y,style:E,context:w,...N}){const R=g("scrollContainerState"),_=h("ScrollerComponent"),C=g("smoothScrollTargetReached"),k=h("scrollerRef"),M=h("horizontalDirection")||!1,{scrollByCallback:G,scrollerRef:W,scrollToCallback:se}=ig(R,C,_,k,void 0,M);return d("scrollTo",se),d("scrollBy",G),b.jsx(_,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:W,style:{...M?P2:F2,...E},tabIndex:0,...N,...fn(_,w),children:y})})}function Df({useEmitter:d,useEmitterValue:h,usePublisher:g}){return Le.memo(function({children:y,style:E,context:w,...N}){const R=g("windowScrollContainerState"),_=h("ScrollerComponent"),C=g("smoothScrollTargetReached"),k=h("totalListHeight"),M=h("deviation"),G=h("customScrollParent"),W=Le.useRef(null),se=h("scrollerRef"),{scrollByCallback:U,scrollerRef:X,scrollToCallback:j}=ig(R,C,_,se,G);return ag(()=>{var F;return X.current=G||((F=W.current)==null?void 0:F.ownerDocument.defaultView),()=>{X.current=null}},[X,G]),d("windowScrollTo",j),d("scrollBy",U),b.jsx(_,{ref:W,"data-virtuoso-scroller":!0,style:{position:"relative",...E,...k!==0?{height:k+M}:{}},...N,...fn(_,w),children:y})})}const Y2=({children:d})=>{const h=Le.useContext(ru),g=ea("viewportHeight"),y=ea("fixedItemHeight"),E=lt("alignToBottom"),w=lt("horizontalDirection"),N=Le.useMemo(()=>uo(g,_=>pa(_,w?"width":"height")),[g,w]),R=Ma(N,!0,lt("skipAnimationFrameInResizeObserver"));return Le.useEffect(()=>{h&&(g(h.viewportHeight),y(h.itemHeight))},[h,g,y]),b.jsx("div",{"data-viewport-type":"element",ref:R,style:ds(E),children:d})},q2=({children:d})=>{const h=Le.useContext(ru),g=ea("windowViewportRect"),y=ea("fixedItemHeight"),E=lt("customScrollParent"),w=Ef(g,E,lt("skipAnimationFrameInResizeObserver")),N=lt("alignToBottom");return Le.useEffect(()=>{h&&(y(h.itemHeight),g({offsetTop:0,visibleHeight:h.viewportHeight,visibleWidth:100}))},[h,g,y]),b.jsx("div",{"data-viewport-type":"window",ref:w,style:ds(N),children:d})},Z2=({children:d})=>{const h=lt("TopItemListComponent")||"div",g=lt("headerHeight"),y={...G2,marginTop:`${g}px`},E=lt("context");return b.jsx(h,{style:y,...fn(h,E),children:d})},W2=Le.memo(function(d){const h=lt("useWindowScroll"),g=lt("topItemsIndexes").length>0,y=lt("customScrollParent"),E=lt("context");return b.jsxs(y||h?J2:K2,{...d,context:E,children:[g&&b.jsx(Z2,{children:b.jsx(cx,{showTopList:!0})}),b.jsxs(y||h?q2:Y2,{children:[b.jsx(V2,{}),b.jsx(cx,{}),b.jsx(X2,{})]})]})}),{Component:Q2,useEmitter:Mf,useEmitterValue:lt,usePublisher:ea}=_f(j2,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},W2),K2=Rf({useEmitter:Mf,useEmitterValue:lt,usePublisher:ea}),J2=Df({useEmitter:Mf,useEmitterValue:lt,usePublisher:ea}),$2=Q2,ep=kt(()=>{const d=Be(C=>b.jsxs("td",{children:["Item $",C]})),h=Be(null),g=Be(C=>b.jsxs("td",{colSpan:1e3,children:["Group ",C]})),y=Be(null),E=Be(null),w=Be({}),N=Be(Of),R=Be(fs),_=(C,k=null)=>ar(Te(w,Fe(M=>M[C]),un()),k);return{components:w,computeItemKey:N,context:h,EmptyPlaceholder:_("EmptyPlaceholder"),FillerRow:_("FillerRow"),fixedFooterContent:E,fixedHeaderContent:y,itemContent:d,groupContent:g,ScrollerComponent:_("Scroller","div"),scrollerRef:R,ScrollSeekPlaceholder:_("ScrollSeekPlaceholder"),TableBodyComponent:_("TableBody","tbody"),TableComponent:_("Table","table"),TableFooterComponent:_("TableFoot","tfoot"),TableHeadComponent:_("TableHead","thead"),TableRowComponent:_("TableRow","tr"),GroupComponent:_("Group","tr")}}),tp=kt(([d,h])=>({...d,...h}),dn(ng,ep)),np=({height:d})=>b.jsx("tr",{children:b.jsx("td",{style:{height:d}})}),rp=({height:d})=>b.jsx("tr",{children:b.jsx("td",{style:{border:0,height:d,padding:0}})}),ap={overflowAnchor:"none"},ux={position:If(),zIndex:2,overflowAnchor:"none"},fx=Le.memo(function({showTopList:d=!1}){const h=dt("listState"),g=dt("computeItemKey"),y=dt("firstItemIndex"),E=dt("context"),w=dt("isSeeking"),N=dt("fixedHeaderHeight"),R=dt("groupIndices").length>0,_=dt("itemContent"),C=dt("groupContent"),k=dt("ScrollSeekPlaceholder")||np,M=dt("GroupComponent"),G=dt("TableRowComponent"),W=(d?h.topItems:[]).reduce((U,X,j)=>(j===0?U.push(X.size):U.push(U[j-1]+X.size),U),[]),se=(d?h.topItems:h.items).map(U=>{const X=U.originalIndex,j=g(X+y,U.data,E),F=d?X===0?0:W[X-1]:0;return w?Ne.createElement(k,{...fn(k,E),height:U.size,index:U.index,key:j,type:U.type||"item"}):U.type==="group"?Ne.createElement(M,{...fn(M,E),"data-index":X,"data-item-index":U.index,"data-known-size":U.size,key:j,style:{...ux,top:N}},C(U.index,E)):Ne.createElement(G,{...fn(G,E),...sg(G,U.data),"data-index":X,"data-item-index":U.index,"data-known-size":U.size,"data-item-group-index":U.groupIndex,key:j,style:d?{...ux,top:N+F}:ap},R?_(U.index,U.groupIndex,U.data,E):_(U.index,U.data,E))});return b.jsx(b.Fragment,{children:se})}),ip=Le.memo(function(){const d=dt("listState"),h=dt("topItemsIndexes").length>0,g=ga("sizeRanges"),y=dt("useWindowScroll"),E=dt("customScrollParent"),w=ga("windowScrollContainerState"),N=ga("scrollContainerState"),R=E||y?w:N,_=dt("trackItemSizes"),C=dt("itemSize"),k=dt("log"),{callbackRef:M,ref:G}=jx(g,C,_,R,k,void 0,E,!1,dt("skipAnimationFrameInResizeObserver")),[W,se]=Le.useState(0);Bf("deviation",de=>{W!==de&&(G.current.style.marginTop=`${de}px`,se(de))});const U=dt("EmptyPlaceholder"),X=dt("FillerRow")||rp,j=dt("TableBodyComponent"),F=dt("paddingTopAddition"),J=dt("statefulTotalCount"),oe=dt("context");if(J===0&&U)return b.jsx(U,{...fn(U,oe)});const be=(h?d.topItems:[]).reduce((de,pe)=>de+pe.size,0),Q=d.offsetTop+F+W-be,D=d.offsetBottom,ee=Q>0?b.jsx(X,{context:oe,height:Q},"padding-top"):null,K=D>0?b.jsx(X,{context:oe,height:D},"padding-bottom"):null;return b.jsxs(j,{"data-testid":"virtuoso-item-list",ref:M,...fn(j,oe),children:[ee,h&&b.jsx(fx,{showTopList:!0}),b.jsx(fx,{}),K]})}),lp=({children:d})=>{const h=Le.useContext(ru),g=ga("viewportHeight"),y=ga("fixedItemHeight"),E=Ma(Le.useMemo(()=>uo(g,w=>pa(w,"height")),[g]),!0,dt("skipAnimationFrameInResizeObserver"));return Le.useEffect(()=>{h&&(g(h.viewportHeight),y(h.itemHeight))},[h,g,y]),b.jsx("div",{"data-viewport-type":"element",ref:E,style:ds(!1),children:d})},sp=({children:d})=>{const h=Le.useContext(ru),g=ga("windowViewportRect"),y=ga("fixedItemHeight"),E=dt("customScrollParent"),w=Ef(g,E,dt("skipAnimationFrameInResizeObserver"));return Le.useEffect(()=>{h&&(y(h.itemHeight),g({offsetTop:0,visibleHeight:h.viewportHeight,visibleWidth:100}))},[h,g,y]),b.jsx("div",{"data-viewport-type":"window",ref:w,style:ds(!1),children:d})},op=Le.memo(function(d){const h=dt("useWindowScroll"),g=dt("customScrollParent"),y=ga("fixedHeaderHeight"),E=ga("fixedFooterHeight"),w=dt("fixedHeaderContent"),N=dt("fixedFooterContent"),R=dt("context"),_=Ma(Le.useMemo(()=>uo(y,j=>pa(j,"height")),[y]),!0,dt("skipAnimationFrameInResizeObserver")),C=Ma(Le.useMemo(()=>uo(E,j=>pa(j,"height")),[E]),!0,dt("skipAnimationFrameInResizeObserver")),k=g||h?fp:up,M=g||h?sp:lp,G=dt("TableComponent"),W=dt("TableHeadComponent"),se=dt("TableFooterComponent"),U=w?b.jsx(W,{ref:_,style:{position:"sticky",top:0,zIndex:2},...fn(W,R),children:w()},"TableHead"):null,X=N?b.jsx(se,{ref:C,style:{bottom:0,position:"sticky",zIndex:1},...fn(se,R),children:N()},"TableFoot"):null;return b.jsx(k,{...d,...fn(k,R),children:b.jsx(M,{children:b.jsxs(G,{style:{borderSpacing:0,overflowAnchor:"none"},...fn(G,R),children:[U,b.jsx(ip,{},"TableBody"),X]})})})}),{Component:cp,useEmitter:Bf,useEmitterValue:dt,usePublisher:ga}=_f(tp,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",firstItemIndex:"firstItemIndex",itemContent:"itemContent",groupContent:"groupContent",fixedHeaderContent:"fixedHeaderContent",fixedFooterContent:"fixedFooterContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",topItemCount:"topItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",groupCounts:"groupCounts",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},op),up=Rf({useEmitter:Bf,useEmitterValue:dt,usePublisher:ga}),fp=Df({useEmitter:Bf,useEmitterValue:dt,usePublisher:ga}),dp=cp,dx={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},hp={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:hx,floor:Zc,max:co,min:cf,round:xx}=Math;function gx(d,h,g){return Array.from({length:h-d+1}).map((y,E)=>({data:g===null?null:g[E+d],index:E+d}))}function xp(d){return{...hp,items:d}}function Uc(d,h){return d&&d.width===h.width&&d.height===h.height}function gp(d,h){return d&&d.column===h.column&&d.row===h.row}const mp=kt(([{increaseViewportBy:d,listBoundary:h,overscan:g,visibleRange:y},{footerHeight:E,headerHeight:w,scrollBy:N,scrollContainerState:R,scrollTo:_,scrollTop:C,smoothScrollTargetReached:k,viewportHeight:M},G,W,{didMount:se,propsReady:U},{customScrollParent:X,useWindowScroll:j,windowScrollContainerState:F,windowScrollTo:J,windowViewportRect:oe},be])=>{const Q=Be(0),D=Be(0),ee=Be(dx),K=Be({height:0,width:0}),de=Be({height:0,width:0}),pe=_t(),me=_t(),Re=Be(0),xe=Be(null),V=Be({column:0,row:0}),Z=_t(),ae=_t(),Me=Be(!1),qe=Be(0),Ye=Be(!0),P=Be(!1),ge=Be(!1);Vt(Te(se,pt(qe),tt(([we,ke])=>!!ke)),()=>{ht(Ye,!1)}),Vt(Te(Un(se,Ye,de,K,qe,P),tt(([we,ke,bt,xt,,Ot])=>we&&!ke&&bt.height!==0&&xt.height!==0&&!Ot)),([,,,,we])=>{ht(P,!0),vf(1,()=>{ht(pe,we)}),xa(Te(C),()=>{ht(h,[0,0]),ht(Ye,!0)})}),Xe(Te(ae,tt(we=>we!=null&&we.scrollTop>0),Ra(0)),D),Vt(Te(se,pt(ae),tt(([,we])=>we!=null)),([,we])=>{we&&(ht(K,we.viewport),ht(de,we.item),ht(V,we.gap),we.scrollTop>0&&(ht(Me,!0),xa(Te(C,Cl(1)),ke=>{ht(Me,!1)}),ht(_,{top:we.scrollTop})))}),Xe(Te(K,Fe(({height:we})=>we)),M),Xe(Te(Un(nt(K,Uc),nt(de,Uc),nt(V,(we,ke)=>we&&we.column===ke.column&&we.row===ke.row),nt(C)),Fe(([we,ke,bt,xt])=>({gap:bt,item:ke,scrollTop:xt,viewport:we}))),Z),Xe(Te(Un(nt(Q),y,nt(V,gp),nt(de,Uc),nt(K,Uc),nt(xe),nt(D),nt(Me),nt(Ye),nt(qe)),tt(([,,,,,,,we])=>!we),Fe(([we,[ke,bt],xt,Ot,et,Tn,yn,,Zn,Lt])=>{const{column:gt,row:st}=xt,{height:vr,width:He}=Ot,{width:ka}=et;if(yn===0&&(we===0||ka===0))return dx;if(He===0){const ja=Sf(Lt,we),hs=ja+Math.max(yn-1,0);return xp(gx(ja,hs,Tn))}const La=og(ka,He,gt);let Ht,Sr;Zn?ke===0&&bt===0&&yn>0?(Ht=0,Sr=yn-1):(Ht=La*Zc((ke+st)/(vr+st)),Sr=La*hx((bt+st)/(vr+st))-1,Sr=cf(we-1,co(Sr,La-1)),Ht=cf(Sr,co(0,Ht))):(Ht=0,Sr=-1);const Wn=gx(Ht,Sr,Tn),{bottom:oi,top:nr}=mx(et,xt,Ot,Wn),Dn=hx(we/La),Zi=Dn*vr+(Dn-1)*st-oi;return{bottom:oi,itemHeight:vr,items:Wn,itemWidth:He,offsetBottom:Zi,offsetTop:nr,top:nr}})),ee),Xe(Te(xe,tt(we=>we!==null),Fe(we=>we.length)),Q),Xe(Te(Un(K,de,ee,V),tt(([we,ke,{items:bt}])=>bt.length>0&&ke.height!==0&&we.height!==0),Fe(([we,ke,{items:bt},xt])=>{const{bottom:Ot,top:et}=mx(we,xt,ke,bt);return[et,Ot]}),un(xo)),h);const Se=Be(!1);Xe(Te(C,pt(Se),Fe(([we,ke])=>ke||we!==0)),Se);const De=Hr(Te(Un(ee,Q),tt(([{items:we}])=>we.length>0),pt(Se),tt(([[we,ke],bt])=>{const xt=we.items[we.items.length-1].index===ke-1;return(bt||we.bottom>0&&we.itemHeight>0&&we.offsetBottom===0&&we.items.length===ke)&&xt}),Fe(([[,we]])=>we-1),un())),We=Hr(Te(nt(ee),tt(({items:we})=>we.length>0&&we[0].index===0),Ra(0),un())),ne=Hr(Te(nt(ee),pt(Me),tt(([{items:we},ke])=>we.length>0&&!ke),Fe(([{items:we}])=>({endIndex:we[we.length-1].index,startIndex:we[0].index})),un(Gx),si(0)));Xe(ne,W.scrollSeekRangeChanged),Xe(Te(pe,pt(K,de,Q,V),Fe(([we,ke,bt,xt,Ot])=>{const et=Zx(we),{align:Tn,behavior:yn,offset:Zn}=et;let Lt=et.index;Lt==="LAST"&&(Lt=xt-1),Lt=co(0,Lt,cf(xt-1,Lt));let gt=gf(ke,Ot,bt,Lt);return Tn==="end"?gt=xx(gt-ke.height+bt.height):Tn==="center"&&(gt=xx(gt-ke.height/2+bt.height/2)),Zn&&(gt+=Zn),{behavior:yn,top:gt}})),_);const Ue=ar(Te(ee,Fe(we=>we.offsetBottom+we.bottom)),0);return Xe(Te(oe,Fe(we=>({height:we.visibleHeight,width:we.visibleWidth}))),K),{customScrollParent:X,data:xe,deviation:Re,footerHeight:E,gap:V,headerHeight:w,increaseViewportBy:d,initialItemCount:D,itemDimensions:de,overscan:g,restoreStateFrom:ae,scrollBy:N,scrollContainerState:R,scrollHeight:me,scrollTo:_,scrollToIndex:pe,scrollTop:C,smoothScrollTargetReached:k,totalCount:Q,useWindowScroll:j,viewportDimensions:K,windowScrollContainerState:F,windowScrollTo:J,windowViewportRect:oe,...W,gridState:ee,horizontalDirection:ge,initialTopMostItemIndex:qe,totalListHeight:Ue,...G,endReached:De,propsReady:U,rangeChanged:ne,startReached:We,stateChanged:Z,stateRestoreInProgress:Me,...be}},dn(Tf,dr,yo,eg,qi,Nf,Yi));function og(d,h,g){return co(1,Zc((d+g)/(Zc(h)+g)))}function mx(d,h,g,y){const{height:E}=g;if(E===void 0||y.length===0)return{bottom:0,top:0};const w=gf(d,h,g,y[0].index);return{bottom:gf(d,h,g,y[y.length-1].index)+E,top:w}}function gf(d,h,g,y){const E=og(d.width,g.width,h.column),w=Zc(y/E),N=w*g.height+co(0,w-1)*h.row;return N>0?N+h.row:N}const pp=kt(()=>{const d=Be(M=>`Item ${M}`),h=Be({}),g=Be(null),y=Be("virtuoso-grid-item"),E=Be("virtuoso-grid-list"),w=Be(Of),N=Be("div"),R=Be(fs),_=(M,G=null)=>ar(Te(h,Fe(W=>W[M]),un()),G),C=Be(!1),k=Be(!1);return Xe(nt(k),C),{components:h,computeItemKey:w,context:g,FooterComponent:_("Footer"),HeaderComponent:_("Header"),headerFooterTag:N,itemClassName:y,ItemComponent:_("Item","div"),itemContent:d,listClassName:E,ListComponent:_("List","div"),readyStateChanged:C,reportReadyState:k,ScrollerComponent:_("Scroller","div"),scrollerRef:R,ScrollSeekPlaceholder:_("ScrollSeekPlaceholder","div")}}),bp=kt(([d,h])=>({...d,...h}),dn(mp,pp)),yp=Le.memo(function(){const d=mn("gridState"),h=mn("listClassName"),g=mn("itemClassName"),y=mn("itemContent"),E=mn("computeItemKey"),w=mn("isSeeking"),N=ta("scrollHeight"),R=mn("ItemComponent"),_=mn("ListComponent"),C=mn("ScrollSeekPlaceholder"),k=mn("context"),M=ta("itemDimensions"),G=ta("gap"),W=mn("log"),se=mn("stateRestoreInProgress"),U=ta("reportReadyState"),X=Ma(Le.useMemo(()=>j=>{const F=j.parentElement.parentElement.scrollHeight;N(F);const J=j.firstChild;if(J){const{height:oe,width:be}=J.getBoundingClientRect();M({height:oe,width:be})}G({column:px("column-gap",getComputedStyle(j).columnGap,W),row:px("row-gap",getComputedStyle(j).rowGap,W)})},[N,M,G,W]),!0,!1);return ag(()=>{d.itemHeight>0&&d.itemWidth>0&&U(!0)},[d]),se?null:b.jsx(_,{className:h,ref:X,...fn(_,k),"data-testid":"virtuoso-item-list",style:{paddingBottom:d.offsetBottom,paddingTop:d.offsetTop},children:d.items.map(j=>{const F=E(j.index,j.data,k);return w?b.jsx(C,{...fn(C,k),height:d.itemHeight,index:j.index,width:d.itemWidth},F):Ne.createElement(R,{...fn(R,k),className:g,"data-index":j.index,key:F},y(j.index,j.data,k))})})}),wp=Le.memo(function(){const d=mn("HeaderComponent"),h=ta("headerHeight"),g=mn("headerFooterTag"),y=Ma(Le.useMemo(()=>w=>{h(pa(w,"height"))},[h]),!0,!1),E=mn("context");return d?b.jsx(g,{ref:y,children:b.jsx(d,{...fn(d,E)})}):null}),Ep=Le.memo(function(){const d=mn("FooterComponent"),h=ta("footerHeight"),g=mn("headerFooterTag"),y=Ma(Le.useMemo(()=>w=>{h(pa(w,"height"))},[h]),!0,!1),E=mn("context");return d?b.jsx(g,{ref:y,children:b.jsx(d,{...fn(d,E)})}):null}),Cp=({children:d})=>{const h=Le.useContext(rg),g=ta("itemDimensions"),y=ta("viewportDimensions"),E=Ma(Le.useMemo(()=>w=>{y(w.getBoundingClientRect())},[y]),!0,!1);return Le.useEffect(()=>{h&&(y({height:h.viewportHeight,width:h.viewportWidth}),g({height:h.itemHeight,width:h.itemWidth}))},[h,y,g]),b.jsx("div",{ref:E,style:ds(!1),children:d})},Ap=({children:d})=>{const h=Le.useContext(rg),g=ta("windowViewportRect"),y=ta("itemDimensions"),E=mn("customScrollParent"),w=Ef(g,E,!1);return Le.useEffect(()=>{h&&(y({height:h.itemHeight,width:h.itemWidth}),g({offsetTop:0,visibleHeight:h.viewportHeight,visibleWidth:h.viewportWidth}))},[h,g,y]),b.jsx("div",{ref:w,style:ds(!1),children:d})},vp=Le.memo(function({...d}){const h=mn("useWindowScroll"),g=mn("customScrollParent"),y=g||h?Tp:Sp,E=g||h?Ap:Cp,w=mn("context");return b.jsx(y,{...d,...fn(y,w),children:b.jsxs(E,{children:[b.jsx(wp,{}),b.jsx(yp,{}),b.jsx(Ep,{})]})})}),{useEmitter:cg,useEmitterValue:mn,usePublisher:ta}=_f(bp,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},vp),Sp=Rf({useEmitter:cg,useEmitterValue:mn,usePublisher:ta}),Tp=Df({useEmitter:cg,useEmitterValue:mn,usePublisher:ta});function px(d,h,g){return h!=="normal"&&!(h!=null&&h.endsWith("px"))&&g(`${d} was not resolved to pixel value correctly`,h,Cr.WARN),h==="normal"?0:parseInt(h??"0",10)}var ze;(function(d){d[d.QR_CODE=0]="QR_CODE",d[d.AZTEC=1]="AZTEC",d[d.CODABAR=2]="CODABAR",d[d.CODE_39=3]="CODE_39",d[d.CODE_93=4]="CODE_93",d[d.CODE_128=5]="CODE_128",d[d.DATA_MATRIX=6]="DATA_MATRIX",d[d.MAXICODE=7]="MAXICODE",d[d.ITF=8]="ITF",d[d.EAN_13=9]="EAN_13",d[d.EAN_8=10]="EAN_8",d[d.PDF_417=11]="PDF_417",d[d.RSS_14=12]="RSS_14",d[d.RSS_EXPANDED=13]="RSS_EXPANDED",d[d.UPC_A=14]="UPC_A",d[d.UPC_E=15]="UPC_E",d[d.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ze||(ze={}));var bx=new Map([[ze.QR_CODE,"QR_CODE"],[ze.AZTEC,"AZTEC"],[ze.CODABAR,"CODABAR"],[ze.CODE_39,"CODE_39"],[ze.CODE_93,"CODE_93"],[ze.CODE_128,"CODE_128"],[ze.DATA_MATRIX,"DATA_MATRIX"],[ze.MAXICODE,"MAXICODE"],[ze.ITF,"ITF"],[ze.EAN_13,"EAN_13"],[ze.EAN_8,"EAN_8"],[ze.PDF_417,"PDF_417"],[ze.RSS_14,"RSS_14"],[ze.RSS_EXPANDED,"RSS_EXPANDED"],[ze.UPC_A,"UPC_A"],[ze.UPC_E,"UPC_E"],[ze.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),yx;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.URL=1]="URL"})(yx||(yx={}));function Np(d){return Object.values(ze).includes(d)}var Wc;(function(d){d[d.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",d[d.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Wc||(Wc={}));var _p=(function(){function d(){}return d.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",d.SCAN_DEFAULT_FPS=2,d.DEFAULT_DISABLE_FLIP=!1,d.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,d.DEFAULT_SUPPORTED_SCAN_TYPE=[Wc.SCAN_TYPE_CAMERA,Wc.SCAN_TYPE_FILE],d})(),ug=(function(){function d(h,g){this.format=h,this.formatName=g}return d.prototype.toString=function(){return this.formatName},d.create=function(h){if(!bx.has(h))throw"".concat(h," not in html5QrcodeSupportedFormatsTextMap");return new d(h,bx.get(h))},d})(),wx=(function(){function d(){}return d.createFromText=function(h){var g={text:h};return{decodedText:h,result:g}},d.createFromQrcodeResult=function(h){return{decodedText:h.text,result:h}},d})(),mf;(function(d){d[d.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",d[d.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",d[d.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(mf||(mf={}));var Ip=(function(){function d(){}return d.createFrom=function(h){return{errorMessage:h,type:mf.UNKWOWN_ERROR}},d})(),Op=(function(){function d(h){this.verbose=h}return d.prototype.log=function(h){this.verbose&&console.log(h)},d.prototype.warn=function(h){this.verbose&&console.warn(h)},d.prototype.logError=function(h,g){(this.verbose||g===!0)&&console.error(h)},d.prototype.logErrors=function(h){if(h.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(h)},d})();function li(d){return typeof d>"u"||d===null}var ss=(function(){function d(){}return d.codeParseError=function(h){return"QR code parse error, error = ".concat(h)},d.errorGettingUserMedia=function(h){return"Error getting userMedia, error = ".concat(h)},d.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},d.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},d.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},d.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},d.scannerPaused=function(){return"Scanner paused"},d})(),fg=(function(){function d(){}return d.isMediaStreamConstraintsValid=function(h,g){if(typeof h!="object"){var y=typeof h;return g.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(y,"."),!0),!1}for(var E=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],w=new Set(E),N=Object.keys(h),R=0,_=N;R<_.length;R++){var C=_[R];if(w.has(C))return g.logError("".concat(C," is not supported videoConstaints."),!0),!1}return!0},d})(),lo={exports:{}},Rp=lo.exports,Ex;function Dp(){return Ex||(Ex=1,(function(d,h){(function(g,y){y(h)})(Rp,(function(g){function y(S){return S==null}var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,t){S.__proto__=t}||function(S,t){for(var r in t)t.hasOwnProperty(r)&&(S[r]=t[r])};function w(S,t){E(S,t);function r(){this.constructor=S}S.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function N(S,t){var r=Object.setPrototypeOf;r?r(S,t):S.__proto__=t}function R(S,t){t===void 0&&(t=S.constructor);var r=Error.captureStackTrace;r&&r(S,t)}var _=(function(S){w(t,S);function t(r){var a=this.constructor,l=S.call(this,r)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1}),N(l,a.prototype),R(l),l}return t})(Error);class C extends _{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}C.kind="Exception";class k extends C{}k.kind="ArgumentException";class M extends C{}M.kind="IllegalArgumentException";class G{constructor(t){if(this.binarizer=t,t===null)throw new M("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,a,l){const s=this.binarizer.getLuminanceSource().crop(t,r,a,l);return new G(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new G(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new G(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class W extends C{static getChecksumInstance(){return new W}}W.kind="ChecksumException";class se{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class U{static arraycopy(t,r,a,l,s){for(;s--;)a[l++]=t[r++]}static currentTimeMillis(){return Date.now()}}class X extends C{}X.kind="IndexOutOfBoundsException";class j extends X{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}j.kind="ArrayIndexOutOfBoundsException";class F{static fill(t,r){for(let a=0,l=t.length;a<l;a++)t[a]=r}static fillWithin(t,r,a,l){F.rangeCheck(t.length,r,a);for(let s=r;s<a;s++)t[s]=l}static rangeCheck(t,r,a){if(r>a)throw new M("fromIndex("+r+") > toIndex("+a+")");if(r<0)throw new j(r);if(a>t)throw new j(a)}static asList(...t){return t}static create(t,r,a){return Array.from({length:t}).map(s=>Array.from({length:r}).fill(a))}static createInt32Array(t,r,a){return Array.from({length:t}).map(s=>Int32Array.from({length:r}).fill(a))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let a=0,l=t.length;a<l;a++)if(t[a]!==r[a])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const a of t)r=31*r+a;return r}static fillUint8Array(t,r){for(let a=0;a!==t.length;a++)t[a]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const a=new Uint8Array(r);return a.set(t),a}return t.slice(0,r)}static copyOfRange(t,r,a){const l=a-r,s=new Int32Array(l);return U.arraycopy(t,r,s,0,l),s}static binarySearch(t,r,a){a===void 0&&(a=F.numberComparator);let l=0,s=t.length-1;for(;l<=s;){const c=s+l>>1,u=a(r,t[c]);if(u>0)l=c+1;else if(u<0)s=c-1;else return c}return-l-1}static numberComparator(t,r){return t-r}}class J{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let a=31;return r=t<<16,r!==0&&(a-=16,t=r),r=t<<8,r!==0&&(a-=8,t=r),r=t<<4,r!==0&&(a-=4,t=r),r=t<<2,r!==0&&(a-=2,t=r),a-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}J.MIN_VALUE_32_BITS=-2147483648,J.MAX_VALUE=Number.MAX_SAFE_INTEGER;class oe{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=oe.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=oe.makeArray(t);U.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const a=this.bits;let l=Math.floor(t/32),s=a[l];s&=~((1<<(t&31))-1);const c=a.length;for(;s===0;){if(++l===c)return r;s=a[l]}const u=l*32+J.numberOfTrailingZeros(s);return u>r?r:u}getNextUnset(t){const r=this.size;if(t>=r)return r;const a=this.bits;let l=Math.floor(t/32),s=~a[l];s&=~((1<<(t&31))-1);const c=a.length;for(;s===0;){if(++l===c)return r;s=~a[l]}const u=l*32+J.numberOfTrailingZeros(s);return u>r?r:u}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new M;if(r===t)return;r--;const a=Math.floor(t/32),l=Math.floor(r/32),s=this.bits;for(let c=a;c<=l;c++){const u=c>a?0:t&31,p=(2<<(c<l?31:r&31))-(1<<u);s[c]|=p}}clear(){const t=this.bits.length,r=this.bits;for(let a=0;a<t;a++)r[a]=0}isRange(t,r,a){if(r<t||t<0||r>this.size)throw new M;if(r===t)return!0;r--;const l=Math.floor(t/32),s=Math.floor(r/32),c=this.bits;for(let u=l;u<=s;u++){const x=u>l?0:t&31,A=(2<<(u<s?31:r&31))-(1<<x)&4294967295;if((c[u]&A)!==(a?A:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new M("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let a=r;a>0;a--)this.appendBit((t>>a-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let a=0;a<r;a++)this.appendBit(t.get(a))}xor(t){if(this.size!==t.size)throw new M("Sizes don't match");const r=this.bits;for(let a=0,l=r.length;a<l;a++)r[a]^=t.bits[a]}toBytes(t,r,a,l){for(let s=0;s<l;s++){let c=0;for(let u=0;u<8;u++)this.get(t)&&(c|=1<<7-u),t++;r[a+s]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),a=r+1,l=this.bits;for(let s=0;s<a;s++){let c=l[s];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[r-s]=c}if(this.size!==a*32){const s=a*32-this.size;let c=t[0]>>>s;for(let u=1;u<a;u++){const x=t[u];c|=x<<32-s,t[u-1]=c,c=x>>>s}t[a-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof oe))return!1;const r=t;return this.size===r.size&&F.equals(this.bits,r.bits)}hashCode(){return 31*this.size+F.hashCode(this.bits)}toString(){let t="";for(let r=0,a=this.size;r<a;r++)(r&7)===0&&(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new oe(this.size,this.bits.slice())}}var be;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(be||(be={}));var Q=be;class D extends C{static getFormatInstance(){return new D}}D.kind="FormatException";var ee;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(ee||(ee={}));class K{constructor(t,r,a,...l){this.valueIdentifier=t,this.name=a,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=l,K.VALUE_IDENTIFIER_TO_ECI.set(t,this),K.NAME_TO_ECI.set(a,this);const s=this.values;for(let c=0,u=s.length;c!==u;c++){const x=s[c];K.VALUES_TO_ECI.set(x,this)}for(const c of l)K.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new D("incorect value");const r=K.VALUES_TO_ECI.get(t);if(r===void 0)throw new D("incorect value");return r}static getCharacterSetECIByName(t){const r=K.NAME_TO_ECI.get(t);if(r===void 0)throw new D("incorect value");return r}equals(t){if(!(t instanceof K))return!1;const r=t;return this.getName()===r.getName()}}K.VALUE_IDENTIFIER_TO_ECI=new Map,K.VALUES_TO_ECI=new Map,K.NAME_TO_ECI=new Map,K.Cp437=new K(ee.Cp437,Int32Array.from([0,2]),"Cp437"),K.ISO8859_1=new K(ee.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),K.ISO8859_2=new K(ee.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),K.ISO8859_3=new K(ee.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),K.ISO8859_4=new K(ee.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),K.ISO8859_5=new K(ee.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),K.ISO8859_6=new K(ee.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),K.ISO8859_7=new K(ee.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),K.ISO8859_8=new K(ee.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),K.ISO8859_9=new K(ee.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),K.ISO8859_10=new K(ee.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),K.ISO8859_11=new K(ee.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),K.ISO8859_13=new K(ee.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),K.ISO8859_14=new K(ee.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),K.ISO8859_15=new K(ee.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),K.ISO8859_16=new K(ee.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),K.SJIS=new K(ee.SJIS,20,"SJIS","Shift_JIS"),K.Cp1250=new K(ee.Cp1250,21,"Cp1250","windows-1250"),K.Cp1251=new K(ee.Cp1251,22,"Cp1251","windows-1251"),K.Cp1252=new K(ee.Cp1252,23,"Cp1252","windows-1252"),K.Cp1256=new K(ee.Cp1256,24,"Cp1256","windows-1256"),K.UnicodeBigUnmarked=new K(ee.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),K.UTF8=new K(ee.UTF8,26,"UTF8","UTF-8"),K.ASCII=new K(ee.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),K.Big5=new K(ee.Big5,28,"Big5"),K.GB18030=new K(ee.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),K.EUC_KR=new K(ee.EUC_KR,30,"EUC_KR","EUC-KR");class de extends C{}de.kind="UnsupportedOperationException";class pe{static decode(t,r){const a=this.encodingName(r);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)}static shouldDecodeOnFallback(t){return!pe.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const a=this.encodingName(r);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof K?t:K.getCharacterSetECIByName(t)}static decodeFallback(t,r){const a=this.encodingCharacterSet(r);if(pe.isDecodeFallbackSupported(a)){let l="";for(let s=0,c=t.length;s<c;s++){let u=t[s].toString(16);u.length<2&&(u="0"+u),l+="%"+u}return decodeURIComponent(l)}if(a.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new de(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(K.UTF8)||t.equals(K.ISO8859_1)||t.equals(K.ASCII)}static encodeFallback(t){const a=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let s=0;s<a.length;s++)l.push(a[s].charCodeAt(0));return new Uint8Array(l)}}class me{static castAsNonUtf8Char(t,r=null){const a=r?r.getName():this.ISO88591;return pe.decode(new Uint8Array([t]),a)}static guessEncoding(t,r){if(r!=null&&r.get(Q.CHARACTER_SET)!==void 0)return r.get(Q.CHARACTER_SET).toString();const a=t.length;let l=!0,s=!0,c=!0,u=0,x=0,p=0,A=0,T=0,I=0,L=0,H=0,Y=0,te=0,ue=0;const Ie=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let _e=0;_e<a&&(l||s||c);_e++){const ve=t[_e]&255;c&&(u>0?(ve&128)===0?c=!1:u--:(ve&128)!==0&&((ve&64)===0?c=!1:(u++,(ve&32)===0?x++:(u++,(ve&16)===0?p++:(u++,(ve&8)===0?A++:c=!1))))),l&&(ve>127&&ve<160?l=!1:ve>159&&(ve<192||ve===215||ve===247)&&ue++),s&&(T>0?ve<64||ve===127||ve>252?s=!1:T--:ve===128||ve===160||ve>239?s=!1:ve>160&&ve<224?(I++,H=0,L++,L>Y&&(Y=L)):ve>127?(T++,L=0,H++,H>te&&(te=H)):(L=0,H=0))}return c&&u>0&&(c=!1),s&&T>0&&(s=!1),c&&(Ie||x+p+A>0)?me.UTF8:s&&(me.ASSUME_SHIFT_JIS||Y>=3||te>=3)?me.SHIFT_JIS:l&&s?Y===2&&I===2||ue*10>=a?me.SHIFT_JIS:me.ISO88591:l?me.ISO88591:s?me.SHIFT_JIS:c?me.UTF8:me.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let a=-1;function l(c,u,x,p,A,T){if(c==="%%")return"%";if(r[++a]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let I=A?parseInt(A.substr(1)):void 0,L;switch(T){case"s":L=r[a];break;case"c":L=r[a][0];break;case"f":L=parseFloat(r[a]).toFixed(c);break;case"p":L=parseFloat(r[a]).toPrecision(c);break;case"e":L=parseFloat(r[a]).toExponential(c);break;case"x":L=parseInt(r[a]).toString(I||16);break;case"d":L=parseFloat(parseInt(r[a],I||10).toPrecision(c)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let H=parseInt(x),Y=x&&x[0]+""=="0"?"0":" ";for(;L.length<H;)L=u!==void 0?L+Y:Y+L;return L}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}static getBytes(t,r){return pe.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}me.SHIFT_JIS=K.SJIS.getName(),me.GB2312="GB2312",me.ISO88591=K.ISO8859_1.getName(),me.EUC_JP="EUC_JP",me.UTF8=K.UTF8.getName(),me.PLATFORM_DEFAULT_ENCODING=me.UTF8,me.ASSUME_SHIFT_JIS=!1;class Re{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=me.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,a){for(let l=r;r<r+a;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class xe{constructor(t,r,a,l){if(this.width=t,this.height=r,this.rowSize=a,this.bits=l,r==null&&(r=t),this.height=r,t<1||r<1)throw new M("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,a=t[0].length,l=new xe(a,r);for(let s=0;s<r;s++){const c=t[s];for(let u=0;u<a;u++)c[u]&&l.set(u,s)}return l}static parseFromString(t,r,a){if(t===null)throw new M("stringRepresentation cannot be null");const l=new Array(t.length);let s=0,c=0,u=-1,x=0,p=0;for(;p<t.length;)if(t.charAt(p)===`
`||t.charAt(p)==="\r"){if(s>c){if(u===-1)u=s-c;else if(s-c!==u)throw new M("row lengths do not match");c=s,x++}p++}else if(t.substring(p,p+r.length)===r)p+=r.length,l[s]=!0,s++;else if(t.substring(p,p+a.length)===a)p+=a.length,l[s]=!1,s++;else throw new M("illegal character encountered: "+t.substring(p));if(s>c){if(u===-1)u=s-c;else if(s-c!==u)throw new M("row lengths do not match");x++}const A=new xe(u,x);for(let T=0;T<s;T++)l[T]&&A.set(Math.floor(T%u),Math.floor(T/u));return A}get(t,r){const a=r*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0}set(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295}unset(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)}flip(t,r){const a=r*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new M("input matrix dimensions do not match");const r=new oe(Math.floor(this.width/32)+1),a=this.rowSize,l=this.bits;for(let s=0,c=this.height;s<c;s++){const u=s*a,x=t.getRow(s,r).getBitArray();for(let p=0;p<a;p++)l[u+p]^=x[p]}}clear(){const t=this.bits,r=t.length;for(let a=0;a<r;a++)t[a]=0}setRegion(t,r,a,l){if(r<0||t<0)throw new M("Left and top must be nonnegative");if(l<1||a<1)throw new M("Height and width must be at least 1");const s=t+a,c=r+l;if(c>this.height||s>this.width)throw new M("The region must fit inside the matrix");const u=this.rowSize,x=this.bits;for(let p=r;p<c;p++){const A=p*u;for(let T=t;T<s;T++)x[A+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new oe(this.width):r.clear();const a=this.rowSize,l=this.bits,s=t*a;for(let c=0;c<a;c++)r.setBulk(c*32,l[s+c]);return r}setRow(t,r){U.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let a=new oe(t),l=new oe(t);for(let s=0,c=Math.floor((r+1)/2);s<c;s++)a=this.getRow(s,a),l=this.getRow(r-1-s,l),a.reverse(),l.reverse(),this.setRow(s,l),this.setRow(r-1-s,a)}getEnclosingRectangle(){const t=this.width,r=this.height,a=this.rowSize,l=this.bits;let s=t,c=r,u=-1,x=-1;for(let p=0;p<r;p++)for(let A=0;A<a;A++){const T=l[p*a+A];if(T!==0){if(p<c&&(c=p),p>x&&(x=p),A*32<s){let I=0;for(;(T<<31-I&4294967295)===0;)I++;A*32+I<s&&(s=A*32+I)}if(A*32+31>u){let I=31;for(;!(T>>>I);)I--;A*32+I>u&&(u=A*32+I)}}}return u<s||x<c?null:Int32Array.from([s,c,u-s+1,x-c+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let a=0;for(;a<r.length&&r[a]===0;)a++;if(a===r.length)return null;const l=a/t;let s=a%t*32;const c=r[a];let u=0;for(;(c<<31-u&4294967295)===0;)u++;return s+=u,Int32Array.from([s,l])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let a=r.length-1;for(;a>=0&&r[a]===0;)a--;if(a<0)return null;const l=Math.floor(a/t);let s=Math.floor(a%t)*32;const c=r[a];let u=31;for(;!(c>>>u);)u--;return s+=u,Int32Array.from([s,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof xe))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&F.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+F.hashCode(this.bits),t}toString(t="X ",r="  ",a=`
`){return this.buildToString(t,r,a)}buildToString(t,r,a){let l=new Re;for(let s=0,c=this.height;s<c;s++){for(let u=0,x=this.width;u<x;u++)l.append(this.get(u,s)?t:r);l.append(a)}return l.toString()}clone(){return new xe(this.width,this.height,this.rowSize,this.bits.slice())}}class V extends C{static getNotFoundInstance(){return new V}}V.kind="NotFoundException";class Z extends se{constructor(t){super(t),this.luminances=Z.EMPTY,this.buckets=new Int32Array(Z.LUMINANCE_BUCKETS)}getBlackRow(t,r){const a=this.getLuminanceSource(),l=a.getWidth();r==null||r.getSize()<l?r=new oe(l):r.clear(),this.initArrays(l);const s=a.getRow(t,this.luminances),c=this.buckets;for(let x=0;x<l;x++)c[(s[x]&255)>>Z.LUMINANCE_SHIFT]++;const u=Z.estimateBlackPoint(c);if(l<3)for(let x=0;x<l;x++)(s[x]&255)<u&&r.set(x);else{let x=s[0]&255,p=s[1]&255;for(let A=1;A<l-1;A++){const T=s[A+1]&255;(p*4-x-T)/2<u&&r.set(A),x=p,p=T}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),a=t.getHeight(),l=new xe(r,a);this.initArrays(r);const s=this.buckets;for(let x=1;x<5;x++){const p=Math.floor(a*x/5),A=t.getRow(p,this.luminances),T=Math.floor(r*4/5);for(let I=Math.floor(r/5);I<T;I++){const L=A[I]&255;s[L>>Z.LUMINANCE_SHIFT]++}}const c=Z.estimateBlackPoint(s),u=t.getMatrix();for(let x=0;x<a;x++){const p=x*r;for(let A=0;A<r;A++)(u[p+A]&255)<c&&l.set(A,x)}return l}createBinarizer(t){return new Z(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let a=0;a<Z.LUMINANCE_BUCKETS;a++)r[a]=0}static estimateBlackPoint(t){const r=t.length;let a=0,l=0,s=0;for(let A=0;A<r;A++)t[A]>s&&(l=A,s=t[A]),t[A]>a&&(a=t[A]);let c=0,u=0;for(let A=0;A<r;A++){const T=A-l,I=t[A]*T*T;I>u&&(c=A,u=I)}if(l>c){const A=l;l=c,c=A}if(c-l<=r/16)throw new V;let x=c-1,p=-1;for(let A=c-1;A>l;A--){const T=A-l,I=T*T*(c-A)*(a-t[A]);I>p&&(x=A,p=I)}return x<<Z.LUMINANCE_SHIFT}}Z.LUMINANCE_BITS=5,Z.LUMINANCE_SHIFT=8-Z.LUMINANCE_BITS,Z.LUMINANCE_BUCKETS=1<<Z.LUMINANCE_BITS,Z.EMPTY=Uint8ClampedArray.from([0]);class ae extends Z{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),a=t.getHeight();if(r>=ae.MINIMUM_DIMENSION&&a>=ae.MINIMUM_DIMENSION){const l=t.getMatrix();let s=r>>ae.BLOCK_SIZE_POWER;(r&ae.BLOCK_SIZE_MASK)!==0&&s++;let c=a>>ae.BLOCK_SIZE_POWER;(a&ae.BLOCK_SIZE_MASK)!==0&&c++;const u=ae.calculateBlackPoints(l,s,c,r,a),x=new xe(r,a);ae.calculateThresholdForBlock(l,s,c,r,a,u,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new ae(t)}static calculateThresholdForBlock(t,r,a,l,s,c,u){const x=s-ae.BLOCK_SIZE,p=l-ae.BLOCK_SIZE;for(let A=0;A<a;A++){let T=A<<ae.BLOCK_SIZE_POWER;T>x&&(T=x);const I=ae.cap(A,2,a-3);for(let L=0;L<r;L++){let H=L<<ae.BLOCK_SIZE_POWER;H>p&&(H=p);const Y=ae.cap(L,2,r-3);let te=0;for(let Ie=-2;Ie<=2;Ie++){const _e=c[I+Ie];te+=_e[Y-2]+_e[Y-1]+_e[Y]+_e[Y+1]+_e[Y+2]}const ue=te/25;ae.thresholdBlock(t,H,T,ue,l,u)}}}static cap(t,r,a){return t<r?r:t>a?a:t}static thresholdBlock(t,r,a,l,s,c){for(let u=0,x=a*s+r;u<ae.BLOCK_SIZE;u++,x+=s)for(let p=0;p<ae.BLOCK_SIZE;p++)(t[x+p]&255)<=l&&c.set(r+p,a+u)}static calculateBlackPoints(t,r,a,l,s){const c=s-ae.BLOCK_SIZE,u=l-ae.BLOCK_SIZE,x=new Array(a);for(let p=0;p<a;p++){x[p]=new Int32Array(r);let A=p<<ae.BLOCK_SIZE_POWER;A>c&&(A=c);for(let T=0;T<r;T++){let I=T<<ae.BLOCK_SIZE_POWER;I>u&&(I=u);let L=0,H=255,Y=0;for(let ue=0,Ie=A*l+I;ue<ae.BLOCK_SIZE;ue++,Ie+=l){for(let _e=0;_e<ae.BLOCK_SIZE;_e++){const ve=t[Ie+_e]&255;L+=ve,ve<H&&(H=ve),ve>Y&&(Y=ve)}if(Y-H>ae.MIN_DYNAMIC_RANGE)for(ue++,Ie+=l;ue<ae.BLOCK_SIZE;ue++,Ie+=l)for(let _e=0;_e<ae.BLOCK_SIZE;_e++)L+=t[Ie+_e]&255}let te=L>>ae.BLOCK_SIZE_POWER*2;if(Y-H<=ae.MIN_DYNAMIC_RANGE&&(te=H/2,p>0&&T>0)){const ue=(x[p-1][T]+2*x[p][T-1]+x[p-1][T-1])/4;H<ue&&(te=ue)}x[p][T]=te}}return x}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=ae.BLOCK_SIZE*5,ae.MIN_DYNAMIC_RANGE=24;class Me{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,a,l){throw new de("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new de("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new de("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new Re;for(let a=0;a<this.height;a++){const l=this.getRow(a,t);for(let s=0;s<this.width;s++){const c=l[s]&255;let u;c<64?u="#":c<128?u="+":c<192?u=".":u=" ",r.append(u)}r.append(`
`)}return r.toString()}}class qe extends Me{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const a=this.delegate.getRow(t,r),l=this.getWidth();for(let s=0;s<l;s++)a[s]=255-(a[s]&255);return a}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(r);for(let l=0;l<r;l++)a[l]=255-(t[l]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,a,l){return new qe(this.delegate.crop(t,r,a,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new qe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new qe(this.delegate.rotateCounterClockwise45())}}class Ye extends Me{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=Ye.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return Ye.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,a){const l=new Uint8ClampedArray(r*a);for(let s=0,c=0,u=t.length;s<u;s+=4,c++){let x;if(t[s+3]===0)x=255;else{const A=t[s],T=t[s+1],I=t[s+2];x=306*A+601*T+117*I+512>>10}l[c]=x}return l}getRow(t,r){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const a=this.getWidth(),l=t*a;return r===null?r=this.buffer.slice(l,l+a):(r.length<a&&(r=new Uint8ClampedArray(a)),r.set(this.buffer.slice(l,l+a))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,a,l){return super.crop(t,r,a,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),a=r.getContext("2d"),l=t*Ye.DEGREE_TO_RADIANS,s=this.canvas.width,c=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(l))*s+Math.abs(Math.sin(l))*c),x=Math.ceil(Math.abs(Math.sin(l))*s+Math.abs(Math.cos(l))*c);return r.width=u,r.height=x,a.translate(u/2,x/2),a.rotate(l),a.drawImage(this.canvas,s/-2,c/-2),this.buffer=Ye.makeBufferFromCanvasImageData(r),this}invert(){return new qe(this)}}Ye.DEGREE_TO_RADIANS=Math.PI/180;class P{constructor(t,r,a){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ge=(globalThis||jc||self||window||void 0)&&(globalThis||jc||self||window||void 0).__awaiter||function(S,t,r,a){function l(s){return s instanceof r?s:new r(function(c){c(s)})}return new(r||(r=Promise))(function(s,c){function u(A){try{p(a.next(A))}catch(T){c(T)}}function x(A){try{p(a.throw(A))}catch(T){c(T)}}function p(A){A.done?s(A.value):l(A.value).then(u,x)}p((a=a.apply(S,t||[])).next())})};class Se{constructor(t,r=500,a){this.reader=t,this.timeBetweenScansMillis=r,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return ge(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const a of t){const l=a.kind==="video"?"videoinput":a.kind;if(l!=="videoinput")continue;const s=a.deviceId||a.id,c=a.label||`Video device ${r.length+1}`,u=a.groupId,x={deviceId:s,label:c,kind:l,groupId:u};r.push(x)}return r})}getVideoInputDevices(){return ge(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new P(r.deviceId,r.label))})}findDeviceById(t){return ge(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(a=>a.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return ge(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return ge(this,void 0,void 0,function*(){this.reset();let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeOnceFromConstraints(l,r)})}decodeOnceFromConstraints(t,r){return ge(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(a,r)})}decodeOnceFromStream(t,r){return ge(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(t,r,a){return ge(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,a)})}decodeFromVideoDevice(t,r,a){return ge(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const s={video:l};return yield this.decodeFromConstraints(s,r,a)})}decodeFromConstraints(t,r,a){return ge(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,r,a)})}decodeFromStream(t,r,a){return ge(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(l,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return ge(this,void 0,void 0,function*(){const a=this.prepareVideoElement(r);return this.addVideoSource(a,t),this.videoElement=a,this.stream=t,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(t){return new Promise((r,a)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return ge(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const a=document.getElementById(t);if(!a)throw new k(`element with id '${t}' not found`);if(a.nodeName.toLowerCase()!==r.toLowerCase())throw new k(`element with id '${t}' must be an ${r} element`);return a}decodeFromImage(t,r){if(!t&&!r)throw new k("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new k("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,a){if(t===void 0&&r===void 0)throw new k("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,a):this.decodeFromVideoElementContinuously(t,a)}decodeFromImageElement(t){if(!t)throw new k("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let a;return this.isImageLoaded(r)?a=this.decodeOnce(r,!1,!0):a=this._decodeOnLoadImage(r),a}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,r)}_decodeFromVideoElementSetup(t){if(!t)throw new k("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new k("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const a=this._decodeOnLoadImage(r);return r.src=t,a}decodeFromVideoUrl(t){if(!t)throw new k("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),a=this.decodeFromVideoElement(r);return r.src=t,a}decodeFromVideoUrlContinuously(t,r){if(!t)throw new k("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(a,r);return a.src=t,l}_decodeOnLoadImage(t){return new Promise((r,a)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,a),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return ge(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return ge(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,a=!0){this._stopAsyncDecode=!1;const l=(s,c)=>{if(this._stopAsyncDecode){c(new V("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const u=this.decode(t);s(u)}catch(u){const x=r&&u instanceof V,A=(u instanceof W||u instanceof D)&&a;if(x||A)return setTimeout(l,this._timeBetweenDecodingAttempts,s,c);c(u)}};return new Promise((s,c)=>l(s,c))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);r(l,null),setTimeout(a,this.timeBetweenScansMillis)}catch(l){r(null,l);const s=l instanceof W||l instanceof D,c=l instanceof V;(s||c)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,a){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,a=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),a=new Ye(r),l=new ae(a);return new G(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let a,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),r.style.width=a+"px",r.style.height=l+"px",r.width=a,r.height=l,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class De{constructor(t,r,a=r==null?0:8*r.length,l,s,c=U.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=a,this.resultPoints=l,this.format=s,this.timestamp=c,this.text=t,this.rawBytes=r,a==null?this.numBits=r==null?0:8*r.length:this.numBits=a,this.resultPoints=l,this.format=s,this.resultMetadata=null,c==null?this.timestamp=U.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const a=new Array(r.length+t.length);U.arraycopy(r,0,a,0,r.length),U.arraycopy(t,0,a,r.length,t.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var We;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(We||(We={}));var ne=We,Ue;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ue||(Ue={}));var we=Ue;class ke{constructor(t,r,a,l,s=-1,c=-1){this.rawBytes=t,this.text=r,this.byteSegments=a,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class bt{exp(t){return this.expTable[t]}log(t){if(t===0)throw new M;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class xt{constructor(t,r){if(r.length===0)throw new M;this.field=t;const a=r.length;if(a>1&&r[0]===0){let l=1;for(;l<a&&r[l]===0;)l++;l===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-l),U.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let a;if(t===1){a=0;for(let c=0,u=r.length;c!==u;c++){const x=r[c];a=bt.addOrSubtract(a,x)}return a}a=r[0];const l=r.length,s=this.field;for(let c=1;c<l;c++)a=bt.addOrSubtract(s.multiply(t,a),r[c]);return a}addOrSubtract(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,a=t.coefficients;if(r.length>a.length){const c=r;r=a,a=c}let l=new Int32Array(a.length);const s=a.length-r.length;U.arraycopy(a,0,l,0,s);for(let c=s;c<a.length;c++)l[c]=bt.addOrSubtract(r[c-s],a[c]);return new xt(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,a=r.length,l=t.coefficients,s=l.length,c=new Int32Array(a+s-1),u=this.field;for(let x=0;x<a;x++){const p=r[x];for(let A=0;A<s;A++)c[x+A]=bt.addOrSubtract(c[x+A],u.multiply(p,l[A]))}return new xt(u,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,a=this.field,l=new Int32Array(r),s=this.coefficients;for(let c=0;c<r;c++)l[c]=a.multiply(s[c],t);return new xt(a,l)}multiplyByMonomial(t,r){if(t<0)throw new M;if(r===0)return this.field.getZero();const a=this.coefficients,l=a.length,s=new Int32Array(l+t),c=this.field;for(let u=0;u<l;u++)s[u]=c.multiply(a[u],r);return new xt(c,s)}divide(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new M("Divide by 0");const r=this.field;let a=r.getZero(),l=this;const s=t.getCoefficient(t.getDegree()),c=r.inverse(s);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const u=l.getDegree()-t.getDegree(),x=r.multiply(l.getCoefficient(l.getDegree()),c),p=t.multiplyByMonomial(u,x),A=r.buildMonomial(u,x);a=a.addOrSubtract(A),l=l.addOrSubtract(p)}return[a,l]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),r===0||a!==1){const l=this.field.log(a);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class Ot extends C{}Ot.kind="ArithmeticException";class et extends bt{constructor(t,r,a){super(),this.primitive=t,this.size=r,this.generatorBase=a;const l=new Int32Array(r);let s=1;for(let u=0;u<r;u++)l[u]=s,s*=2,s>=r&&(s^=t,s&=r-1);this.expTable=l;const c=new Int32Array(r);for(let u=0;u<r-1;u++)c[l[u]]=u;this.logTable=c,this.zero=new xt(this,Int32Array.from([0])),this.one=new xt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new M;if(r===0)return this.zero;const a=new Int32Array(t+1);return a[0]=r,new xt(this,a)}inverse(t){if(t===0)throw new Ot;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+J.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}et.AZTEC_DATA_12=new et(4201,4096,1),et.AZTEC_DATA_10=new et(1033,1024,1),et.AZTEC_DATA_6=new et(67,64,1),et.AZTEC_PARAM=new et(19,16,1),et.QR_CODE_FIELD_256=new et(285,256,0),et.DATA_MATRIX_FIELD_256=new et(301,256,1),et.AZTEC_DATA_8=et.DATA_MATRIX_FIELD_256,et.MAXICODE_FIELD_64=et.AZTEC_DATA_6;class Tn extends C{}Tn.kind="ReedSolomonException";class yn extends C{}yn.kind="IllegalStateException";class Zn{constructor(t){this.field=t}decode(t,r){const a=this.field,l=new xt(a,t),s=new Int32Array(r);let c=!0;for(let L=0;L<r;L++){const H=l.evaluateAt(a.exp(L+a.getGeneratorBase()));s[s.length-1-L]=H,H!==0&&(c=!1)}if(c)return;const u=new xt(a,s),x=this.runEuclideanAlgorithm(a.buildMonomial(r,1),u,r),p=x[0],A=x[1],T=this.findErrorLocations(p),I=this.findErrorMagnitudes(A,T);for(let L=0;L<T.length;L++){const H=t.length-1-a.log(T[L]);if(H<0)throw new Tn("Bad error location");t[H]=et.addOrSubtract(t[H],I[L])}}runEuclideanAlgorithm(t,r,a){if(t.getDegree()<r.getDegree()){const L=t;t=r,r=L}const l=this.field;let s=t,c=r,u=l.getZero(),x=l.getOne();for(;c.getDegree()>=(a/2|0);){let L=s,H=u;if(s=c,u=x,s.isZero())throw new Tn("r_{i-1} was zero");c=L;let Y=l.getZero();const te=s.getCoefficient(s.getDegree()),ue=l.inverse(te);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const Ie=c.getDegree()-s.getDegree(),_e=l.multiply(c.getCoefficient(c.getDegree()),ue);Y=Y.addOrSubtract(l.buildMonomial(Ie,_e)),c=c.addOrSubtract(s.multiplyByMonomial(Ie,_e))}if(x=Y.multiply(u).addOrSubtract(H),c.getDegree()>=s.getDegree())throw new yn("Division algorithm failed to reduce polynomial?")}const p=x.getCoefficient(0);if(p===0)throw new Tn("sigmaTilde(0) was zero");const A=l.inverse(p),T=x.multiplyScalar(A),I=c.multiplyScalar(A);return[T,I]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const a=new Int32Array(r);let l=0;const s=this.field;for(let c=1;c<s.getSize()&&l<r;c++)t.evaluateAt(c)===0&&(a[l]=s.inverse(c),l++);if(l!==r)throw new Tn("Error locator degree does not match number of roots");return a}findErrorMagnitudes(t,r){const a=r.length,l=new Int32Array(a),s=this.field;for(let c=0;c<a;c++){const u=s.inverse(r[c]);let x=1;for(let p=0;p<a;p++)if(c!==p){const A=s.multiply(r[p],u),T=(A&1)===0?A|1:A&-2;x=s.multiply(x,T)}l[c]=s.multiply(t.evaluateAt(u),s.inverse(x)),s.getGeneratorBase()!==0&&(l[c]=s.multiply(l[c],u))}return l}}var Lt;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(Lt||(Lt={}));class gt{decode(t){this.ddata=t;let r=t.getBits(),a=this.extractBits(r),l=this.correctBits(a),s=gt.convertBoolArrayToByteArray(l),c=gt.getEncodedData(l),u=new ke(s,c,null,null);return u.setNumBits(l.length),u}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,a=Lt.UPPER,l=Lt.UPPER,s="",c=0;for(;c<r;)if(l===Lt.BINARY){if(r-c<5)break;let u=gt.readCode(t,c,5);if(c+=5,u===0){if(r-c<11)break;u=gt.readCode(t,c,11)+31,c+=11}for(let x=0;x<u;x++){if(r-c<8){c=r;break}const p=gt.readCode(t,c,8);s+=me.castAsNonUtf8Char(p),c+=8}l=a}else{let u=l===Lt.DIGIT?4:5;if(r-c<u)break;let x=gt.readCode(t,c,u);c+=u;let p=gt.getCharacter(l,x);p.startsWith("CTRL_")?(a=l,l=gt.getTable(p.charAt(5)),p.charAt(6)==="L"&&(a=l)):(s+=p,l=a)}return s}static getTable(t){switch(t){case"L":return Lt.LOWER;case"P":return Lt.PUNCT;case"M":return Lt.MIXED;case"D":return Lt.DIGIT;case"B":return Lt.BINARY;case"U":default:return Lt.UPPER}}static getCharacter(t,r){switch(t){case Lt.UPPER:return gt.UPPER_TABLE[r];case Lt.LOWER:return gt.LOWER_TABLE[r];case Lt.MIXED:return gt.MIXED_TABLE[r];case Lt.PUNCT:return gt.PUNCT_TABLE[r];case Lt.DIGIT:return gt.DIGIT_TABLE[r];default:throw new yn("Bad table")}}correctBits(t){let r,a;this.ddata.getNbLayers()<=2?(a=6,r=et.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,r=et.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,r=et.AZTEC_DATA_10):(a=12,r=et.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),s=t.length/a;if(s<l)throw new D;let c=t.length%a,u=new Int32Array(s);for(let I=0;I<s;I++,c+=a)u[I]=gt.readCode(t,c,a);try{new Zn(r).decode(u,s-l)}catch(I){throw new D(I)}let x=(1<<a)-1,p=0;for(let I=0;I<l;I++){let L=u[I];if(L===0||L===x)throw new D;(L===1||L===x-1)&&p++}let A=new Array(l*a-p),T=0;for(let I=0;I<l;I++){let L=u[I];if(L===1||L===x-1)A.fill(L>1,T,T+a-1),T+=a-1;else for(let H=a-1;H>=0;--H)A[T++]=(L&1<<H)!==0}return A}extractBits(t){let r=this.ddata.isCompact(),a=this.ddata.getNbLayers(),l=(r?11:14)+a*4,s=new Int32Array(l),c=new Array(this.totalBitsInLayer(a,r));if(r)for(let u=0;u<s.length;u++)s[u]=u;else{let u=l+1+2*J.truncDivision(J.truncDivision(l,2)-1,15),x=l/2,p=J.truncDivision(u,2);for(let A=0;A<x;A++){let T=A+J.truncDivision(A,15);s[x-A-1]=p-T-1,s[x+A]=p+T+1}}for(let u=0,x=0;u<a;u++){let p=(a-u)*4+(r?9:12),A=u*2,T=l-1-A;for(let I=0;I<p;I++){let L=I*2;for(let H=0;H<2;H++)c[x+L+H]=t.get(s[A+H],s[A+I]),c[x+2*p+L+H]=t.get(s[A+I],s[T-H]),c[x+4*p+L+H]=t.get(s[T-H],s[T-I]),c[x+6*p+L+H]=t.get(s[T-I],s[A+H])}x+=p*8}return c}static readCode(t,r,a){let l=0;for(let s=r;s<r+a;s++)l<<=1,t[s]&&(l|=1);return l}static readByte(t,r){let a=t.length-r;return a>=8?gt.readCode(t,r,8):gt.readCode(t,r,a)<<8-a}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let a=0;a<r.length;a++)r[a]=gt.readByte(t,8*a);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}gt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],gt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],gt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],gt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],gt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class st{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,a,l){const s=t-a,c=r-l;return Math.sqrt(s*s+c*c)}static sum(t){let r=0;for(let a=0,l=t.length;a!==l;a++){const s=t[a];r+=s}return r}}class vr{static floatToIntBits(t){return t}}vr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class He{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof He){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*vr.floatToIntBits(this.x)+vr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let s,c,u;if(a>=r&&a>=l?(c=t[0],s=t[1],u=t[2]):l>=a&&l>=r?(c=t[1],s=t[0],u=t[2]):(c=t[2],s=t[0],u=t[1]),this.crossProductZ(s,c,u)<0){const x=s;s=u,u=x}t[0]=s,t[1]=c,t[2]=u}static distance(t,r){return st.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,a){const l=r.x,s=r.y;return(a.x-l)*(t.y-s)-(a.y-s)*(t.x-l)}}class ka{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class La extends ka{constructor(t,r,a,l,s){super(t,r),this.compact=a,this.nbDatablocks=l,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ht{constructor(t,r,a,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Ht.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const s=r/2|0;if(this.leftInit=a-s,this.rightInit=a+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let t=this.leftInit,r=this.rightInit,a=this.upInit,l=this.downInit,s=!1,c=!0,u=!1,x=!1,p=!1,A=!1,T=!1;const I=this.width,L=this.height;for(;c;){c=!1;let H=!0;for(;(H||!x)&&r<I;)H=this.containsBlackPoint(a,l,r,!1),H?(r++,c=!0,x=!0):x||r++;if(r>=I){s=!0;break}let Y=!0;for(;(Y||!p)&&l<L;)Y=this.containsBlackPoint(t,r,l,!0),Y?(l++,c=!0,p=!0):p||l++;if(l>=L){s=!0;break}let te=!0;for(;(te||!A)&&t>=0;)te=this.containsBlackPoint(a,l,t,!1),te?(t--,c=!0,A=!0):A||t--;if(t<0){s=!0;break}let ue=!0;for(;(ue||!T)&&a>=0;)ue=this.containsBlackPoint(t,r,a,!0),ue?(a--,c=!0,T=!0):T||a--;if(a<0){s=!0;break}c&&(u=!0)}if(!s&&u){const H=r-t;let Y=null;for(let _e=1;Y===null&&_e<H;_e++)Y=this.getBlackPointOnSegment(t,l-_e,t+_e,l);if(Y==null)throw new V;let te=null;for(let _e=1;te===null&&_e<H;_e++)te=this.getBlackPointOnSegment(t,a+_e,t+_e,a);if(te==null)throw new V;let ue=null;for(let _e=1;ue===null&&_e<H;_e++)ue=this.getBlackPointOnSegment(r,a+_e,r-_e,a);if(ue==null)throw new V;let Ie=null;for(let _e=1;Ie===null&&_e<H;_e++)Ie=this.getBlackPointOnSegment(r,l-_e,r-_e,l);if(Ie==null)throw new V;return this.centerEdges(Ie,Y,ue,te)}else throw new V}getBlackPointOnSegment(t,r,a,l){const s=st.round(st.distance(t,r,a,l)),c=(a-t)/s,u=(l-r)/s,x=this.image;for(let p=0;p<s;p++){const A=st.round(t+p*c),T=st.round(r+p*u);if(x.get(A,T))return new He(A,T)}return null}centerEdges(t,r,a,l){const s=t.getX(),c=t.getY(),u=r.getX(),x=r.getY(),p=a.getX(),A=a.getY(),T=l.getX(),I=l.getY(),L=Ht.CORR;return s<this.width/2?[new He(T-L,I+L),new He(u+L,x+L),new He(p-L,A-L),new He(s+L,c-L)]:[new He(T+L,I+L),new He(u+L,x-L),new He(p-L,A+L),new He(s-L,c-L)]}containsBlackPoint(t,r,a,l){const s=this.image;if(l){for(let c=t;c<=r;c++)if(s.get(c,a))return!0}else for(let c=t;c<=r;c++)if(s.get(a,c))return!0;return!1}}Ht.INIT_SIZE=10,Ht.CORR=1;class Sr{static checkAndNudgePoints(t,r){const a=t.getWidth(),l=t.getHeight();let s=!0;for(let c=0;c<r.length&&s;c+=2){const u=Math.floor(r[c]),x=Math.floor(r[c+1]);if(u<-1||u>a||x<-1||x>l)throw new V;s=!1,u===-1?(r[c]=0,s=!0):u===a&&(r[c]=a-1,s=!0),x===-1?(r[c+1]=0,s=!0):x===l&&(r[c+1]=l-1,s=!0)}s=!0;for(let c=r.length-2;c>=0&&s;c-=2){const u=Math.floor(r[c]),x=Math.floor(r[c+1]);if(u<-1||u>a||x<-1||x>l)throw new V;s=!1,u===-1?(r[c]=0,s=!0):u===a&&(r[c]=a-1,s=!0),x===-1?(r[c+1]=0,s=!0):x===l&&(r[c+1]=l-1,s=!0)}}}class Wn{constructor(t,r,a,l,s,c,u,x,p){this.a11=t,this.a21=r,this.a31=a,this.a12=l,this.a22=s,this.a32=c,this.a13=u,this.a23=x,this.a33=p}static quadrilateralToQuadrilateral(t,r,a,l,s,c,u,x,p,A,T,I,L,H,Y,te){const ue=Wn.quadrilateralToSquare(t,r,a,l,s,c,u,x);return Wn.squareToQuadrilateral(p,A,T,I,L,H,Y,te).times(ue)}transformPoints(t){const r=t.length,a=this.a11,l=this.a12,s=this.a13,c=this.a21,u=this.a22,x=this.a23,p=this.a31,A=this.a32,T=this.a33;for(let I=0;I<r;I+=2){const L=t[I],H=t[I+1],Y=s*L+x*H+T;t[I]=(a*L+c*H+p)/Y,t[I+1]=(l*L+u*H+A)/Y}}transformPointsWithValues(t,r){const a=this.a11,l=this.a12,s=this.a13,c=this.a21,u=this.a22,x=this.a23,p=this.a31,A=this.a32,T=this.a33,I=t.length;for(let L=0;L<I;L++){const H=t[L],Y=r[L],te=s*H+x*Y+T;t[L]=(a*H+c*Y+p)/te,r[L]=(l*H+u*Y+A)/te}}static squareToQuadrilateral(t,r,a,l,s,c,u,x){const p=t-a+s-u,A=r-l+c-x;if(p===0&&A===0)return new Wn(a-t,s-a,t,l-r,c-l,r,0,0,1);{const T=a-s,I=u-s,L=l-c,H=x-c,Y=T*H-I*L,te=(p*H-I*A)/Y,ue=(T*A-p*L)/Y;return new Wn(a-t+te*a,u-t+ue*u,t,l-r+te*l,x-r+ue*x,r,te,ue,1)}}static quadrilateralToSquare(t,r,a,l,s,c,u,x){return Wn.squareToQuadrilateral(t,r,a,l,s,c,u,x).buildAdjoint()}buildAdjoint(){return new Wn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Wn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class oi extends Sr{sampleGrid(t,r,a,l,s,c,u,x,p,A,T,I,L,H,Y,te,ue,Ie,_e){const ve=Wn.quadrilateralToQuadrilateral(l,s,c,u,x,p,A,T,I,L,H,Y,te,ue,Ie,_e);return this.sampleGridWithTransform(t,r,a,ve)}sampleGridWithTransform(t,r,a,l){if(r<=0||a<=0)throw new V;const s=new xe(r,a),c=new Float32Array(2*r);for(let u=0;u<a;u++){const x=c.length,p=u+.5;for(let A=0;A<x;A+=2)c[A]=A/2+.5,c[A+1]=p;l.transformPoints(c),Sr.checkAndNudgePoints(t,c);try{for(let A=0;A<x;A+=2)t.get(Math.floor(c[A]),Math.floor(c[A+1]))&&s.set(A/2,u)}catch{throw new V}}return s}}class nr{static setGridSampler(t){nr.gridSampler=t}static getInstance(){return nr.gridSampler}}nr.gridSampler=new oi;class Dn{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new He(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Zi{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),a=this.getBullsEyeCorners(r);if(t){let c=a[0];a[0]=a[2],a[2]=c}this.extractParameters(a);let l=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),s=this.getMatrixCornerPoints(a);return new La(l,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new V;let r=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(a,r);let l=0;for(let c=0;c<4;c++){let u=a[(this.shift+c)%4];this.compact?(l<<=7,l+=u>>1&127):(l<<=10,l+=(u>>2&992)+(u>>1&31))}let s=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(t,r){let a=0;t.forEach((l,s,c)=>{let u=(l>>r-2<<1)+(l&1);a=(a<<3)+u}),a=((a&1)<<11)+(a>>1);for(let l=0;l<4;l++)if(J.bitCount(a^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new V}getCorrectedParameterData(t,r){let a,l;r?(a=7,l=2):(a=10,l=4);let s=a-l,c=new Int32Array(a);for(let x=a-1;x>=0;--x)c[x]=t&15,t>>=4;try{new Zn(et.AZTEC_PARAM).decode(c,s)}catch{throw new V}let u=0;for(let x=0;x<l;x++)u=(u<<4)+c[x];return u}getBullsEyeCorners(t){let r=t,a=t,l=t,s=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(r,c,1,-1),I=this.getFirstDifferent(a,c,1,1),L=this.getFirstDifferent(l,c,-1,1),H=this.getFirstDifferent(s,c,-1,-1);if(this.nbCenterLayers>2){let Y=this.distancePoint(H,T)*this.nbCenterLayers/(this.distancePoint(s,r)*(this.nbCenterLayers+2));if(Y<.75||Y>1.25||!this.isWhiteOrBlackRectangle(T,I,L,H))break}r=T,a=I,l=L,s=H,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new V;this.compact=this.nbCenterLayers===5;let u=new He(r.getX()+.5,r.getY()-.5),x=new He(a.getX()+.5,a.getY()+.5),p=new He(l.getX()-.5,l.getY()+.5),A=new He(s.getX()-.5,s.getY()-.5);return this.expandSquare([u,x,p,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,a,l;try{let u=new Ht(this.image).detect();t=u[0],r=u[1],a=u[2],l=u[3]}catch{let x=this.image.getWidth()/2,p=this.image.getHeight()/2;t=this.getFirstDifferent(new Dn(x+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Dn(x+7,p+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Dn(x-7,p+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Dn(x-7,p-7),!1,-1,-1).toResultPoint()}let s=st.round((t.getX()+l.getX()+r.getX()+a.getX())/4),c=st.round((t.getY()+l.getY()+r.getY()+a.getY())/4);try{let u=new Ht(this.image,15,s,c).detect();t=u[0],r=u[1],a=u[2],l=u[3]}catch{t=this.getFirstDifferent(new Dn(s+7,c-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Dn(s+7,c+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Dn(s-7,c+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Dn(s-7,c-7),!1,-1,-1).toResultPoint()}return s=st.round((t.getX()+l.getX()+r.getX()+a.getX())/4),c=st.round((t.getY()+l.getY()+r.getY()+a.getY())/4),new Dn(s,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,a,l,s){let c=nr.getInstance(),u=this.getDimension(),x=u/2-this.nbCenterLayers,p=u/2+this.nbCenterLayers;return c.sampleGrid(t,u,u,x,x,p,x,p,p,x,p,r.getX(),r.getY(),a.getX(),a.getY(),l.getX(),l.getY(),s.getX(),s.getY())}sampleLine(t,r,a){let l=0,s=this.distanceResultPoint(t,r),c=s/a,u=t.getX(),x=t.getY(),p=c*(r.getX()-t.getX())/s,A=c*(r.getY()-t.getY())/s;for(let T=0;T<a;T++)this.image.get(st.round(u+T*p),st.round(x+T*A))&&(l|=1<<a-T-1);return l}isWhiteOrBlackRectangle(t,r,a,l){let s=3;t=new Dn(t.getX()-s,t.getY()+s),r=new Dn(r.getX()-s,r.getY()-s),a=new Dn(a.getX()+s,a.getY()-s),l=new Dn(l.getX()+s,l.getY()+s);let c=this.getColor(l,t);if(c===0)return!1;let u=this.getColor(t,r);return u!==c||(u=this.getColor(r,a),u!==c)?!1:(u=this.getColor(a,l),u===c)}getColor(t,r){let a=this.distancePoint(t,r),l=(r.getX()-t.getX())/a,s=(r.getY()-t.getY())/a,c=0,u=t.getX(),x=t.getY(),p=this.image.get(t.getX(),t.getY()),A=Math.ceil(a);for(let I=0;I<A;I++)u+=l,x+=s,this.image.get(st.round(u),st.round(x))!==p&&c++;let T=c/a;return T>.1&&T<.9?0:T<=.1===p?1:-1}getFirstDifferent(t,r,a,l){let s=t.getX()+a,c=t.getY()+l;for(;this.isValid(s,c)&&this.image.get(s,c)===r;)s+=a,c+=l;for(s-=a,c-=l;this.isValid(s,c)&&this.image.get(s,c)===r;)s+=a;for(s-=a;this.isValid(s,c)&&this.image.get(s,c)===r;)c+=l;return c-=l,new Dn(s,c)}expandSquare(t,r,a){let l=a/(2*r),s=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),u=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,p=new He(u+l*s,x+l*c),A=new He(u-l*s,x-l*c);s=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),u=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let T=new He(u+l*s,x+l*c),I=new He(u-l*s,x-l*c);return[p,T,A,I]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=st.round(t.getX()),a=st.round(t.getY());return this.isValid(r,a)}distancePoint(t,r){return st.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return st.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(J.truncDivision(this.nbLayers-4,8)+1)+15}}class ja{decode(t,r=null){let a=null,l=new Zi(t.getBlackMatrix()),s=null,c=null;try{let A=l.detectMirror(!1);s=A.getPoints(),this.reportFoundResultPoints(r,s),c=new gt().decode(A)}catch(A){a=A}if(c==null)try{let A=l.detectMirror(!0);s=A.getPoints(),this.reportFoundResultPoints(r,s),c=new gt().decode(A)}catch(A){throw a??A}let u=new De(c.getText(),c.getRawBytes(),c.getNumBits(),s,ne.AZTEC,U.currentTimeMillis()),x=c.getByteSegments();x!=null&&u.putMetadata(we.BYTE_SEGMENTS,x);let p=c.getECLevel();return p!=null&&u.putMetadata(we.ERROR_CORRECTION_LEVEL,p),u}reportFoundResultPoints(t,r){if(t!=null){let a=t.get(Q.NEED_RESULT_POINT_CALLBACK);a!=null&&r.forEach((l,s,c)=>{a.foundPossibleResultPoint(l)})}}reset(){}}class hs extends Se{constructor(t=500){super(new ja,t)}}class rn{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(Q.TRY_HARDER)===!0&&t.isRotateSupported()){const s=t.rotateCounterClockwise(),c=this.doDecode(s,r),u=c.getResultMetadata();let x=270;u!==null&&u.get(we.ORIENTATION)===!0&&(x=x+u.get(we.ORIENTATION)%360),c.putMetadata(we.ORIENTATION,x);const p=c.getResultPoints();if(p!==null){const A=s.getHeight();for(let T=0;T<p.length;T++)p[T]=new He(A-p[T].getY()-1,p[T].getX())}return c}else throw new V}}reset(){}doDecode(t,r){const a=t.getWidth(),l=t.getHeight();let s=new oe(a);const c=r&&r.get(Q.TRY_HARDER)===!0,u=Math.max(1,l>>(c?8:5));let x;c?x=l:x=15;const p=Math.trunc(l/2);for(let A=0;A<x;A++){const T=Math.trunc((A+1)/2),I=(A&1)===0,L=p+u*(I?T:-T);if(L<0||L>=l)break;try{s=t.getBlackRow(L,s)}catch{continue}for(let H=0;H<2;H++){if(H===1&&(s.reverse(),r&&r.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const Y=new Map;r.forEach((te,ue)=>Y.set(ue,te)),Y.delete(Q.NEED_RESULT_POINT_CALLBACK),r=Y}try{const Y=this.decodeRow(L,s,r);if(H===1){Y.putMetadata(we.ORIENTATION,180);const te=Y.getResultPoints();te!==null&&(te[0]=new He(a-te[0].getX()-1,te[0].getY()),te[1]=new He(a-te[1].getX()-1,te[1].getY()))}return Y}catch{}}}throw new V}static recordPattern(t,r,a){const l=a.length;for(let p=0;p<l;p++)a[p]=0;const s=t.getSize();if(r>=s)throw new V;let c=!t.get(r),u=0,x=r;for(;x<s;){if(t.get(x)!==c)a[u]++;else{if(++u===l)break;a[u]=1,c=!c}x++}if(!(u===l||u===l-1&&x===s))throw new V}static recordPatternInReverse(t,r,a){let l=a.length,s=t.get(r);for(;r>0&&l>=0;)t.get(--r)!==s&&(l--,s=!s);if(l>=0)throw new V;rn.recordPattern(t,r+1,a)}static patternMatchVariance(t,r,a){const l=t.length;let s=0,c=0;for(let p=0;p<l;p++)s+=t[p],c+=r[p];if(s<c)return Number.POSITIVE_INFINITY;const u=s/c;a*=u;let x=0;for(let p=0;p<l;p++){const A=t[p],T=r[p]*u,I=A>T?A-T:T-A;if(I>a)return Number.POSITIVE_INFINITY;x+=I}return x/s}}class Oe extends rn{static findStartPattern(t){const r=t.getSize(),a=t.getNextSet(0);let l=0,s=Int32Array.from([0,0,0,0,0,0]),c=a,u=!1;const x=6;for(let p=a;p<r;p++)if(t.get(p)!==u)s[l]++;else{if(l===x-1){let A=Oe.MAX_AVG_VARIANCE,T=-1;for(let I=Oe.CODE_START_A;I<=Oe.CODE_START_C;I++){const L=rn.patternMatchVariance(s,Oe.CODE_PATTERNS[I],Oe.MAX_INDIVIDUAL_VARIANCE);L<A&&(A=L,T=I)}if(T>=0&&t.isRange(Math.max(0,c-(p-c)/2),c,!1))return Int32Array.from([c,p,T]);c+=s[0]+s[1],s=s.slice(2,s.length-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,u=!u}throw new V}static decodeCode(t,r,a){rn.recordPattern(t,a,r);let l=Oe.MAX_AVG_VARIANCE,s=-1;for(let c=0;c<Oe.CODE_PATTERNS.length;c++){const u=Oe.CODE_PATTERNS[c],x=this.patternMatchVariance(r,u,Oe.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,s=c)}if(s>=0)return s;throw new V}decodeRow(t,r,a){const l=a&&a.get(Q.ASSUME_GS1)===!0,s=Oe.findStartPattern(r),c=s[2];let u=0;const x=new Uint8Array(20);x[u++]=c;let p;switch(c){case Oe.CODE_START_A:p=Oe.CODE_CODE_A;break;case Oe.CODE_START_B:p=Oe.CODE_CODE_B;break;case Oe.CODE_START_C:p=Oe.CODE_CODE_C;break;default:throw new D}let A=!1,T=!1,I="",L=s[0],H=s[1];const Y=Int32Array.from([0,0,0,0,0,0]);let te=0,ue=0,Ie=c,_e=0,ve=!0,mt=!1,at=!1;for(;!A;){const Va=T;switch(T=!1,te=ue,ue=Oe.decodeCode(r,Y,H),x[u++]=ue,ue!==Oe.CODE_STOP&&(ve=!0),ue!==Oe.CODE_STOP&&(_e++,Ie+=_e*ue),L=H,H+=Y.reduce((Bo,Ss)=>Bo+Ss,0),ue){case Oe.CODE_START_A:case Oe.CODE_START_B:case Oe.CODE_START_C:throw new D}switch(p){case Oe.CODE_CODE_A:if(ue<64)at===mt?I+=String.fromCharCode(32+ue):I+=String.fromCharCode(32+ue+128),at=!1;else if(ue<96)at===mt?I+=String.fromCharCode(ue-64):I+=String.fromCharCode(ue+64),at=!1;else switch(ue!==Oe.CODE_STOP&&(ve=!1),ue){case Oe.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_A:!mt&&at?(mt=!0,at=!1):mt&&at?(mt=!1,at=!1):at=!0;break;case Oe.CODE_SHIFT:T=!0,p=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_B:p=Oe.CODE_CODE_B;break;case Oe.CODE_CODE_C:p=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:A=!0;break}break;case Oe.CODE_CODE_B:if(ue<96)at===mt?I+=String.fromCharCode(32+ue):I+=String.fromCharCode(32+ue+128),at=!1;else switch(ue!==Oe.CODE_STOP&&(ve=!1),ue){case Oe.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case Oe.CODE_FNC_2:case Oe.CODE_FNC_3:break;case Oe.CODE_FNC_4_B:!mt&&at?(mt=!0,at=!1):mt&&at?(mt=!1,at=!1):at=!0;break;case Oe.CODE_SHIFT:T=!0,p=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_A:p=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_C:p=Oe.CODE_CODE_C;break;case Oe.CODE_STOP:A=!0;break}break;case Oe.CODE_CODE_C:if(ue<100)ue<10&&(I+="0"),I+=ue;else switch(ue!==Oe.CODE_STOP&&(ve=!1),ue){case Oe.CODE_FNC_1:l&&(I.length===0?I+="]C1":I+="");break;case Oe.CODE_CODE_A:p=Oe.CODE_CODE_A;break;case Oe.CODE_CODE_B:p=Oe.CODE_CODE_B;break;case Oe.CODE_STOP:A=!0;break}break}Va&&(p=p===Oe.CODE_CODE_A?Oe.CODE_CODE_B:Oe.CODE_CODE_A)}const Cn=H-L;if(H=r.getNextUnset(H),!r.isRange(H,Math.min(r.getSize(),H+(H-L)/2),!1))throw new V;if(Ie-=_e*te,Ie%103!==te)throw new W;const mr=I.length;if(mr===0)throw new V;mr>0&&ve&&(p===Oe.CODE_CODE_C?I=I.substring(0,mr-2):I=I.substring(0,mr-1));const Kn=(s[1]+s[0])/2,Gt=L+Cn/2,Gn=x.length,ur=new Uint8Array(Gn);for(let Va=0;Va<Gn;Va++)ur[Va]=x[Va];const Ci=[new He(Kn,t),new He(Gt,t)];return new De(I,ur,0,Ci,ne.CODE_128,new Date().getTime())}}Oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Oe.MAX_AVG_VARIANCE=.25,Oe.MAX_INDIVIDUAL_VARIANCE=.7,Oe.CODE_SHIFT=98,Oe.CODE_CODE_C=99,Oe.CODE_CODE_B=100,Oe.CODE_CODE_A=101,Oe.CODE_FNC_1=102,Oe.CODE_FNC_2=97,Oe.CODE_FNC_3=96,Oe.CODE_FNC_4_A=101,Oe.CODE_FNC_4_B=100,Oe.CODE_START_A=103,Oe.CODE_START_B=104,Oe.CODE_START_C=105,Oe.CODE_STOP=106;class Zt extends rn{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,a){let l=this.counters;l.fill(0),this.decodeRowResult="";let s=Zt.findAsteriskPattern(r,l),c=r.getNextSet(s[1]),u=r.getSize(),x,p;do{Zt.recordPattern(r,c,l);let Y=Zt.toNarrowWidePattern(l);if(Y<0)throw new V;x=Zt.patternToChar(Y),this.decodeRowResult+=x,p=c;for(let te of l)c+=te;c=r.getNextSet(c)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let Y of l)A+=Y;let T=c-p-A;if(c!==u&&T*2<A)throw new V;if(this.usingCheckDigit){let Y=this.decodeRowResult.length-1,te=0;for(let ue=0;ue<Y;ue++)te+=Zt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ue));if(this.decodeRowResult.charAt(Y)!==Zt.ALPHABET_STRING.charAt(te%43))throw new W;this.decodeRowResult=this.decodeRowResult.substring(0,Y)}if(this.decodeRowResult.length===0)throw new V;let I;this.extendedMode?I=Zt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let L=(s[1]+s[0])/2,H=p+A/2;return new De(I,null,0,[new He(L,t),new He(H,t)],ne.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let a=t.getSize(),l=t.getNextSet(0),s=0,c=l,u=!1,x=r.length;for(let p=l;p<a;p++)if(t.get(p)!==u)r[s]++;else{if(s===x-1){if(this.toNarrowWidePattern(r)===Zt.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((p-c)/2)),c,!1))return[c,p];c+=r[0]+r[1],r.copyWithin(0,2,2+s-1),r[s-1]=0,r[s]=0,s--}else s++;r[s]=1,u=!u}throw new V}static toNarrowWidePattern(t){let r=t.length,a=0,l;do{let s=2147483647;for(let x of t)x<s&&x>a&&(s=x);a=s,l=0;let c=0,u=0;for(let x=0;x<r;x++){let p=t[x];p>a&&(u|=1<<r-1-x,l++,c+=p)}if(l===3){for(let x=0;x<r&&l>0;x++){let p=t[x];if(p>a&&(l--,p*2>=c))return-1}return u}}while(l>3);return-1}static patternToChar(t){for(let r=0;r<Zt.CHARACTER_ENCODINGS.length;r++)if(Zt.CHARACTER_ENCODINGS[r]===t)return Zt.ALPHABET_STRING.charAt(r);if(t===Zt.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(t){let r=t.length,a="";for(let l=0;l<r;l++){let s=t.charAt(l);if(s==="+"||s==="$"||s==="%"||s==="/"){let c=t.charAt(l+1),u="\0";switch(s){case"+":if(c>="A"&&c<="Z")u=String.fromCharCode(c.charCodeAt(0)+32);else throw new D;break;case"$":if(c>="A"&&c<="Z")u=String.fromCharCode(c.charCodeAt(0)-64);else throw new D;break;case"%":if(c>="A"&&c<="E")u=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")u=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")u=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")u=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")u="\0";else if(c==="V")u="@";else if(c==="W")u="`";else if(c==="X"||c==="Y"||c==="Z")u="";else throw new D;break;case"/":if(c>="A"&&c<="O")u=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")u=":";else throw new D;break}a+=u,l++}else a+=s}return a}}Zt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Zt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Zt.ASTERISK_ENCODING=148;class ct extends rn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,a){let l=this.decodeStart(r),s=this.decodeEnd(r),c=new Re;ct.decodeMiddle(r,l[1],s[0],c);let u=c.toString(),x=null;a!=null&&(x=a.get(Q.ALLOWED_LENGTHS)),x==null&&(x=ct.DEFAULT_ALLOWED_LENGTHS);let p=u.length,A=!1,T=0;for(let H of x){if(p===H){A=!0;break}H>T&&(T=H)}if(!A&&p>T&&(A=!0),!A)throw new D;const I=[new He(l[1],t),new He(s[0],t)];return new De(u,null,0,I,ne.ITF,new Date().getTime())}static decodeMiddle(t,r,a,l){let s=new Int32Array(10),c=new Int32Array(5),u=new Int32Array(5);for(s.fill(0),c.fill(0),u.fill(0);r<a;){rn.recordPattern(t,r,s);for(let p=0;p<5;p++){let A=2*p;c[p]=s[A],u[p]=s[A+1]}let x=ct.decodeDigit(c);l.append(x.toString()),x=this.decodeDigit(u),l.append(x.toString()),s.forEach(function(p){r+=p})}}decodeStart(t){let r=ct.skipWhiteSpace(t),a=ct.findGuardPattern(t,r,ct.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a}validateQuietZone(t,r){let a=this.narrowLineWidth*10;a=a<r?a:r;for(let l=r-1;a>0&&l>=0&&!t.get(l);l--)a--;if(a!==0)throw new V}static skipWhiteSpace(t){const r=t.getSize(),a=t.getNextSet(0);if(a===r)throw new V;return a}decodeEnd(t){t.reverse();try{let r=ct.skipWhiteSpace(t),a;try{a=ct.findGuardPattern(t,r,ct.END_PATTERN_REVERSED[0])}catch(s){s instanceof V&&(a=ct.findGuardPattern(t,r,ct.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);let l=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-l,a}finally{t.reverse()}}static findGuardPattern(t,r,a){let l=a.length,s=new Int32Array(l),c=t.getSize(),u=!1,x=0,p=r;s.fill(0);for(let A=r;A<c;A++)if(t.get(A)!==u)s[x]++;else{if(x===l-1){if(rn.patternMatchVariance(s,a,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE)return[p,A];p+=s[0]+s[1],U.arraycopy(s,2,s,0,x-1),s[x-1]=0,s[x]=0,x--}else x++;s[x]=1,u=!u}throw new V}static decodeDigit(t){let r=ct.MAX_AVG_VARIANCE,a=-1,l=ct.PATTERNS.length;for(let s=0;s<l;s++){let c=ct.PATTERNS[s],u=rn.patternMatchVariance(t,c,ct.MAX_INDIVIDUAL_VARIANCE);u<r?(r=u,a=s):u===r&&(a=-1)}if(a>=0)return a%10;throw new V}}ct.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ct.MAX_AVG_VARIANCE=.38,ct.MAX_INDIVIDUAL_VARIANCE=.5,ct.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ct.START_PATTERN=Int32Array.from([1,1,1,1]),ct.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class hn extends rn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,a,l=0,s=Int32Array.from([0,0,0]);for(;!r;){s=Int32Array.from([0,0,0]),a=hn.findGuardPattern(t,l,!1,this.START_END_PATTERN,s);let c=a[0];l=a[1];let u=c-(l-c);u>=0&&(r=t.isRange(u,c,!1))}return a}static checkChecksum(t){return hn.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let a=parseInt(t.charAt(r-1),10);return hn.getStandardUPCEANChecksum(t.substring(0,r-1))===a}static getStandardUPCEANChecksum(t){let r=t.length,a=0;for(let l=r-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new D;a+=s}a*=3;for(let l=r-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new D;a+=s}return(1e3-a)%10}static decodeEnd(t,r){return hn.findGuardPattern(t,r,!1,hn.START_END_PATTERN,new Int32Array(hn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,a,l){return this.findGuardPattern(t,r,a,l,new Int32Array(l.length))}static findGuardPattern(t,r,a,l,s){let c=t.getSize();r=a?t.getNextUnset(r):t.getNextSet(r);let u=0,x=r,p=l.length,A=a;for(let T=r;T<c;T++)if(t.get(T)!==A)s[u]++;else{if(u===p-1){if(rn.patternMatchVariance(s,l,hn.MAX_INDIVIDUAL_VARIANCE)<hn.MAX_AVG_VARIANCE)return Int32Array.from([x,T]);x+=s[0]+s[1];let I=s.slice(2,s.length-1);for(let L=0;L<u-1;L++)s[L]=I[L];s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,A=!A}throw new V}static decodeDigit(t,r,a,l){this.recordPattern(t,a,r);let s=this.MAX_AVG_VARIANCE,c=-1,u=l.length;for(let x=0;x<u;x++){let p=l[x],A=rn.patternMatchVariance(r,p,hn.MAX_INDIVIDUAL_VARIANCE);A<s&&(s=A,c=x)}if(c>=0)return c;throw new V}}hn.MAX_AVG_VARIANCE=.48,hn.MAX_INDIVIDUAL_VARIANCE=.7,hn.START_END_PATTERN=Int32Array.from([1,1,1]),hn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),hn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),hn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Wi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(r,a,l),c=l.toString(),u=Wi.parseExtensionString(c),x=[new He((a[0]+a[1])/2,t),new He(s,t)],p=new De(c,null,0,x,ne.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p}decodeMiddle(t,r,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=r[1],u=0;for(let p=0;p<5&&c<s;p++){let A=hn.decodeDigit(t,l,c,hn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+A%10);for(let T of l)c+=T;A>=10&&(u|=1<<4-p),p!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(a.length!==5)throw new V;let x=this.determineCheckDigit(u);if(Wi.extensionChecksum(a.toString())!==x)throw new V;return c}static extensionChecksum(t){let r=t.length,a=0;for(let l=r-2;l>=0;l-=2)a+=t.charAt(l).charCodeAt(0)-48;a*=3;for(let l=r-1;l>=0;l-=2)a+=t.charAt(l).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new V}static parseExtensionString(t){if(t.length!==5)return null;let r=Wi.parseExtension5String(t);return r==null?null:new Map([[we.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let a=parseInt(t.substring(1)),l=(a/100).toString(),s=a%100,c=s<10?"0"+s:s.toString();return r+l+"."+c}}class xs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(r,a,l),c=l.toString(),u=xs.parseExtensionString(c),x=[new He((a[0]+a[1])/2,t),new He(s,t)],p=new De(c,null,0,x,ne.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&p.putAllMetadata(u),p}decodeMiddle(t,r,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=r[1],u=0;for(let x=0;x<2&&c<s;x++){let p=hn.decodeDigit(t,l,c,hn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+p%10);for(let A of l)c+=A;p>=10&&(u|=1<<1-x),x!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(a.length!==2)throw new V;if(parseInt(a.toString())%4!==u)throw new V;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[we.ISSUE_NUMBER,parseInt(t)]])}}class Qi{static decodeRow(t,r,a){let l=hn.findGuardPattern(r,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Wi().decodeRow(t,r,l)}catch{return new xs().decodeRow(t,r,l)}}}Qi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class At extends hn{constructor(){super(),this.decodeRowStringBuffer="",At.L_AND_G_PATTERNS=At.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=At.L_PATTERNS[t-10],a=new Int32Array(r.length);for(let l=0;l<r.length;l++)a[l]=r[r.length-l-1];At.L_AND_G_PATTERNS[t]=a}}decodeRow(t,r,a){let l=At.findStartGuardPattern(r),s=a==null?null:a.get(Q.NEED_RESULT_POINT_CALLBACK);if(s!=null){const ve=new He((l[0]+l[1])/2,t);s.foundPossibleResultPoint(ve)}let c=this.decodeMiddle(r,l,this.decodeRowStringBuffer),u=c.rowOffset,x=c.resultString;if(s!=null){const ve=new He(u,t);s.foundPossibleResultPoint(ve)}let p=this.decodeEnd(r,u);if(s!=null){const ve=new He((p[0]+p[1])/2,t);s.foundPossibleResultPoint(ve)}let A=p[1],T=A+(A-p[0]);if(T>=r.getSize()||!r.isRange(A,T,!1))throw new V;let I=x.toString();if(I.length<8)throw new D;if(!At.checkChecksum(I))throw new W;let L=(l[1]+l[0])/2,H=(p[1]+p[0])/2,Y=this.getBarcodeFormat(),te=[new He(L,t),new He(H,t)],ue=new De(I,null,0,te,Y,new Date().getTime()),Ie=0;try{let ve=Qi.decodeRow(t,r,p[1]);ue.putMetadata(we.UPC_EAN_EXTENSION,ve.getText()),ue.putAllMetadata(ve.getResultMetadata()),ue.addResultPoints(ve.getResultPoints()),Ie=ve.getText().length}catch{}let _e=a==null?null:a.get(Q.ALLOWED_EAN_EXTENSIONS);if(_e!=null){let ve=!1;for(let mt in _e)if(Ie.toString()===mt){ve=!0;break}if(!ve)throw new V}return ue}decodeEnd(t,r){return At.findGuardPattern(t,r,!1,At.START_END_PATTERN,new Int32Array(At.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return At.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let a=parseInt(t.charAt(r-1),10);return At.getStandardUPCEANChecksum(t.substring(0,r-1))===a}static getStandardUPCEANChecksum(t){let r=t.length,a=0;for(let l=r-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new D;a+=s}a*=3;for(let l=r-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new D;a+=s}return(1e3-a)%10}}class Fr extends At{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=r[1],u=0;for(let p=0;p<6&&c<s;p++){let A=At.decodeDigit(t,l,c,At.L_AND_G_PATTERNS);a+=String.fromCharCode(48+A%10);for(let T of l)c+=T;A>=10&&(u|=1<<5-p)}a=Fr.determineFirstDigit(a,u),c=At.findGuardPattern(t,c,!0,At.MIDDLE_PATTERN,new Int32Array(At.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&c<s;p++){let A=At.decodeDigit(t,l,c,At.L_PATTERNS);a+=String.fromCharCode(48+A);for(let T of l)c+=T}return{rowOffset:c,resultString:a}}getBarcodeFormat(){return ne.EAN_13}static determineFirstDigit(t,r){for(let a=0;a<10;a++)if(r===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new V}}Fr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ba extends At{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,a){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=r[1];for(let x=0;x<4&&c<s;x++){let p=At.decodeDigit(t,l,c,At.L_PATTERNS);a+=String.fromCharCode(48+p);for(let A of l)c+=A}c=At.findGuardPattern(t,c,!0,At.MIDDLE_PATTERN,new Int32Array(At.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&c<s;x++){let p=At.decodeDigit(t,l,c,At.L_PATTERNS);a+=String.fromCharCode(48+p);for(let A of l)c+=A}return{rowOffset:c,resultString:a}}getBarcodeFormat(){return ne.EAN_8}}class Ki extends At{constructor(){super(...arguments),this.ean13Reader=new Fr}getBarcodeFormat(){return ne.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,a))}decodeMiddle(t,r,a){return this.ean13Reader.decodeMiddle(t,r,a)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let a=new De(r.substring(1),null,null,t.getResultPoints(),ne.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new V}reset(){this.ean13Reader.reset()}}class Qn extends At{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,a){const l=this.decodeMiddleCounters.map(p=>p);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const s=t.getSize();let c=r[1],u=0;for(let p=0;p<6&&c<s;p++){const A=Qn.decodeDigit(t,l,c,Qn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+A%10);for(let T of l)c+=T;A>=10&&(u|=1<<5-p)}let x=Qn.determineNumSysAndCheckDigit(a,u);return{rowOffset:c,resultString:x}}decodeEnd(t,r){return Qn.findGuardPatternWithoutCounters(t,r,!0,Qn.MIDDLE_END_PATTERN)}checkChecksum(t){return At.checkChecksum(Qn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let a=0;a<=1;a++)for(let l=0;l<10;l++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][l]){let s=String.fromCharCode(48+a),c=String.fromCharCode(48+l);return s+t+c}throw V.getNotFoundInstance()}getBarcodeFormat(){return ne.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(s=>s.charCodeAt(0)),a=new Re;a.append(t.charAt(0));let l=r[5];switch(l){case 0:case 1:case 2:a.appendChars(r,0,2),a.append(l),a.append("0000"),a.appendChars(r,2,3);break;case 3:a.appendChars(r,0,3),a.append("00000"),a.appendChars(r,3,2);break;case 4:a.appendChars(r,0,4),a.append("00000"),a.append(r[4]);break;default:a.appendChars(r,0,5),a.append("0000"),a.append(l);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()}}Qn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Qn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class gs extends rn{constructor(t){super();let r=t==null?null:t.get(Q.POSSIBLE_FORMATS),a=[];y(r)?(a.push(new Fr),a.push(new Ki),a.push(new ba),a.push(new Qn)):(r.indexOf(ne.EAN_13)>-1&&a.push(new Fr),r.indexOf(ne.UPC_A)>-1&&a.push(new Ki),r.indexOf(ne.EAN_8)>-1&&a.push(new ba),r.indexOf(ne.UPC_E)>-1&&a.push(new Qn)),this.readers=a}decodeRow(t,r,a){for(let l of this.readers)try{const s=l.decodeRow(t,r,a),c=s.getBarcodeFormat()===ne.EAN_13&&s.getText().charAt(0)==="0",u=a==null?null:a.get(Q.POSSIBLE_FORMATS),x=u==null||u.includes(ne.UPC_A);if(c&&x){const p=s.getRawBytes(),A=new De(s.getText().substring(1),p,p?p.length:null,s.getResultPoints(),ne.UPC_A);return A.putAllMetadata(s.getResultMetadata()),A}return s}catch{}throw new V}reset(){for(let t of this.readers)t.reset()}}class Hn extends rn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let a=0;a<r.length;a++)if(rn.patternMatchVariance(t,r[a],Hn.MAX_INDIVIDUAL_VARIANCE)<Hn.MAX_AVG_VARIANCE)return a;throw new V}static count(t){return st.sum(new Int32Array(t))}static increment(t,r){let a=0,l=r[0];for(let s=1;s<t.length;s++)r[s]>l&&(l=r[s],a=s);t[a]++}static decrement(t,r){let a=0,l=r[0];for(let s=1;s<t.length;s++)r[s]<l&&(l=r[s],a=s);t[a]--}static isFinderPattern(t){let r=t[0]+t[1],a=r+t[2]+t[3],l=r/a;if(l>=Hn.MIN_FINDER_PATTERN_RATIO&&l<=Hn.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let u of t)u>c&&(c=u),u<s&&(s=u);return c<10*s}return!1}}Hn.MAX_AVG_VARIANCE=.2,Hn.MAX_INDIVIDUAL_VARIANCE=.45,Hn.MIN_FINDER_PATTERN_RATIO=9.5/12,Hn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ya{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof ya))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class wa{constructor(t,r,a,l,s){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new He(a,s)),this.resultPoints.push(new He(l,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof wa))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Pr{constructor(){}static getRSSvalue(t,r,a){let l=0;for(let x of t)l+=x;let s=0,c=0,u=t.length;for(let x=0;x<u-1;x++){let p;for(p=1,c|=1<<x;p<t[x];p++,c&=~(1<<x)){let A=Pr.combins(l-p-1,u-x-2);if(a&&c===0&&l-p-(u-x-1)>=u-x-1&&(A-=Pr.combins(l-p-(u-x),u-x-2)),u-x-1>1){let T=0;for(let I=l-p-(u-x-2);I>r;I--)T+=Pr.combins(l-p-I-1,u-x-3);A-=T*(u-1-x)}else l-p>r&&A--;s+=A}l-=p}return s}static combins(t,r){let a,l;t-r>r?(l=r,a=t-r):(l=t-r,a=r);let s=1,c=1;for(let u=t;u>a;u--)s*=u,c<=l&&(s/=c,c++);for(;c<=l;)s/=c,c++;return s}}class wo{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let a=12*r,l=new oe(a),s=0,u=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)(u&1<<x)!=0&&l.set(s),s++;for(let x=1;x<t.length;++x){let p=t[x],A=p.getLeftChar().getValue();for(let T=11;T>=0;--T)(A&1<<T)!=0&&l.set(s),s++;if(p.getRightChar()!=null){let T=p.getRightChar().getValue();for(let I=11;I>=0;--I)(T&1<<I)!=0&&l.set(s),s++}}return l}}class Ea{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class vl{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Yn extends vl{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Yn.FNC1}}Yn.FNC1="$";class na extends vl{constructor(t,r,a){super(t),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ir extends vl{constructor(t,r,a){if(super(t),r<0||r>10||a<0||a>10)throw new D;this.firstDigit=r,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ir.FNC1}isSecondDigitFNC1(){return this.secondDigit===ir.FNC1}isAnyFNC1(){return this.firstDigit===ir.FNC1||this.secondDigit===ir.FNC1}}ir.FNC1=10;class je{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new V;let r=t.substring(0,2);for(let s of je.TWO_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===je.VARIABLE_LENGTH?je.processVariableAI(2,s[2],t):je.processFixedAI(2,s[1],t);if(t.length<3)throw new V;let a=t.substring(0,3);for(let s of je.THREE_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===je.VARIABLE_LENGTH?je.processVariableAI(3,s[2],t):je.processFixedAI(3,s[1],t);for(let s of je.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===je.VARIABLE_LENGTH?je.processVariableAI(4,s[2],t):je.processFixedAI(4,s[1],t);if(t.length<4)throw new V;let l=t.substring(0,4);for(let s of je.FOUR_DIGIT_DATA_LENGTH)if(s[0]===l)return s[1]===je.VARIABLE_LENGTH?je.processVariableAI(4,s[2],t):je.processFixedAI(4,s[1],t);throw new V}static processFixedAI(t,r,a){if(a.length<t)throw new V;let l=a.substring(0,t);if(a.length<t+r)throw new V;let s=a.substring(t,t+r),c=a.substring(t+r),u="("+l+")"+s,x=je.parseFieldsInGeneralPurpose(c);return x==null?u:u+x}static processVariableAI(t,r,a){let l=a.substring(0,t),s;a.length<t+r?s=a.length:s=t+r;let c=a.substring(t,s),u=a.substring(s),x="("+l+")"+c,p=je.parseFieldsInGeneralPurpose(u);return p==null?x:x+p}}je.VARIABLE_LENGTH=[],je.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",je.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",je.VARIABLE_LENGTH,20],["22",je.VARIABLE_LENGTH,29],["30",je.VARIABLE_LENGTH,8],["37",je.VARIABLE_LENGTH,8],["90",je.VARIABLE_LENGTH,30],["91",je.VARIABLE_LENGTH,30],["92",je.VARIABLE_LENGTH,30],["93",je.VARIABLE_LENGTH,30],["94",je.VARIABLE_LENGTH,30],["95",je.VARIABLE_LENGTH,30],["96",je.VARIABLE_LENGTH,30],["97",je.VARIABLE_LENGTH,3],["98",je.VARIABLE_LENGTH,30],["99",je.VARIABLE_LENGTH,30]],je.THREE_DIGIT_DATA_LENGTH=[["240",je.VARIABLE_LENGTH,30],["241",je.VARIABLE_LENGTH,30],["242",je.VARIABLE_LENGTH,6],["250",je.VARIABLE_LENGTH,30],["251",je.VARIABLE_LENGTH,30],["253",je.VARIABLE_LENGTH,17],["254",je.VARIABLE_LENGTH,20],["400",je.VARIABLE_LENGTH,30],["401",je.VARIABLE_LENGTH,30],["402",17],["403",je.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",je.VARIABLE_LENGTH,20],["421",je.VARIABLE_LENGTH,15],["422",3],["423",je.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],je.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",je.VARIABLE_LENGTH,15],["391",je.VARIABLE_LENGTH,18],["392",je.VARIABLE_LENGTH,15],["393",je.VARIABLE_LENGTH,18],["703",je.VARIABLE_LENGTH,30]],je.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",je.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",je.VARIABLE_LENGTH,20],["8003",je.VARIABLE_LENGTH,30],["8004",je.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",je.VARIABLE_LENGTH,30],["8008",je.VARIABLE_LENGTH,12],["8018",18],["8020",je.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",je.VARIABLE_LENGTH,70],["8200",je.VARIABLE_LENGTH,70]];class lr{constructor(t){this.buffer=new Re,this.information=t}decodeAllCodes(t,r){let a=r,l=null;do{let s=this.decodeGeneralPurposeField(a,l),c=je.parseFieldsInGeneralPurpose(s.getNewString());if(c!=null&&t.append(c),s.isRemaining()?l=""+s.getRemainingValue():l=null,a===s.getNewPosition())break;a=s.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(t,4);return s===0?new ir(this.information.getSize(),ir.FNC1,ir.FNC1):new ir(this.information.getSize(),s-1,ir.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),a=(r-8)/11,l=(r-8)%11;return new ir(t+7,a,l)}extractNumericValueFromBitArray(t,r){return lr.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,a){let l=0;for(let s=0;s<a;++s)t.get(r+s)&&(l|=1<<a-s-1);return l}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new na(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new na(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let a=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(a!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new na(this.current.getPosition(),this.buffer.toString()):r=new na(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Ea(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new na(this.current.getPosition(),this.buffer.toString());return new Ea(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ea(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new na(this.current.getPosition(),this.buffer.toString());return new Ea(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ea(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new na(this.current.getPosition(),this.buffer.toString());return new Ea(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ea(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Yn(t+5,Yn.FNC1);if(r>=5&&r<15)return new Yn(t+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new Yn(t+7,""+(a+1));if(a>=90&&a<116)return new Yn(t+7,""+(a+7));let l=this.extractNumericValueFromBitArray(t,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new D}return new Yn(t+8,s)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new Yn(t+5,Yn.FNC1);if(r>=5&&r<15)return new Yn(t+5,"0"+(r-5));let a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new Yn(t+6,""+(a+33));let l;switch(a){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new yn("Decoding invalid alphanumeric value: "+a)}return new Yn(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Nn{constructor(t){this.information=t,this.generalDecoder=new lr(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Xt extends Nn{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,a)}encodeCompressedGtinWithoutAI(t,r,a){for(let l=0;l<4;++l){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*l,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}Xt.appendCheckDigit(t,a)}static appendCheckDigit(t,r){let a=0;for(let l=0;l<13;l++){let s=t.charAt(l+r).charCodeAt(0)-48;a+=(l&1)===0?3*s:s}a=10-a%10,a===10&&(a=0),t.append(a)}}Xt.GTIN_SIZE=40;class Tr extends Xt{constructor(t){super(t)}parseInformation(){let t=new Re;t.append("(01)");let r=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Tr.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,Tr.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,Tr.HEADER_SIZE+44)}}Tr.HEADER_SIZE=4;class ci extends Nn{constructor(t){super(t)}parseInformation(){let t=new Re;return this.getGeneralDecoder().decodeAllCodes(t,ci.HEADER_SIZE)}}ci.HEADER_SIZE=5;class Sl extends Xt{constructor(t){super(t)}encodeCompressedWeight(t,r,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r,a);this.addWeightCode(t,l);let s=this.checkWeight(l),c=1e5;for(let u=0;u<5;++u)s/c===0&&t.append("0"),c/=10;t.append(s)}}class Gr extends Sl{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Gr.HEADER_SIZE+Sl.GTIN_SIZE+Gr.WEIGHT_SIZE)throw new V;let t=new Re;return this.encodeCompressedGtin(t,Gr.HEADER_SIZE),this.encodeCompressedWeight(t,Gr.HEADER_SIZE+Sl.GTIN_SIZE,Gr.WEIGHT_SIZE),t.toString()}}Gr.HEADER_SIZE=5,Gr.WEIGHT_SIZE=15;class Eo extends Gr{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class Ji extends Gr{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class hr extends Xt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<hr.HEADER_SIZE+Xt.GTIN_SIZE)throw new V;let t=new Re;this.encodeCompressedGtin(t,hr.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(hr.HEADER_SIZE+Xt.GTIN_SIZE,hr.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(hr.HEADER_SIZE+Xt.GTIN_SIZE+hr.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()}}hr.HEADER_SIZE=8,hr.LAST_DIGIT_SIZE=2;class wn extends Xt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<wn.HEADER_SIZE+Xt.GTIN_SIZE)throw new V;let t=new Re;this.encodeCompressedGtin(t,wn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+Xt.GTIN_SIZE,wn.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(wn.HEADER_SIZE+Xt.GTIN_SIZE+wn.LAST_DIGIT_SIZE,wn.FIRST_THREE_DIGITS_SIZE);a/100==0&&t.append("0"),a/10==0&&t.append("0"),t.append(a);let l=this.getGeneralDecoder().decodeGeneralPurposeField(wn.HEADER_SIZE+Xt.GTIN_SIZE+wn.LAST_DIGIT_SIZE+wn.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}wn.HEADER_SIZE=8,wn.LAST_DIGIT_SIZE=2,wn.FIRST_THREE_DIGITS_SIZE=10;class jt extends Sl{constructor(t,r,a){super(t),this.dateCode=a,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=jt.HEADER_SIZE+jt.GTIN_SIZE+jt.WEIGHT_SIZE+jt.DATE_SIZE)throw new V;let t=new Re;return this.encodeCompressedGtin(t,jt.HEADER_SIZE),this.encodeCompressedWeight(t,jt.HEADER_SIZE+jt.GTIN_SIZE,jt.WEIGHT_SIZE),this.encodeCompressedDate(t,jt.HEADER_SIZE+jt.GTIN_SIZE+jt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,jt.DATE_SIZE);if(a==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=a%32;a/=32;let s=a%12+1;a/=12;let c=a;c/10==0&&t.append("0"),t.append(c),s/10==0&&t.append("0"),t.append(s),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}jt.HEADER_SIZE=8,jt.WEIGHT_SIZE=20,jt.DATE_SIZE=16;function ui(S){try{if(S.get(1))return new Tr(S);if(!S.get(2))return new ci(S);switch(lr.extractNumericValueFromBitArray(S,1,4)){case 4:return new Eo(S);case 5:return new Ji(S)}switch(lr.extractNumericValueFromBitArray(S,1,5)){case 12:return new hr(S);case 13:return new wn(S)}switch(lr.extractNumericValueFromBitArray(S,1,7)){case 56:return new jt(S,"310","11");case 57:return new jt(S,"320","11");case 58:return new jt(S,"310","13");case 59:return new jt(S,"320","13");case 60:return new jt(S,"310","15");case 61:return new jt(S,"320","15");case 62:return new jt(S,"310","17");case 63:return new jt(S,"320","17")}}catch(t){throw console.log(t),new yn("unknown decoder: "+S)}}class sr{constructor(t,r,a,l){this.leftchar=t,this.rightchar=r,this.finderpattern=a,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof sr?sr.equalsOrNull(t.leftchar,r.leftchar)&&sr.equalsOrNull(t.rightchar,r.rightchar)&&sr.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:sr.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class En{constructor(t,r,a){this.pairs=t,this.rowNumber=r,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof En?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let a;return t.forEach((l,s)=>{r.forEach(c=>{l.getLeftChar().getValue()===c.getLeftChar().getValue()&&l.getRightChar().getValue()===c.getRightChar().getValue()&&l.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(a=!0)})}),a}}class Ae extends Hn{constructor(t){super(...arguments),this.pairs=new Array(Ae.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,a){this.pairs.length=0,this.startFromEven=!1;try{return Ae.constructResult(this.decodeRow2pairs(t,r))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,Ae.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(s){if(s instanceof V){if(!this.pairs.length)throw new V;a=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new V}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let a=r;a<this.rows.length;a++){let l=this.rows[a];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(l.getPairs()),!Ae.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(t);s.push(l);try{return this.checkRows(s,a+1)}catch(c){this.verbose&&console.log(c)}}throw new V}static isValidSequence(t){for(let r of Ae.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let a=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=r[l]){a=!1;break}if(a)return!0}return!1}storeRow(t,r){let a=0,l=!1,s=!1;for(;a<this.rows.length;){let c=this.rows[a];if(c.getRowNumber()>t){s=c.isEquivalent(this.pairs);break}l=c.isEquivalent(this.pairs),a++}s||l||Ae.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new En(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let a of r)if(a.getPairs().length!==t.length){for(let l of a.getPairs())for(let s of t)if(sr.equals(l,s))break}}static isPartialRow(t,r){for(let a of r){let l=!0;for(let s of t){let c=!1;for(let u of a.getPairs())if(s.equals(u)){c=!0;break}if(!c){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=wo.buildBitArray(t),l=ui(r).parseInformation(),s=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),u=[s[0],s[1],c[0],c[1]];return new De(l,null,null,u,ne.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),a=t.getRightChar();if(a==null)return!1;let l=a.getChecksumPortion(),s=2;for(let u=1;u<this.pairs.size();++u){let x=this.pairs.get(u);l+=x.getLeftChar().getChecksumPortion(),s++;let p=x.getRightChar();p!=null&&(l+=p.getChecksumPortion(),s++)}return l%=211,211*(s-4)+l==r.getValue()}static getNextSecondBar(t,r){let a;return t.get(r)?(a=t.getNextUnset(r),a=t.getNextSet(a)):(a=t.getNextSet(r),a=t.getNextUnset(a)),a}retrieveNextPair(t,r,a){let l=r.length%2==0;this.startFromEven&&(l=!l);let s,c=!0,u=-1;do this.findNextPair(t,r,u),s=this.parseFoundFinderPattern(t,a,l),s==null?u=Ae.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let x=this.decodeDataCharacter(t,s,l,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new V;let p;try{p=this.decodeDataCharacter(t,s,l,!1)}catch(A){p=null,this.verbose&&console.log(A)}return new sr(x,p,s,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c;a>=0?c=a:this.isEmptyPair(r)?c=0:c=r[r.length-1].getFinderPattern().getStartEnd()[1];let u=r.length%2!=0;this.startFromEven&&(u=!u);let x=!1;for(;c<s&&(x=!t.get(c),!!x);)c++;let p=0,A=c;for(let T=c;T<s;T++)if(t.get(T)!=x)l[p]++;else{if(p==3){if(u&&Ae.reverseCounters(l),Ae.isFinderPattern(l)){this.startEnd[0]=A,this.startEnd[1]=T;return}u&&Ae.reverseCounters(l),A+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,p--}else p++;l[p]=1,x=!x}throw new V}static reverseCounters(t){let r=t.length;for(let a=0;a<r/2;++a){let l=t[a];t[a]=t[r-a-1],t[r-a-1]=l}}parseFoundFinderPattern(t,r,a){let l,s,c;if(a){let p=this.startEnd[0]-1;for(;p>=0&&!t.get(p);)p--;p++,l=this.startEnd[0]-p,s=p,c=this.startEnd[1]}else s=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),l=c-this.startEnd[1];let u=this.getDecodeFinderCounters();U.arraycopy(u,0,u,1,u.length-1),u[0]=l;let x;try{x=this.parseFinderValue(u,Ae.FINDER_PATTERNS)}catch{return null}return new wa(x,[s,c],s,c,r)}decodeDataCharacter(t,r,a,l){let s=this.getDataCharacterCounters();for(let Gt=0;Gt<s.length;Gt++)s[Gt]=0;if(l)Ae.recordPatternInReverse(t,r.getStartEnd()[0],s);else{Ae.recordPattern(t,r.getStartEnd()[1],s);for(let Gt=0,Gn=s.length-1;Gt<Gn;Gt++,Gn--){let ur=s[Gt];s[Gt]=s[Gn],s[Gn]=ur}}let c=17,u=st.sum(new Int32Array(s))/c,x=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(u-x)/x>.3)throw new V;let p=this.getOddCounts(),A=this.getEvenCounts(),T=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Gt=0;Gt<s.length;Gt++){let Gn=1*s[Gt]/u,ur=Gn+.5;if(ur<1){if(Gn<.3)throw new V;ur=1}else if(ur>8){if(Gn>8.7)throw new V;ur=8}let Ci=Gt/2;(Gt&1)==0?(p[Ci]=ur,T[Ci]=Gn-ur):(A[Ci]=ur,I[Ci]=Gn-ur)}this.adjustOddEvenCounts(c);let L=4*r.getValue()+(a?0:2)+(l?0:1)-1,H=0,Y=0;for(let Gt=p.length-1;Gt>=0;Gt--){if(Ae.isNotA1left(r,a,l)){let Gn=Ae.WEIGHTS[L][2*Gt];Y+=p[Gt]*Gn}H+=p[Gt]}let te=0;for(let Gt=A.length-1;Gt>=0;Gt--)if(Ae.isNotA1left(r,a,l)){let Gn=Ae.WEIGHTS[L][2*Gt+1];te+=A[Gt]*Gn}let ue=Y+te;if((H&1)!=0||H>13||H<4)throw new V;let Ie=(13-H)/2,_e=Ae.SYMBOL_WIDEST[Ie],ve=9-_e,mt=Pr.getRSSvalue(p,_e,!0),at=Pr.getRSSvalue(A,ve,!1),Cn=Ae.EVEN_TOTAL_SUBSET[Ie],mr=Ae.GSUM[Ie],Kn=mt*Cn+at+mr;return new ya(Kn,ue)}static isNotA1left(t,r,a){return!(t.getValue()==0&&r&&a)}adjustOddEvenCounts(t){let r=st.sum(new Int32Array(this.getOddCounts())),a=st.sum(new Int32Array(this.getEvenCounts())),l=!1,s=!1;r>13?s=!0:r<4&&(l=!0);let c=!1,u=!1;a>13?u=!0:a<4&&(c=!0);let x=r+a-t,p=(r&1)==1,A=(a&1)==0;if(x==1)if(p){if(A)throw new V;s=!0}else{if(!A)throw new V;u=!0}else if(x==-1)if(p){if(A)throw new V;l=!0}else{if(!A)throw new V;c=!0}else if(x==0){if(p){if(!A)throw new V;r<a?(l=!0,u=!0):(s=!0,c=!0)}else if(A)throw new V}else throw new V;if(l){if(s)throw new V;Ae.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Ae.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new V;Ae.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&Ae.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ae.SYMBOL_WIDEST=[7,5,4,3,1],Ae.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ae.GSUM=[0,348,1388,2948,3988],Ae.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ae.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ae.FINDER_PAT_A=0,Ae.FINDER_PAT_B=1,Ae.FINDER_PAT_C=2,Ae.FINDER_PAT_D=3,Ae.FINDER_PAT_E=4,Ae.FINDER_PAT_F=5,Ae.FINDER_PATTERN_SEQUENCES=[[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_C,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_E,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D,Ae.FINDER_PAT_C],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_E,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D,Ae.FINDER_PAT_D,Ae.FINDER_PAT_F],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_E,Ae.FINDER_PAT_B,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_F,Ae.FINDER_PAT_F],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_D],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_E],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_F,Ae.FINDER_PAT_F],[Ae.FINDER_PAT_A,Ae.FINDER_PAT_A,Ae.FINDER_PAT_B,Ae.FINDER_PAT_B,Ae.FINDER_PAT_C,Ae.FINDER_PAT_D,Ae.FINDER_PAT_D,Ae.FINDER_PAT_E,Ae.FINDER_PAT_E,Ae.FINDER_PAT_F,Ae.FINDER_PAT_F]],Ae.MAX_PAIRS=11;class Co extends ya{constructor(t,r,a){super(t,r),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ft extends Hn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,a){const l=this.decodePair(r,!1,t,a);Ft.addOrTally(this.possibleLeftPairs,l),r.reverse();let s=this.decodePair(r,!0,t,a);Ft.addOrTally(this.possibleRightPairs,s),r.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let u of this.possibleRightPairs)if(u.getCount()>1&&Ft.checkChecksum(c,u))return Ft.constructResult(c,u)}throw new V}static addOrTally(t,r){if(r==null)return;let a=!1;for(let l of t)if(l.getValue()===r.getValue()){l.incrementCount(),a=!0;break}a||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let a=4537077*t.getValue()+r.getValue(),l=new String(a).toString(),s=new Re;for(let p=13-l.length;p>0;p--)s.append("0");s.append(l);let c=0;for(let p=0;p<13;p++){let A=s.charAt(p).charCodeAt(0)-48;c+=(p&1)===0?3*A:A}c=10-c%10,c===10&&(c=0),s.append(c.toString());let u=t.getFinderPattern().getResultPoints(),x=r.getFinderPattern().getResultPoints();return new De(s.toString(),null,0,[u[0],u[1],x[0],x[1]],ne.RSS_14,new Date().getTime())}static checkChecksum(t,r){let a=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,a===l}decodePair(t,r,a,l){try{let s=this.findFinderPattern(t,r),c=this.parseFoundFinderPattern(t,a,r,s),u=l==null?null:l.get(Q.NEED_RESULT_POINT_CALLBACK);if(u!=null){let A=(s[0]+s[1])/2;r&&(A=t.getSize()-1-A),u.foundPossibleResultPoint(new He(A,a))}let x=this.decodeDataCharacter(t,c,!0),p=this.decodeDataCharacter(t,c,!1);return new Co(1597*x.getValue()+p.getValue(),x.getChecksumPortion()+4*p.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,r,a){let l=this.getDataCharacterCounters();for(let te=0;te<l.length;te++)l[te]=0;if(a)rn.recordPatternInReverse(t,r.getStartEnd()[0],l);else{rn.recordPattern(t,r.getStartEnd()[1]+1,l);for(let te=0,ue=l.length-1;te<ue;te++,ue--){let Ie=l[te];l[te]=l[ue],l[ue]=Ie}}let s=a?16:15,c=st.sum(new Int32Array(l))/s,u=this.getOddCounts(),x=this.getEvenCounts(),p=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let te=0;te<l.length;te++){let ue=l[te]/c,Ie=Math.floor(ue+.5);Ie<1?Ie=1:Ie>8&&(Ie=8);let _e=Math.floor(te/2);(te&1)===0?(u[_e]=Ie,p[_e]=ue-Ie):(x[_e]=Ie,A[_e]=ue-Ie)}this.adjustOddEvenCounts(a,s);let T=0,I=0;for(let te=u.length-1;te>=0;te--)I*=9,I+=u[te],T+=u[te];let L=0,H=0;for(let te=x.length-1;te>=0;te--)L*=9,L+=x[te],H+=x[te];let Y=I+3*L;if(a){if((T&1)!==0||T>12||T<4)throw new V;let te=(12-T)/2,ue=Ft.OUTSIDE_ODD_WIDEST[te],Ie=9-ue,_e=Pr.getRSSvalue(u,ue,!1),ve=Pr.getRSSvalue(x,Ie,!0),mt=Ft.OUTSIDE_EVEN_TOTAL_SUBSET[te],at=Ft.OUTSIDE_GSUM[te];return new ya(_e*mt+ve+at,Y)}else{if((H&1)!==0||H>10||H<4)throw new V;let te=(10-H)/2,ue=Ft.INSIDE_ODD_WIDEST[te],Ie=9-ue,_e=Pr.getRSSvalue(u,ue,!0),ve=Pr.getRSSvalue(x,Ie,!1),mt=Ft.INSIDE_ODD_TOTAL_SUBSET[te],at=Ft.INSIDE_GSUM[te];return new ya(ve*mt+_e+at,Y)}}findFinderPattern(t,r){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),s=!1,c=0;for(;c<l&&(s=!t.get(c),r!==s);)c++;let u=0,x=c;for(let p=c;p<l;p++)if(t.get(p)!==s)a[u]++;else{if(u===3){if(Hn.isFinderPattern(a))return[x,p];x+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,u--}else u++;a[u]=1,s=!s}throw new V}parseFoundFinderPattern(t,r,a,l){let s=t.get(l[0]),c=l[0]-1;for(;c>=0&&s!==t.get(c);)c--;c++;const u=l[0]-c,x=this.getDecodeFinderCounters(),p=new Int32Array(x.length);U.arraycopy(x,0,p,1,x.length-1),p[0]=u;const A=this.parseFinderValue(p,Ft.FINDER_PATTERNS);let T=c,I=l[1];return a&&(T=t.getSize()-1-T,I=t.getSize()-1-I),new wa(A,[c,l[1]],T,I,r)}adjustOddEvenCounts(t,r){let a=st.sum(new Int32Array(this.getOddCounts())),l=st.sum(new Int32Array(this.getEvenCounts())),s=!1,c=!1,u=!1,x=!1;t?(a>12?c=!0:a<4&&(s=!0),l>12?x=!0:l<4&&(u=!0)):(a>11?c=!0:a<5&&(s=!0),l>10?x=!0:l<4&&(u=!0));let p=a+l-r,A=(a&1)===(t?1:0),T=(l&1)===1;if(p===1)if(A){if(T)throw new V;c=!0}else{if(!T)throw new V;x=!0}else if(p===-1)if(A){if(T)throw new V;s=!0}else{if(!T)throw new V;u=!0}else if(p===0){if(A){if(!T)throw new V;a<l?(s=!0,x=!0):(c=!0,u=!0)}else if(T)throw new V}else throw new V;if(s){if(c)throw new V;Hn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Hn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(x)throw new V;Hn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Hn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ft.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ft.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ft.OUTSIDE_GSUM=[0,161,961,2015,2715],Ft.INSIDE_GSUM=[0,336,1036,1516],Ft.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ft.INSIDE_ODD_WIDEST=[2,4,6,8],Ft.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Nr extends rn{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const a=t?t.get(Q.POSSIBLE_FORMATS):null,l=t&&t.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(ne.EAN_13)||a.includes(ne.UPC_A)||a.includes(ne.EAN_8)||a.includes(ne.UPC_E))&&this.readers.push(new gs(t)),a.includes(ne.CODE_39)&&this.readers.push(new Zt(l)),a.includes(ne.CODE_128)&&this.readers.push(new Oe),a.includes(ne.ITF)&&this.readers.push(new ct),a.includes(ne.RSS_14)&&this.readers.push(new Ft),a.includes(ne.RSS_EXPANDED)&&this.readers.push(new Ae(this.verbose))):(this.readers.push(new gs(t)),this.readers.push(new Zt),this.readers.push(new gs(t)),this.readers.push(new Oe),this.readers.push(new ct),this.readers.push(new Ft),this.readers.push(new Ae(this.verbose)))}decodeRow(t,r,a){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,r,a)}catch{}throw new V}reset(){this.readers.forEach(t=>t.reset())}}class au extends Se{constructor(t=500,r){super(new Nr(r),t,r)}}class Rt{constructor(t,r,a){this.ecCodewords=t,this.ecBlocks=[r],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class It{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class wt{constructor(t,r,a,l,s,c){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=a,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=c;let u=0;const x=c.getECCodewords(),p=c.getECBlocks();for(let A of p)u+=A.getCount()*(A.getDataCodewords()+x);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if((t&1)!==0||(r&1)!==0)throw new D;for(let a of wt.VERSIONS)if(a.symbolSizeRows===t&&a.symbolSizeColumns===r)return a;throw new D}toString(){return""+this.versionNumber}static buildVersions(){return[new wt(1,10,10,8,8,new Rt(5,new It(1,3))),new wt(2,12,12,10,10,new Rt(7,new It(1,5))),new wt(3,14,14,12,12,new Rt(10,new It(1,8))),new wt(4,16,16,14,14,new Rt(12,new It(1,12))),new wt(5,18,18,16,16,new Rt(14,new It(1,18))),new wt(6,20,20,18,18,new Rt(18,new It(1,22))),new wt(7,22,22,20,20,new Rt(20,new It(1,30))),new wt(8,24,24,22,22,new Rt(24,new It(1,36))),new wt(9,26,26,24,24,new Rt(28,new It(1,44))),new wt(10,32,32,14,14,new Rt(36,new It(1,62))),new wt(11,36,36,16,16,new Rt(42,new It(1,86))),new wt(12,40,40,18,18,new Rt(48,new It(1,114))),new wt(13,44,44,20,20,new Rt(56,new It(1,144))),new wt(14,48,48,22,22,new Rt(68,new It(1,174))),new wt(15,52,52,24,24,new Rt(42,new It(2,102))),new wt(16,64,64,14,14,new Rt(56,new It(2,140))),new wt(17,72,72,16,16,new Rt(36,new It(4,92))),new wt(18,80,80,18,18,new Rt(48,new It(4,114))),new wt(19,88,88,20,20,new Rt(56,new It(4,144))),new wt(20,96,96,22,22,new Rt(68,new It(4,174))),new wt(21,104,104,24,24,new Rt(56,new It(6,136))),new wt(22,120,120,18,18,new Rt(68,new It(6,175))),new wt(23,132,132,20,20,new Rt(62,new It(8,163))),new wt(24,144,144,22,22,new Rt(62,new It(8,156),new It(2,155))),new wt(25,8,18,6,16,new Rt(7,new It(1,5))),new wt(26,8,32,6,14,new Rt(11,new It(1,10))),new wt(27,12,26,10,24,new Rt(14,new It(1,16))),new wt(28,12,36,10,16,new Rt(18,new It(1,22))),new wt(29,16,36,14,16,new Rt(24,new It(1,32))),new wt(30,16,48,14,22,new Rt(28,new It(1,49)))]}}wt.VERSIONS=wt.buildVersions();class fi{constructor(t){const r=t.getHeight();if(r<8||r>144||(r&1)!==0)throw new D;this.version=fi.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new xe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),a=t.getWidth();return wt.getVersionForDimensions(r,a)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,a=4,l=0;const s=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let u=!1,x=!1,p=!1,A=!1;do if(a===s&&l===0&&!u)t[r++]=this.readCorner1(s,c)&255,a-=2,l+=2,u=!0;else if(a===s-2&&l===0&&(c&3)!==0&&!x)t[r++]=this.readCorner2(s,c)&255,a-=2,l+=2,x=!0;else if(a===s+4&&l===2&&(c&7)===0&&!p)t[r++]=this.readCorner3(s,c)&255,a-=2,l+=2,p=!0;else if(a===s-2&&l===0&&(c&7)===4&&!A)t[r++]=this.readCorner4(s,c)&255,a-=2,l+=2,A=!0;else{do a<s&&l>=0&&!this.readMappingMatrix.get(l,a)&&(t[r++]=this.readUtah(a,l,s,c)&255),a-=2,l+=2;while(a>=0&&l<c);a+=1,l+=3;do a>=0&&l<c&&!this.readMappingMatrix.get(l,a)&&(t[r++]=this.readUtah(a,l,s,c)&255),a+=2,l-=2;while(a<s&&l>=0);a+=3,l+=1}while(a<s||l<c);if(r!==this.version.getTotalCodewords())throw new D;return t}readModule(t,r,a,l){return t<0&&(t+=a,r+=4-(a+4&7)),r<0&&(r+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,a,l){let s=0;return this.readModule(t-2,r-2,a,l)&&(s|=1),s<<=1,this.readModule(t-2,r-1,a,l)&&(s|=1),s<<=1,this.readModule(t-1,r-2,a,l)&&(s|=1),s<<=1,this.readModule(t-1,r-1,a,l)&&(s|=1),s<<=1,this.readModule(t-1,r,a,l)&&(s|=1),s<<=1,this.readModule(t,r-2,a,l)&&(s|=1),s<<=1,this.readModule(t,r-1,a,l)&&(s|=1),s<<=1,this.readModule(t,r,a,l)&&(s|=1),s}readCorner1(t,r){let a=0;return this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,1,t,r)&&(a|=1),a<<=1,this.readModule(t-1,2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(2,r-1,t,r)&&(a|=1),a<<=1,this.readModule(3,r-1,t,r)&&(a|=1),a}readCorner2(t,r){let a=0;return this.readModule(t-3,0,t,r)&&(a|=1),a<<=1,this.readModule(t-2,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(0,r-4,t,r)&&(a|=1),a<<=1,this.readModule(0,r-3,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a}readCorner3(t,r){let a=0;return this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(0,r-3,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-3,t,r)&&(a|=1),a<<=1,this.readModule(1,r-2,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a}readCorner4(t,r){let a=0;return this.readModule(t-3,0,t,r)&&(a|=1),a<<=1,this.readModule(t-2,0,t,r)&&(a|=1),a<<=1,this.readModule(t-1,0,t,r)&&(a|=1),a<<=1,this.readModule(0,r-2,t,r)&&(a|=1),a<<=1,this.readModule(0,r-1,t,r)&&(a|=1),a<<=1,this.readModule(1,r-1,t,r)&&(a|=1),a<<=1,this.readModule(2,r-1,t,r)&&(a|=1),a<<=1,this.readModule(3,r-1,t,r)&&(a|=1),a}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new M("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),c=r/l|0,u=a/s|0,x=c*l,p=u*s,A=new xe(p,x);for(let T=0;T<c;++T){const I=T*l;for(let L=0;L<u;++L){const H=L*s;for(let Y=0;Y<l;++Y){const te=T*(l+2)+1+Y,ue=I+Y;for(let Ie=0;Ie<s;++Ie){const _e=L*(s+2)+1+Ie;if(t.get(_e,te)){const ve=H+Ie;A.set(ve,ue)}}}}}return A}}class di{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const a=r.getECBlocks();let l=0;const s=a.getECBlocks();for(let Y of s)l+=Y.getCount();const c=new Array(l);let u=0;for(let Y of s)for(let te=0;te<Y.getCount();te++){const ue=Y.getDataCodewords(),Ie=a.getECCodewords()+ue;c[u++]=new di(ue,new Uint8Array(Ie))}const p=c[0].codewords.length-a.getECCodewords(),A=p-1;let T=0;for(let Y=0;Y<A;Y++)for(let te=0;te<u;te++)c[te].codewords[Y]=t[T++];const I=r.getVersionNumber()===24,L=I?8:u;for(let Y=0;Y<L;Y++)c[Y].codewords[p-1]=t[T++];const H=c[0].codewords.length;for(let Y=p;Y<H;Y++)for(let te=0;te<u;te++){const ue=I?(te+8)%u:te,Ie=I&&ue>7?Y-1:Y;c[ue].codewords[Ie]=t[T++]}if(T!==t.length)throw new M;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class _r{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new M(""+t);let r=0,a=this.bitOffset,l=this.byteOffset;const s=this.bytes;if(a>0){const c=8-a,u=t<c?t:c,x=c-u,p=255>>8-u<<x;r=(s[l]&p)>>x,t-=u,a+=u,a===8&&(a=0,l++)}if(t>0){for(;t>=8;)r=r<<8|s[l]&255,l++,t-=8;if(t>0){const c=8-t,u=255>>c<<c;r=r<<t|(s[l]&u)>>c,a+=t}}return this.bitOffset=a,this.byteOffset=l,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Dt;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(Dt||(Dt={}));class ra{static decode(t){const r=new _r(t),a=new Re,l=new Re,s=new Array;let c=Dt.ASCII_ENCODE;do if(c===Dt.ASCII_ENCODE)c=this.decodeAsciiSegment(r,a,l);else{switch(c){case Dt.C40_ENCODE:this.decodeC40Segment(r,a);break;case Dt.TEXT_ENCODE:this.decodeTextSegment(r,a);break;case Dt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,a);break;case Dt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,a);break;case Dt.BASE256_ENCODE:this.decodeBase256Segment(r,a,s);break;default:throw new D}c=Dt.ASCII_ENCODE}while(c!==Dt.PAD_ENCODE&&r.available()>0);return l.length()>0&&a.append(l.toString()),new ke(t,a.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(t,r,a){let l=!1;do{let s=t.readBits(8);if(s===0)throw new D;if(s<=128)return l&&(s+=128),r.append(String.fromCharCode(s-1)),Dt.ASCII_ENCODE;if(s===129)return Dt.PAD_ENCODE;if(s<=229){const c=s-130;c<10&&r.append("0"),r.append(""+c)}else switch(s){case 230:return Dt.C40_ENCODE;case 231:return Dt.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:r.append("[)>05"),a.insert(0,"");break;case 237:r.append("[)>06"),a.insert(0,"");break;case 238:return Dt.ANSIX12_ENCODE;case 239:return Dt.TEXT_ENCODE;case 240:return Dt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||t.available()!==0)throw new D;break}}while(t.available()>0);return Dt.ASCII_ENCODE}static decodeC40Segment(t,r){let a=!1;const l=[];let s=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),l);for(let u=0;u<3;u++){const x=l[u];switch(s){case 0:if(x<3)s=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[x];a?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),a=!1):r.append(p)}else throw new D;break;case 1:a?(r.append(String.fromCharCode(x+128)),a=!1):r.append(String.fromCharCode(x)),s=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[x];a?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),a=!1):r.append(p)}else switch(x){case 27:r.append("");break;case 30:a=!0;break;default:throw new D}s=0;break;case 3:a?(r.append(String.fromCharCode(x+224)),a=!1):r.append(String.fromCharCode(x+96)),s=0;break;default:throw new D}}}while(t.available()>0)}static decodeTextSegment(t,r){let a=!1,l=[],s=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),l);for(let u=0;u<3;u++){const x=l[u];switch(s){case 0:if(x<3)s=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[x];a?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),a=!1):r.append(p)}else throw new D;break;case 1:a?(r.append(String.fromCharCode(x+128)),a=!1):r.append(String.fromCharCode(x)),s=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[x];a?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),a=!1):r.append(p)}else switch(x){case 27:r.append("");break;case 30:a=!0;break;default:throw new D}s=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[x];a?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),a=!1):r.append(p),s=0}else throw new D;break;default:throw new D}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const a=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),a);for(let s=0;s<3;s++){const c=a[s];switch(c){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(c<14)r.append(String.fromCharCode(c+44));else if(c<40)r.append(String.fromCharCode(c+51));else throw new D;break}}}while(t.available()>0)}static parseTwoBytes(t,r,a){let l=(t<<8)+r-1,s=Math.floor(l/1600);a[0]=s,l-=s*1600,s=Math.floor(l/40),a[1]=s,a[2]=l-s*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let a=0;a<4;a++){let l=t.readBits(6);if(l===31){const s=8-t.getBitOffset();s!==8&&t.readBits(s);return}(l&32)===0&&(l|=64),r.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,r,a){let l=1+t.getByteOffset();const s=this.unrandomize255State(t.readBits(8),l++);let c;if(s===0?c=t.available()/8|0:s<250?c=s:c=250*(s-249)+this.unrandomize255State(t.readBits(8),l++),c<0)throw new D;const u=new Uint8Array(c);for(let x=0;x<c;x++){if(t.available()<8)throw new D;u[x]=this.unrandomize255State(t.readBits(8),l++)}a.push(u);try{r.append(pe.decode(u,me.ISO88591))}catch(x){throw new yn("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,r){const a=149*r%255+1,l=t-a;return l>=0?l:l+256}}ra.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ra.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ra.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ra.TEXT_SHIFT2_SET_CHARS=ra.C40_SHIFT2_SET_CHARS,ra.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class iu{constructor(){this.rsDecoder=new Zn(et.DATA_MATRIX_FIELD_256)}decode(t){const r=new fi(t),a=r.getVersion(),l=r.readCodewords(),s=di.getDataBlocks(l,a);let c=0;for(let p of s)c+=p.getNumDataCodewords();const u=new Uint8Array(c),x=s.length;for(let p=0;p<x;p++){const A=s[p],T=A.getCodewords(),I=A.getNumDataCodewords();this.correctErrors(T,I);for(let L=0;L<I;L++)u[L*x+p]=T[L]}return ra.decode(u)}correctErrors(t,r){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-r)}catch{throw new W}for(let l=0;l<r;l++)t[l]=a[l]}}class an{constructor(t){this.image=t,this.rectangleDetector=new Ht(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new V;r=this.shiftToModuleCenter(r);const a=r[0],l=r[1],s=r[2],c=r[3];let u=this.transitionsBetween(a,c)+1,x=this.transitionsBetween(s,c)+1;(u&1)===1&&(u+=1),(x&1)===1&&(x+=1),4*u<7*x&&4*x<7*u&&(u=x=Math.max(u,x));let p=an.sampleGrid(this.image,a,l,s,c,u,x);return new ka(p,[a,l,s,c])}static shiftPoint(t,r,a){let l=(r.getX()-t.getX())/(a+1),s=(r.getY()-t.getY())/(a+1);return new He(t.getX()+l,t.getY()+s)}static moveAway(t,r,a){let l=t.getX(),s=t.getY();return l<r?l-=1:l+=1,s<a?s-=1:s+=1,new He(l,s)}detectSolid1(t){let r=t[0],a=t[1],l=t[3],s=t[2],c=this.transitionsBetween(r,a),u=this.transitionsBetween(a,l),x=this.transitionsBetween(l,s),p=this.transitionsBetween(s,r),A=c,T=[s,r,a,l];return A>u&&(A=u,T[0]=r,T[1]=a,T[2]=l,T[3]=s),A>x&&(A=x,T[0]=a,T[1]=l,T[2]=s,T[3]=r),A>p&&(T[0]=l,T[1]=s,T[2]=r,T[3]=a),T}detectSolid2(t){let r=t[0],a=t[1],l=t[2],s=t[3],c=this.transitionsBetween(r,s),u=an.shiftPoint(a,l,(c+1)*4),x=an.shiftPoint(l,a,(c+1)*4),p=this.transitionsBetween(u,r),A=this.transitionsBetween(x,s);return p<A?(t[0]=r,t[1]=a,t[2]=l,t[3]=s):(t[0]=a,t[1]=l,t[2]=s,t[3]=r),t}correctTopRight(t){let r=t[0],a=t[1],l=t[2],s=t[3],c=this.transitionsBetween(r,s),u=this.transitionsBetween(a,s),x=an.shiftPoint(r,a,(u+1)*4),p=an.shiftPoint(l,a,(c+1)*4);c=this.transitionsBetween(x,s),u=this.transitionsBetween(p,s);let A=new He(s.getX()+(l.getX()-a.getX())/(c+1),s.getY()+(l.getY()-a.getY())/(c+1)),T=new He(s.getX()+(r.getX()-a.getX())/(u+1),s.getY()+(r.getY()-a.getY())/(u+1));if(!this.isValid(A))return this.isValid(T)?T:null;if(!this.isValid(T))return A;let I=this.transitionsBetween(x,A)+this.transitionsBetween(p,A),L=this.transitionsBetween(x,T)+this.transitionsBetween(p,T);return I>L?A:T}shiftToModuleCenter(t){let r=t[0],a=t[1],l=t[2],s=t[3],c=this.transitionsBetween(r,s)+1,u=this.transitionsBetween(l,s)+1,x=an.shiftPoint(r,a,u*4),p=an.shiftPoint(l,a,c*4);c=this.transitionsBetween(x,s)+1,u=this.transitionsBetween(p,s)+1,(c&1)===1&&(c+=1),(u&1)===1&&(u+=1);let A=(r.getX()+a.getX()+l.getX()+s.getX())/4,T=(r.getY()+a.getY()+l.getY()+s.getY())/4;r=an.moveAway(r,A,T),a=an.moveAway(a,A,T),l=an.moveAway(l,A,T),s=an.moveAway(s,A,T);let I,L;return x=an.shiftPoint(r,a,u*4),x=an.shiftPoint(x,s,c*4),I=an.shiftPoint(a,r,u*4),I=an.shiftPoint(I,l,c*4),p=an.shiftPoint(l,s,u*4),p=an.shiftPoint(p,a,c*4),L=an.shiftPoint(s,l,u*4),L=an.shiftPoint(L,r,c*4),[x,I,p,L]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,a,l,s,c,u){return nr.getInstance().sampleGrid(t,c,u,.5,.5,c-.5,.5,c-.5,u-.5,.5,u-.5,r.getX(),r.getY(),s.getX(),s.getY(),l.getX(),l.getY(),a.getX(),a.getY())}transitionsBetween(t,r){let a=Math.trunc(t.getX()),l=Math.trunc(t.getY()),s=Math.trunc(r.getX()),c=Math.trunc(r.getY()),u=Math.abs(c-l)>Math.abs(s-a);if(u){let Y=a;a=l,l=Y,Y=s,s=c,c=Y}let x=Math.abs(s-a),p=Math.abs(c-l),A=-x/2,T=l<c?1:-1,I=a<s?1:-1,L=0,H=this.image.get(u?l:a,u?a:l);for(let Y=a,te=l;Y!==s;Y+=I){let ue=this.image.get(u?te:Y,u?Y:te);if(ue!==H&&(L++,H=ue),A+=p,A>0){if(te===c)break;te+=T,A-=x}}return L}}class aa{constructor(){this.decoder=new iu}decode(t,r=null){let a,l;if(r!=null&&r.has(Q.PURE_BARCODE)){const p=aa.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(p),l=aa.NO_POINTS}else{const p=new an(t.getBlackMatrix()).detect();a=this.decoder.decode(p.getBits()),l=p.getPoints()}const s=a.getRawBytes(),c=new De(a.getText(),s,8*s.length,l,ne.DATA_MATRIX,U.currentTimeMillis()),u=a.getByteSegments();u!=null&&c.putMetadata(we.BYTE_SEGMENTS,u);const x=a.getECLevel();return x!=null&&c.putMetadata(we.ERROR_CORRECTION_LEVEL,x),c}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(r==null||a==null)throw new V;const l=this.moduleSize(r,t);let s=r[1];const c=a[1];let u=r[0];const p=(a[0]-u+1)/l,A=(c-s+1)/l;if(p<=0||A<=0)throw new V;const T=l/2;s+=T,u+=T;const I=new xe(p,A);for(let L=0;L<A;L++){const H=s+L*l;for(let Y=0;Y<p;Y++)t.get(u+Y*l,H)&&I.set(Y,L)}return I}static moduleSize(t,r){const a=r.getWidth();let l=t[0];const s=t[1];for(;l<a&&r.get(l,s);)l++;if(l===a)throw new V;const c=l-t[0];if(c===0)throw new V;return c}}aa.NO_POINTS=[];class Tl extends Se{constructor(t=500){super(new aa,t)}}var hi;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(hi||(hi={}));class yt{constructor(t,r,a){this.value=t,this.stringValue=r,this.bits=a,yt.FOR_BITS.set(a,this),yt.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return yt.L;case"M":return yt.M;case"Q":return yt.Q;case"H":return yt.H;default:throw new k(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof yt))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=yt.FOR_BITS.size)throw new M;return yt.FOR_BITS.get(t)}}yt.FOR_BITS=new Map,yt.FOR_VALUE=new Map,yt.L=new yt(hi.L,"L",1),yt.M=new yt(hi.M,"M",0),yt.Q=new yt(hi.Q,"Q",3),yt.H=new yt(hi.H,"H",2);class Mn{constructor(t){this.errorCorrectionLevel=yt.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return J.bitCount(t^r)}static decodeFormatInformation(t,r){const a=Mn.doDecodeFormatInformation(t,r);return a!==null?a:Mn.doDecodeFormatInformation(t^Mn.FORMAT_INFO_MASK_QR,r^Mn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let a=Number.MAX_SAFE_INTEGER,l=0;for(const s of Mn.FORMAT_INFO_DECODE_LOOKUP){const c=s[0];if(c===t||c===r)return new Mn(s[1]);let u=Mn.numBitsDiffering(t,c);u<a&&(l=s[1],a=u),t!==r&&(u=Mn.numBitsDiffering(r,c),u<a&&(l=s[1],a=u))}return a<=3?new Mn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof Mn))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Mn.FORMAT_INFO_MASK_QR=21522,Mn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class re{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const a of r)t+=a.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ge{constructor(t,r,...a){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=a;let l=0;const s=a[0].getECCodewordsPerBlock(),c=a[0].getECBlocks();for(const u of c)l+=u.getCount()*(u.getDataCodewords()+s);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new D;try{return this.getVersionForNumber((t-17)/4)}catch{throw new D}}static getVersionForNumber(t){if(t<1||t>40)throw new M;return Ge.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,a=0;for(let l=0;l<Ge.VERSION_DECODE_INFO.length;l++){const s=Ge.VERSION_DECODE_INFO[l];if(s===t)return Ge.getVersionForNumber(l+7);const c=Mn.numBitsDiffering(t,s);c<r&&(a=l+7,r=c)}return r<=3?Ge.getVersionForNumber(a):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new xe(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const a=this.alignmentPatternCenters.length;for(let l=0;l<a;l++){const s=this.alignmentPatternCenters[l]-2;for(let c=0;c<a;c++)l===0&&(c===0||c===a-1)||l===a-1&&c===0||r.setRegion(this.alignmentPatternCenters[c]-2,s,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}Ge.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ge.VERSIONS=[new Ge(1,new Int32Array(0),new re(7,new B(1,19)),new re(10,new B(1,16)),new re(13,new B(1,13)),new re(17,new B(1,9))),new Ge(2,Int32Array.from([6,18]),new re(10,new B(1,34)),new re(16,new B(1,28)),new re(22,new B(1,22)),new re(28,new B(1,16))),new Ge(3,Int32Array.from([6,22]),new re(15,new B(1,55)),new re(26,new B(1,44)),new re(18,new B(2,17)),new re(22,new B(2,13))),new Ge(4,Int32Array.from([6,26]),new re(20,new B(1,80)),new re(18,new B(2,32)),new re(26,new B(2,24)),new re(16,new B(4,9))),new Ge(5,Int32Array.from([6,30]),new re(26,new B(1,108)),new re(24,new B(2,43)),new re(18,new B(2,15),new B(2,16)),new re(22,new B(2,11),new B(2,12))),new Ge(6,Int32Array.from([6,34]),new re(18,new B(2,68)),new re(16,new B(4,27)),new re(24,new B(4,19)),new re(28,new B(4,15))),new Ge(7,Int32Array.from([6,22,38]),new re(20,new B(2,78)),new re(18,new B(4,31)),new re(18,new B(2,14),new B(4,15)),new re(26,new B(4,13),new B(1,14))),new Ge(8,Int32Array.from([6,24,42]),new re(24,new B(2,97)),new re(22,new B(2,38),new B(2,39)),new re(22,new B(4,18),new B(2,19)),new re(26,new B(4,14),new B(2,15))),new Ge(9,Int32Array.from([6,26,46]),new re(30,new B(2,116)),new re(22,new B(3,36),new B(2,37)),new re(20,new B(4,16),new B(4,17)),new re(24,new B(4,12),new B(4,13))),new Ge(10,Int32Array.from([6,28,50]),new re(18,new B(2,68),new B(2,69)),new re(26,new B(4,43),new B(1,44)),new re(24,new B(6,19),new B(2,20)),new re(28,new B(6,15),new B(2,16))),new Ge(11,Int32Array.from([6,30,54]),new re(20,new B(4,81)),new re(30,new B(1,50),new B(4,51)),new re(28,new B(4,22),new B(4,23)),new re(24,new B(3,12),new B(8,13))),new Ge(12,Int32Array.from([6,32,58]),new re(24,new B(2,92),new B(2,93)),new re(22,new B(6,36),new B(2,37)),new re(26,new B(4,20),new B(6,21)),new re(28,new B(7,14),new B(4,15))),new Ge(13,Int32Array.from([6,34,62]),new re(26,new B(4,107)),new re(22,new B(8,37),new B(1,38)),new re(24,new B(8,20),new B(4,21)),new re(22,new B(12,11),new B(4,12))),new Ge(14,Int32Array.from([6,26,46,66]),new re(30,new B(3,115),new B(1,116)),new re(24,new B(4,40),new B(5,41)),new re(20,new B(11,16),new B(5,17)),new re(24,new B(11,12),new B(5,13))),new Ge(15,Int32Array.from([6,26,48,70]),new re(22,new B(5,87),new B(1,88)),new re(24,new B(5,41),new B(5,42)),new re(30,new B(5,24),new B(7,25)),new re(24,new B(11,12),new B(7,13))),new Ge(16,Int32Array.from([6,26,50,74]),new re(24,new B(5,98),new B(1,99)),new re(28,new B(7,45),new B(3,46)),new re(24,new B(15,19),new B(2,20)),new re(30,new B(3,15),new B(13,16))),new Ge(17,Int32Array.from([6,30,54,78]),new re(28,new B(1,107),new B(5,108)),new re(28,new B(10,46),new B(1,47)),new re(28,new B(1,22),new B(15,23)),new re(28,new B(2,14),new B(17,15))),new Ge(18,Int32Array.from([6,30,56,82]),new re(30,new B(5,120),new B(1,121)),new re(26,new B(9,43),new B(4,44)),new re(28,new B(17,22),new B(1,23)),new re(28,new B(2,14),new B(19,15))),new Ge(19,Int32Array.from([6,30,58,86]),new re(28,new B(3,113),new B(4,114)),new re(26,new B(3,44),new B(11,45)),new re(26,new B(17,21),new B(4,22)),new re(26,new B(9,13),new B(16,14))),new Ge(20,Int32Array.from([6,34,62,90]),new re(28,new B(3,107),new B(5,108)),new re(26,new B(3,41),new B(13,42)),new re(30,new B(15,24),new B(5,25)),new re(28,new B(15,15),new B(10,16))),new Ge(21,Int32Array.from([6,28,50,72,94]),new re(28,new B(4,116),new B(4,117)),new re(26,new B(17,42)),new re(28,new B(17,22),new B(6,23)),new re(30,new B(19,16),new B(6,17))),new Ge(22,Int32Array.from([6,26,50,74,98]),new re(28,new B(2,111),new B(7,112)),new re(28,new B(17,46)),new re(30,new B(7,24),new B(16,25)),new re(24,new B(34,13))),new Ge(23,Int32Array.from([6,30,54,78,102]),new re(30,new B(4,121),new B(5,122)),new re(28,new B(4,47),new B(14,48)),new re(30,new B(11,24),new B(14,25)),new re(30,new B(16,15),new B(14,16))),new Ge(24,Int32Array.from([6,28,54,80,106]),new re(30,new B(6,117),new B(4,118)),new re(28,new B(6,45),new B(14,46)),new re(30,new B(11,24),new B(16,25)),new re(30,new B(30,16),new B(2,17))),new Ge(25,Int32Array.from([6,32,58,84,110]),new re(26,new B(8,106),new B(4,107)),new re(28,new B(8,47),new B(13,48)),new re(30,new B(7,24),new B(22,25)),new re(30,new B(22,15),new B(13,16))),new Ge(26,Int32Array.from([6,30,58,86,114]),new re(28,new B(10,114),new B(2,115)),new re(28,new B(19,46),new B(4,47)),new re(28,new B(28,22),new B(6,23)),new re(30,new B(33,16),new B(4,17))),new Ge(27,Int32Array.from([6,34,62,90,118]),new re(30,new B(8,122),new B(4,123)),new re(28,new B(22,45),new B(3,46)),new re(30,new B(8,23),new B(26,24)),new re(30,new B(12,15),new B(28,16))),new Ge(28,Int32Array.from([6,26,50,74,98,122]),new re(30,new B(3,117),new B(10,118)),new re(28,new B(3,45),new B(23,46)),new re(30,new B(4,24),new B(31,25)),new re(30,new B(11,15),new B(31,16))),new Ge(29,Int32Array.from([6,30,54,78,102,126]),new re(30,new B(7,116),new B(7,117)),new re(28,new B(21,45),new B(7,46)),new re(30,new B(1,23),new B(37,24)),new re(30,new B(19,15),new B(26,16))),new Ge(30,Int32Array.from([6,26,52,78,104,130]),new re(30,new B(5,115),new B(10,116)),new re(28,new B(19,47),new B(10,48)),new re(30,new B(15,24),new B(25,25)),new re(30,new B(23,15),new B(25,16))),new Ge(31,Int32Array.from([6,30,56,82,108,134]),new re(30,new B(13,115),new B(3,116)),new re(28,new B(2,46),new B(29,47)),new re(30,new B(42,24),new B(1,25)),new re(30,new B(23,15),new B(28,16))),new Ge(32,Int32Array.from([6,34,60,86,112,138]),new re(30,new B(17,115)),new re(28,new B(10,46),new B(23,47)),new re(30,new B(10,24),new B(35,25)),new re(30,new B(19,15),new B(35,16))),new Ge(33,Int32Array.from([6,30,58,86,114,142]),new re(30,new B(17,115),new B(1,116)),new re(28,new B(14,46),new B(21,47)),new re(30,new B(29,24),new B(19,25)),new re(30,new B(11,15),new B(46,16))),new Ge(34,Int32Array.from([6,34,62,90,118,146]),new re(30,new B(13,115),new B(6,116)),new re(28,new B(14,46),new B(23,47)),new re(30,new B(44,24),new B(7,25)),new re(30,new B(59,16),new B(1,17))),new Ge(35,Int32Array.from([6,30,54,78,102,126,150]),new re(30,new B(12,121),new B(7,122)),new re(28,new B(12,47),new B(26,48)),new re(30,new B(39,24),new B(14,25)),new re(30,new B(22,15),new B(41,16))),new Ge(36,Int32Array.from([6,24,50,76,102,128,154]),new re(30,new B(6,121),new B(14,122)),new re(28,new B(6,47),new B(34,48)),new re(30,new B(46,24),new B(10,25)),new re(30,new B(2,15),new B(64,16))),new Ge(37,Int32Array.from([6,28,54,80,106,132,158]),new re(30,new B(17,122),new B(4,123)),new re(28,new B(29,46),new B(14,47)),new re(30,new B(49,24),new B(10,25)),new re(30,new B(24,15),new B(46,16))),new Ge(38,Int32Array.from([6,32,58,84,110,136,162]),new re(30,new B(4,122),new B(18,123)),new re(28,new B(13,46),new B(32,47)),new re(30,new B(48,24),new B(14,25)),new re(30,new B(42,15),new B(32,16))),new Ge(39,Int32Array.from([6,26,54,82,110,138,166]),new re(30,new B(20,117),new B(4,118)),new re(28,new B(40,47),new B(7,48)),new re(30,new B(43,24),new B(22,25)),new re(30,new B(10,15),new B(67,16))),new Ge(40,Int32Array.from([6,30,58,86,114,142,170]),new re(30,new B(19,118),new B(6,119)),new re(28,new B(18,47),new B(31,48)),new re(30,new B(34,24),new B(34,25)),new re(30,new B(20,15),new B(61,16)))];var _n;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(_n||(_n={}));class or{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let a=0;a<r;a++)for(let l=0;l<r;l++)this.isMasked(a,l)&&t.flip(l,a)}}or.values=new Map([[_n.DATA_MASK_000,new or(_n.DATA_MASK_000,(S,t)=>(S+t&1)===0)],[_n.DATA_MASK_001,new or(_n.DATA_MASK_001,(S,t)=>(S&1)===0)],[_n.DATA_MASK_010,new or(_n.DATA_MASK_010,(S,t)=>t%3===0)],[_n.DATA_MASK_011,new or(_n.DATA_MASK_011,(S,t)=>(S+t)%3===0)],[_n.DATA_MASK_100,new or(_n.DATA_MASK_100,(S,t)=>(Math.floor(S/2)+Math.floor(t/3)&1)===0)],[_n.DATA_MASK_101,new or(_n.DATA_MASK_101,(S,t)=>S*t%6===0)],[_n.DATA_MASK_110,new or(_n.DATA_MASK_110,(S,t)=>S*t%6<3)],[_n.DATA_MASK_111,new or(_n.DATA_MASK_111,(S,t)=>(S+t+S*t%3&1)===0)]]);class xi{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new D;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let s=0;s<6;s++)t=this.copyBit(s,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let s=5;s>=0;s--)t=this.copyBit(8,s,t);const r=this.bitMatrix.getHeight();let a=0;const l=r-7;for(let s=r-1;s>=l;s--)a=this.copyBit(8,s,a);for(let s=r-8;s<r;s++)a=this.copyBit(s,8,a);if(this.parsedFormatInfo=Mn.decodeFormatInformation(t,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new D}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return Ge.getVersionForNumber(r);let a=0;const l=t-11;for(let c=5;c>=0;c--)for(let u=t-9;u>=l;u--)a=this.copyBit(u,c,a);let s=Ge.decodeVersionInformation(a);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;a=0;for(let c=5;c>=0;c--)for(let u=t-9;u>=l;u--)a=this.copyBit(c,u,a);if(s=Ge.decodeVersionInformation(a),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new D}copyBit(t,r,a){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?a<<1|1:a<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),a=or.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l);const s=r.buildFunctionPattern();let c=!0;const u=new Uint8Array(r.getTotalCodewords());let x=0,p=0,A=0;for(let T=l-1;T>0;T-=2){T===6&&T--;for(let I=0;I<l;I++){const L=c?l-1-I:I;for(let H=0;H<2;H++)s.get(T-H,L)||(A++,p<<=1,this.bitMatrix.get(T-H,L)&&(p|=1),A===8&&(u[x++]=p,A=0,p=0))}c=!c}if(x!==r.getTotalCodewords())throw new D;return u}remask(){if(this.parsedFormatInfo===null)return;const t=or.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,a=t.getWidth();r<a;r++)for(let l=r+1,s=t.getHeight();l<s;l++)t.get(r,l)!==t.get(l,r)&&(t.flip(l,r),t.flip(r,l))}}class ms{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,a){if(t.length!==r.getTotalCodewords())throw new M;const l=r.getECBlocksForLevel(a);let s=0;const c=l.getECBlocks();for(const H of c)s+=H.getCount();const u=new Array(s);let x=0;for(const H of c)for(let Y=0;Y<H.getCount();Y++){const te=H.getDataCodewords(),ue=l.getECCodewordsPerBlock()+te;u[x++]=new ms(te,new Uint8Array(ue))}const p=u[0].codewords.length;let A=u.length-1;for(;A>=0&&u[A].codewords.length!==p;)A--;A++;const T=p-l.getECCodewordsPerBlock();let I=0;for(let H=0;H<T;H++)for(let Y=0;Y<x;Y++)u[Y].codewords[H]=t[I++];for(let H=A;H<x;H++)u[H].codewords[T]=t[I++];const L=u[0].codewords.length;for(let H=T;H<L;H++)for(let Y=0;Y<x;Y++){const te=Y<A?H:H+1;u[Y].codewords[te]=t[I++]}return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var cr;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(cr||(cr={}));class Ze{constructor(t,r,a,l){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=a,this.bits=l,Ze.FOR_BITS.set(l,this),Ze.FOR_VALUE.set(t,this)}static forBits(t){const r=Ze.FOR_BITS.get(t);if(r===void 0)throw new M;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let a;return r<=9?a=0:r<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Ze))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}Ze.FOR_BITS=new Map,Ze.FOR_VALUE=new Map,Ze.TERMINATOR=new Ze(cr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ze.NUMERIC=new Ze(cr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ze.ALPHANUMERIC=new Ze(cr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ze.STRUCTURED_APPEND=new Ze(cr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ze.BYTE=new Ze(cr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ze.ECI=new Ze(cr.ECI,"ECI",Int32Array.from([0,0,0]),7),Ze.KANJI=new Ze(cr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ze.FNC1_FIRST_POSITION=new Ze(cr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ze.FNC1_SECOND_POSITION=new Ze(cr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ze.HANZI=new Ze(cr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class $t{static decode(t,r,a,l){const s=new _r(t);let c=new Re;const u=new Array;let x=-1,p=-1;try{let A=null,T=!1,I;do{if(s.available()<4)I=Ze.TERMINATOR;else{const L=s.readBits(4);I=Ze.forBits(L)}switch(I){case Ze.TERMINATOR:break;case Ze.FNC1_FIRST_POSITION:case Ze.FNC1_SECOND_POSITION:T=!0;break;case Ze.STRUCTURED_APPEND:if(s.available()<16)throw new D;x=s.readBits(8),p=s.readBits(8);break;case Ze.ECI:const L=$t.parseECIValue(s);if(A=K.getCharacterSetECIByValue(L),A===null)throw new D;break;case Ze.HANZI:const H=s.readBits(4),Y=s.readBits(I.getCharacterCountBits(r));H===$t.GB2312_SUBSET&&$t.decodeHanziSegment(s,c,Y);break;default:const te=s.readBits(I.getCharacterCountBits(r));switch(I){case Ze.NUMERIC:$t.decodeNumericSegment(s,c,te);break;case Ze.ALPHANUMERIC:$t.decodeAlphanumericSegment(s,c,te,T);break;case Ze.BYTE:$t.decodeByteSegment(s,c,te,A,u,l);break;case Ze.KANJI:$t.decodeKanjiSegment(s,c,te);break;default:throw new D}break}}while(I!==Ze.TERMINATOR)}catch{throw new D}return new ke(t,c.toString(),u.length===0?null:u,a===null?null:a.toString(),x,p)}static decodeHanziSegment(t,r,a){if(a*13>t.available())throw new D;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const c=t.readBits(13);let u=c/96<<8&4294967295|c%96;u<959?u+=41377:u+=42657,l[s]=u>>8&255,l[s+1]=u&255,s+=2,a--}try{r.append(pe.decode(l,me.GB2312))}catch(c){throw new D(c)}}static decodeKanjiSegment(t,r,a){if(a*13>t.available())throw new D;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const c=t.readBits(13);let u=c/192<<8&4294967295|c%192;u<7936?u+=33088:u+=49472,l[s]=u>>8,l[s+1]=u,s+=2,a--}try{r.append(pe.decode(l,me.SHIFT_JIS))}catch(c){throw new D(c)}}static decodeByteSegment(t,r,a,l,s,c){if(8*a>t.available())throw new D;const u=new Uint8Array(a);for(let p=0;p<a;p++)u[p]=t.readBits(8);let x;l===null?x=me.guessEncoding(u,c):x=l.getName();try{r.append(pe.decode(u,x))}catch(p){throw new D(p)}s.push(u)}static toAlphaNumericChar(t){if(t>=$t.ALPHANUMERIC_CHARS.length)throw new D;return $t.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,a,l){const s=r.length();for(;a>1;){if(t.available()<11)throw new D;const c=t.readBits(11);r.append($t.toAlphaNumericChar(Math.floor(c/45))),r.append($t.toAlphaNumericChar(c%45)),a-=2}if(a===1){if(t.available()<6)throw new D;r.append($t.toAlphaNumericChar(t.readBits(6)))}if(l)for(let c=s;c<r.length();c++)r.charAt(c)==="%"&&(c<r.length()-1&&r.charAt(c+1)==="%"?r.deleteCharAt(c+1):r.setCharAt(c,""))}static decodeNumericSegment(t,r,a){for(;a>=3;){if(t.available()<10)throw new D;const l=t.readBits(10);if(l>=1e3)throw new D;r.append($t.toAlphaNumericChar(Math.floor(l/100))),r.append($t.toAlphaNumericChar(Math.floor(l/10)%10)),r.append($t.toAlphaNumericChar(l%10)),a-=3}if(a===2){if(t.available()<7)throw new D;const l=t.readBits(7);if(l>=100)throw new D;r.append($t.toAlphaNumericChar(Math.floor(l/10))),r.append($t.toAlphaNumericChar(l%10))}else if(a===1){if(t.available()<4)throw new D;const l=t.readBits(4);if(l>=10)throw new D;r.append($t.toAlphaNumericChar(l))}}static parseECIValue(t){const r=t.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const a=t.readBits(8);return(r&63)<<8&4294967295|a}if((r&224)===192){const a=t.readBits(16);return(r&31)<<16&4294967295|a}throw new D}}$t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",$t.GB2312_SUBSET=1;class Ao{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class lu{constructor(){this.rsDecoder=new Zn(et.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(xe.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const a=new xi(t);let l=null;try{return this.decodeBitMatrixParser(a,r)}catch(s){l=s}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const s=this.decodeBitMatrixParser(a,r);return s.setOther(new Ao(!0)),s}catch(s){throw l!==null?l:s}}decodeBitMatrixParser(t,r){const a=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),s=t.readCodewords(),c=ms.getDataBlocks(s,a,l);let u=0;for(const A of c)u+=A.getNumDataCodewords();const x=new Uint8Array(u);let p=0;for(const A of c){const T=A.getCodewords(),I=A.getNumDataCodewords();this.correctErrors(T,I);for(let L=0;L<I;L++)x[p++]=T[L]}return $t.decode(x,a,l,r)}correctErrors(t,r){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-r)}catch{throw new W}for(let l=0;l<r;l++)t[l]=a[l]}}class gi extends He{constructor(t,r,a){super(t,r),this.estimatedModuleSize=a}aboutEquals(t,r,a){if(Math.abs(r-this.getY())<=t&&Math.abs(a-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,r,a){const l=(this.getX()+r)/2,s=(this.getY()+t)/2,c=(this.estimatedModuleSize+a)/2;return new gi(l,s,c)}}class xr{constructor(t,r,a,l,s,c,u){this.image=t,this.startX=r,this.startY=a,this.width=l,this.height=s,this.moduleSize=c,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,a=this.width,l=t+a,s=this.startY+r/2,c=new Int32Array(3),u=this.image;for(let x=0;x<r;x++){const p=s+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));c[0]=0,c[1]=0,c[2]=0;let A=t;for(;A<l&&!u.get(A,p);)A++;let T=0;for(;A<l;){if(u.get(A,p))if(T===1)c[1]++;else if(T===2){if(this.foundPatternCross(c)){const I=this.handlePossibleCenter(c,p,A);if(I!==null)return I}c[0]=c[2],c[1]=1,c[2]=0,T=1}else c[++T]++;else T===1&&T++,c[T]++;A++}if(this.foundPatternCross(c)){const I=this.handlePossibleCenter(c,p,l);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new V}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,a=r/2;for(let l=0;l<3;l++)if(Math.abs(r-t[l])>=a)return!1;return!0}crossCheckVertical(t,r,a,l){const s=this.image,c=s.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;let x=t;for(;x>=0&&s.get(r,x)&&u[1]<=a;)u[1]++,x--;if(x<0||u[1]>a)return NaN;for(;x>=0&&!s.get(r,x)&&u[0]<=a;)u[0]++,x--;if(u[0]>a)return NaN;for(x=t+1;x<c&&s.get(r,x)&&u[1]<=a;)u[1]++,x++;if(x===c||u[1]>a)return NaN;for(;x<c&&!s.get(r,x)&&u[2]<=a;)u[2]++,x++;if(u[2]>a)return NaN;const p=u[0]+u[1]+u[2];return 5*Math.abs(p-l)>=2*l?NaN:this.foundPatternCross(u)?xr.centerFromEnd(u,x):NaN}handlePossibleCenter(t,r,a){const l=t[0]+t[1]+t[2],s=xr.centerFromEnd(t,a),c=this.crossCheckVertical(r,s,2*t[1],l);if(!isNaN(c)){const u=(t[0]+t[1]+t[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(u,c,s))return p.combineEstimate(c,s,u);const x=new gi(s,c,u);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class $i extends He{constructor(t,r,a,l){super(t,r),this.estimatedModuleSize=a,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,a){if(Math.abs(r-this.getY())<=t&&Math.abs(a-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,r,a){const l=this.count+1,s=(this.count*this.getX()+r)/l,c=(this.count*this.getY()+t)/l,u=(this.count*this.estimatedModuleSize+a)/l;return new $i(s,c,u,l)}}class ps{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class ln{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(Q.TRY_HARDER)!==void 0,a=t!=null&&t.get(Q.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),c=l.getWidth();let u=Math.floor(3*s/(4*ln.MAX_MODULES));(u<ln.MIN_SKIP||r)&&(u=ln.MIN_SKIP);let x=!1;const p=new Int32Array(5);for(let T=u-1;T<s&&!x;T+=u){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let I=0;for(let L=0;L<c;L++)if(l.get(L,T))(I&1)===1&&I++,p[I]++;else if((I&1)===0)if(I===4)if(ln.foundPatternCross(p)){if(this.handlePossibleCenter(p,T,L,a)===!0)if(u=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const Y=this.findRowSkip();Y>p[2]&&(T+=Y-p[2]-u,L=c-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,I=3;continue}I=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,I=3;else p[++I]++;else p[I]++;ln.foundPatternCross(p)&&this.handlePossibleCenter(p,T,c,a)===!0&&(u=p[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return He.orderBestPatterns(A),new ps(A)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let s=0;s<5;s++){const c=t[s];if(c===0)return!1;r+=c}if(r<7)return!1;const a=r/7,l=a/2;return Math.abs(a-t[0])<l&&Math.abs(a-t[1])<l&&Math.abs(3*a-t[2])<3*l&&Math.abs(a-t[3])<l&&Math.abs(a-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,a,l){const s=this.getCrossCheckStateCount();let c=0;const u=this.image;for(;t>=c&&r>=c&&u.get(r-c,t-c);)s[2]++,c++;if(t<c||r<c)return!1;for(;t>=c&&r>=c&&!u.get(r-c,t-c)&&s[1]<=a;)s[1]++,c++;if(t<c||r<c||s[1]>a)return!1;for(;t>=c&&r>=c&&u.get(r-c,t-c)&&s[0]<=a;)s[0]++,c++;if(s[0]>a)return!1;const x=u.getHeight(),p=u.getWidth();for(c=1;t+c<x&&r+c<p&&u.get(r+c,t+c);)s[2]++,c++;if(t+c>=x||r+c>=p)return!1;for(;t+c<x&&r+c<p&&!u.get(r+c,t+c)&&s[3]<a;)s[3]++,c++;if(t+c>=x||r+c>=p||s[3]>=a)return!1;for(;t+c<x&&r+c<p&&u.get(r+c,t+c)&&s[4]<a;)s[4]++,c++;if(s[4]>=a)return!1;const A=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(A-l)<2*l&&ln.foundPatternCross(s)}crossCheckVertical(t,r,a,l){const s=this.image,c=s.getHeight(),u=this.getCrossCheckStateCount();let x=t;for(;x>=0&&s.get(r,x);)u[2]++,x--;if(x<0)return NaN;for(;x>=0&&!s.get(r,x)&&u[1]<=a;)u[1]++,x--;if(x<0||u[1]>a)return NaN;for(;x>=0&&s.get(r,x)&&u[0]<=a;)u[0]++,x--;if(u[0]>a)return NaN;for(x=t+1;x<c&&s.get(r,x);)u[2]++,x++;if(x===c)return NaN;for(;x<c&&!s.get(r,x)&&u[3]<a;)u[3]++,x++;if(x===c||u[3]>=a)return NaN;for(;x<c&&s.get(r,x)&&u[4]<a;)u[4]++,x++;if(u[4]>=a)return NaN;const p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-l)>=2*l?NaN:ln.foundPatternCross(u)?ln.centerFromEnd(u,x):NaN}crossCheckHorizontal(t,r,a,l){const s=this.image,c=s.getWidth(),u=this.getCrossCheckStateCount();let x=t;for(;x>=0&&s.get(x,r);)u[2]++,x--;if(x<0)return NaN;for(;x>=0&&!s.get(x,r)&&u[1]<=a;)u[1]++,x--;if(x<0||u[1]>a)return NaN;for(;x>=0&&s.get(x,r)&&u[0]<=a;)u[0]++,x--;if(u[0]>a)return NaN;for(x=t+1;x<c&&s.get(x,r);)u[2]++,x++;if(x===c)return NaN;for(;x<c&&!s.get(x,r)&&u[3]<a;)u[3]++,x++;if(x===c||u[3]>=a)return NaN;for(;x<c&&s.get(x,r)&&u[4]<a;)u[4]++,x++;if(u[4]>=a)return NaN;const p=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(p-l)>=l?NaN:ln.foundPatternCross(u)?ln.centerFromEnd(u,x):NaN}handlePossibleCenter(t,r,a,l){const s=t[0]+t[1]+t[2]+t[3]+t[4];let c=ln.centerFromEnd(t,a),u=this.crossCheckVertical(r,Math.floor(c),t[2],s);if(!isNaN(u)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(u),t[2],s),!isNaN(c)&&(!l||this.crossCheckDiagonal(Math.floor(u),Math.floor(c),t[2],s)))){const x=s/7;let p=!1;const A=this.possibleCenters;for(let T=0,I=A.length;T<I;T++){const L=A[T];if(L.aboutEquals(x,u,c)){A[T]=L.combineEstimate(u,c,x),p=!0;break}}if(!p){const T=new $i(c,u,x);A.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const a of this.possibleCenters)if(a.getCount()>=ln.CENTER_QUORUM)if(r==null)r=a;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const a=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=ln.CENTER_QUORUM&&(t++,r+=c.getEstimatedModuleSize());if(t<3)return!1;const l=r/a;let s=0;for(const c of this.possibleCenters)s+=Math.abs(c.getEstimatedModuleSize()-l);return s<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new V;const r=this.possibleCenters;let a;if(t>3){let l=0,s=0;for(const x of this.possibleCenters){const p=x.getEstimatedModuleSize();l+=p,s+=p*p}a=l/t;let c=Math.sqrt(s/t-a*a);r.sort((x,p)=>{const A=Math.abs(p.getEstimatedModuleSize()-a),T=Math.abs(x.getEstimatedModuleSize()-a);return A<T?-1:A>T?1:0});const u=Math.max(.2*a,c);for(let x=0;x<r.length&&r.length>3;x++){const p=r[x];Math.abs(p.getEstimatedModuleSize()-a)>u&&(r.splice(x,1),x--)}}if(r.length>3){let l=0;for(const s of r)l+=s.getEstimatedModuleSize();a=l/r.length,r.sort((s,c)=>{if(c.getCount()===s.getCount()){const u=Math.abs(c.getEstimatedModuleSize()-a),x=Math.abs(s.getEstimatedModuleSize()-a);return u<x?1:u>x?-1:0}else return c.getCount()-s.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}ln.CENTER_QUORUM=2,ln.MIN_SKIP=3,ln.MAX_MODULES=57;class Vr{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Q.NEED_RESULT_POINT_CALLBACK);const a=new ln(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(a)}processFinderPatternInfo(t){const r=t.getTopLeft(),a=t.getTopRight(),l=t.getBottomLeft(),s=this.calculateModuleSize(r,a,l);if(s<1)throw new V("No pattern found in proccess finder.");const c=Vr.computeDimension(r,a,l,s),u=Ge.getProvisionalVersionForDimension(c),x=u.getDimensionForVersion()-7;let p=null;if(u.getAlignmentPatternCenters().length>0){const L=a.getX()-r.getX()+l.getX(),H=a.getY()-r.getY()+l.getY(),Y=1-3/x,te=Math.floor(r.getX()+Y*(L-r.getX())),ue=Math.floor(r.getY()+Y*(H-r.getY()));for(let Ie=4;Ie<=16;Ie<<=1)try{p=this.findAlignmentInRegion(s,te,ue,Ie);break}catch(_e){if(!(_e instanceof V))throw _e}}const A=Vr.createTransform(r,a,l,p,c),T=Vr.sampleGrid(this.image,A,c);let I;return p===null?I=[l,r,a]:I=[l,r,a,p],new ka(T,I)}static createTransform(t,r,a,l,s){const c=s-3.5;let u,x,p,A;return l!==null?(u=l.getX(),x=l.getY(),p=c-3,A=p):(u=r.getX()-t.getX()+a.getX(),x=r.getY()-t.getY()+a.getY(),p=c,A=c),Wn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,p,A,3.5,c,t.getX(),t.getY(),r.getX(),r.getY(),u,x,a.getX(),a.getY())}static sampleGrid(t,r,a){return nr.getInstance().sampleGridWithTransform(t,a,a,r)}static computeDimension(t,r,a,l){const s=st.round(He.distance(t,r)/l),c=st.round(He.distance(t,a)/l);let u=Math.floor((s+c)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new V("Dimensions could be not found.")}return u}calculateModuleSize(t,r,a){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,a))/2}calculateModuleSizeOneWay(t,r){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?l/7:isNaN(l)?a/7:(a+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,a,l){let s=this.sizeOfBlackWhiteBlackRun(t,r,a,l),c=1,u=t-(a-t);u<0?(c=t/(t-u),u=0):u>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(u-t),u=this.image.getWidth()-1);let x=Math.floor(r-(l-r)*c);return c=1,x<0?(c=r/(r-x),x=0):x>=this.image.getHeight()&&(c=(this.image.getHeight()-1-r)/(x-r),x=this.image.getHeight()-1),u=Math.floor(t+(u-t)*c),s+=this.sizeOfBlackWhiteBlackRun(t,r,u,x),s-1}sizeOfBlackWhiteBlackRun(t,r,a,l){const s=Math.abs(l-r)>Math.abs(a-t);if(s){let L=t;t=r,r=L,L=a,a=l,l=L}const c=Math.abs(a-t),u=Math.abs(l-r);let x=-c/2;const p=t<a?1:-1,A=r<l?1:-1;let T=0;const I=a+p;for(let L=t,H=r;L!==I;L+=p){const Y=s?H:L,te=s?L:H;if(T===1===this.image.get(Y,te)){if(T===2)return st.distance(L,H,t,r);T++}if(x+=u,x>0){if(H===l)break;H+=A,x-=c}}return T===2?st.distance(a+p,l,t,r):NaN}findAlignmentInRegion(t,r,a,l){const s=Math.floor(l*t),c=Math.max(0,r-s),u=Math.min(this.image.getWidth()-1,r+s);if(u-c<t*3)throw new V("Alignment top exceeds estimated module size.");const x=Math.max(0,a-s),p=Math.min(this.image.getHeight()-1,a+s);if(p-x<t*3)throw new V("Alignment bottom exceeds estimated module size.");return new xr(this.image,c,x,u-c,p-x,t,this.resultPointCallback).find()}}class ia{constructor(){this.decoder=new lu}getDecoder(){return this.decoder}decode(t,r){let a,l;if(r!=null&&r.get(Q.PURE_BARCODE)!==void 0){const x=ia.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(x,r),l=ia.NO_POINTS}else{const x=new Vr(t.getBlackMatrix()).detect(r);a=this.decoder.decodeBitMatrix(x.getBits(),r),l=x.getPoints()}a.getOther()instanceof Ao&&a.getOther().applyMirroredCorrection(l);const s=new De(a.getText(),a.getRawBytes(),void 0,l,ne.QR_CODE,void 0),c=a.getByteSegments();c!==null&&s.putMetadata(we.BYTE_SEGMENTS,c);const u=a.getECLevel();return u!==null&&s.putMetadata(we.ERROR_CORRECTION_LEVEL,u),a.hasStructuredAppend()&&(s.putMetadata(we.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),s.putMetadata(we.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),s}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(r===null||a===null)throw new V;const l=this.moduleSize(r,t);let s=r[1],c=a[1],u=r[0],x=a[0];if(u>=x||s>=c)throw new V;if(c-s!==x-u&&(x=u+(c-s),x>=t.getWidth()))throw new V;const p=Math.round((x-u+1)/l),A=Math.round((c-s+1)/l);if(p<=0||A<=0)throw new V;if(A!==p)throw new V;const T=Math.floor(l/2);s+=T,u+=T;const I=u+Math.floor((p-1)*l)-x;if(I>0){if(I>T)throw new V;u-=I}const L=s+Math.floor((A-1)*l)-c;if(L>0){if(L>T)throw new V;s-=L}const H=new xe(p,A);for(let Y=0;Y<A;Y++){const te=s+Math.floor(Y*l);for(let ue=0;ue<p;ue++)t.get(u+Math.floor(ue*l),te)&&H.set(ue,Y)}return H}static moduleSize(t,r){const a=r.getHeight(),l=r.getWidth();let s=t[0],c=t[1],u=!0,x=0;for(;s<l&&c<a;){if(u!==r.get(s,c)){if(++x===5)break;u=!u}s++,c++}if(s===l||c===a)throw new V;return(s-t[0])/7}}ia.NO_POINTS=new Array;class Ke{PDF417Common(){}static getBitCountSum(t){return st.sum(t)}static toIntArray(t){if(t==null||!t.length)return Ke.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let a=0;for(const l of t)r[a++]=l;return r}static getCodeword(t){const r=F.binarySearch(Ke.SYMBOL_TABLE,t&262143);return r<0?-1:(Ke.CODEWORD_TABLE[r]-1)%Ke.NUMBER_OF_CODEWORDS}}Ke.NUMBER_OF_CODEWORDS=929,Ke.MAX_CODEWORDS_IN_BARCODE=Ke.NUMBER_OF_CODEWORDS-1,Ke.MIN_ROWS_IN_BARCODE=3,Ke.MAX_ROWS_IN_BARCODE=90,Ke.MODULES_IN_CODEWORD=17,Ke.MODULES_IN_STOP_PATTERN=18,Ke.BARS_IN_MODULE=8,Ke.EMPTY_INT_ARRAY=new Int32Array([]),Ke.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ke.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class vo{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class rt{static detectMultiple(t,r,a){let l=t.getBlackMatrix(),s=rt.detect(a,l);return s.length||(l=l.clone(),l.rotate180(),s=rt.detect(a,l)),new vo(l,s)}static detect(t,r){const a=new Array;let l=0,s=0,c=!1;for(;l<r.getHeight();){const u=rt.findVertices(r,l,s);if(u[0]==null&&u[3]==null){if(!c)break;c=!1,s=0;for(const x of a)x[1]!=null&&(l=Math.trunc(Math.max(l,x[1].getY()))),x[3]!=null&&(l=Math.max(l,Math.trunc(x[3].getY())));l+=rt.ROW_STEP;continue}if(c=!0,a.push(u),!t)break;u[2]!=null?(s=Math.trunc(u[2].getX()),l=Math.trunc(u[2].getY())):(s=Math.trunc(u[4].getX()),l=Math.trunc(u[4].getY()))}return a}static findVertices(t,r,a){const l=t.getHeight(),s=t.getWidth(),c=new Array(8);return rt.copyToResult(c,rt.findRowsWithPattern(t,l,s,r,a,rt.START_PATTERN),rt.INDEXES_START_PATTERN),c[4]!=null&&(a=Math.trunc(c[4].getX()),r=Math.trunc(c[4].getY())),rt.copyToResult(c,rt.findRowsWithPattern(t,l,s,r,a,rt.STOP_PATTERN),rt.INDEXES_STOP_PATTERN),c}static copyToResult(t,r,a){for(let l=0;l<a.length;l++)t[a[l]]=r[l]}static findRowsWithPattern(t,r,a,l,s,c){const u=new Array(4);let x=!1;const p=new Int32Array(c.length);for(;l<r;l+=rt.ROW_STEP){let T=rt.findGuardPattern(t,s,l,a,!1,c,p);if(T!=null){for(;l>0;){const I=rt.findGuardPattern(t,s,--l,a,!1,c,p);if(I!=null)T=I;else{l++;break}}u[0]=new He(T[0],l),u[1]=new He(T[1],l),x=!0;break}}let A=l+1;if(x){let T=0,I=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);for(;A<r;A++){const L=rt.findGuardPattern(t,I[0],A,a,!1,c,p);if(L!=null&&Math.abs(I[0]-L[0])<rt.MAX_PATTERN_DRIFT&&Math.abs(I[1]-L[1])<rt.MAX_PATTERN_DRIFT)I=L,T=0;else{if(T>rt.SKIPPED_ROW_COUNT_MAX)break;T++}}A-=T+1,u[2]=new He(I[0],A),u[3]=new He(I[1],A)}return A-l<rt.BARCODE_MIN_HEIGHT&&F.fill(u,null),u}static findGuardPattern(t,r,a,l,s,c,u){F.fillWithin(u,0,u.length,0);let x=r,p=0;for(;t.get(x,a)&&x>0&&p++<rt.MAX_PIXEL_DRIFT;)x--;let A=x,T=0,I=c.length;for(let L=s;A<l;A++)if(t.get(A,a)!==L)u[T]++;else{if(T===I-1){if(rt.patternMatchVariance(u,c,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return new Int32Array([x,A]);x+=u[0]+u[1],U.arraycopy(u,2,u,0,T-1),u[T-1]=0,u[T]=0,T--}else T++;u[T]=1,L=!L}return T===I-1&&rt.patternMatchVariance(u,c,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE?new Int32Array([x,A-1]):null}static patternMatchVariance(t,r,a){let l=t.length,s=0,c=0;for(let p=0;p<l;p++)s+=t[p],c+=r[p];if(s<c)return 1/0;let u=s/c;a*=u;let x=0;for(let p=0;p<l;p++){let A=t[p],T=r[p]*u,I=A>T?A-T:T-A;if(I>a)return 1/0;x+=I}return x/s}}rt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),rt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),rt.MAX_AVG_VARIANCE=.42,rt.MAX_INDIVIDUAL_VARIANCE=.8,rt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),rt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),rt.MAX_PIXEL_DRIFT=3,rt.MAX_PATTERN_DRIFT=5,rt.SKIPPED_ROW_COUNT_MAX=25,rt.ROW_STEP=5,rt.BARCODE_MIN_HEIGHT=10;class en{constructor(t,r){if(r.length===0)throw new M;this.field=t;let a=r.length;if(a>1&&r[0]===0){let l=1;for(;l<a&&r[l]===0;)l++;l===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-l),U.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let s of this.coefficients)l=this.field.add(l,s);return l}let r=this.coefficients[0],a=this.coefficients.length;for(let l=1;l<a;l++)r=this.field.add(this.field.multiply(t,r),this.coefficients[l]);return r}add(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,a=t.coefficients;if(r.length>a.length){let c=r;r=a,a=c}let l=new Int32Array(a.length),s=a.length-r.length;U.arraycopy(a,0,l,0,s);for(let c=s;c<a.length;c++)l[c]=this.field.add(r[c-s],a[c]);return new en(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof en?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new en(this.field,new Int32Array([0]));let r=this.coefficients,a=r.length,l=t.coefficients,s=l.length,c=new Int32Array(a+s-1);for(let u=0;u<a;u++){let x=r[u];for(let p=0;p<s;p++)c[u+p]=this.field.add(c[u+p],this.field.multiply(x,l[p]))}return new en(this.field,c)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let a=0;a<t;a++)r[a]=this.field.subtract(0,this.coefficients[a]);return new en(this.field,r)}multiplyScalar(t){if(t===0)return new en(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,a=new Int32Array(r);for(let l=0;l<r;l++)a[l]=this.field.multiply(this.coefficients[l],t);return new en(this.field,a)}multiplyByMonomial(t,r){if(t<0)throw new M;if(r===0)return new en(this.field,new Int32Array([0]));let a=this.coefficients.length,l=new Int32Array(a+t);for(let s=0;s<a;s++)l[s]=this.field.multiply(this.coefficients[s],r);return new en(this.field,l)}toString(){let t=new Re;for(let r=this.getDegree();r>=0;r--){let a=this.getCoefficient(r);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(r===0||a!==1)&&t.append(a),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class bs{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new M;return this.logTable[t]}inverse(t){if(t===0)throw new Ot;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class za extends bs{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let a=1;for(let l=0;l<t;l++)this.expTable[l]=a,a=a*r%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new en(this,new Int32Array([0])),this.one=new en(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new M;if(r===0)return this.zero;let a=new Int32Array(t+1);return a[0]=r,new en(this,a)}}za.PDF417_GF=new za(Ke.NUMBER_OF_CODEWORDS,3);class la{constructor(){this.field=za.PDF417_GF}decode(t,r,a){let l=new en(this.field,t),s=new Int32Array(r),c=!1;for(let H=r;H>0;H--){let Y=l.evaluateAt(this.field.exp(H));s[r-H]=Y,Y!==0&&(c=!0)}if(!c)return 0;let u=this.field.getOne();if(a!=null)for(const H of a){let Y=this.field.exp(t.length-1-H),te=new en(this.field,new Int32Array([this.field.subtract(0,Y),1]));u=u.multiply(te)}let x=new en(this.field,s),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),x,r),A=p[0],T=p[1],I=this.findErrorLocations(A),L=this.findErrorMagnitudes(T,A,I);for(let H=0;H<I.length;H++){let Y=t.length-1-this.field.log(I[H]);if(Y<0)throw W.getChecksumInstance();t[Y]=this.field.subtract(t[Y],L[H])}return I.length}runEuclideanAlgorithm(t,r,a){if(t.getDegree()<r.getDegree()){let I=t;t=r,r=I}let l=t,s=r,c=this.field.getZero(),u=this.field.getOne();for(;s.getDegree()>=Math.round(a/2);){let I=l,L=c;if(l=s,c=u,l.isZero())throw W.getChecksumInstance();s=I;let H=this.field.getZero(),Y=l.getCoefficient(l.getDegree()),te=this.field.inverse(Y);for(;s.getDegree()>=l.getDegree()&&!s.isZero();){let ue=s.getDegree()-l.getDegree(),Ie=this.field.multiply(s.getCoefficient(s.getDegree()),te);H=H.add(this.field.buildMonomial(ue,Ie)),s=s.subtract(l.multiplyByMonomial(ue,Ie))}u=H.multiply(c).subtract(L).negative()}let x=u.getCoefficient(0);if(x===0)throw W.getChecksumInstance();let p=this.field.inverse(x),A=u.multiply(p),T=s.multiply(p);return[A,T]}findErrorLocations(t){let r=t.getDegree(),a=new Int32Array(r),l=0;for(let s=1;s<this.field.getSize()&&l<r;s++)t.evaluateAt(s)===0&&(a[l]=this.field.inverse(s),l++);if(l!==r)throw W.getChecksumInstance();return a}findErrorMagnitudes(t,r,a){let l=r.getDegree(),s=new Int32Array(l);for(let p=1;p<=l;p++)s[l-p]=this.field.multiply(p,r.getCoefficient(p));let c=new en(this.field,s),u=a.length,x=new Int32Array(u);for(let p=0;p<u;p++){let A=this.field.inverse(a[p]),T=this.field.subtract(0,t.evaluateAt(A)),I=this.field.inverse(c.evaluateAt(A));x[p]=this.field.multiply(T,I)}return x}}class sa{constructor(t,r,a,l,s){t instanceof sa?this.constructor_2(t):this.constructor_1(t,r,a,l,s)}constructor_1(t,r,a,l,s){const c=r==null||a==null,u=l==null||s==null;if(c&&u)throw new V;c?(r=new He(0,l.getY()),a=new He(0,s.getY())):u&&(l=new He(t.getWidth()-1,r.getY()),s=new He(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=r,this.bottomLeft=a,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(r.getX(),a.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(r.getY(),l.getY())),this.maxY=Math.trunc(Math.max(a.getY(),s.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new sa(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,a){let l=this.topLeft,s=this.bottomLeft,c=this.topRight,u=this.bottomRight;if(t>0){let x=a?this.topLeft:this.topRight,p=Math.trunc(x.getY()-t);p<0&&(p=0);let A=new He(x.getX(),p);a?l=A:c=A}if(r>0){let x=a?this.bottomLeft:this.bottomRight,p=Math.trunc(x.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let A=new He(x.getX(),p);a?s=A:u=A}return new sa(this.image,l,s,c,u)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Nl{constructor(t,r,a,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=r,this.rowCountLowerPart=a,this.rowCount=r+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class mi{constructor(){this.buffer=""}static form(t,r){let a=-1;function l(c,u,x,p,A,T){if(c==="%%")return"%";if(r[++a]===void 0)return;c=p?parseInt(p.substr(1)):void 0;let I=A?parseInt(A.substr(1)):void 0,L;switch(T){case"s":L=r[a];break;case"c":L=r[a][0];break;case"f":L=parseFloat(r[a]).toFixed(c);break;case"p":L=parseFloat(r[a]).toPrecision(c);break;case"e":L=parseFloat(r[a]).toExponential(c);break;case"x":L=parseInt(r[a]).toString(I||16);break;case"d":L=parseFloat(parseInt(r[a],I||10).toPrecision(c)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let H=parseInt(x),Y=x&&x[0]+""=="0"?"0":" ";for(;L.length<H;)L=u!==void 0?L+Y:Y+L;return L}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}format(t,...r){this.buffer+=mi.form(t,r)}toString(){return this.buffer}}class Ca{constructor(t){this.boundingBox=new sa(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let a=1;a<Ca.MAX_NEARBY_DISTANCE;a++){let l=this.imageRowToCodewordIndex(t)-a;if(l>=0&&(r=this.codewords[l],r!=null)||(l=this.imageRowToCodewordIndex(t)+a,l<this.codewords.length&&(r=this.codewords[l],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new mi;let r=0;for(const a of this.codewords){if(a==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue())}return t.toString()}}Ca.MAX_NEARBY_DISTANCE=5;class Aa{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[a,l]of this.values.entries()){const s={getKey:()=>a,getValue:()=>l};s.getValue()>t?(t=s.getValue(),r=[],r.push(s.getKey())):s.getValue()===t&&r.push(s.getKey())}return Ke.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class ys extends Ca{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),x=-1,p=1,A=0;for(let T=c;T<u;T++){if(r[T]==null)continue;let I=r[T],L=I.getRowNumber()-x;if(L===0)A++;else if(L===1)p=Math.max(p,A),A=1,x=I.getRowNumber();else if(L<0||I.getRowNumber()>=t.getRowCount()||L>T)r[T]=null;else{let H;p>2?H=(p-2)*L:H=L;let Y=H>=T;for(let te=1;te<=H&&!Y;te++)Y=r[T-te]!=null;Y?r[T]=null:(x=I.getRowNumber(),A=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let a of this.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=r.length)continue;r[l]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),a=this._isLeft?r.getTopLeft():r.getTopRight(),l=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),u=this.getCodewords(),x=-1;for(let p=s;p<c;p++){if(u[p]==null)continue;let A=u[p];A.setRowNumberAsRowIndicatorColumn();let T=A.getRowNumber()-x;T===0||(T===1?x=A.getRowNumber():A.getRowNumber()>=t.getRowCount()?u[p]=null:x=A.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new Aa,a=new Aa,l=new Aa,s=new Aa;for(let u of t){if(u==null)continue;u.setRowNumberAsRowIndicatorColumn();let x=u.getValue()%30,p=u.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:a.setValue(x*3+1);break;case 1:s.setValue(x/3),l.setValue(x%3);break;case 2:r.setValue(x+1);break}}if(r.getValue().length===0||a.getValue().length===0||l.getValue().length===0||s.getValue().length===0||r.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<Ke.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>Ke.MAX_ROWS_IN_BARCODE)return null;let c=new Nl(r.getValue()[0],a.getValue()[0],l.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,r){for(let a=0;a<t.length;a++){let l=t[a];if(t[a]==null)continue;let s=l.getValue()%30,c=l.getRowNumber();if(c>r.getRowCount()){t[a]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:s*3+1!==r.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(s/3)!==r.getErrorCorrectionLevel()||s%3!==r.getRowCountLowerPart())&&(t[a]=null);break;case 2:s+1!==r.getColumnCount()&&(t[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Bn{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Ke.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let a=this.detectionResultColumns[r].getCodewords();for(let l=0;l<a.length;l++)a[l]!=null&&(a[l].hasValidRowNumber()||this.adjustRowNumbers(r,l,a))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<t.length;a++)if(t[a]!=null&&r[a]!=null&&t[a].getRowNumber()===r[a].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let s=this.detectionResultColumns[l].getCodewords()[a];s!=null&&(s.setRowNumber(t[a].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let l=r[a].getRowNumber(),s=0;for(let c=this.barcodeColumnCount+1;c>0&&s<this.ADJUST_ROW_NUMBER_SKIP;c--){let u=this.detectionResultColumns[c].getCodewords()[a];u!=null&&(s=Bn.adjustRowNumberIfValid(l,s,u),u.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let a=0;a<r.length;a++){if(r[a]==null)continue;let l=r[a].getRowNumber(),s=0;for(let c=1;c<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;c++){let u=this.detectionResultColumns[c].getCodewords()[a];u!=null&&(s=Bn.adjustRowNumberIfValid(l,s,u),u.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,a){if(!this.detectionResultColumns[t-1])return;let l=a[r],s=this.detectionResultColumns[t-1].getCodewords(),c=s;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let u=new Array(14);u[2]=s[r],u[3]=c[r],r>0&&(u[0]=a[r-1],u[4]=s[r-1],u[5]=c[r-1]),r>1&&(u[8]=a[r-2],u[10]=s[r-2],u[11]=c[r-2]),r<a.length-1&&(u[1]=a[r+1],u[6]=s[r+1],u[7]=c[r+1]),r<a.length-2&&(u[9]=a[r+2],u[12]=s[r+2],u[13]=c[r+2]);for(let x of u)if(Bn.adjustRowNumber(l,x))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new mi;for(let a=0;a<t.getCodewords().length;a++){r.format("CW %3d:",a);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){r.format("    |   ");continue}let s=this.detectionResultColumns[l].getCodewords()[a];if(s==null){r.format("    |   ");continue}r.format(" %3d|%3d",s.getRowNumber(),s.getValue())}r.format("%n")}return r.toString()}}class Ir{constructor(t,r,a,l){this.rowNumber=Ir.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(a),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Ir.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Ir.BARCODE_ROW_UNKNOWN=-1;class Fn{static initialize(){for(let t=0;t<Ke.SYMBOL_TABLE.length;t++){let r=Ke.SYMBOL_TABLE[t],a=r&1;for(let l=0;l<Ke.BARS_IN_MODULE;l++){let s=0;for(;(r&1)===a;)s+=1,r>>=1;a=r&1,Fn.RATIOS_TABLE[t]||(Fn.RATIOS_TABLE[t]=new Array(Ke.BARS_IN_MODULE)),Fn.RATIOS_TABLE[t][Ke.BARS_IN_MODULE-l-1]=Math.fround(s/Ke.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Fn.getDecodedCodewordValue(Fn.sampleBitCounts(t));return r!==-1?r:Fn.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=st.sum(t),a=new Int32Array(Ke.BARS_IN_MODULE),l=0,s=0;for(let c=0;c<Ke.MODULES_IN_CODEWORD;c++){let u=r/(2*Ke.MODULES_IN_CODEWORD)+c*r/Ke.MODULES_IN_CODEWORD;s+t[l]<=u&&(s+=t[l],l++),a[l]++}return a}static getDecodedCodewordValue(t){let r=Fn.getBitValue(t);return Ke.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let a=0;a<t.length;a++)for(let l=0;l<t[a];l++)r=r<<1|(a%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=st.sum(t),a=new Array(Ke.BARS_IN_MODULE);if(r>1)for(let c=0;c<a.length;c++)a[c]=Math.fround(t[c]/r);let l=vr.MAX_VALUE,s=-1;this.bSymbolTableReady||Fn.initialize();for(let c=0;c<Fn.RATIOS_TABLE.length;c++){let u=0,x=Fn.RATIOS_TABLE[c];for(let p=0;p<Ke.BARS_IN_MODULE;p++){let A=Math.fround(x[p]-a[p]);if(u+=Math.fround(A*A),u>=l)break}u<l&&(l=u,s=Ke.SYMBOL_TABLE[c])}return s}}Fn.bSymbolTableReady=!1,Fn.RATIOS_TABLE=new Array(Ke.SYMBOL_TABLE.length).map(S=>new Array(Ke.BARS_IN_MODULE));class pi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class So{static parseLong(t,r=void 0){return parseInt(t,r)}}class _l extends C{}_l.kind="NullPointerException";class ws{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,a){if(t==null)throw new _l;if(r<0||r>t.length||a<0||r+a>t.length||r+a<0)throw new X;if(a===0)return;for(let l=0;l<a;l++)this.write(t[r+l])}flush(){}close(){}}class el extends C{}class Il extends ws{constructor(t=32){if(super(),this.count=0,t<0)throw new M("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let a=this.buf.length<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new el;a=J.MAX_VALUE}this.buf=F.copyOfUint8Array(this.buf,a)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,a){if(r<0||r>t.length||a<0||r+a-t.length>0)throw new X;this.ensureCapacity(this.count+a),U.arraycopy(t,r,this.buf,this.count,a),this.count+=a}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return F.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var zt;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(zt||(zt={}));function To(){if(typeof window<"u")return window.BigInt||null;if(typeof jc<"u")return jc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ol;function va(S){if(typeof Ol>"u"&&(Ol=To()),Ol===null)throw new Error("BigInt is not supported!");return Ol(S)}function Es(){let S=[];S[0]=va(1);let t=va(900);S[1]=t;for(let r=2;r<16;r++)S[r]=S[r-1]*t;return S}class fe{static decode(t,r){let a=new Re(""),l=K.ISO8859_1;a.enableDecoding(l);let s=1,c=t[s++],u=new pi;for(;s<t[0];){switch(c){case fe.TEXT_COMPACTION_MODE_LATCH:s=fe.textCompaction(t,s,a);break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:s=fe.byteCompaction(c,t,l,s,a);break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[s++]);break;case fe.NUMERIC_COMPACTION_MODE_LATCH:s=fe.numericCompaction(t,s,a);break;case fe.ECI_CHARSET:K.getCharacterSetECIByValue(t[s++]);break;case fe.ECI_GENERAL_PURPOSE:s+=2;break;case fe.ECI_USER_DEFINED:s++;break;case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=fe.decodeMacroBlock(t,s,u);break;case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:throw new D;default:s--,s=fe.textCompaction(t,s,a);break}if(s<t.length)c=t[s++];else throw D.getFormatInstance()}if(a.length()===0)throw D.getFormatInstance();let x=new ke(null,a.toString(),null,r);return x.setOther(u),x}static decodeMacroBlock(t,r,a){if(r+fe.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw D.getFormatInstance();let l=new Int32Array(fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let u=0;u<fe.NUMBER_OF_SEQUENCE_CODEWORDS;u++,r++)l[u]=t[r];a.setSegmentIndex(J.parseInt(fe.decodeBase900toBase10(l,fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Re;r=fe.textCompaction(t,r,s),a.setFileId(s.toString());let c=-1;for(t[r]===fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=r+1);r<t[0];)switch(t[r]){case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let u=new Re;r=fe.textCompaction(t,r+1,u),a.setFileName(u.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new Re;r=fe.textCompaction(t,r+1,x),a.setSender(x.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new Re;r=fe.textCompaction(t,r+1,p),a.setAddressee(p.toString());break;case fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new Re;r=fe.numericCompaction(t,r+1,A),a.setSegmentCount(J.parseInt(A.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new Re;r=fe.numericCompaction(t,r+1,T),a.setTimestamp(So.parseLong(T.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Re;r=fe.numericCompaction(t,r+1,I),a.setChecksum(J.parseInt(I.toString()));break;case fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new Re;r=fe.numericCompaction(t,r+1,L),a.setFileSize(So.parseLong(L.toString()));break;default:throw D.getFormatInstance()}break;case fe.MACRO_PDF417_TERMINATOR:r++,a.setLastSegment(!0);break;default:throw D.getFormatInstance()}if(c!==-1){let u=r-c;a.isLastSegment()&&u--,a.setOptionalData(F.copyOfRange(t,c,c+u))}return r}static textCompaction(t,r,a){let l=new Int32Array((t[0]-r)*2),s=new Int32Array((t[0]-r)*2),c=0,u=!1;for(;r<t[0]&&!u;){let x=t[r++];if(x<fe.TEXT_COMPACTION_MODE_LATCH)l[c]=x/30,l[c+1]=x%30,c+=2;else switch(x){case fe.TEXT_COMPACTION_MODE_LATCH:l[c++]=fe.TEXT_COMPACTION_MODE_LATCH;break;case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:r--,u=!0;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[c]=fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[r++],s[c]=x,c++;break}}return fe.decodeTextCompaction(l,s,c,a),r}static decodeTextCompaction(t,r,a,l){let s=zt.ALPHA,c=zt.ALPHA,u=0;for(;u<a;){let x=t[u],p="";switch(s){case zt.ALPHA:if(x<26)p=String.fromCharCode(65+x);else switch(x){case 26:p=" ";break;case fe.LL:s=zt.LOWER;break;case fe.ML:s=zt.MIXED;break;case fe.PS:c=s,s=zt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[u]);break;case fe.TEXT_COMPACTION_MODE_LATCH:s=zt.ALPHA;break}break;case zt.LOWER:if(x<26)p=String.fromCharCode(97+x);else switch(x){case 26:p=" ";break;case fe.AS:c=s,s=zt.ALPHA_SHIFT;break;case fe.ML:s=zt.MIXED;break;case fe.PS:c=s,s=zt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[u]);break;case fe.TEXT_COMPACTION_MODE_LATCH:s=zt.ALPHA;break}break;case zt.MIXED:if(x<fe.PL)p=fe.MIXED_CHARS[x];else switch(x){case fe.PL:s=zt.PUNCT;break;case 26:p=" ";break;case fe.LL:s=zt.LOWER;break;case fe.AL:s=zt.ALPHA;break;case fe.PS:c=s,s=zt.PUNCT_SHIFT;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[u]);break;case fe.TEXT_COMPACTION_MODE_LATCH:s=zt.ALPHA;break}break;case zt.PUNCT:if(x<fe.PAL)p=fe.PUNCT_CHARS[x];else switch(x){case fe.PAL:s=zt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[u]);break;case fe.TEXT_COMPACTION_MODE_LATCH:s=zt.ALPHA;break}break;case zt.ALPHA_SHIFT:if(s=c,x<26)p=String.fromCharCode(65+x);else switch(x){case 26:p=" ";break;case fe.TEXT_COMPACTION_MODE_LATCH:s=zt.ALPHA;break}break;case zt.PUNCT_SHIFT:if(s=c,x<fe.PAL)p=fe.PUNCT_CHARS[x];else switch(x){case fe.PAL:s=zt.ALPHA;break;case fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[u]);break;case fe.TEXT_COMPACTION_MODE_LATCH:s=zt.ALPHA;break}break}p!==""&&l.append(p),u++}}static byteCompaction(t,r,a,l,s){let c=new Il,u=0,x=0,p=!1;switch(t){case fe.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),T=r[l++];for(;l<r[0]&&!p;)switch(A[u++]=T,x=900*x+T,T=r[l++],T){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:l--,p=!0;break;default:if(u%5===0&&u>0){for(let I=0;I<6;++I)c.write(Number(va(x)>>va(8*(5-I))));x=0,u=0}break}l===r[0]&&T<fe.TEXT_COMPACTION_MODE_LATCH&&(A[u++]=T);for(let I=0;I<u;I++)c.write(A[I]);break;case fe.BYTE_COMPACTION_MODE_LATCH_6:for(;l<r[0]&&!p;){let I=r[l++];if(I<fe.TEXT_COMPACTION_MODE_LATCH)u++,x=900*x+I;else switch(I){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.NUMERIC_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:l--,p=!0;break}if(u%5===0&&u>0){for(let L=0;L<6;++L)c.write(Number(va(x)>>va(8*(5-L))));x=0,u=0}}break}return s.append(pe.decode(c.toByteArray(),a)),l}static numericCompaction(t,r,a){let l=0,s=!1,c=new Int32Array(fe.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!s;){let u=t[r++];if(r===t[0]&&(s=!0),u<fe.TEXT_COMPACTION_MODE_LATCH)c[l]=u,l++;else switch(u){case fe.TEXT_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH:case fe.BYTE_COMPACTION_MODE_LATCH_6:case fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case fe.MACRO_PDF417_TERMINATOR:r--,s=!0;break}(l%fe.MAX_NUMERIC_CODEWORDS===0||u===fe.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(a.append(fe.decodeBase900toBase10(c,l)),l=0)}return r}static decodeBase900toBase10(t,r){let a=va(0);for(let s=0;s<r;s++)a+=fe.EXP900[r-s-1]*va(t[s]);let l=a.toString();if(l.charAt(0)!=="1")throw new D;return l.substring(1)}}fe.TEXT_COMPACTION_MODE_LATCH=900,fe.BYTE_COMPACTION_MODE_LATCH=901,fe.NUMERIC_COMPACTION_MODE_LATCH=902,fe.BYTE_COMPACTION_MODE_LATCH_6=924,fe.ECI_USER_DEFINED=925,fe.ECI_GENERAL_PURPOSE=926,fe.ECI_CHARSET=927,fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,fe.MACRO_PDF417_TERMINATOR=922,fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,fe.MAX_NUMERIC_CODEWORDS=15,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,fe.PL=25,fe.LL=27,fe.AS=27,fe.ML=28,fe.AL=28,fe.PS=29,fe.PAL=29,fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",fe.EXP900=To()?Es():[],fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ut{constructor(){}static decode(t,r,a,l,s,c,u){let x=new sa(t,r,a,l,s),p=null,A=null,T;for(let H=!0;;H=!1){if(r!=null&&(p=ut.getRowIndicatorColumn(t,x,r,!0,c,u)),l!=null&&(A=ut.getRowIndicatorColumn(t,x,l,!1,c,u)),T=ut.merge(p,A),T==null)throw V.getNotFoundInstance();let Y=T.getBoundingBox();if(H&&Y!=null&&(Y.getMinY()<x.getMinY()||Y.getMaxY()>x.getMaxY()))x=Y;else break}T.setBoundingBox(x);let I=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,p),T.setDetectionResultColumn(I,A);let L=p!=null;for(let H=1;H<=I;H++){let Y=L?H:I-H;if(T.getDetectionResultColumn(Y)!==void 0)continue;let te;Y===0||Y===I?te=new ys(x,Y===0):te=new Ca(x),T.setDetectionResultColumn(Y,te);let ue=-1,Ie=ue;for(let _e=x.getMinY();_e<=x.getMaxY();_e++){if(ue=ut.getStartColumn(T,Y,_e,L),ue<0||ue>x.getMaxX()){if(Ie===-1)continue;ue=Ie}let ve=ut.detectCodeword(t,x.getMinX(),x.getMaxX(),L,ue,_e,c,u);ve!=null&&(te.setCodeword(_e,ve),Ie=ue,c=Math.min(c,ve.getWidth()),u=Math.max(u,ve.getWidth()))}}return ut.createDecoderResult(T)}static merge(t,r){if(t==null&&r==null)return null;let a=ut.getBarcodeMetadata(t,r);if(a==null)return null;let l=sa.merge(ut.adjustBoundingBox(t),ut.adjustBoundingBox(r));return new Bn(a,l)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let a=ut.getMax(r),l=0;for(let u of r)if(l+=a-u,u>0)break;let s=t.getCodewords();for(let u=0;l>0&&s[u]==null;u++)l--;let c=0;for(let u=r.length-1;u>=0&&(c+=a-r[u],!(r[u]>0));u--);for(let u=s.length-1;c>0&&s[u]==null;u--)c--;return t.getBoundingBox().addMissingRows(l,c,t.isLeft())}static getMax(t){let r=-1;for(let a of t)r=Math.max(r,a);return r}static getBarcodeMetadata(t,r){let a;if(t==null||(a=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let l;return r==null||(l=r.getBarcodeMetadata())==null?a:a.getColumnCount()!==l.getColumnCount()&&a.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&a.getRowCount()!==l.getRowCount()?null:a}static getRowIndicatorColumn(t,r,a,l,s,c){let u=new ys(r,l);for(let x=0;x<2;x++){let p=x===0?1:-1,A=Math.trunc(Math.trunc(a.getX()));for(let T=Math.trunc(Math.trunc(a.getY()));T<=r.getMaxY()&&T>=r.getMinY();T+=p){let I=ut.detectCodeword(t,0,t.getWidth(),l,A,T,s,c);I!=null&&(u.setCodeword(T,I),l?A=I.getStartX():A=I.getEndX())}}return u}static adjustCodewordCount(t,r){let a=r[0][1],l=a.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-ut.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(s<1||s>Ke.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();a.setValue(s)}else l[0]!==s&&a.setValue(s)}static createDecoderResult(t){let r=ut.createBarcodeMatrix(t);ut.adjustCodewordCount(t,r);let a=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],c=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let p=0;p<t.getBarcodeColumnCount();p++){let A=r[x][p+1].getValue(),T=x*t.getBarcodeColumnCount()+p;A.length===0?a.push(T):A.length===1?l[T]=A[0]:(c.push(T),s.push(A))}let u=new Array(s.length);for(let x=0;x<u.length;x++)u[x]=s[x];return ut.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,Ke.toIntArray(a),Ke.toIntArray(c),u)}static createDecoderResultFromAmbiguousValues(t,r,a,l,s){let c=new Int32Array(l.length),u=100;for(;u-- >0;){for(let x=0;x<c.length;x++)r[l[x]]=s[x][c[x]];try{return ut.decodeCodewords(r,t,a)}catch(x){if(!(x instanceof W))throw x}if(c.length===0)throw W.getChecksumInstance();for(let x=0;x<c.length;x++)if(c[x]<s[x].length-1){c[x]++;break}else if(c[x]=0,x===c.length-1)throw W.getChecksumInstance()}throw W.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<r.length;l++)for(let s=0;s<r[l].length;s++)r[l][s]=new Aa;let a=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let s of l.getCodewords())if(s!=null){let c=s.getRowNumber();if(c>=0){if(c>=r.length)continue;r[c][a].setValue(s.getValue())}}}a++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,a,l){let s=l?1:-1,c=null;if(ut.isValidBarcodeColumn(t,r-s)&&(c=t.getDetectionResultColumn(r-s).getCodeword(a)),c!=null)return l?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(r).getCodewordNearby(a),c!=null)return l?c.getStartX():c.getEndX();if(ut.isValidBarcodeColumn(t,r-s)&&(c=t.getDetectionResultColumn(r-s).getCodewordNearby(a)),c!=null)return l?c.getEndX():c.getStartX();let u=0;for(;ut.isValidBarcodeColumn(t,r-s);){r-=s;for(let x of t.getDetectionResultColumn(r).getCodewords())if(x!=null)return(l?x.getEndX():x.getStartX())+s*u*(x.getEndX()-x.getStartX());u++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,a,l,s,c,u,x){s=ut.adjustCodewordStartColumn(t,r,a,l,s,c);let p=ut.getModuleBitCount(t,r,a,l,s,c);if(p==null)return null;let A,T=st.sum(p);if(l)A=s+T;else{for(let H=0;H<p.length/2;H++){let Y=p[H];p[H]=p[p.length-1-H],p[p.length-1-H]=Y}A=s,s=A-T}if(!ut.checkCodewordSkew(T,u,x))return null;let I=Fn.getDecodedValue(p),L=Ke.getCodeword(I);return L===-1?null:new Ir(s,A,ut.getCodewordBucketNumber(I),L)}static getModuleBitCount(t,r,a,l,s,c){let u=s,x=new Int32Array(8),p=0,A=l?1:-1,T=l;for(;(l?u<a:u>=r)&&p<x.length;)t.get(u,c)===T?(x[p]++,u+=A):(p++,T=!T);return p===x.length||u===(l?a:r)&&p===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,a,l,s,c){let u=s,x=l?-1:1;for(let p=0;p<2;p++){for(;(l?u>=r:u<a)&&l===t.get(u,c);){if(Math.abs(s-u)>ut.CODEWORD_SKEW_SIZE)return s;u+=x}x=-x,l=!l}return u}static checkCodewordSkew(t,r,a){return r-ut.CODEWORD_SKEW_SIZE<=t&&t<=a+ut.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,a){if(t.length===0)throw D.getFormatInstance();let l=1<<r+1,s=ut.correctErrors(t,a,l);ut.verifyCodewordCount(t,l);let c=fe.decode(t,""+r);return c.setErrorsCorrected(s),c.setErasures(a.length),c}static correctErrors(t,r,a){if(r!=null&&r.length>a/2+ut.MAX_ERRORS||a<0||a>ut.MAX_EC_CODEWORDS)throw W.getChecksumInstance();return ut.errorCorrection.decode(t,a,r)}static verifyCodewordCount(t,r){if(t.length<4)throw D.getFormatInstance();let a=t[0];if(a>t.length)throw D.getFormatInstance();if(a===0)if(r<t.length)t[0]=t.length-r;else throw D.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),a=0,l=r.length-1;for(;!((t&1)!==a&&(a=t&1,l--,l<0));)r[l]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return ut.getCodewordBucketNumber(ut.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new mi;for(let a=0;a<t.length;a++){r.format("Row %2d: ",a);for(let l=0;l<t[a].length;l++){let s=t[a][l];s.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}r.format("%n")}return r.toString()}}ut.CODEWORD_SKEW_SIZE=2,ut.MAX_ERRORS=3,ut.MAX_EC_CODEWORDS=512,ut.errorCorrection=new la;class Pn{decode(t,r=null){let a=Pn.decode(t,r,!1);if(a==null||a.length===0||a[0]==null)throw V.getNotFoundInstance();return a[0]}decodeMultiple(t,r=null){try{return Pn.decode(t,r,!0)}catch(a){throw a instanceof D||a instanceof W?V.getNotFoundInstance():a}}static decode(t,r,a){const l=new Array,s=rt.detectMultiple(t,r,a);for(const c of s.getPoints()){const u=ut.decode(s.getBits(),c[4],c[5],c[6],c[7],Pn.getMinCodewordWidth(c),Pn.getMaxCodewordWidth(c)),x=new De(u.getText(),u.getRawBytes(),void 0,c,ne.PDF_417);x.putMetadata(we.ERROR_CORRECTION_LEVEL,u.getECLevel());const p=u.getOther();p!=null&&x.putMetadata(we.PDF417_EXTRA_METADATA,p),l.push(x)}return l.map(c=>c)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?J.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Pn.getMaxWidth(t[0],t[4]),Pn.getMaxWidth(t[6],t[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.max(Pn.getMaxWidth(t[1],t[5]),Pn.getMaxWidth(t[7],t[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Pn.getMinWidth(t[0],t[4]),Pn.getMinWidth(t[6],t[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.min(Pn.getMinWidth(t[1],t[5]),Pn.getMinWidth(t[7],t[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}reset(){}}class Rl extends C{}Rl.kind="ReaderException";class No{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!y(t)&&t.get(Q.TRY_HARDER)===!0,a=y(t)?null:t.get(Q.POSSIBLE_FORMATS),l=new Array;if(!y(a)){const s=a.some(c=>c===ne.UPC_A||c===ne.UPC_E||c===ne.EAN_13||c===ne.EAN_8||c===ne.CODABAR||c===ne.CODE_39||c===ne.CODE_93||c===ne.CODE_128||c===ne.ITF||c===ne.RSS_14||c===ne.RSS_EXPANDED);s&&!r&&l.push(new Nr(t,this.verbose)),a.includes(ne.QR_CODE)&&l.push(new ia),a.includes(ne.DATA_MATRIX)&&l.push(new aa),a.includes(ne.AZTEC)&&l.push(new ja),a.includes(ne.PDF_417)&&l.push(new Pn),s&&r&&l.push(new Nr(t,this.verbose))}l.length===0&&(r||l.push(new Nr(t,this.verbose)),l.push(new ia),l.push(new aa),l.push(new ja),l.push(new Pn),r&&l.push(new Nr(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new Rl("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(a){if(a instanceof Rl)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}class _o extends Se{constructor(t=null,r=500){const a=new No;a.setHints(t),super(a,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class su extends Se{constructor(t=500){super(new Pn,t)}}class ou extends Se{constructor(t=500){super(new ia,t)}}var Cs;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(Cs||(Cs={}));var In=Cs;class tl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new xt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let a=r[r.length-1];const l=this.field;for(let s=r.length;s<=t;s++){const c=a.multiply(new xt(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));r.push(c),a=c}}return r[t]}encode(t,r){if(r===0)throw new M("No error correction bytes");const a=t.length-r;if(a<=0)throw new M("No data bytes provided");const l=this.buildGenerator(r),s=new Int32Array(a);U.arraycopy(t,0,s,0,a);let c=new xt(this.field,s);c=c.multiplyByMonomial(r,1);const x=c.divide(l)[1].getCoefficients(),p=r-x.length;for(let A=0;A<p;A++)t[a+A]=0;U.arraycopy(x,0,t,a+p,x.length)}}class xn{constructor(){}static applyMaskPenaltyRule1(t){return xn.applyMaskPenaltyRule1Internal(t,!0)+xn.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let c=0;c<s-1;c++){const u=a[c];for(let x=0;x<l-1;x++){const p=u[x];p===u[x+1]&&p===a[c+1][x]&&p===a[c+1][x+1]&&r++}}return xn.N2*r}static applyMaskPenaltyRule3(t){let r=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let c=0;c<s;c++)for(let u=0;u<l;u++){const x=a[c];u+6<l&&x[u]===1&&x[u+1]===0&&x[u+2]===1&&x[u+3]===1&&x[u+4]===1&&x[u+5]===0&&x[u+6]===1&&(xn.isWhiteHorizontal(x,u-4,u)||xn.isWhiteHorizontal(x,u+7,u+11))&&r++,c+6<s&&a[c][u]===1&&a[c+1][u]===0&&a[c+2][u]===1&&a[c+3][u]===1&&a[c+4][u]===1&&a[c+5][u]===0&&a[c+6][u]===1&&(xn.isWhiteVertical(a,u,c-4,c)||xn.isWhiteVertical(a,u,c+7,c+11))&&r++}return r*xn.N3}static isWhiteHorizontal(t,r,a){r=Math.max(r,0),a=Math.min(a,t.length);for(let l=r;l<a;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,r,a,l){a=Math.max(a,0),l=Math.min(l,t.length);for(let s=a;s<l;s++)if(t[s][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let x=0;x<s;x++){const p=a[x];for(let A=0;A<l;A++)p[A]===1&&r++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-c)*10/c)*xn.N4}static getDataMaskBit(t,r,a){let l,s;switch(t){case 0:l=a+r&1;break;case 1:l=a&1;break;case 2:l=r%3;break;case 3:l=(a+r)%3;break;case 4:l=Math.floor(a/2)+Math.floor(r/3)&1;break;case 5:s=a*r,l=(s&1)+s%3;break;case 6:s=a*r,l=(s&1)+s%3&1;break;case 7:s=a*r,l=s%3+(a+r&1)&1;break;default:throw new M("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,r){let a=0;const l=r?t.getHeight():t.getWidth(),s=r?t.getWidth():t.getHeight(),c=t.getArray();for(let u=0;u<l;u++){let x=0,p=-1;for(let A=0;A<s;A++){const T=r?c[u][A]:c[A][u];T===p?x++:(x>=5&&(a+=xn.N1+(x-5)),x=1,p=T)}x>=5&&(a+=xn.N1+(x-5))}return a}}xn.N1=3,xn.N2=3,xn.N3=40,xn.N4=10;class Dl{constructor(t,r){this.width=t,this.height=r;const a=new Array(r);for(let l=0;l!==r;l++)a[l]=new Uint8Array(t);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,a){this.bytes[r][t]=a}setBoolean(t,r,a){this.bytes[r][t]=a?1:0}clear(t){for(const r of this.bytes)F.fill(r,t)}equals(t){if(!(t instanceof Dl))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let a=0,l=this.height;a<l;++a){const s=this.bytes[a],c=r.bytes[a];for(let u=0,x=this.width;u<x;++u)if(s[u]!==c[u])return!1}return!0}toString(){const t=new Re;for(let r=0,a=this.height;r<a;++r){const l=this.bytes[r];for(let s=0,c=this.width;s<c;++s)switch(l[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Ua{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Re;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Ua.NUM_MASK_PATTERNS}}Ua.NUM_MASK_PATTERNS=8;class Pt extends C{}Pt.kind="WriterException";class Je{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,a,l,s){Je.clearMatrix(s),Je.embedBasicPatterns(a,s),Je.embedTypeInfo(r,l,s),Je.maybeEmbedVersionInfo(a,s),Je.embedDataBits(t,l,s)}static embedBasicPatterns(t,r){Je.embedPositionDetectionPatternsAndSeparators(r),Je.embedDarkDotAtLeftBottomCorner(r),Je.maybeEmbedPositionAdjustmentPatterns(t,r),Je.embedTimingPatterns(r)}static embedTypeInfo(t,r,a){const l=new oe;Je.makeTypeInfoBits(t,r,l);for(let s=0,c=l.getSize();s<c;++s){const u=l.get(l.getSize()-1-s),x=Je.TYPE_INFO_COORDINATES[s],p=x[0],A=x[1];if(a.setBoolean(p,A,u),s<8){const T=a.getWidth()-s-1;a.setBoolean(T,8,u)}else{const I=a.getHeight()-7+(s-8);a.setBoolean(8,I,u)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const a=new oe;Je.makeVersionInfoBits(t,a);let l=17;for(let s=0;s<6;++s)for(let c=0;c<3;++c){const u=a.get(l);l--,r.setBoolean(s,r.getHeight()-11+c,u),r.setBoolean(r.getHeight()-11+c,s,u)}}static embedDataBits(t,r,a){let l=0,s=-1,c=a.getWidth()-1,u=a.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);u>=0&&u<a.getHeight();){for(let x=0;x<2;++x){const p=c-x;if(!Je.isEmpty(a.get(p,u)))continue;let A;l<t.getSize()?(A=t.get(l),++l):A=!1,r!==255&&xn.getDataMaskBit(r,p,u)&&(A=!A),a.setBoolean(p,u,A)}u+=s}s=-s,u+=s,c-=2}if(l!==t.getSize())throw new Pt("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-J.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new M("0 polynomial");const a=Je.findMSBSet(r);for(t<<=a-1;Je.findMSBSet(t)>=a;)t^=r<<Je.findMSBSet(t)-a;return t}static makeTypeInfoBits(t,r,a){if(!Ua.isValidMaskPattern(r))throw new Pt("Invalid mask pattern");const l=t.getBits()<<3|r;a.appendBits(l,5);const s=Je.calculateBCHCode(l,Je.TYPE_INFO_POLY);a.appendBits(s,10);const c=new oe;if(c.appendBits(Je.TYPE_INFO_MASK_PATTERN,15),a.xor(c),a.getSize()!==15)throw new Pt("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const a=Je.calculateBCHCode(t.getVersionNumber(),Je.VERSION_INFO_POLY);if(r.appendBits(a,12),r.getSize()!==18)throw new Pt("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const a=(r+1)%2;Je.isEmpty(t.get(r,6))&&t.setNumber(r,6,a),Je.isEmpty(t.get(6,r))&&t.setNumber(6,r,a)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Pt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,a){for(let l=0;l<8;++l){if(!Je.isEmpty(a.get(t+l,r)))throw new Pt;a.setNumber(t+l,r,0)}}static embedVerticalSeparationPattern(t,r,a){for(let l=0;l<7;++l){if(!Je.isEmpty(a.get(t,r+l)))throw new Pt;a.setNumber(t,r+l,0)}}static embedPositionAdjustmentPattern(t,r,a){for(let l=0;l<5;++l){const s=Je.POSITION_ADJUSTMENT_PATTERN[l];for(let c=0;c<5;++c)a.setNumber(t+c,r+l,s[c])}}static embedPositionDetectionPattern(t,r,a){for(let l=0;l<7;++l){const s=Je.POSITION_DETECTION_PATTERN[l];for(let c=0;c<7;++c)a.setNumber(t+c,r+l,s[c])}}static embedPositionDetectionPatternsAndSeparators(t){const r=Je.POSITION_DETECTION_PATTERN[0].length;Je.embedPositionDetectionPattern(0,0,t),Je.embedPositionDetectionPattern(t.getWidth()-r,0,t),Je.embedPositionDetectionPattern(0,t.getWidth()-r,t);const a=8;Je.embedHorizontalSeparationPattern(0,a-1,t),Je.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),Je.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);const l=7;Je.embedVerticalSeparationPattern(l,0,t),Je.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),Je.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const a=t.getVersionNumber()-1,l=Je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let s=0,c=l.length;s!==c;s++){const u=l[s];if(u>=0)for(let x=0;x!==c;x++){const p=l[x];p>=0&&Je.isEmpty(r.get(p,u))&&Je.embedPositionAdjustmentPattern(p-2,u-2,r)}}}}Je.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Je.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Je.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Je.VERSION_INFO_POLY=7973,Je.TYPE_INFO_POLY=1335,Je.TYPE_INFO_MASK_PATTERN=21522;class cu{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class tn{constructor(){}static calculateMaskPenalty(t){return xn.applyMaskPenaltyRule1(t)+xn.applyMaskPenaltyRule2(t)+xn.applyMaskPenaltyRule3(t)+xn.applyMaskPenaltyRule4(t)}static encode(t,r,a=null){let l=tn.DEFAULT_BYTE_MODE_ENCODING;const s=a!==null&&a.get(In.CHARACTER_SET)!==void 0;s&&(l=a.get(In.CHARACTER_SET).toString());const c=this.chooseMode(t,l),u=new oe;if(c===Ze.BYTE&&(s||tn.DEFAULT_BYTE_MODE_ENCODING!==l)){const _e=K.getCharacterSetECIByName(l);_e!==void 0&&this.appendECI(_e,u)}this.appendModeInfo(c,u);const x=new oe;this.appendBytes(t,c,x,l);let p;if(a!==null&&a.get(In.QR_VERSION)!==void 0){const _e=Number.parseInt(a.get(In.QR_VERSION).toString(),10);p=Ge.getVersionForNumber(_e);const ve=this.calculateBitsNeeded(c,u,x,p);if(!this.willFit(ve,p,r))throw new Pt("Data too big for requested version")}else p=this.recommendVersion(r,c,u,x);const A=new oe;A.appendBitArray(u);const T=c===Ze.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(T,p,c,A),A.appendBitArray(x);const I=p.getECBlocksForLevel(r),L=p.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(L,A);const H=this.interleaveWithECBytes(A,p.getTotalCodewords(),L,I.getNumBlocks()),Y=new Ua;Y.setECLevel(r),Y.setMode(c),Y.setVersion(p);const te=p.getDimensionForVersion(),ue=new Dl(te,te),Ie=this.chooseMaskPattern(H,r,p,ue);return Y.setMaskPattern(Ie),Je.buildMatrix(H,r,p,Ie,ue),Y.setMatrix(ue),Y}static recommendVersion(t,r,a,l){const s=this.calculateBitsNeeded(r,a,l,Ge.getVersionForNumber(1)),c=this.chooseVersion(s,t),u=this.calculateBitsNeeded(r,a,l,c);return this.chooseVersion(u,t)}static calculateBitsNeeded(t,r,a,l){return r.getSize()+t.getCharacterCountBits(l)+a.getSize()}static getAlphanumericCode(t){return t<tn.ALPHANUMERIC_TABLE.length?tn.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(K.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return Ze.KANJI;let a=!1,l=!1;for(let s=0,c=t.length;s<c;++s){const u=t.charAt(s);if(tn.isDigit(u))a=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)l=!0;else return Ze.BYTE}return l?Ze.ALPHANUMERIC:a?Ze.NUMERIC:Ze.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=pe.encode(t,K.SJIS)}catch{return!1}const a=r.length;if(a%2!==0)return!1;for(let l=0;l<a;l+=2){const s=r[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(t,r,a,l){let s=Number.MAX_SAFE_INTEGER,c=-1;for(let u=0;u<Ua.NUM_MASK_PATTERNS;u++){Je.buildMatrix(t,r,a,u,l);let x=this.calculateMaskPenalty(l);x<s&&(s=x,c=u)}return c}static chooseVersion(t,r){for(let a=1;a<=40;a++){const l=Ge.getVersionForNumber(a);if(tn.willFit(t,l,r))return l}throw new Pt("Data too big")}static willFit(t,r,a){const l=r.getTotalCodewords(),c=r.getECBlocksForLevel(a).getTotalECCodewords(),u=l-c,x=(t+7)/8;return u>=x}static terminateBits(t,r){const a=t*8;if(r.getSize()>a)throw new Pt("data bits cannot fit in the QR Code"+r.getSize()+" > "+a);for(let c=0;c<4&&r.getSize()<a;++c)r.appendBit(!1);const l=r.getSize()&7;if(l>0)for(let c=l;c<8;c++)r.appendBit(!1);const s=t-r.getSizeInBytes();for(let c=0;c<s;++c)r.appendBits((c&1)===0?236:17,8);if(r.getSize()!==a)throw new Pt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,a,l,s,c){if(l>=a)throw new Pt("Block ID too large");const u=t%a,x=a-u,p=Math.floor(t/a),A=p+1,T=Math.floor(r/a),I=T+1,L=p-T,H=A-I;if(L!==H)throw new Pt("EC bytes mismatch");if(a!==x+u)throw new Pt("RS blocks mismatch");if(t!==(T+L)*x+(I+H)*u)throw new Pt("Total bytes mismatch");l<x?(s[0]=T,c[0]=L):(s[0]=I,c[0]=H)}static interleaveWithECBytes(t,r,a,l){if(t.getSizeInBytes()!==a)throw new Pt("Number of bits and data bytes does not match");let s=0,c=0,u=0;const x=new Array;for(let A=0;A<l;++A){const T=new Int32Array(1),I=new Int32Array(1);tn.getNumDataBytesAndNumECBytesForBlockID(r,a,l,A,T,I);const L=T[0],H=new Uint8Array(L);t.toBytes(8*s,H,0,L);const Y=tn.generateECBytes(H,I[0]);x.push(new cu(H,Y)),c=Math.max(c,L),u=Math.max(u,Y.length),s+=T[0]}if(a!==s)throw new Pt("Data bytes does not match offset");const p=new oe;for(let A=0;A<c;++A)for(const T of x){const I=T.getDataBytes();A<I.length&&p.appendBits(I[A],8)}for(let A=0;A<u;++A)for(const T of x){const I=T.getErrorCorrectionBytes();A<I.length&&p.appendBits(I[A],8)}if(r!==p.getSizeInBytes())throw new Pt("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(t,r){const a=t.length,l=new Int32Array(a+r);for(let c=0;c<a;c++)l[c]=t[c]&255;new tl(et.QR_CODE_FIELD_256).encode(l,r);const s=new Uint8Array(r);for(let c=0;c<r;c++)s[c]=l[a+c];return s}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,a,l){const s=a.getCharacterCountBits(r);if(t>=1<<s)throw new Pt(t+" is bigger than "+((1<<s)-1));l.appendBits(t,s)}static appendBytes(t,r,a,l){switch(r){case Ze.NUMERIC:tn.appendNumericBytes(t,a);break;case Ze.ALPHANUMERIC:tn.appendAlphanumericBytes(t,a);break;case Ze.BYTE:tn.append8BitBytes(t,a,l);break;case Ze.KANJI:tn.appendKanjiBytes(t,a);break;default:throw new Pt("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=tn.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const a=t.length;let l=0;for(;l<a;){const s=tn.getDigit(t.charAt(l));if(l+2<a){const c=tn.getDigit(t.charAt(l+1)),u=tn.getDigit(t.charAt(l+2));r.appendBits(s*100+c*10+u,10),l+=3}else if(l+1<a){const c=tn.getDigit(t.charAt(l+1));r.appendBits(s*10+c,7),l+=2}else r.appendBits(s,4),l++}}static appendAlphanumericBytes(t,r){const a=t.length;let l=0;for(;l<a;){const s=tn.getAlphanumericCode(t.charCodeAt(l));if(s===-1)throw new Pt;if(l+1<a){const c=tn.getAlphanumericCode(t.charCodeAt(l+1));if(c===-1)throw new Pt;r.appendBits(s*45+c,11),l+=2}else r.appendBits(s,6),l++}}static append8BitBytes(t,r,a){let l;try{l=pe.encode(t,a)}catch(s){throw new Pt(s)}for(let s=0,c=l.length;s!==c;s++){const u=l[s];r.appendBits(u,8)}}static appendKanjiBytes(t,r){let a;try{a=pe.encode(t,K.SJIS)}catch(s){throw new Pt(s)}const l=a.length;for(let s=0;s<l;s+=2){const c=a[s]&255,u=a[s+1]&255,x=c<<8&4294967295|u;let p=-1;if(x>=33088&&x<=40956?p=x-33088:x>=57408&&x<=60351&&(p=x-49472),p===-1)throw new Pt("Invalid byte sequence");const A=(p>>8)*192+(p&255);r.appendBits(A,13)}}static appendECI(t,r){r.appendBits(Ze.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}tn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),tn.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName();class Ha{write(t,r,a,l=null){if(t.length===0)throw new M("Found empty contents");if(r<0||a<0)throw new M("Requested dimensions are too small: "+r+"x"+a);let s=yt.L,c=Ha.QUIET_ZONE_SIZE;l!==null&&(l.get(In.ERROR_CORRECTION)!==void 0&&(s=yt.fromString(l.get(In.ERROR_CORRECTION).toString())),l.get(In.MARGIN)!==void 0&&(c=Number.parseInt(l.get(In.MARGIN).toString(),10)));const u=tn.encode(t,s,l);return this.renderResult(u,r,a,c)}writeToDom(t,r,a,l,s=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(r,a,l,s);t&&t.appendChild(c)}renderResult(t,r,a,l){const s=t.getMatrix();if(s===null)throw new yn;const c=s.getWidth(),u=s.getHeight(),x=c+l*2,p=u+l*2,A=Math.max(r,x),T=Math.max(a,p),I=Math.min(Math.floor(A/x),Math.floor(T/p)),L=Math.floor((A-c*I)/2),H=Math.floor((T-u*I)/2),Y=this.createSVGElement(A,T);for(let te=0,ue=H;te<u;te++,ue+=I)for(let Ie=0,_e=L;Ie<c;Ie++,_e+=I)if(s.get(Ie,te)===1){const ve=this.createSvgRectElement(_e,ue,I,I);Y.appendChild(ve)}return Y}createSVGElement(t,r){const a=document.createElementNS(Ha.SVG_NS,"svg");return a.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width",r.toString()),a}createSvgRectElement(t,r,a,l){const s=document.createElementNS(Ha.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"height",a.toString()),s.setAttributeNS(null,"width",l.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Ha.QUIET_ZONE_SIZE=4,Ha.SVG_NS="http://www.w3.org/2000/svg";class bi{encode(t,r,a,l,s){if(t.length===0)throw new M("Found empty contents");if(r!==ne.QR_CODE)throw new M("Can only encode QR_CODE, but got "+r);if(a<0||l<0)throw new M(`Requested dimensions are too small: ${a}x${l}`);let c=yt.L,u=bi.QUIET_ZONE_SIZE;s!==null&&(s.get(In.ERROR_CORRECTION)!==void 0&&(c=yt.fromString(s.get(In.ERROR_CORRECTION).toString())),s.get(In.MARGIN)!==void 0&&(u=Number.parseInt(s.get(In.MARGIN).toString(),10)));const x=tn.encode(t,c,s);return bi.renderResult(x,a,l,u)}static renderResult(t,r,a,l){const s=t.getMatrix();if(s===null)throw new yn;const c=s.getWidth(),u=s.getHeight(),x=c+l*2,p=u+l*2,A=Math.max(r,x),T=Math.max(a,p),I=Math.min(Math.floor(A/x),Math.floor(T/p)),L=Math.floor((A-c*I)/2),H=Math.floor((T-u*I)/2),Y=new xe(A,T);for(let te=0,ue=H;te<u;te++,ue+=I)for(let Ie=0,_e=L;Ie<c;Ie++,_e+=I)s.get(Ie,te)===1&&Y.setRegion(_e,ue,I,I);return Y}}bi.QUIET_ZONE_SIZE=4;class uu{encode(t,r,a,l,s){let c;switch(r){case ne.QR_CODE:c=new bi;break;default:throw new M("No encoder available for format "+r)}return c.encode(t,r,a,l,s)}}class Xr extends Me{constructor(t,r,a,l,s,c,u,x){if(super(c,u),this.yuvData=t,this.dataWidth=r,this.dataHeight=a,this.left=l,this.top=s,l+c>r||s+u>a)throw new M("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(c,u)}getRow(t,r){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const l=(t+this.top)*this.dataWidth+this.left;return U.arraycopy(this.yuvData,l,r,0,a),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const a=t*r,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return U.arraycopy(this.yuvData,s,l,0,a),l;for(let c=0;c<r;c++){const u=c*t;U.arraycopy(this.yuvData,s,l,u,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,r,a,l){return new Xr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,a,l,!1)}renderThumbnail(){const t=this.getWidth()/Xr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Xr.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*r),l=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let c=0;c<r;c++){const u=c*t;for(let x=0;x<t;x++){const p=l[s+x*Xr.THUMBNAIL_SCALE_FACTOR]&255;a[u+x]=4278190080|p*65793}s+=this.dataWidth*Xr.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/Xr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Xr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const a=this.yuvData;for(let l=0,s=this.top*this.dataWidth+this.left;l<r;l++,s+=this.dataWidth){const c=s+t/2;for(let u=s,x=s+t-1;u<c;u++,x--){const p=a[u];a[u]=a[x],a[x]=p}}}invert(){return new qe(this)}}Xr.THUMBNAIL_SCALE_FACTOR=2;class As extends Me{constructor(t,r,a,l,s,c,u){if(super(r,a),this.dataWidth=l,this.dataHeight=s,this.left=c,this.top=u,t.BYTES_PER_ELEMENT===4){const x=r*a,p=new Uint8ClampedArray(x);for(let A=0;A<x;A++){const T=t[A],I=T>>16&255,L=T>>7&510,H=T&255;p[A]=(I+L+H)/4&255}this.luminances=p}else this.luminances=t;if(l===void 0&&(this.dataWidth=r),s===void 0&&(this.dataHeight=a),c===void 0&&(this.left=0),u===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+a>this.dataHeight)throw new M("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const a=this.getWidth();(r==null||r.length<a)&&(r=new Uint8ClampedArray(a));const l=(t+this.top)*this.dataWidth+this.left;return U.arraycopy(this.luminances,l,r,0,a),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const a=t*r,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return U.arraycopy(this.luminances,s,l,0,a),l;for(let c=0;c<r;c++){const u=c*t;U.arraycopy(this.luminances,s,l,u,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,r,a,l){return new As(this.luminances,a,l,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new qe(this)}}class Io extends K{static forName(t){return this.getCharacterSetECIByName(t)}}class nl{}nl.ISO_8859_1=K.ISO8859_1;class yi{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Oo{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Ro{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Fa extends Ro{constructor(t,r,a){super(t),this.value=r,this.bitCount=a}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new Fa(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Fa(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+J.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Ml extends Fa{constructor(t,r,a){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=a}appendTo(t,r){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+a],8)}addBinaryShift(t,r){return new Ml(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Do(S,t,r){return new Ml(S,t,r)}function wi(S,t,r){return new Fa(S,t,r)}const Ei=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Sa=0,Bl=1,gr=2,vs=3,Or=4,rl=new Fa(null,0,0),Pa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function fu(S){for(let t of S)F.fill(t,-1);return S[Sa][Or]=0,S[Bl][Or]=0,S[Bl][Sa]=28,S[vs][Or]=0,S[gr][Or]=0,S[gr][Sa]=15,S}const al=fu(F.createInt32Array(6,6));class Rr{constructor(t,r,a,l){this.token=t,this.mode=r,this.binaryShiftByteCount=a,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let a=this.bitCount,l=this.token;if(t!==this.mode){let c=Pa[this.mode][t];l=wi(l,c&65535,c>>16),a+=c>>16}let s=t===gr?4:5;return l=wi(l,r,s),new Rr(l,t,0,a+s)}shiftAndAppend(t,r){let a=this.token,l=this.mode===gr?4:5;return a=wi(a,al[this.mode][t],l),a=wi(a,r,5),new Rr(a,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let r=this.token,a=this.mode,l=this.bitCount;if(this.mode===Or||this.mode===gr){let u=Pa[a][Sa];r=wi(r,u&65535,u>>16),l+=u>>16,a=Sa}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new Rr(r,a,this.binaryShiftByteCount+1,l+s);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=Do(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Rr(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(Pa[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=Rr.calculateBinaryShiftCost(t)-Rr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())r.unshift(l);let a=new oe;for(const l of r)l.appendTo(a,t);return a}toString(){return me.format("%s bits=%d bytes=%d",Ei[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Rr.INITIAL_STATE=new Rr(rl,Sa,0,0);function Mo(S){const t=me.getCharCode(" "),r=me.getCharCode("."),a=me.getCharCode(",");S[Sa][t]=1;const l=me.getCharCode("Z"),s=me.getCharCode("A");for(let I=s;I<=l;I++)S[Sa][I]=I-s+2;S[Bl][t]=1;const c=me.getCharCode("z"),u=me.getCharCode("a");for(let I=u;I<=c;I++)S[Bl][I]=I-u+2;S[gr][t]=1;const x=me.getCharCode("9"),p=me.getCharCode("0");for(let I=p;I<=x;I++)S[gr][I]=I-p+2;S[gr][a]=12,S[gr][r]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<A.length;I++)S[vs][me.getCharCode(A[I])]=I;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<T.length;I++)me.getCharCode(T[I])>0&&(S[Or][me.getCharCode(T[I])]=I);return S}const il=Mo(F.createInt32Array(5,256));class Ga{constructor(t){this.text=t}encode(){const t=me.getCharCode(" "),r=me.getCharCode(`
`);let a=Oo.singletonList(Rr.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let c,u=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case me.getCharCode("\r"):c=u===r?2:0;break;case me.getCharCode("."):c=u===t?3:0;break;case me.getCharCode(","):c=u===t?4:0;break;case me.getCharCode(":"):c=u===t?5:0;break;default:c=0}c>0?(a=Ga.updateStateListForPair(a,s,c),s++):a=this.updateStateListForChar(a,s)}return Oo.min(a,(s,c)=>s.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const a=[];for(let l of t)this.updateStateForChar(l,r,a);return Ga.simplifyStates(a)}updateStateForChar(t,r,a){let l=this.text[r]&255,s=il[t.getMode()][l]>0,c=null;for(let u=0;u<=Or;u++){let x=il[u][l];if(x>0){if(c==null&&(c=t.endBinaryShift(r)),!s||u===t.getMode()||u===gr){const p=c.latchAndAppend(u,x);a.push(p)}if(!s&&al[t.getMode()][u]>=0){const p=c.shiftAndAppend(u,x);a.push(p)}}}if(t.getBinaryShiftByteCount()>0||il[t.getMode()][l]===0){let u=t.addBinaryShiftChar(r);a.push(u)}}static updateStateListForPair(t,r,a){const l=[];for(let s of t)this.updateStateForPair(s,r,a,l);return this.simplifyStates(l)}static updateStateForPair(t,r,a,l){let s=t.endBinaryShift(r);if(l.push(s.latchAndAppend(Or,a)),t.getMode()!==Or&&l.push(s.shiftAndAppend(Or,a)),a===3||a===4){let c=s.latchAndAppend(gr,16-a).latchAndAppend(gr,1);l.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);l.push(c)}}static simplifyStates(t){let r=[];for(const a of t){let l=!0;for(const s of r){if(s.isBetterThanOrEqualTo(a)){l=!1;break}a.isBetterThanOrEqualTo(s)&&(r=r.filter(c=>c!==s))}l&&r.push(a)}return r}}class vt{constructor(){}static encodeBytes(t){return vt.encode(t,vt.DEFAULT_EC_PERCENT,vt.DEFAULT_AZTEC_LAYERS)}static encode(t,r,a){let l=new Ga(t).encode(),s=J.truncDivision(l.getSize()*r,100)+11,c=l.getSize()+s,u,x,p,A,T;if(a!==vt.DEFAULT_AZTEC_LAYERS){if(u=a<0,x=Math.abs(a),x>(u?vt.MAX_NB_BITS_COMPACT:vt.MAX_NB_BITS))throw new M(me.format("Illegal value %s for layers",a));p=vt.totalBitsInLayer(x,u),A=vt.WORD_SIZE[x];let ve=p-p%A;if(T=vt.stuffBits(l,A),T.getSize()+s>ve)throw new M("Data to large for user specified layer");if(u&&T.getSize()>A*64)throw new M("Data to large for user specified layer")}else{A=0,T=null;for(let ve=0;;ve++){if(ve>vt.MAX_NB_BITS)throw new M("Data too large for an Aztec code");if(u=ve<=3,x=u?ve+1:ve,p=vt.totalBitsInLayer(x,u),c>p)continue;(T==null||A!==vt.WORD_SIZE[x])&&(A=vt.WORD_SIZE[x],T=vt.stuffBits(l,A));let mt=p-p%A;if(!(u&&T.getSize()>A*64)&&T.getSize()+s<=mt)break}}let I=vt.generateCheckWords(T,p,A),L=T.getSize()/A,H=vt.generateModeMessage(u,x,L),Y=(u?11:14)+x*4,te=new Int32Array(Y),ue;if(u){ue=Y;for(let ve=0;ve<te.length;ve++)te[ve]=ve}else{ue=Y+1+2*J.truncDivision(J.truncDivision(Y,2)-1,15);let ve=J.truncDivision(Y,2),mt=J.truncDivision(ue,2);for(let at=0;at<ve;at++){let Cn=at+J.truncDivision(at,15);te[ve-at-1]=mt-Cn-1,te[ve+at]=mt+Cn+1}}let Ie=new xe(ue);for(let ve=0,mt=0;ve<x;ve++){let at=(x-ve)*4+(u?9:12);for(let Cn=0;Cn<at;Cn++){let mr=Cn*2;for(let Kn=0;Kn<2;Kn++)I.get(mt+mr+Kn)&&Ie.set(te[ve*2+Kn],te[ve*2+Cn]),I.get(mt+at*2+mr+Kn)&&Ie.set(te[ve*2+Cn],te[Y-1-ve*2-Kn]),I.get(mt+at*4+mr+Kn)&&Ie.set(te[Y-1-ve*2-Kn],te[Y-1-ve*2-Cn]),I.get(mt+at*6+mr+Kn)&&Ie.set(te[Y-1-ve*2-Cn],te[ve*2+Kn])}mt+=at*8}if(vt.drawModeMessage(Ie,u,ue,H),u)vt.drawBullsEye(Ie,J.truncDivision(ue,2),5);else{vt.drawBullsEye(Ie,J.truncDivision(ue,2),7);for(let ve=0,mt=0;ve<J.truncDivision(Y,2)-1;ve+=15,mt+=16)for(let at=J.truncDivision(ue,2)&1;at<ue;at+=2)Ie.set(J.truncDivision(ue,2)-mt,at),Ie.set(J.truncDivision(ue,2)+mt,at),Ie.set(at,J.truncDivision(ue,2)-mt),Ie.set(at,J.truncDivision(ue,2)+mt)}let _e=new yi;return _e.setCompact(u),_e.setSize(ue),_e.setLayers(x),_e.setCodeWords(L),_e.setMatrix(Ie),_e}static drawBullsEye(t,r,a){for(let l=0;l<a;l+=2)for(let s=r-l;s<=r+l;s++)t.set(s,r-l),t.set(s,r+l),t.set(r-l,s),t.set(r+l,s);t.set(r-a,r-a),t.set(r-a+1,r-a),t.set(r-a,r-a+1),t.set(r+a,r-a),t.set(r+a,r-a+1),t.set(r+a,r+a-1)}static generateModeMessage(t,r,a){let l=new oe;return t?(l.appendBits(r-1,2),l.appendBits(a-1,6),l=vt.generateCheckWords(l,28,4)):(l.appendBits(r-1,5),l.appendBits(a-1,11),l=vt.generateCheckWords(l,40,4)),l}static drawModeMessage(t,r,a,l){let s=J.truncDivision(a,2);if(r)for(let c=0;c<7;c++){let u=s-3+c;l.get(c)&&t.set(u,s-5),l.get(c+7)&&t.set(s+5,u),l.get(20-c)&&t.set(u,s+5),l.get(27-c)&&t.set(s-5,u)}else for(let c=0;c<10;c++){let u=s-5+c+J.truncDivision(c,5);l.get(c)&&t.set(u,s-7),l.get(c+10)&&t.set(s+7,u),l.get(29-c)&&t.set(u,s+7),l.get(39-c)&&t.set(s-7,u)}}static generateCheckWords(t,r,a){let l=t.getSize()/a,s=new tl(vt.getGF(a)),c=J.truncDivision(r,a),u=vt.bitsToWords(t,a,c);s.encode(u,c-l);let x=r%a,p=new oe;p.appendBits(0,x);for(const A of Array.from(u))p.appendBits(A,a);return p}static bitsToWords(t,r,a){let l=new Int32Array(a),s,c;for(s=0,c=t.getSize()/r;s<c;s++){let u=0;for(let x=0;x<r;x++)u|=t.get(s*r+x)?1<<r-x-1:0;l[s]=u}return l}static getGF(t){switch(t){case 4:return et.AZTEC_PARAM;case 6:return et.AZTEC_DATA_6;case 8:return et.AZTEC_DATA_8;case 10:return et.AZTEC_DATA_10;case 12:return et.AZTEC_DATA_12;default:throw new M("Unsupported word size "+t)}}static stuffBits(t,r){let a=new oe,l=t.getSize(),s=(1<<r)-2;for(let c=0;c<l;c+=r){let u=0;for(let x=0;x<r;x++)(c+x>=l||t.get(c+x))&&(u|=1<<r-1-x);(u&s)===s?(a.appendBits(u&s,r),c--):(u&s)===0?(a.appendBits(u|1,r),c--):a.appendBits(u,r)}return a}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}vt.DEFAULT_EC_PERCENT=33,vt.DEFAULT_AZTEC_LAYERS=0,vt.MAX_NB_BITS=32,vt.MAX_NB_BITS_COMPACT=4,vt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ll{encode(t,r,a,l){return this.encodeWithHints(t,r,a,l,null)}encodeWithHints(t,r,a,l,s){let c=nl.ISO_8859_1,u=vt.DEFAULT_EC_PERCENT,x=vt.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(In.CHARACTER_SET)&&(c=Io.forName(s.get(In.CHARACTER_SET).toString())),s.has(In.ERROR_CORRECTION)&&(u=J.parseInt(s.get(In.ERROR_CORRECTION).toString())),s.has(In.AZTEC_LAYERS)&&(x=J.parseInt(s.get(In.AZTEC_LAYERS).toString()))),ll.encodeLayers(t,r,a,l,c,u,x)}static encodeLayers(t,r,a,l,s,c,u){if(r!==ne.AZTEC)throw new M("Can only encode AZTEC, but got "+r);let x=vt.encode(me.getBytes(t,s),c,u);return ll.renderResult(x,a,l)}static renderResult(t,r,a){let l=t.getMatrix();if(l==null)throw new yn;let s=l.getWidth(),c=l.getHeight(),u=Math.max(r,s),x=Math.max(a,c),p=Math.min(u/s,x/c),A=(u-s*p)/2,T=(x-c*p)/2,I=new xe(u,x);for(let L=0,H=T;L<c;L++,H+=p)for(let Y=0,te=A;Y<s;Y++,te+=p)l.get(Y,L)&&I.setRegion(te,H,p,p);return I}}g.AbstractExpandedDecoder=Nn,g.ArgumentException=k,g.ArithmeticException=Ot,g.AztecCode=yi,g.AztecCodeReader=ja,g.AztecCodeWriter=ll,g.AztecDecoder=gt,g.AztecDetector=Zi,g.AztecDetectorResult=La,g.AztecEncoder=vt,g.AztecHighLevelEncoder=Ga,g.AztecPoint=Dn,g.BarcodeFormat=ne,g.Binarizer=se,g.BinaryBitmap=G,g.BitArray=oe,g.BitMatrix=xe,g.BitSource=_r,g.BrowserAztecCodeReader=hs,g.BrowserBarcodeReader=au,g.BrowserCodeReader=Se,g.BrowserDatamatrixCodeReader=Tl,g.BrowserMultiFormatReader=_o,g.BrowserPDF417Reader=su,g.BrowserQRCodeReader=ou,g.BrowserQRCodeSvgWriter=Ha,g.CharacterSetECI=K,g.ChecksumException=W,g.Code128Reader=Oe,g.Code39Reader=Zt,g.DataMatrixDecodedBitStreamParser=ra,g.DataMatrixReader=aa,g.DecodeHintType=Q,g.DecoderResult=ke,g.DefaultGridSampler=oi,g.DetectorResult=ka,g.EAN13Reader=Fr,g.EncodeHintType=In,g.Exception=C,g.FormatException=D,g.GenericGF=et,g.GenericGFPoly=xt,g.GlobalHistogramBinarizer=Z,g.GridSampler=Sr,g.GridSamplerInstance=nr,g.HTMLCanvasElementLuminanceSource=Ye,g.HybridBinarizer=ae,g.ITFReader=ct,g.IllegalArgumentException=M,g.IllegalStateException=yn,g.InvertedLuminanceSource=qe,g.LuminanceSource=Me,g.MathUtils=st,g.MultiFormatOneDReader=Nr,g.MultiFormatReader=No,g.MultiFormatWriter=uu,g.NotFoundException=V,g.OneDReader=rn,g.PDF417DecodedBitStreamParser=fe,g.PDF417DecoderErrorCorrection=la,g.PDF417Reader=Pn,g.PDF417ResultMetadata=pi,g.PerspectiveTransform=Wn,g.PlanarYUVLuminanceSource=Xr,g.QRCodeByteMatrix=Dl,g.QRCodeDataMask=or,g.QRCodeDecodedBitStreamParser=$t,g.QRCodeDecoderErrorCorrectionLevel=yt,g.QRCodeDecoderFormatInformation=Mn,g.QRCodeEncoder=tn,g.QRCodeEncoderQRCode=Ua,g.QRCodeMaskUtil=xn,g.QRCodeMatrixUtil=Je,g.QRCodeMode=Ze,g.QRCodeReader=ia,g.QRCodeVersion=Ge,g.QRCodeWriter=bi,g.RGBLuminanceSource=As,g.RSS14Reader=Ft,g.RSSExpandedReader=Ae,g.ReaderException=Rl,g.ReedSolomonDecoder=Zn,g.ReedSolomonEncoder=tl,g.ReedSolomonException=Tn,g.Result=De,g.ResultMetadataType=we,g.ResultPoint=He,g.StringUtils=me,g.UnsupportedOperationException=de,g.VideoInputDevice=P,g.WhiteRectangleDetector=Ht,g.WriterException=Pt,g.ZXingArrays=F,g.ZXingCharset=Io,g.ZXingInteger=J,g.ZXingStandardCharsets=nl,g.ZXingStringBuilder=Re,g.ZXingStringEncoding=pe,g.ZXingSystem=U,g.createAbstractExpandedDecoder=ui,Object.defineProperty(g,"__esModule",{value:!0})}))})(lo,lo.exports)),lo.exports}var cn=Dp();const Mp=Jc(cn),Bp=Rm({__proto__:null,default:Mp},[cn]);var Cx=(function(){function d(h,g,y){if(this.formatMap=new Map([[ze.QR_CODE,cn.BarcodeFormat.QR_CODE],[ze.AZTEC,cn.BarcodeFormat.AZTEC],[ze.CODABAR,cn.BarcodeFormat.CODABAR],[ze.CODE_39,cn.BarcodeFormat.CODE_39],[ze.CODE_93,cn.BarcodeFormat.CODE_93],[ze.CODE_128,cn.BarcodeFormat.CODE_128],[ze.DATA_MATRIX,cn.BarcodeFormat.DATA_MATRIX],[ze.MAXICODE,cn.BarcodeFormat.MAXICODE],[ze.ITF,cn.BarcodeFormat.ITF],[ze.EAN_13,cn.BarcodeFormat.EAN_13],[ze.EAN_8,cn.BarcodeFormat.EAN_8],[ze.PDF_417,cn.BarcodeFormat.PDF_417],[ze.RSS_14,cn.BarcodeFormat.RSS_14],[ze.RSS_EXPANDED,cn.BarcodeFormat.RSS_EXPANDED],[ze.UPC_A,cn.BarcodeFormat.UPC_A],[ze.UPC_E,cn.BarcodeFormat.UPC_E],[ze.UPC_EAN_EXTENSION,cn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Bp)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=g,this.logger=y;var E=this.createZXingFormats(h),w=new Map;w.set(cn.DecodeHintType.POSSIBLE_FORMATS,E),w.set(cn.DecodeHintType.TRY_HARDER,!1),this.hints=w}return d.prototype.decodeAsync=function(h){var g=this;return new Promise(function(y,E){try{y(g.decode(h))}catch(w){E(w)}})},d.prototype.decode=function(h){var g=new cn.MultiFormatReader(this.verbose,this.hints),y=new cn.HTMLCanvasElementLuminanceSource(h),E=new cn.BinaryBitmap(new cn.HybridBinarizer(y)),w=g.decode(E);return{text:w.text,format:ug.create(this.toHtml5QrcodeSupportedFormats(w.format)),debugData:this.createDebugData()}},d.prototype.createReverseFormatMap=function(){var h=new Map;return this.formatMap.forEach(function(g,y,E){h.set(g,y)}),h},d.prototype.toHtml5QrcodeSupportedFormats=function(h){if(!this.reverseFormatMap.has(h))throw"reverseFormatMap doesn't have ".concat(h);return this.reverseFormatMap.get(h)},d.prototype.createZXingFormats=function(h){for(var g=[],y=0,E=h;y<E.length;y++){var w=E[y];this.formatMap.has(w)?g.push(this.formatMap.get(w)):this.logger.logError("".concat(w," is not supported by")+"ZXingHtml5QrcodeShim")}return g},d.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},d})(),kp=function(d,h,g,y){function E(w){return w instanceof g?w:new g(function(N){N(w)})}return new(g||(g=Promise))(function(w,N){function R(k){try{C(y.next(k))}catch(M){N(M)}}function _(k){try{C(y.throw(k))}catch(M){N(M)}}function C(k){k.done?w(k.value):E(k.value).then(R,_)}C((y=y.apply(d,h||[])).next())})},Lp=function(d,h){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,E,w,N;return N={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function R(C){return function(k){return _([C,k])}}function _(C){if(y)throw new TypeError("Generator is already executing.");for(;N&&(N=0,C[0]&&(g=0)),g;)try{if(y=1,E&&(w=C[0]&2?E.return:C[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,C[1])).done)return w;switch(E=0,w&&(C=[C[0]&2,w.value]),C[0]){case 0:case 1:w=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,E=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(C[0]===6||C[0]===2)){g=0;continue}if(C[0]===3&&(!w||C[1]>w[0]&&C[1]<w[3])){g.label=C[1];break}if(C[0]===6&&g.label<w[1]){g.label=w[1],w=C;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(C);break}w[2]&&g.ops.pop(),g.trys.pop();continue}C=h.call(d,g)}catch(k){C=[6,k],E=0}finally{y=w=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Ax=(function(){function d(h,g,y){if(this.formatMap=new Map([[ze.QR_CODE,"qr_code"],[ze.AZTEC,"aztec"],[ze.CODABAR,"codabar"],[ze.CODE_39,"code_39"],[ze.CODE_93,"code_93"],[ze.CODE_128,"code_128"],[ze.DATA_MATRIX,"data_matrix"],[ze.ITF,"itf"],[ze.EAN_13,"ean_13"],[ze.EAN_8,"ean_8"],[ze.PDF_417,"pdf417"],[ze.UPC_A,"upc_a"],[ze.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!d.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=g,this.logger=y;var E=this.createBarcodeDetectorFormats(h);if(this.detector=new BarcodeDetector(E),!this.detector)throw"BarcodeDetector detector not supported"}return d.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var h=new BarcodeDetector({formats:["qr_code"]});return typeof h<"u"},d.prototype.decodeAsync=function(h){return kp(this,void 0,void 0,function(){var g,y;return Lp(this,function(E){switch(E.label){case 0:return[4,this.detector.detect(h)];case 1:if(g=E.sent(),!g||g.length===0)throw"No barcode or QR code detected.";return y=this.selectLargestBarcode(g),[2,{text:y.rawValue,format:ug.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}]}})})},d.prototype.selectLargestBarcode=function(h){for(var g=null,y=0,E=0,w=h;E<w.length;E++){var N=w[E],R=N.boundingBox.width*N.boundingBox.height;R>y&&(y=R,g=N)}if(!g)throw"No largest barcode found";return g},d.prototype.createBarcodeDetectorFormats=function(h){for(var g=[],y=0,E=h;y<E.length;y++){var w=E[y];this.formatMap.has(w)?g.push(this.formatMap.get(w)):this.logger.warn("".concat(w," is not supported by")+"BarcodeDetectorDelegate")}return{formats:g}},d.prototype.toHtml5QrcodeSupportedFormats=function(h){if(!this.reverseFormatMap.has(h))throw"reverseFormatMap doesn't have ".concat(h);return this.reverseFormatMap.get(h)},d.prototype.createReverseFormatMap=function(){var h=new Map;return this.formatMap.forEach(function(g,y,E){h.set(g,y)}),h},d.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},d})(),vx=function(d,h,g,y){function E(w){return w instanceof g?w:new g(function(N){N(w)})}return new(g||(g=Promise))(function(w,N){function R(k){try{C(y.next(k))}catch(M){N(M)}}function _(k){try{C(y.throw(k))}catch(M){N(M)}}function C(k){k.done?w(k.value):E(k.value).then(R,_)}C((y=y.apply(d,h||[])).next())})},Sx=function(d,h){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,E,w,N;return N={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function R(C){return function(k){return _([C,k])}}function _(C){if(y)throw new TypeError("Generator is already executing.");for(;N&&(N=0,C[0]&&(g=0)),g;)try{if(y=1,E&&(w=C[0]&2?E.return:C[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,C[1])).done)return w;switch(E=0,w&&(C=[C[0]&2,w.value]),C[0]){case 0:case 1:w=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,E=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(C[0]===6||C[0]===2)){g=0;continue}if(C[0]===3&&(!w||C[1]>w[0]&&C[1]<w[3])){g.label=C[1];break}if(C[0]===6&&g.label<w[1]){g.label=w[1],w=C;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(C);break}w[2]&&g.ops.pop(),g.trys.pop();continue}C=h.call(d,g)}catch(k){C=[6,k],E=0}finally{y=w=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},jp=(function(){function d(h,g,y,E){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=y,g&&Ax.isSupported()?(this.primaryDecoder=new Ax(h,y,E),this.secondaryDecoder=new Cx(h,y,E)):this.primaryDecoder=new Cx(h,y,E)}return d.prototype.decodeAsync=function(h){return vx(this,void 0,void 0,function(){var g;return Sx(this,function(y){switch(y.label){case 0:g=performance.now(),y.label=1;case 1:return y.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(h)];case 2:return[2,y.sent()];case 3:return this.possiblyLogPerformance(g),[7];case 4:return[2]}})})},d.prototype.decodeRobustlyAsync=function(h){return vx(this,void 0,void 0,function(){var g,y;return Sx(this,function(E){switch(E.label){case 0:g=performance.now(),E.label=1;case 1:return E.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(h)];case 2:return[2,E.sent()];case 3:if(y=E.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(h)];throw y;case 4:return this.possiblyLogPerformance(g),[7];case 5:return[2]}})})},d.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},d.prototype.possiblyLogPerformance=function(h){if(this.verbose){var g=performance.now()-h;this.executionResults.push(g),this.executions++,this.possiblyFlushPerformanceReport()}},d.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var h=0,g=0,y=this.executionResults;g<y.length;g++){var E=y[g];h+=E}var w=h/this.executionResults.length;console.log("".concat(w," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},d})(),kf=(function(){var d=function(h,g){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(y[w]=E[w])},d(h,g)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");d(h,g);function y(){this.constructor=h}h.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),Qc=function(d,h,g,y){function E(w){return w instanceof g?w:new g(function(N){N(w)})}return new(g||(g=Promise))(function(w,N){function R(k){try{C(y.next(k))}catch(M){N(M)}}function _(k){try{C(y.throw(k))}catch(M){N(M)}}function C(k){k.done?w(k.value):E(k.value).then(R,_)}C((y=y.apply(d,h||[])).next())})},Kc=function(d,h){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,E,w,N;return N={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function R(C){return function(k){return _([C,k])}}function _(C){if(y)throw new TypeError("Generator is already executing.");for(;N&&(N=0,C[0]&&(g=0)),g;)try{if(y=1,E&&(w=C[0]&2?E.return:C[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,C[1])).done)return w;switch(E=0,w&&(C=[C[0]&2,w.value]),C[0]){case 0:case 1:w=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,E=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(C[0]===6||C[0]===2)){g=0;continue}if(C[0]===3&&(!w||C[1]>w[0]&&C[1]<w[3])){g.label=C[1];break}if(C[0]===6&&g.label<w[1]){g.label=w[1],w=C;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(C);break}w[2]&&g.ops.pop(),g.trys.pop();continue}C=h.call(d,g)}catch(k){C=[6,k],E=0}finally{y=w=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},dg=(function(){function d(h,g){this.name=h,this.track=g}return d.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},d.prototype.apply=function(h){var g={};g[this.name]=h;var y={advanced:[g]};return this.track.applyConstraints(y)},d.prototype.value=function(){var h=this.track.getSettings();if(this.name in h){var g=h[this.name];return g}return null},d})(),zp=(function(d){kf(h,d);function h(g,y){return d.call(this,g,y)||this}return h.prototype.min=function(){return this.getCapabilities().min},h.prototype.max=function(){return this.getCapabilities().max},h.prototype.step=function(){return this.getCapabilities().step},h.prototype.apply=function(g){var y={};y[this.name]=g;var E={advanced:[y]};return this.track.applyConstraints(E)},h.prototype.getCapabilities=function(){this.failIfNotSupported();var g=this.track.getCapabilities(),y=g[this.name];return{min:y.min,max:y.max,step:y.step}},h.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},h})(dg),Up=(function(d){kf(h,d);function h(g){return d.call(this,"zoom",g)||this}return h})(zp),Hp=(function(d){kf(h,d);function h(g){return d.call(this,"torch",g)||this}return h})(dg),Fp=(function(){function d(h){this.track=h}return d.prototype.zoomFeature=function(){return new Up(this.track)},d.prototype.torchFeature=function(){return new Hp(this.track)},d})(),Pp=(function(){function d(h,g,y){this.isClosed=!1,this.parentElement=h,this.mediaStream=g,this.callbacks=y,this.surface=this.createVideoElement(this.parentElement.clientWidth),h.append(this.surface)}return d.prototype.createVideoElement=function(h){var g=document.createElement("video");return g.style.width="".concat(h,"px"),g.style.display="block",g.muted=!0,g.setAttribute("muted","true"),g.playsInline=!0,g},d.prototype.setupSurface=function(){var h=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var g=function(){var y=h.surface.clientWidth,E=h.surface.clientHeight;h.callbacks.onRenderSurfaceReady(y,E),h.surface.removeEventListener("playing",g)};this.surface.addEventListener("playing",g),this.surface.srcObject=this.mediaStream,this.surface.play()},d.create=function(h,g,y,E){return Qc(this,void 0,void 0,function(){var w,N;return Kc(this,function(R){switch(R.label){case 0:return w=new d(h,g,E),y.aspectRatio?(N={aspectRatio:y.aspectRatio},[4,w.getFirstTrackOrFail().applyConstraints(N)]):[3,2];case 1:R.sent(),R.label=2;case 2:return w.setupSurface(),[2,w]}})})},d.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},d.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},d.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},d.prototype.resume=function(h){this.failIfClosed();var g=this,y=function(){setTimeout(h,200),g.surface.removeEventListener("playing",y)};this.surface.addEventListener("playing",y),this.surface.play()},d.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},d.prototype.getSurface=function(){return this.failIfClosed(),this.surface},d.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},d.prototype.applyVideoConstraints=function(h){return Qc(this,void 0,void 0,function(){return Kc(this,function(g){if("aspectRatio"in h)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(h)]})})},d.prototype.close=function(){if(this.isClosed)return Promise.resolve();var h=this;return new Promise(function(g,y){var E=h.mediaStream.getVideoTracks(),w=E.length,N=0;h.mediaStream.getVideoTracks().forEach(function(R){h.mediaStream.removeTrack(R),R.stop(),++N,N>=w&&(h.isClosed=!0,h.parentElement.removeChild(h.surface),g())})})},d.prototype.getCapabilities=function(){return new Fp(this.getFirstTrackOrFail())},d})(),Gp=(function(){function d(h){this.mediaStream=h}return d.prototype.render=function(h,g,y){return Qc(this,void 0,void 0,function(){return Kc(this,function(E){return[2,Pp.create(h,this.mediaStream,g,y)]})})},d.create=function(h){return Qc(this,void 0,void 0,function(){var g,y;return Kc(this,function(E){switch(E.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return g={audio:!1,video:h},[4,navigator.mediaDevices.getUserMedia(g)];case 1:return y=E.sent(),[2,new d(y)]}})})},d})(),Tx=function(d,h,g,y){function E(w){return w instanceof g?w:new g(function(N){N(w)})}return new(g||(g=Promise))(function(w,N){function R(k){try{C(y.next(k))}catch(M){N(M)}}function _(k){try{C(y.throw(k))}catch(M){N(M)}}function C(k){k.done?w(k.value):E(k.value).then(R,_)}C((y=y.apply(d,h||[])).next())})},Nx=function(d,h){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,E,w,N;return N={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function R(C){return function(k){return _([C,k])}}function _(C){if(y)throw new TypeError("Generator is already executing.");for(;N&&(N=0,C[0]&&(g=0)),g;)try{if(y=1,E&&(w=C[0]&2?E.return:C[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,C[1])).done)return w;switch(E=0,w&&(C=[C[0]&2,w.value]),C[0]){case 0:case 1:w=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,E=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(C[0]===6||C[0]===2)){g=0;continue}if(C[0]===3&&(!w||C[1]>w[0]&&C[1]<w[3])){g.label=C[1];break}if(C[0]===6&&g.label<w[1]){g.label=w[1],w=C;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(C);break}w[2]&&g.ops.pop(),g.trys.pop();continue}C=h.call(d,g)}catch(k){C=[6,k],E=0}finally{y=w=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},Vp=(function(){function d(){}return d.failIfNotSupported=function(){return Tx(this,void 0,void 0,function(){return Nx(this,function(h){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new d]})})},d.prototype.create=function(h){return Tx(this,void 0,void 0,function(){return Nx(this,function(g){return[2,Gp.create(h)]})})},d})(),Xp=function(d,h,g,y){function E(w){return w instanceof g?w:new g(function(N){N(w)})}return new(g||(g=Promise))(function(w,N){function R(k){try{C(y.next(k))}catch(M){N(M)}}function _(k){try{C(y.throw(k))}catch(M){N(M)}}function C(k){k.done?w(k.value):E(k.value).then(R,_)}C((y=y.apply(d,h||[])).next())})},Yp=function(d,h){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},y,E,w,N;return N={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function R(C){return function(k){return _([C,k])}}function _(C){if(y)throw new TypeError("Generator is already executing.");for(;N&&(N=0,C[0]&&(g=0)),g;)try{if(y=1,E&&(w=C[0]&2?E.return:C[0]?E.throw||((w=E.return)&&w.call(E),0):E.next)&&!(w=w.call(E,C[1])).done)return w;switch(E=0,w&&(C=[C[0]&2,w.value]),C[0]){case 0:case 1:w=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,E=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(C[0]===6||C[0]===2)){g=0;continue}if(C[0]===3&&(!w||C[1]>w[0]&&C[1]<w[3])){g.label=C[1];break}if(C[0]===6&&g.label<w[1]){g.label=w[1],w=C;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(C);break}w[2]&&g.ops.pop(),g.trys.pop();continue}C=h.call(d,g)}catch(k){C=[6,k],E=0}finally{y=w=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},qp=(function(){function d(){}return d.retrieve=function(){if(navigator.mediaDevices)return d.getCamerasFromMediaDevices();var h=MediaStreamTrack;return MediaStreamTrack&&h.getSources?d.getCamerasFromMediaStreamTrack():d.rejectWithError()},d.rejectWithError=function(){var h=ss.unableToQuerySupportedDevices();return d.isHttpsOrLocalhost()||(h=ss.insecureContextCameraQueryError()),Promise.reject(h)},d.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var h=location.host.split(":")[0];return h==="127.0.0.1"||h==="localhost"},d.getCamerasFromMediaDevices=function(){return Xp(this,void 0,void 0,function(){var h,g,y,E,w,N,R;return Yp(this,function(_){switch(_.label){case 0:return h=function(C){for(var k=C.getVideoTracks(),M=0,G=k;M<G.length;M++){var W=G[M];W.enabled=!1,W.stop(),C.removeTrack(W)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return g=_.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(y=_.sent(),E=[],w=0,N=y;w<N.length;w++)R=N[w],R.kind==="videoinput"&&E.push({id:R.deviceId,label:R.label});return h(g),[2,E]}})})},d.getCamerasFromMediaStreamTrack=function(){return new Promise(function(h,g){var y=function(w){for(var N=[],R=0,_=w;R<_.length;R++){var C=_[R];C.kind==="video"&&N.push({id:C.id,label:C.label})}h(N)},E=MediaStreamTrack;E.getSources(y)})},d})(),Sn;(function(d){d[d.UNKNOWN=0]="UNKNOWN",d[d.NOT_STARTED=1]="NOT_STARTED",d[d.SCANNING=2]="SCANNING",d[d.PAUSED=3]="PAUSED"})(Sn||(Sn={}));var Zp=(function(){function d(){this.state=Sn.NOT_STARTED,this.onGoingTransactionNewState=Sn.UNKNOWN}return d.prototype.directTransition=function(h){this.failIfTransitionOngoing(),this.validateTransition(h),this.state=h},d.prototype.startTransition=function(h){return this.failIfTransitionOngoing(),this.validateTransition(h),this.onGoingTransactionNewState=h,this},d.prototype.execute=function(){if(this.onGoingTransactionNewState===Sn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var h=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Sn.UNKNOWN,this.directTransition(h)},d.prototype.cancel=function(){if(this.onGoingTransactionNewState===Sn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Sn.UNKNOWN},d.prototype.getState=function(){return this.state},d.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Sn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},d.prototype.validateTransition=function(h){switch(this.state){case Sn.UNKNOWN:throw"Transition from unknown is not allowed";case Sn.NOT_STARTED:this.failIfNewStateIs(h,[Sn.PAUSED]);break;case Sn.SCANNING:break;case Sn.PAUSED:break}},d.prototype.failIfNewStateIs=function(h,g){for(var y=0,E=g;y<E.length;y++){var w=E[y];if(h===w)throw"Cannot transition from ".concat(this.state," to ").concat(h)}},d})(),Wp=(function(){function d(h){this.stateManager=h}return d.prototype.startTransition=function(h){return this.stateManager.startTransition(h)},d.prototype.directTransition=function(h){this.stateManager.directTransition(h)},d.prototype.getState=function(){return this.stateManager.getState()},d.prototype.canScanFile=function(){return this.stateManager.getState()===Sn.NOT_STARTED},d.prototype.isScanning=function(){return this.stateManager.getState()!==Sn.NOT_STARTED},d.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Sn.SCANNING},d.prototype.isPaused=function(){return this.stateManager.getState()===Sn.PAUSED},d})(),Qp=(function(){function d(){}return d.create=function(){return new Wp(new Zp)},d})(),Kp=(function(){var d=function(h,g){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,E){y.__proto__=E}||function(y,E){for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(y[w]=E[w])},d(h,g)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");d(h,g);function y(){this.constructor=h}h.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),zr=(function(d){Kp(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.DEFAULT_WIDTH=300,h.DEFAULT_WIDTH_OFFSET=2,h.FILE_SCAN_MIN_HEIGHT=300,h.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,h.MIN_QR_BOX_SIZE=50,h.SHADED_LEFT=1,h.SHADED_RIGHT=2,h.SHADED_TOP=3,h.SHADED_BOTTOM=4,h.SHADED_REGION_ELEMENT_ID="qr-shaded-region",h.VERBOSE=!1,h.BORDER_SHADER_DEFAULT_COLOR="#ffffff",h.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",h})(_p),Jp=(function(){function d(h,g){this.logger=g,this.fps=zr.SCAN_DEFAULT_FPS,h?(h.fps&&(this.fps=h.fps),this.disableFlip=h.disableFlip===!0,this.qrbox=h.qrbox,this.aspectRatio=h.aspectRatio,this.videoConstraints=h.videoConstraints):this.disableFlip=zr.DEFAULT_DISABLE_FLIP}return d.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?fg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},d.prototype.isShadedBoxEnabled=function(){return!li(this.qrbox)},d.create=function(h,g){return new d(h,g)},d})(),$p=(function(){function d(h,g){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(h))throw"HTML Element with id=".concat(h," not found");this.elementId=h,this.verbose=!1;var y;typeof g=="boolean"?this.verbose=g===!0:g&&(y=g,this.verbose=y.verbose===!0,y.experimentalFeatures),this.logger=new Op(this.verbose),this.qrcode=new jp(this.getSupportedFormats(g),this.getUseBarCodeDetectorIfSupported(y),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Qp.create()}return d.prototype.start=function(h,g,y,E){var w=this;if(!h)throw"cameraIdOrConfig is required";if(!y||typeof y!="function")throw"qrCodeSuccessCallback is required and should be a function.";var N;E?N=E:N=this.verbose?this.logger.log:function(){};var R=Jp.create(g,this.logger);this.clearElement();var _=!1;R.videoConstraints&&(R.isMediaStreamConstraintsValid()?_=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var C=_,k=document.getElementById(this.elementId);k.clientWidth?k.clientWidth:zr.DEFAULT_WIDTH,k.style.position="relative",this.shouldScan=!0,this.element=k;var M=this,G=this.stateManagerProxy.startTransition(Sn.SCANNING);return new Promise(function(W,se){var U=C?R.videoConstraints:M.createVideoConstraints(h);if(!U){G.cancel(),se("videoConstraints should be defined");return}var X={};(!C||R.aspectRatio)&&(X.aspectRatio=R.aspectRatio);var j={onRenderSurfaceReady:function(F,J){M.setupUi(F,J,R),M.isScanning=!0,M.foreverScan(R,y,N)}};Vp.failIfNotSupported().then(function(F){F.create(U).then(function(J){return J.render(w.element,X,j).then(function(oe){M.renderedCamera=oe,G.execute(),W(null)}).catch(function(oe){G.cancel(),se(oe)})}).catch(function(J){G.cancel(),se(ss.errorGettingUserMedia(J))})}).catch(function(F){G.cancel(),se(ss.cameraStreamingNotSupported())})})},d.prototype.pause=function(h){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Sn.PAUSED),this.showPausedState(),(li(h)||h!==!0)&&(h=!1),h&&this.renderedCamera&&this.renderedCamera.pause()},d.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var h=this,g=function(){h.stateManagerProxy.directTransition(Sn.SCANNING),h.hidePausedState()};if(!this.renderedCamera.isPaused()){g();return}this.renderedCamera.resume(function(){g()})},d.prototype.getState=function(){return this.stateManagerProxy.getState()},d.prototype.stop=function(){var h=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var g=this.stateManagerProxy.startTransition(Sn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var y=function(){if(h.element){var w=document.getElementById(zr.SHADED_REGION_ELEMENT_ID);w&&h.element.removeChild(w)}},E=this;return this.renderedCamera.close().then(function(){return E.renderedCamera=null,E.element&&(E.element.removeChild(E.canvasElement),E.canvasElement=null),y(),E.qrRegion&&(E.qrRegion=null),E.context&&(E.context=null),g.execute(),E.hidePausedState(),E.isScanning=!1,Promise.resolve()})},d.prototype.scanFile=function(h,g){return this.scanFileV2(h,g).then(function(y){return y.decodedText})},d.prototype.scanFileV2=function(h,g){var y=this;if(!h||!(h instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(li(g)&&(g=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(E,w){y.possiblyCloseLastScanImageFile(),y.clearElement(),y.lastScanImageFile=URL.createObjectURL(h);var N=new Image;N.onload=function(){var R=N.width,_=N.height,C=document.getElementById(y.elementId),k=C.clientWidth?C.clientWidth:zr.DEFAULT_WIDTH,M=Math.max(C.clientHeight?C.clientHeight:_,zr.FILE_SCAN_MIN_HEIGHT),G=y.computeCanvasDrawConfig(R,_,k,M);if(g){var W=y.createCanvasElement(k,M,"qr-canvas-visible");W.style.display="inline-block",C.appendChild(W);var se=W.getContext("2d");if(!se)throw"Unable to get 2d context from canvas";se.canvas.width=k,se.canvas.height=M,se.drawImage(N,0,0,R,_,G.x,G.y,G.width,G.height)}var U=zr.FILE_SCAN_HIDDEN_CANVAS_PADDING,X=Math.max(N.width,G.width),j=Math.max(N.height,G.height),F=X+2*U,J=j+2*U,oe=y.createCanvasElement(F,J);C.appendChild(oe);var be=oe.getContext("2d");if(!be)throw"Unable to get 2d context from canvas";be.canvas.width=F,be.canvas.height=J,be.drawImage(N,0,0,R,_,U,U,X,j);try{y.qrcode.decodeRobustlyAsync(oe).then(function(Q){E(wx.createFromQrcodeResult(Q))}).catch(w)}catch(Q){w("QR code parse error, error = ".concat(Q))}},N.onerror=w,N.onabort=w,N.onstalled=w,N.onsuspend=w,N.src=URL.createObjectURL(h)})},d.prototype.clear=function(){this.clearElement()},d.getCameras=function(){return qp.retrieve()},d.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},d.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},d.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},d.prototype.applyVideoConstraints=function(h){if(h){if(!fg.isMediaStreamConstraintsValid(h,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(h)},d.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},d.prototype.getSupportedFormats=function(h){var g=[ze.QR_CODE,ze.AZTEC,ze.CODABAR,ze.CODE_39,ze.CODE_93,ze.CODE_128,ze.DATA_MATRIX,ze.MAXICODE,ze.ITF,ze.EAN_13,ze.EAN_8,ze.PDF_417,ze.RSS_14,ze.RSS_EXPANDED,ze.UPC_A,ze.UPC_E,ze.UPC_EAN_EXTENSION];if(!h||typeof h=="boolean"||!h.formatsToSupport)return g;if(!Array.isArray(h.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(h.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var y=[],E=0,w=h.formatsToSupport;E<w.length;E++){var N=w[E];Np(N)?y.push(N):this.logger.warn("Invalid format: ".concat(N," passed in config, ignoring."))}if(y.length===0)throw"None of formatsToSupport match supported values.";return y},d.prototype.getUseBarCodeDetectorIfSupported=function(h){if(li(h))return!0;if(!li(h.useBarCodeDetectorIfSupported))return h.useBarCodeDetectorIfSupported!==!1;if(li(h.experimentalFeatures))return!0;var g=h.experimentalFeatures;return li(g.useBarCodeDetectorIfSupported)?!0:g.useBarCodeDetectorIfSupported!==!1},d.prototype.validateQrboxSize=function(h,g,y){var E=this,w=y.qrbox;this.validateQrboxConfig(w);var N=this.toQrdimensions(h,g,w),R=function(C){if(C<zr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(zr.MIN_QR_BOX_SIZE,"px.")},_=function(C){return C>h&&(E.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),C=h),C};R(N.width),R(N.height),N.width=_(N.width)},d.prototype.validateQrboxConfig=function(h){if(typeof h!="number"&&typeof h!="function"&&(h.width===void 0||h.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},d.prototype.toQrdimensions=function(h,g,y){if(typeof y=="number")return{width:y,height:y};if(typeof y=="function")try{return y(h,g)}catch(E){throw new Error("qrbox config was passed as a function but it failed with unknown error"+E)}return y},d.prototype.setupUi=function(h,g,y){y.isShadedBoxEnabled()&&this.validateQrboxSize(h,g,y);var E=li(y.qrbox)?{width:h,height:g}:y.qrbox;this.validateQrboxConfig(E);var w=this.toQrdimensions(h,g,E);w.height>g&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var N=y.isShadedBoxEnabled()&&w.height<=g,R={x:0,y:0,width:h,height:g},_=N?this.getShadedRegionBounds(h,g,w):R,C=this.createCanvasElement(_.width,_.height),k={willReadFrequently:!0},M=C.getContext("2d",k);M.canvas.width=_.width,M.canvas.height=_.height,this.element.append(C),N&&this.possiblyInsertShadingElement(this.element,h,g,w),this.createScannerPausedUiElement(this.element),this.qrRegion=_,this.context=M,this.canvasElement=C},d.prototype.createScannerPausedUiElement=function(h){var g=document.createElement("div");g.innerText=ss.scannerPaused(),g.style.display="none",g.style.position="absolute",g.style.top="0px",g.style.zIndex="1",g.style.background="rgba(9, 9, 9, 0.46)",g.style.color="#FFECEC",g.style.textAlign="center",g.style.width="100%",h.appendChild(g),this.scannerPausedUiElement=g},d.prototype.scanContext=function(h,g){var y=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(E){return h(E.text,wx.createFromQrcodeResult(E)),y.possiblyUpdateShaders(!0),!0}).catch(function(E){y.possiblyUpdateShaders(!1);var w=ss.codeParseError(E);return g(w,Ip.createFrom(w)),!1})},d.prototype.foreverScan=function(h,g,y){var E=this;if(this.shouldScan&&this.renderedCamera){var w=this.renderedCamera.getSurface(),N=w.videoWidth/w.clientWidth,R=w.videoHeight/w.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var _=this.qrRegion.width*N,C=this.qrRegion.height*R,k=this.qrRegion.x*N,M=this.qrRegion.y*R;this.context.drawImage(w,k,M,_,C,0,0,this.qrRegion.width,this.qrRegion.height);var G=function(){E.foreverScanTimeout=setTimeout(function(){E.foreverScan(h,g,y)},E.getTimeoutFps(h.fps))};this.scanContext(g,y).then(function(W){!W&&h.disableFlip!==!0?(E.context.translate(E.context.canvas.width,0),E.context.scale(-1,1),E.scanContext(g,y).finally(function(){G()})):G()}).catch(function(W){E.logger.logError("Error happend while scanning context",W),G()})}},d.prototype.createVideoConstraints=function(h){if(typeof h=="string")return{deviceId:{exact:h}};if(typeof h=="object"){var g="facingMode",y="deviceId",E={user:!0,environment:!0},w="exact",N=function(se){if(se in E)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(se,"'")},R=Object.keys(h);if(R.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(R.length," keys");var _=Object.keys(h)[0];if(_!==g&&_!==y)throw"Only '".concat(g,"' and '").concat(y,"' ")+" are supported for 'cameraIdOrConfig'";if(_===g){var C=h.facingMode;if(typeof C=="string"){if(N(C))return{facingMode:C}}else if(typeof C=="object")if(w in C){if(N(C["".concat(w)]))return{facingMode:{exact:C["".concat(w)]}}}else throw"'facingMode' should be string or object with"+" ".concat(w," as key.");else{var k=typeof C;throw"Invalid type of 'facingMode' = ".concat(k)}}else{var M=h.deviceId;if(typeof M=="string")return{deviceId:M};if(typeof M=="object"){if(w in M)return{deviceId:{exact:M["".concat(w)]}};throw"'deviceId' should be string or object with"+" ".concat(w," as key.")}else{var G=typeof M;throw"Invalid type of 'deviceId' = ".concat(G)}}}var W=typeof h;throw"Invalid type of 'cameraIdOrConfig' = ".concat(W)},d.prototype.computeCanvasDrawConfig=function(h,g,y,E){if(h<=y&&g<=E){var w=(y-h)/2,N=(E-g)/2;return{x:w,y:N,width:h,height:g}}else{var R=h,_=g;return h>y&&(g=y/h*g,h=y),g>E&&(h=E/g*h,g=E),this.logger.log("Image downsampled from "+"".concat(R,"X").concat(_)+" to ".concat(h,"X").concat(g,".")),this.computeCanvasDrawConfig(h,g,y,E)}},d.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var h=document.getElementById(this.elementId);h&&(h.innerHTML="")},d.prototype.possiblyUpdateShaders=function(h){this.qrMatch!==h&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(g){g.style.backgroundColor=h?zr.BORDER_SHADER_MATCH_COLOR:zr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=h)},d.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},d.prototype.createCanvasElement=function(h,g,y){var E=h,w=g,N=document.createElement("canvas");return N.style.width="".concat(E,"px"),N.style.height="".concat(w,"px"),N.style.display="none",N.id=li(y)?"qr-canvas":y,N},d.prototype.getShadedRegionBounds=function(h,g,y){if(y.width>h||y.height>g)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(h-y.width)/2,y:(g-y.height)/2,width:y.width,height:y.height}},d.prototype.possiblyInsertShadingElement=function(h,g,y,E){if(!(g-E.width<1||y-E.height<1)){var w=document.createElement("div");w.style.position="absolute";var N=(g-E.width)/2,R=(y-E.height)/2;if(w.style.borderLeft="".concat(N,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderRight="".concat(N,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderTop="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderBottom="".concat(R,"px solid rgba(0, 0, 0, 0.48)"),w.style.boxSizing="border-box",w.style.top="0px",w.style.bottom="0px",w.style.left="0px",w.style.right="0px",w.id="".concat(zr.SHADED_REGION_ELEMENT_ID),g-E.width<11||y-E.height<11)this.hasBorderShaders=!1;else{var _=5,C=40;this.insertShaderBorders(w,C,_,-_,null,0,!0),this.insertShaderBorders(w,C,_,-_,null,0,!1),this.insertShaderBorders(w,C,_,null,-_,0,!0),this.insertShaderBorders(w,C,_,null,-_,0,!1),this.insertShaderBorders(w,_,C+_,-_,null,-_,!0),this.insertShaderBorders(w,_,C+_,null,-_,-_,!0),this.insertShaderBorders(w,_,C+_,-_,null,-_,!1),this.insertShaderBorders(w,_,C+_,null,-_,-_,!1),this.hasBorderShaders=!0}h.append(w)}},d.prototype.insertShaderBorders=function(h,g,y,E,w,N,R){var _=document.createElement("div");_.style.position="absolute",_.style.backgroundColor=zr.BORDER_SHADER_DEFAULT_COLOR,_.style.width="".concat(g,"px"),_.style.height="".concat(y,"px"),E!==null&&(_.style.top="".concat(E,"px")),w!==null&&(_.style.bottom="".concat(w,"px")),R?_.style.left="".concat(N,"px"):_.style.right="".concat(N,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(_),h.appendChild(_)},d.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},d.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},d.prototype.getTimeoutFps=function(h){return 1e3/h},d})(),_x;(function(d){d[d.STATUS_DEFAULT=0]="STATUS_DEFAULT",d[d.STATUS_SUCCESS=1]="STATUS_SUCCESS",d[d.STATUS_WARNING=2]="STATUS_WARNING",d[d.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(_x||(_x={}));const eb=({onOpenSidebar:d,onNavigate:h,addToCart:g,cartItemCount:y})=>{const E=se=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(se),[w,N]=Ne.useState(()=>localStorage.getItem("falcon_product_filter")||""),[R,_]=Ne.useState([]),[C,k]=Ne.useState(!1),[M,G]=Ne.useState("");Ne.useEffect(()=>{Ar("falcon_product_filter",{value:w})},[w]),Ne.useEffect(()=>{const se=async()=>{const X=await pn("falcon_products_db");_(X)};se();const U=()=>se();return window.addEventListener("focus",U),()=>window.removeEventListener("focus",U)},[]),Ne.useEffect(()=>()=>{},[]);const W=Ne.useMemo(()=>R.filter(se=>se.name.toLowerCase().includes(w.toLowerCase())||se.category&&se.category.toLowerCase().includes(w.toLowerCase())||se.Codigo&&String(se.Codigo).toLowerCase().includes(w.toLowerCase())),[R,w]);return Ne.useEffect(()=>{if(C){G("");const se=new $p("barcode-scanner");let U=!1;return se.start({facingMode:"environment"},{fps:10,qrbox:280,formatsToSupport:[ze.EAN_13,ze.CODE_128,ze.EAN_8]},X=>{N(X),k(!1),U||(se.stop().then(()=>{const j=document.getElementById("barcode-scanner");j&&(j.innerHTML="")}),U=!0)},X=>{G("No foi possvel acessar a cmera ou ler o cdigo. Verifique as permisses e tente novamente.")}).catch(X=>{G("Erro ao iniciar a cmera: "+X)}),()=>{U||(se.stop().then(()=>{const X=document.getElementById("barcode-scanner");X&&(X.innerHTML="")}).catch(()=>{}),U=!0)}}},[C]),b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsxs("div",{className:"flex flex-col gap-2 bg-background-light dark:bg-background-dark p-4 pb-2 sticky top-0 z-10 shadow-sm lg:shadow-none",children:[b.jsxs("div",{className:"flex h-12 items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:d,className:"lg:hidden text-slate-900 dark:text-white",children:b.jsx("span",{className:"material-symbols-outlined text-3xl",children:"menu"})}),b.jsx("h1",{className:"text-3xl font-bold leading-tight tracking-tight text-slate-900 dark:text-white hidden lg:block",children:"Lista de Produtos"})]}),b.jsx("div",{className:"flex items-center justify-end",children:b.jsxs("button",{onClick:()=>h("shop"),className:"relative flex h-12 w-12 cursor-pointer items-center justify-center rounded-lg hover:bg-black/5 dark:hover:bg-white/10 transition-colors text-slate-900 dark:text-white",children:[b.jsx("span",{className:"material-symbols-outlined text-3xl",children:"shopping_cart"}),y>0&&b.jsx("span",{className:"absolute top-2 right-2 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white",children:y})]})})]}),b.jsx("p",{className:"text-3xl font-bold leading-tight tracking-tight text-slate-900 dark:text-white lg:hidden",children:"Lista de Produtos"})]}),b.jsxs("div",{className:"px-4 py-3 sticky top-[100px] lg:top-0 z-10 bg-background-light dark:bg-background-dark",children:[b.jsx("label",{className:"flex h-12 w-full flex-col",children:b.jsxs("div",{className:"flex h-full w-full flex-1 items-stretch rounded-xl shadow-sm relative",children:[b.jsx("div",{className:"flex items-center justify-center rounded-l-xl border-y border-l border-border-light dark:border-border-dark bg-white dark:bg-surface-dark/50 pl-4 text-slate-400 dark:text-slate-500",children:b.jsx("span",{className:"material-symbols-outlined",children:"search"})}),b.jsx("input",{className:"h-full min-w-0 flex-1 resize-none overflow-hidden rounded-r-xl border-y border-r border-border-light dark:border-border-dark bg-white dark:bg-surface-dark/50 px-4 text-base font-normal leading-normal text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-0",placeholder:"Buscar produtos...",value:w,onChange:se=>N(se.target.value)}),b.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark hover:text-primary",onClick:()=>k(!0),title:"Ler cdigo de barras",children:b.jsx("span",{className:"material-symbols-outlined",children:"photo_camera"})})]})}),C&&b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 flex items-center justify-center",children:b.jsxs("div",{className:"bg-white dark:bg-surface-dark rounded-lg p-6 shadow-lg relative",children:[b.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-red-600",onClick:()=>k(!1),title:"Fechar",children:b.jsx("span",{className:"material-symbols-outlined",children:"close"})}),b.jsx("div",{id:"barcode-scanner",style:{width:320,height:240}}),b.jsx("p",{className:"mt-2 text-center text-sm",children:"Aponte a cmera para o cdigo de barras"}),M&&b.jsx("p",{className:"mt-2 text-center text-sm text-red-600",children:M})]})})]}),b.jsx("div",{className:"p-4 pb-24",children:b.jsx($2,{style:{height:600},className:"custom-scrollbar",totalCount:W.length,itemContent:se=>{const U=W[se];return b.jsxs("div",{className:"flex items-stretch justify-between gap-4 rounded-xl bg-white dark:bg-surface-dark/50 p-4 shadow-sm hover:shadow-md transition-shadow",style:{height:130},children:[b.jsxs("div",{className:"flex flex-[2_2_0px] flex-col h-full",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("p",{className:"text-base font-bold leading-tight text-slate-500 dark:text-slate-400",children:U.name}),b.jsx("p",{className:"text-base font-bold leading-normal text-slate-900 text-blue-600 dark:text-slate-200",children:E(U.price)})]}),b.jsx("div",{className:"mt-auto",children:b.jsx("button",{onClick:()=>g(U),className:"flex h-10 items-center justify-center overflow-hidden rounded-lg bg-primary px-4 text-sm font-medium leading-normal text-white hover:bg-blue-600 transition-colors active:scale-95",children:b.jsx("span",{className:"truncate",children:"Adicionar ao Carrinho"})})})]}),U.image?b.jsx("div",{className:"aspect-square w-24 sm:w-32 lg:w-40 flex-shrink-0 rounded-lg bg-cover bg-center bg-no-repeat bg-gray-200 dark:bg-gray-800",style:{backgroundImage:`url('${U.image}')`},"aria-label":U.name}):b.jsx("div",{className:"aspect-square w-24 sm:w-32 lg:w-40 flex-shrink-0 rounded-lg bg-gray-200 dark:bg-gray-800 flex items-center justify-center",children:b.jsx("span",{className:"material-symbols-outlined text-5xl text-gray-400",children:"image_not_supported"})})]},U.id)}})})]})},tb=({cart:d,updateQuantity:h,onNavigate:g,onBack:y,onCancel:E,editingOrder:w})=>{const N=d.reduce((U,X)=>U+X.price*X.quantity,0),R=d.reduce((U,X)=>U+X.quantity,0),[_,C]=Le.useState({}),k=U=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U),M=U=>{C(X=>{var j;return{...X,[U]:{active:!0,value:((j=X[U])==null?void 0:j.value)||""}}})},G=U=>{C(X=>{var F;return((F=X[U])==null?void 0:F.value)||""?X:{...X,[U]:{active:!1,value:""}}})},W=(U,X)=>{const j=X.replace(/[^0-9.,]/g,"");C(F=>({...F,[U]:{active:!0,value:j}}))},se=U=>{const X=_[U.id];if(X&&X.value!==""){const j=parseFloat(X.value.replace(",","."));!isNaN(j)&&j>0&&(h(U.id,j-U.quantity),C(F=>({...F,[U.id]:{active:!1,value:""}})))}};return b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsxs("header",{className:"flex items-center justify-between p-4 bg-background-light dark:bg-background-dark border-b border-border-light dark:border-border-dark sticky top-0 z-10",children:[b.jsx("button",{onClick:y,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:b.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),b.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white flex-1 text-center pr-12",children:w?`Editando Pedido #${w.id}`:"Carrinho"}),w?b.jsx("button",{onClick:E,className:"text-red-500 font-medium text-sm hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1 rounded-lg transition-colors",children:"Cancelar"}):b.jsxs("button",{className:"relative text-slate-800 dark:text-white p-1",children:[b.jsx("span",{className:"material-symbols-outlined",children:"shopping_cart"}),R>0&&b.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold w-4 h-4 rounded-full flex items-center justify-center",children:R})]})]}),b.jsx("main",{className:"flex-grow overflow-y-auto p-4 space-y-4 pb-24",children:d.length===0?b.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-500 dark:text-slate-400",children:[b.jsx("span",{className:"material-symbols-outlined text-6xl mb-4",children:"remove_shopping_cart"}),b.jsx("p",{children:"Seu carrinho est vazio."}),b.jsx("button",{onClick:()=>g("productList"),className:"mt-4 text-primary font-medium hover:underline",children:"Navegar nos Produtos"})]}):d.map(U=>{const X=_[U.id]||{active:!1,value:""};let j=U.quantity;return typeof j=="number"&&(j=j.toString().replace(".",",")),(X.active&&X.value||!X.active&&X.value)&&(j=X.value),b.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg flex items-center space-x-4 shadow-sm",children:[U.image?b.jsx("img",{src:U.image,alt:U.name,className:"w-20 h-20 object-cover rounded-md flex-shrink-0 bg-slate-200 dark:bg-slate-700"}):b.jsx("div",{className:"w-20 h-20 rounded-md flex-shrink-0 bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:b.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"image_not_supported"})}),b.jsxs("div",{className:"flex-grow min-w-0",children:[b.jsx("h2",{className:"font-semibold text-slate-500 dark:text-slate-400",children:U.name}),b.jsx("p",{className:"text-lg text-slate-900 text-blue-600 dark:text-slate-200 font-medium",children:k(U.price)}),b.jsxs("div",{className:"flex items-center mt-2",children:[b.jsxs("div",{className:"flex items-center space-x-3",children:[X.active?null:b.jsx("button",{onClick:()=>h(U.id,-1),className:"w-7 h-7 flex items-center justify-center bg-slate-100 dark:bg-slate-700 rounded-full text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600",children:b.jsx("span",{className:"material-symbols-outlined text-base",children:"remove"})}),b.jsx("span",{className:"font-medium text-slate-900 dark:text-white min-w-[2.5rem] text-center mr-2",children:j}),b.jsx("button",{onClick:()=>{X.active&&X.value!==""?se(U):h(U.id,1)},className:"w-7 h-7 flex items-center justify-center bg-primary text-white rounded-full hover:bg-blue-600",children:b.jsx("span",{className:"material-symbols-outlined text-base",children:"add"})}),b.jsx("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",value:X.value,onFocus:()=>M(U.id),onBlur:()=>G(U.id),onChange:F=>W(U.id,F.target.value),placeholder:"Qtd.",className:"w-20 px-2 py-1 rounded border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark text-slate-900 dark:text-white text-sm ml-2",style:{textAlign:"center"}})]}),b.jsx("button",{onClick:()=>h(U.id,-U.quantity),className:"w-7 h-7 flex items-center justify-center bg-red-100 dark:bg-red-700 rounded-full text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-600 ml-auto",title:"Remover item",children:b.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"})})]})]})]},U.id)})}),d.length>0&&b.jsxs("footer",{className:"p-4 bg-white dark:bg-background-dark border-t border-border-light dark:border-border-dark sticky bottom-16 lg:bottom-0",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Subtotal"}),b.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white",children:k(N)})]}),b.jsx("button",{onClick:()=>g("checkout"),className:"w-full bg-primary text-white font-bold py-3 rounded-lg text-center hover:bg-blue-600 transition-colors shadow-lg shadow-primary/20",children:"Ir para o Pagamento"})]})]})},Ix=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),nb=({cart:d,onBack:h,onComplete:g,editingOrder:y})=>{const E=d.reduce((W,se)=>W+se.price*se.quantity,0),w=E,N=Ne.useRef(null),R=Ne.useRef(null),_=Ne.useRef(null),C=Ne.useRef(null),[k,M]=Le.useState("Nenhum");Ne.useEffect(()=>{if(y&&(N.current&&(N.current.value=y.customer||""),R.current&&(R.current.value=y.address||""),_.current&&(_.current.value=y.city||""),C.current&&(C.current.value=y.cep||""),y.formaPagamento)){const W=["Nenhum","Dinheiro","Carto","Pix"].find(se=>se.toLowerCase()===(y.formaPagamento||"").toLowerCase());W&&M(W)}},[y]);const G=()=>{var j,F,J,oe;const W=((j=N.current)==null?void 0:j.value)||"",se=((F=R.current)==null?void 0:F.value)||"",U=((J=_.current)==null?void 0:J.value)||"",X=((oe=C.current)==null?void 0:oe.value)||"";g({customer:W,address:se,city:U,cep:X,paymentMethod:k,status:"Pendente"})};return b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsxs("header",{className:"sticky top-0 z-10 flex items-center justify-between px-4 py-3 bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark shadow-sm",children:[b.jsx("button",{onClick:h,className:"text-slate-900 dark:text-white p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full",children:b.jsx("span",{className:"material-symbols-outlined",children:"arrow_back_ios_new"})}),b.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:y?"Editar Pedido":"Pagamento"}),b.jsx("div",{className:"w-8"})]}),b.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24",children:[b.jsxs("section",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4 text-slate-900 dark:text-white",children:"Resumo do Pedido"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between text-text-secondary-light dark:text-text-secondary-dark",children:[b.jsx("span",{children:"Subtotal"}),b.jsx("span",{className:"text-slate-900 dark:text-white",children:Ix(E)})]}),b.jsx("div",{className:"border-t border-border-light dark:border-border-dark my-3"}),b.jsxs("div",{className:"flex justify-between font-bold text-slate-900 dark:text-white text-lg",children:[b.jsx("span",{children:"Total"}),b.jsx("span",{children:Ix(w)})]})]})]}),b.jsxs("section",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Endereo de Entrega"}),b.jsx("button",{className:"text-primary text-sm font-medium hover:underline",children:"Alterar"})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsx("input",{ref:N,className:"w-full bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Nome Completo",defaultValue:""}),b.jsx("input",{ref:R,className:"w-full bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Endereo",defaultValue:""}),b.jsxs("div",{className:"flex space-x-3",children:[b.jsx("input",{ref:_,className:"w-1/2 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"Cidade",defaultValue:""}),b.jsx("input",{ref:C,className:"w-1/2 bg-background-light dark:bg-background-dark border border-border-light dark:border-border-dark rounded-md text-slate-900 dark:text-white placeholder-text-secondary-light dark:placeholder-text-secondary-dark focus:ring-2 focus:ring-primary focus:border-primary p-3 outline-none",placeholder:"CEP",defaultValue:""})]})]})]}),b.jsxs("section",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm",children:[b.jsx("h2",{className:"text-lg font-semibold mb-4 text-slate-900 dark:text-white",children:"Forma de Pagamento"}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[b.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Nenhum",checked:k==="Nenhum",onChange:()=>M("Nenhum")}),b.jsx("span",{className:"material-symbols-outlined mx-3 text-text-secondary-light dark:text-text-secondary-dark",children:"block"}),b.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Nenhum"})]}),b.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[b.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Dinheiro",checked:k==="Dinheiro",onChange:()=>M("Dinheiro")}),b.jsx("span",{className:"material-symbols-outlined mx-3 text-green-500",children:"attach_money"}),b.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Dinheiro"})]}),b.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[b.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Carto",checked:k==="Carto",onChange:()=>M("Carto")}),b.jsx("span",{className:"material-symbols-outlined mx-3 text-blue-500",children:"credit_card"}),b.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Carto"})]}),b.jsxs("label",{className:"flex items-center p-3 border border-border-light dark:border-border-dark rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors has-[:checked]:border-primary has-[:checked]:ring-1 has-[:checked]:ring-primary",children:[b.jsx("input",{className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 dark:border-gray-600 bg-white dark:bg-background-dark",name:"payment",type:"radio",value:"Pix",checked:k==="Pix",onChange:()=>M("Pix")}),b.jsx("span",{className:"material-symbols-outlined mx-3 text-purple-500",children:"qr_code_2"}),b.jsx("span",{className:"flex-1 text-slate-900 dark:text-white font-medium",children:"Pix"})]})]})]}),b.jsx("div",{className:"pt-2",children:b.jsx("button",{onClick:G,className:"w-full bg-primary text-white font-bold py-3 rounded-lg text-lg shadow-md hover:bg-blue-600 transition-colors duration-200 active:scale-95",children:"Finalizar Pedido"})})]})]})},rb={avatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuCmtYBGg27cUA8Az6-R5ao1qFDVklEQMZSu2fF-mjGQ6Rr48DEO2WTkscl3GByvyCA3T6zJAL2DO1oddajH8uwx7s32K3OmUCO935ZQROKdM_da1NlVg6WIWQhKopw7kLBb7YAn7og5GJUU3YFQiaH9VoPoctFBDRcN4phQQYQXjJjmjdouDTt-6SIN_b8pL_Zn37l8GbBT-A0eoneiBi3PHQkHXVlKGPaFkP17AGplUvr2RJ0aBklgK22cz23EgSsOVavWYGKlnD4K"},Ox=[{id:"1",sender:"Diana",avatar:"https://lh3.googleusercontent.com/aida-public/AB6AXuAy54Q84nDigdhGJjVgDtj8HFCehcjGm53oMv-H4UIjkjdy5J5QdBz90VK09S-6luF1QkrNq0X5WBpki9oSQWtbS2vWc4so_Atf1J9Vq3zXw7-sBvWIwtG1XjlgxNRSO7mcpEqBO1-c-r8IxFZiAhUTbmaVtKhHqDBGPu1pMnHF0WW8vaCxOW37iY58bjT6iP03IRJjey0EyyKAQg2w6w1K4rgzSZ8vHaqfdBWfRr_nXt7QRDjFgOeTphkrN5iIU5lKAyBmbZDExYe7",date:"26 Mar",subject:"Resumo Dirio de Trabalho",preview:"E eles provavelmente faro muito estrago em um...",isUnread:!0,isStarred:!0},{id:"2",sender:"Equipe Unsplash",avatar:"",date:"25 Mar",subject:"Participe do Dia Internacional da Mulher",preview:"Junte-se a ns para celebrar...",isUnread:!0,isStarred:!1,labels:[{text:"Inverno",icon:"photo_camera",colorClass:"bg-red-100 text-red-700 dark:bg-red-900/50 dark:text-red-400"},{text:"Caf",icon:"coffee",colorClass:"bg-orange-100 text-orange-700 dark:bg-orange-900/50 dark:text-orange-400"}]},{id:"3",sender:"Goodreads",avatar:"",date:"05 Mar",subject:"Newsletter Goodreads: 5 de Maro",preview:"Os livros mais aguardados da primavera...",isUnread:!0,isStarred:!1},{id:"4",sender:"GitHub",avatar:"",date:"11:50",subject:"[GitHub] Inscrito em tech/photogallery",preview:"Voc foi inscrito em...",isUnread:!1,isStarred:!0},{id:"5",sender:"Coursera",avatar:"",date:"03 Mar",subject:"Recomendado: Desenvolvimento Server-side",preview:"Melhore suas habilidades com este curso...",isUnread:!1,isStarred:!1}],ab=({onOpenSidebar:d})=>b.jsxs("div",{className:"flex flex-col h-screen bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-200",children:[b.jsxs("header",{className:"p-4 flex items-center justify-between border-b border-border-light dark:border-border-dark sticky top-0 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm z-10",children:[b.jsx("button",{onClick:d,className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800",children:b.jsx("span",{className:"material-symbols-outlined text-slate-600 dark:text-slate-400",children:"menu"})}),b.jsx("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-100",children:"Caixa de Entrada"}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx("button",{className:"p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-800",children:b.jsx("span",{className:"material-symbols-outlined text-slate-600 dark:text-slate-400",children:"add_circle"})}),b.jsx("img",{alt:"User avatar",className:"h-8 w-8 rounded-full border border-border-dark",src:rb.avatar})]})]}),b.jsxs("main",{className:"flex-1 p-4 space-y-6 overflow-y-auto pb-24",children:[b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 dark:text-slate-500",children:"search"}),b.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-surface-dark border-transparent focus:border-primary focus:ring-primary rounded-lg text-slate-800 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 shadow-sm",placeholder:"Buscar e-mails...",type:"text"})]}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xs font-bold uppercase text-slate-400 dark:text-slate-500 mb-3 px-2",children:"No Lidos"}),b.jsx("div",{className:"bg-white dark:bg-surface-dark/50 rounded-lg shadow-sm divide-y divide-border-light dark:divide-border-dark",children:Ox.filter(h=>h.isUnread).map(h=>b.jsxs("div",{className:"flex items-start p-4 hover:bg-gray-50 dark:hover:bg-slate-800/80 transition-colors cursor-pointer",children:[h.avatar?b.jsx("img",{alt:h.sender,className:"h-10 w-10 rounded-full mr-4 object-cover",src:h.avatar}):b.jsx("div",{className:"w-10 h-10 mr-4 flex-shrink-0 bg-black dark:bg-white/10 rounded-full flex items-center justify-center",children:b.jsx("span",{className:"text-white font-bold",children:h.sender[0]})}),b.jsxs("div",{className:"flex-grow min-w-0",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 truncate",children:h.sender}),b.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0 ml-2",children:h.date})]}),b.jsx("p",{className:`text-sm ${h.labels?"font-semibold text-primary":"text-slate-600 dark:text-slate-300"} truncate`,children:h.subject}),h.labels&&b.jsx("div",{className:"mt-2 flex items-center gap-2",children:h.labels.map((g,y)=>b.jsxs("span",{className:`text-xs px-2 py-1 rounded-full flex items-center gap-1 ${g.colorClass}`,children:[b.jsx("span",{className:"material-symbols-outlined !text-sm",children:g.icon})," ",g.text]},y))}),!h.labels&&b.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 truncate",children:h.preview})]}),b.jsx("span",{className:`material-symbols-outlined ml-4 flex-shrink-0 ${h.isStarred?"filled text-amber-500":"text-slate-300"}`,children:"star"})]},h.id))})]}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xs font-bold uppercase text-slate-400 dark:text-slate-500 mb-3 px-2",children:"Outros"}),b.jsx("div",{className:"bg-white dark:bg-surface-dark/50 rounded-lg shadow-sm divide-y divide-border-light dark:divide-border-dark",children:Ox.filter(h=>!h.isUnread).map(h=>b.jsxs("div",{className:"flex items-center p-4 hover:bg-gray-50 dark:hover:bg-slate-800/80 transition-colors cursor-pointer",children:[b.jsx("div",{className:`w-10 h-10 mr-4 flex-shrink-0 rounded-full flex items-center justify-center text-white font-bold ${h.sender==="Goodreads"?"bg-amber-900":h.sender==="Coursera"?"bg-blue-600":"bg-gray-700"}`,children:h.sender[0]}),b.jsxs("div",{className:"flex-grow min-w-0",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{className:"font-bold text-slate-800 dark:text-slate-100 truncate",children:h.sender}),b.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400 flex-shrink-0 ml-2",children:h.date})]}),b.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 truncate",children:h.subject}),b.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 truncate",children:h.preview})]}),b.jsx("span",{className:`material-symbols-outlined ml-4 flex-shrink-0 ${h.isStarred?"filled text-amber-500":"text-slate-300 dark:text-slate-600"}`,children:"star"})]},h.id))})]})]})]}),ib=({onBack:d,onProductAdded:h})=>{const[g,y]=Ne.useState(!1),[E,w]=Ne.useState(null),[N,R]=Ne.useState(""),[_,C]=Ne.useState(""),[k,M]=Ne.useState(""),[G,W]=Ne.useState(""),[se,U]=Ne.useState(""),[X,j]=Ne.useState(1),F=oe=>{var Q;const be=(Q=oe.target.files)==null?void 0:Q[0];if(be){const D=new window.Image,ee=new FileReader;ee.onload=K=>{var de;D.src=(de=K.target)==null?void 0:de.result,D.onload=()=>{const pe=document.createElement("canvas"),xe=Math.min(800/D.width,800/D.height,1);pe.width=D.width*xe,pe.height=D.height*xe;const V=pe.getContext("2d");if(V){V.drawImage(D,0,0,pe.width,pe.height);const Z=pe.toDataURL("image/jpeg",X);w(Z)}}},ee.readAsDataURL(be)}},J=()=>{if(!N||!k)return alert("Preencha todos os campos obrigatrios!");pn("falcon_products_db").then(oe=>{let be=se;if(!be){const D=oe.map(ee=>Number(ee.Codigo)).filter(ee=>!isNaN(ee));be=D.length>0?String(Math.max(...D)+1):"1"}const Q={id:Date.now().toString(),name:N,description:_,price:parseFloat(k.replace(",",".")),image:E||"",category:"",status:"Ativo",stock:G?parseInt(G):0,Codigo:be,syncStatus:"novo"};Ar("falcon_products_db",Q).then(()=>{h&&h(Q),d()})})};return b.jsxs("div",{className:"relative flex flex-col h-full bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display",children:[b.jsxs("div",{className:"sticky top-0 z-10 flex items-center bg-white dark:bg-background-dark p-4 pb-2 justify-between border-b border-border-light dark:border-border-dark",children:[b.jsx("button",{onClick:d,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:b.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),b.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Cadastrar Produto"})]}),b.jsx("main",{className:"flex-grow px-4 overflow-y-auto pb-36",children:b.jsxs("div",{className:"flex flex-col gap-4 py-3 max-w-2xl mx-auto",children:[b.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Cdigo"}),b.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Deixe vazio para gerar automaticamente",value:se,onChange:oe=>U(oe.target.value)})]}),b.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Nome"}),b.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"ex: Fones de Ouvido Sem Fio",value:N,onChange:oe=>R(oe.target.value)})]}),b.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Descrio"}),b.jsx("textarea",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary min-h-36 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Insira as principais caractersticas e detalhes...",value:_,onChange:oe=>C(oe.target.value)})]}),b.jsxs("div",{className:"flex w-full flex-wrap items-end gap-4",children:[b.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Preo"}),b.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",inputMode:"decimal",placeholder:"ex: R$ 299.99",type:"text",value:k,onChange:oe=>M(oe.target.value)})]}),b.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Quantidade em Estoque"}),b.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",inputMode:"numeric",placeholder:"ex: 50",type:"number",value:G,onChange:oe=>W(oe.target.value)})]})]}),b.jsxs("div",{className:"pt-4 pb-2",children:[b.jsx("h3",{className:"text-white text-lg font-bold leading-tight tracking-[-0.015em] pb-2",children:"Imagens do Produto"}),b.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[b.jsx("span",{className:"text-sm text-white",children:"Qualidade da foto:"}),b.jsxs("select",{value:X,onChange:oe=>j(Number(oe.target.value)),className:"rounded px-2 py-1 bg-surface-dark text-white border border-border-dark",children:[b.jsx("option",{value:.5,children:"Baixa"}),b.jsx("option",{value:.7,children:"Mdia"}),b.jsx("option",{value:1,children:"Alta"})]})]}),b.jsx("div",{className:"flex items-center gap-3 mb-3",children:b.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-primary text-white cursor-pointer hover:bg-blue-700 transition-colors",children:[b.jsx("span",{className:"material-symbols-outlined text-xl",children:"photo_camera"}),b.jsx("span",{className:"text-sm font-medium",children:"Tirar Foto"}),b.jsx("input",{type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:F})]})}),b.jsx("div",{className:"flex items-center justify-center w-full",children:b.jsxs("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-border-dark border-dashed rounded-xl cursor-pointer bg-surface-dark hover:bg-primary/10 hover:border-primary transition-all group",children:[b.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[b.jsx("span",{className:"material-symbols-outlined text-text-secondary-dark text-4xl mb-2 group-hover:text-primary transition-colors",children:"add_photo_alternate"}),b.jsx("p",{className:"mb-2 text-sm text-text-secondary-dark",children:b.jsx("span",{className:"font-semibold",children:"Toque para adicionar fotos"})}),b.jsx("p",{className:"text-xs text-text-secondary-dark",children:"PNG, JPG ou GIF"})]}),b.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",accept:"image/*",onChange:F})]})}),E&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex flex-col items-center mt-4 gap-2",children:[b.jsx("img",{src:E,alt:"Preview",className:"h-24 w-24 rounded-lg object-cover border border-border-dark"}),b.jsxs("div",{className:"flex gap-3 mt-2",children:[b.jsxs("button",{type:"button",onClick:()=>y(!0),className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-slate-700 dark:text-white hover:bg-primary/10",children:[b.jsx("span",{className:"material-symbols-outlined text-base",children:"visibility"}),b.jsx("span",{className:"text-xs",children:"Visualizar"})]}),b.jsxs("label",{className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-slate-700 dark:text-white cursor-pointer hover:bg-primary/10",children:[b.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"}),b.jsx("span",{className:"text-xs",children:"Alterar"}),b.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:F})]}),b.jsxs("button",{type:"button",onClick:()=>w(null),className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-100 dark:bg-gray-800 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/20",children:[b.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"}),b.jsx("span",{className:"text-xs",children:"Remover"})]})]})]}),g&&b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70",children:b.jsxs("div",{className:"bg-white dark:bg-background-dark rounded-lg p-4 shadow-lg flex flex-col items-center",children:[b.jsx("img",{src:E,alt:"Visualizao",className:"w-[90vw] h-[80vh] rounded-lg object-contain border border-border-dark"}),b.jsx("button",{onClick:()=>y(!1),className:"mt-4 px-4 py-2 rounded bg-primary text-white font-medium hover:bg-blue-700",children:"Fechar"})]})})]})]})]})}),b.jsx("footer",{className:"fixed bottom-16 left-0 w-full bg-white dark:bg-background-dark p-4 pt-2 pb-6 border-t border-border-light dark:border-border-dark z-40 lg:static lg:bg-transparent lg:border-none",children:b.jsx("button",{onClick:J,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95 max-w-2xl mx-auto",children:"Salvar Produto"})})]})},lb=({onBack:d})=>{const[h,g]=Ne.useState(""),[y,E]=Ne.useState(""),[w,N]=Ne.useState(""),[R,_]=Ne.useState(""),[C,k]=Ne.useState(""),[M,G]=Ne.useState({}),[W,se]=Ne.useState(!0);Ne.useEffect(()=>{(async()=>{const F=await pn("falcon_user_logged");if(F&&F.length>0){const J=F[0];G(J),g(J.Avatar||""),E(J.Nome||""),N(J.Email||""),_(J.Telefone||""),k(J.Bio||"")}se(!1)})()},[]);const U=j=>{var J;const F=(J=j.target.files)==null?void 0:J[0];if(F){const oe=new FileReader;oe.onload=be=>{var Q;g((Q=be.target)==null?void 0:Q.result)},oe.readAsDataURL(F)}},X=()=>{const j={...M,Avatar:h,Nome:y,Email:w,Telefone:R,Bio:C};Ar("falcon_user_logged",j).then(()=>{Ar("falcon_users_db",j).then(()=>{d()})})};return W?b.jsx("div",{style:{color:"white",textAlign:"center",marginTop:40},children:"Carregando..."}):b.jsxs("div",{className:"relative flex flex-col h-full bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display",children:[b.jsxs("div",{className:"sticky top-0 z-10 flex items-center bg-white dark:bg-background-dark p-4 pb-2 justify-between border-b border-border-light dark:border-border-dark",children:[b.jsx("button",{onClick:d,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:b.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),b.jsx("h2",{className:"text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12",children:"Editar Perfil"})]}),b.jsx("main",{className:"flex-grow px-4 overflow-y-auto pb-24",children:b.jsxs("div",{className:"flex flex-col gap-4 py-3 max-w-2xl mx-auto",children:[b.jsx("div",{className:"flex flex-col items-center justify-center py-4",children:b.jsxs("div",{className:"relative group cursor-pointer",children:[b.jsx("img",{alt:"User profile picture",className:"h-28 w-28 rounded-full object-cover border-4 border-surface-dark",src:h||"https://ui-avatars.com/api/?name="+encodeURIComponent(y)}),b.jsxs("label",{className:"absolute bottom-0 right-0 flex h-8 w-8 items-center justify-center rounded-full border-2 border-background-dark bg-primary text-white hover:scale-110 transition-transform cursor-pointer",children:[b.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"}),b.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:U})]})]})}),b.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Nome Completo"}),b.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Digite seu nome completo",value:y,onChange:j=>E(j.target.value)})]}),b.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"E-mail"}),b.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Digite seu e-mail",type:"email",value:w,onChange:j=>N(j.target.value)})]}),b.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Telefone"}),b.jsx("input",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary h-14 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Digite seu telefone",type:"tel",value:R,onChange:j=>_(j.target.value)})]}),b.jsxs("label",{className:"flex flex-col min-w-40 flex-1",children:[b.jsx("p",{className:"text-white text-base font-medium leading-normal pb-2",children:"Biografia"}),b.jsx("textarea",{className:"flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-border-light dark:border-border-dark bg-surface-light dark:bg-surface-dark focus:border-primary min-h-28 placeholder:text-text-secondary-light dark:placeholder:text-text-secondary-dark p-[15px] text-base font-normal leading-normal transition-all",placeholder:"Conte um pouco sobre voc...",value:C,onChange:j=>k(j.target.value)})]})]})}),b.jsx("footer",{className:"fixed bottom-16 left-0 w-full bg-white dark:bg-background-dark p-4 pt-2 pb-6 border-t border-border-light dark:border-border-dark z-40 lg:static lg:bg-transparent lg:border-none",children:b.jsx("button",{onClick:X,className:"flex h-14 w-full items-center justify-center gap-x-2 rounded-xl bg-primary px-4 py-2.5 text-base font-semibold text-white shadow-sm transition-all hover:bg-blue-600 active:scale-95 max-w-2xl mx-auto",children:"Salvar Alteraes"})})]})},sb=({onOpenSidebar:d,onNavigate:h})=>{const[g,y]=Ne.useState([]);Ne.useEffect(()=>{const ne=async()=>{const we=await pn("falcon_products_db");y(we)};ne();const Ue=()=>ne();return window.addEventListener("focus",Ue),()=>window.removeEventListener("focus",Ue)},[]);const[E,w]=Ne.useState("Todos"),[N,R]=Ne.useState("Todos"),[_,C]=Ne.useState(""),[k,M]=Ne.useState(null),[G,W]=Ne.useState(null),[se,U]=Ne.useState(""),[X,j]=Ne.useState(""),[F,J]=Ne.useState(""),[oe,be]=Ne.useState("Ativo"),[Q,D]=Ne.useState(""),[ee,K]=Ne.useState(""),[de,pe]=Ne.useState(!1),[me,Re]=Ne.useState(!1),[xe,V]=Ne.useState(null);Ne.useEffect(()=>{pn("falcon_user_logged").then(ne=>{V(ne&&ne.length>0?ne[0]:null)})},[]);const Z=Ne.useMemo(()=>["Todos",...Array.from(new Set(g.map(ne=>ne.category||"Sem Categoria"))).sort()],[g]),ae=Ne.useMemo(()=>["Todos",...Array.from(new Set(g.map(ne=>ne.status||"Desconhecido"))).sort()],[g]),Me=Ne.useMemo(()=>g.filter(ne=>{const Ue=ne.name.toLowerCase().includes(_.toLowerCase()),we=E==="Todos"||(ne.category||"Sem Categoria")===E,ke=N==="Todos"||(ne.status||"Desconhecido")===N;return Ue&&we&&ke}),[_,E,N,g]),qe=()=>{w("Todos"),R("Todos"),C(""),M(null)},Ye=E!=="Todos"||N!=="Todos",P=ne=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ne),ge=ne=>{W(ne),U(ne.name),j(ne.price.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})),J(ne.category||""),be(ne.status||"Ativo"),D(ne.image||""),K(ne.Codigo||""),pe(!0)},Se=ne=>{var we;const Ue=(we=ne.target.files)==null?void 0:we[0];if(Ue){const ke=new window.Image,bt=new FileReader;bt.onload=xt=>{var Ot;ke.src=typeof((Ot=xt.target)==null?void 0:Ot.result)=="string"?xt.target.result:"",ke.onload=()=>{const et=document.createElement("canvas"),Zn=Math.min(100/ke.width,100/ke.height,1);et.width=ke.width*Zn,et.height=ke.height*Zn;const Lt=et.getContext("2d");if(Lt){Lt.drawImage(ke,0,0,et.width,et.height);const gt=et.toDataURL("image/jpeg",.7);D(gt)}}},bt.readAsDataURL(Ue)}},De=()=>{if(!G)return;const ne={...G,name:se,price:parseFloat(X.replace(".","").replace(",",".")),category:F,status:oe,image:Q,Codigo:ee,syncStatus:"alterado"};Ar("falcon_products_db",ne).then(()=>{y(Ue=>{const we=Ue.findIndex(ke=>ke.id===ne.id);if(we>=0){const ke=[...Ue];return ke[we]=ne,ke}else return[...Ue,ne]}),pe(!1),Re(!0)})},We=()=>{if(!G)return;const ne=g.filter(Ue=>Ue.id!==G.id);so("falcon_products_db").then(()=>{Promise.all(ne.map(Ue=>Ar("falcon_products_db",Ue))).then(()=>{y(ne),pe(!1),Re(!0)})})};return b.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[k&&b.jsx("div",{className:"fixed inset-0 z-10 cursor-default",onClick:()=>M(null)}),b.jsx("header",{className:"flex-shrink-0 bg-surface-light dark:bg-surface-dark/80 backdrop-blur-sm border-b border-border-light dark:border-border-dark",children:b.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex h-16 items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:d,className:"lg:hidden text-text-secondary-light dark:text-text-secondary-dark",children:b.jsx("span",{className:"material-symbols-outlined",children:"menu"})}),b.jsx("h1",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Gerenciamento de Produtos"})]}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("button",{className:"relative text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:[b.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),b.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"})]}),xe!=null&&xe.Avatar?b.jsx("img",{alt:"User avatar",className:"h-8 w-8 rounded-full border border-border-dark",src:xe.Avatar}):b.jsx("div",{className:"h-8 w-8 rounded-full border border-border-dark bg-slate-200 flex items-center justify-center",children:b.jsx("span",{className:"material-symbols-outlined text-lg text-gray-400",children:"image_not_supported"})})]})]})})}),b.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pb-24",children:b.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[b.jsxs("div",{className:"relative flex-1 w-full sm:w-auto",children:[b.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary-light dark:text-text-secondary-dark",children:"search"}),b.jsx("input",{value:_,onChange:ne=>C(ne.target.value),className:"w-full rounded-lg border-border-light dark:border-border-dark bg-white dark:bg-surface-dark pl-10 pr-4 py-2.5 text-slate-800 dark:text-slate-200 focus:ring-2 focus:ring-primary focus:border-primary shadow-sm",placeholder:"Buscar produtos...",type:"text"})]}),b.jsxs("button",{onClick:()=>h("addProduct"),className:"w-full sm:w-auto flex items-center justify-center gap-2 rounded-lg bg-primary px-4 py-2.5 text-white font-semibold shadow-sm hover:bg-blue-600 transition-colors",children:[b.jsx("span",{className:"material-symbols-outlined text-xl",children:"add"}),b.jsx("span",{children:"Novo Produto"})]})]}),b.jsxs("div",{className:"flex flex-wrap items-center gap-4 bg-white dark:bg-surface-dark p-4 rounded-lg border border-border-light dark:border-border-dark shadow-sm",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-300",children:[b.jsx("span",{className:"material-symbols-outlined text-lg",children:"filter_list"}),b.jsx("span",{children:"Filtros Rpidos:"})]}),b.jsx("select",{value:E,onChange:ne=>w(ne.target.value),className:"rounded-md border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-200 text-sm focus:ring-primary focus:border-primary py-1.5 pl-3 pr-8",children:Z.map(ne=>b.jsx("option",{value:ne,children:ne==="Todos"?"Todas Categorias":ne},ne))}),b.jsx("select",{value:N,onChange:ne=>R(ne.target.value),className:"rounded-md border-border-light dark:border-border-dark bg-background-light dark:bg-background-dark text-slate-800 dark:text-slate-200 text-sm focus:ring-primary focus:border-primary py-1.5 pl-3 pr-8",children:ae.map(ne=>b.jsx("option",{value:ne,children:ne==="Todos"?"Todos Status":ne},ne))}),Ye&&b.jsxs("button",{onClick:qe,className:"ml-auto text-sm text-red-500 hover:text-red-600 font-medium flex items-center gap-1",children:[b.jsx("span",{className:"material-symbols-outlined text-base",children:"close"}),"Limpar"]})]}),b.jsx("div",{className:"rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark shadow-sm",children:b.jsx(dp,{style:{height:600},data:Me,components:{Scroller:ne=>b.jsx("div",{...ne,className:"overflow-auto custom-scrollbar"}),Table:ne=>b.jsxs("table",{style:{tableLayout:"fixed"},className:"w-full table-fixed divide-y divide-border-light dark:divide-border-dark relative",...ne,children:[b.jsxs("colgroup",{children:[b.jsx("col",{style:{width:"48px"}}),b.jsx("col",{}),b.jsx("col",{className:"hidden sm:table-column",style:{width:"200px"}}),b.jsx("col",{className:"hidden sm:table-column",style:{width:"120px"}}),b.jsx("col",{style:{width:"120px"}}),b.jsx("col",{style:{width:"48px"}})]}),ne.children]})},fixedHeaderContent:()=>b.jsxs("tr",{className:"bg-gray-50 dark:bg-slate-800/50",children:[b.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left",children:b.jsx("input",{className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary bg-white dark:bg-surface-dark",type:"checkbox"})}),b.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Produto"}),b.jsx("th",{scope:"col",className:"hidden sm:table-cell py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Categoria"}),b.jsx("th",{scope:"col",className:"hidden sm:table-cell py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Status"}),b.jsx("th",{scope:"col",className:"py-3.5 px-3 text-right text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Preo"}),b.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4",children:b.jsx("span",{className:"sr-only",children:"Editar"})})]}),itemContent:(ne,Ue)=>b.jsxs(b.Fragment,{children:[b.jsx("td",{className:"py-4 pl-4 pr-3",children:b.jsx("input",{className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary focus:ring-primary bg-white dark:bg-surface-dark",type:"checkbox"})}),b.jsxs("td",{className:"py-4 px-3 text-sm",children:[b.jsx("div",{className:"font-medium text-slate-900 dark:text-slate-100 truncate",children:Ue.name}),b.jsxs("div",{className:"text-text-secondary-light dark:text-text-secondary-dark text-xs",children:["ID: #",String(Ue.id).padStart(6,"0")]})]}),b.jsx("td",{className:"hidden sm:table-cell whitespace-nowrap py-4 px-3 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:Ue.category||"Sem Categoria"}),b.jsx("td",{className:"hidden sm:table-cell whitespace-nowrap py-4 px-3 text-sm",children:b.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium 
                        ${Ue.status==="Ativo"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":Ue.status==="Rascunho"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300":"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300"}`,children:Ue.status||"Desconhecido"})}),b.jsx("td",{className:"whitespace-nowrap py-4 px-3 text-sm font-medium text-slate-800 dark:text-slate-200 text-right",children:P(Ue.price)}),b.jsx("td",{className:"py-4 pl-3 pr-4 text-right text-sm font-medium",children:b.jsx("button",{className:"text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",onClick:()=>ge(Ue),children:b.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})})})]})})}),b.jsx(El,{isOpen:de,onClose:()=>pe(!1),title:"Editar Produto",footer:b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:We,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700",children:"Excluir"}),b.jsx("button",{onClick:De,className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-lg hover:bg-blue-700",children:"Salvar"})]}),children:b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs("label",{className:"flex flex-col",children:[b.jsx("span",{className:"text-sm font-medium mb-1",children:"Cdigo"}),b.jsx("input",{value:ee,onChange:ne=>K(ne.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",placeholder:"Cdigo do Produto"})]}),b.jsxs("label",{className:"flex flex-col",children:[b.jsx("span",{className:"text-sm font-medium mb-1",children:"Nome"}),b.jsx("input",{value:se,onChange:ne=>U(ne.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary"})]}),b.jsxs("label",{className:"flex flex-col",children:[b.jsx("span",{className:"text-sm font-medium mb-1",children:"Preo"}),b.jsx("input",{value:X,onChange:ne=>j(ne.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",inputMode:"decimal",placeholder:"ex: 1.552,33"})]}),b.jsxs("label",{className:"flex flex-col",children:[b.jsx("span",{className:"text-sm font-medium mb-1",children:"Categoria"}),b.jsx("input",{value:F,onChange:ne=>J(ne.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary"})]}),b.jsxs("label",{className:"flex flex-col",children:[b.jsx("span",{className:"text-sm font-medium mb-1",children:"Status"}),b.jsxs("select",{value:oe,onChange:ne=>be(ne.target.value),className:"rounded-lg border border-border-dark bg-background-light dark:bg-surface-dark text-slate-900 dark:text-white p-3 focus:ring-2 focus:ring-primary focus:border-primary",children:[b.jsx("option",{value:"Ativo",children:"Ativo"}),b.jsx("option",{value:"Rascunho",children:"Rascunho"}),b.jsx("option",{value:"Arquivado",children:"Arquivado"})]})]}),b.jsxs("label",{className:"flex flex-col",children:[b.jsx("span",{className:"text-sm font-medium mb-1",children:"Imagem"}),b.jsx("div",{className:"flex items-center justify-center w-full",children:b.jsxs("label",{htmlFor:"edit-image-upload",className:"flex flex-col items-center justify-center w-full h-24 border-2 border-border-dark border-dashed rounded-xl cursor-pointer bg-surface-dark hover:bg-primary/10 hover:border-primary transition-all group",children:[b.jsxs("div",{className:"flex flex-col items-center justify-center pt-3 pb-3",children:[b.jsx("span",{className:"material-symbols-outlined text-text-secondary-dark text-2xl mb-2 group-hover:text-primary transition-colors",children:"add_photo_alternate"}),b.jsx("p",{className:"mb-1 text-xs text-text-secondary-dark",children:b.jsx("span",{className:"font-semibold",children:"Escolher foto do produto"})}),b.jsx("p",{className:"text-xs text-text-secondary-dark",children:"PNG, JPG ou GIF"})]}),b.jsx("input",{id:"edit-image-upload",type:"file",className:"hidden",accept:"image/*",onChange:Se})]})}),Q&&b.jsx("img",{src:Q,alt:"Preview",className:"h-16 w-16 mt-2 rounded-lg object-cover mx-auto border border-border-dark"})]})]})}),b.jsx(El,{isOpen:me,onClose:()=>Re(!1),title:"Sucesso",footer:b.jsx("button",{onClick:()=>Re(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700",children:"OK"}),children:b.jsxs("div",{className:"flex flex-col items-center text-center",children:[b.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:b.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-2xl",children:"check_circle"})}),b.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Produto salvo com sucesso!"}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"As alteraes foram salvas."})]})})]})})]})},ob=({onOpenSidebar:d,onDeleteOrder:h,onUpdateOrder:g,onEditOrder:y})=>{const E=()=>{const de=new Date,pe=de.getFullYear(),me=String(de.getMonth()+1).padStart(2,"0"),Re=String(de.getDate()).padStart(2,"0");return`${pe}-${me}-${Re}`},[w,N]=Ne.useState(E()),[R,_]=Ne.useState(E()),[C,k]=Ne.useState(""),[M,G]=Ne.useState([]),[W,se]=Ne.useState(null);Le.useEffect(()=>{pn("falcon_user_logged").then(de=>{se(de&&de.length>0?de[0]:null)})},[]);const[U,X]=Ne.useState(!1),[j,F]=Ne.useState(null),[J,oe]=Ne.useState(!1);Le.useEffect(()=>{pn("falcon_orders_db").then(G)},[]);const be=(de,pe)=>{de.stopPropagation(),F(pe),X(!0)},Q=()=>{j&&Vc("falcon_orders_db",j).then(()=>{G(M.filter(de=>de.id!==j)),X(!1),F(null),oe(!0)})},D=de=>{y&&y(de)},ee=de=>{switch(de){case"Entregue":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300";case"Enviado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300";case"Pendente":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300";case"Processando":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/50 dark:text-indigo-300";case"Cancelado":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-300";case"Sincronizado":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},K=M.slice().sort((de,pe)=>Number(pe.id)-Number(de.id)).filter(de=>{if(de.date){const[pe,me,Re]=de.date.split("/"),xe=`${Re}-${me.padStart(2,"0")}-${pe.padStart(2,"0")}`;if(w&&xe<w||R&&xe>R)return!1}return!0});return b.jsxs("div",{className:"flex flex-col h-full bg-background-light dark:bg-background-dark",children:[b.jsx("header",{className:"flex-shrink-0 bg-surface-light dark:bg-surface-dark/80 backdrop-blur-sm border-b border-border-light dark:border-border-dark",children:b.jsx("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex h-16 items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:d,className:"lg:hidden text-text-secondary-light dark:text-text-secondary-dark",children:b.jsx("span",{className:"material-symbols-outlined",children:"menu"})}),b.jsx("h1",{className:"text-lg font-bold text-slate-800 dark:text-slate-200",children:"Lista de Pedidos"})]}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("button",{className:"relative text-text-secondary-light dark:text-text-secondary-dark hover:text-primary transition-colors",children:[b.jsx("span",{className:"material-symbols-outlined",children:"notifications"}),b.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500"})]}),b.jsx("img",{alt:"User avatar",className:"h-8 w-8 rounded-full border border-border-dark",src:(W==null?void 0:W.Avatar)||"https://ui-avatars.com/api/?name=User"})]})]})})}),b.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 pb-24",children:b.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[b.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm border border-border-light dark:border-border-dark",children:[b.jsx("p",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase",children:"Total Pedidos"}),b.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:K.length})]}),b.jsxs("div",{className:"bg-white dark:bg-surface-dark p-4 rounded-lg shadow-sm border border-border-light dark:border-border-dark",children:[b.jsx("p",{className:"text-xs font-medium text-text-secondary-light dark:text-text-secondary-dark uppercase",children:"Receita Total"}),b.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-1",children:Hc(K.reduce((de,pe)=>de+pe.total,0))})]})]}),b.jsxs("div",{className:"flex flex-wrap gap-4 items-center p-4 bg-white dark:bg-surface-dark border-b border-border-light dark:border-border-dark mt-4",children:[b.jsxs("label",{className:"flex flex-col",children:[b.jsx("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Data Inicial"}),b.jsx("input",{type:"date",value:w,onChange:de=>N(de.target.value),className:"rounded-lg border border-border-light dark:border-border-dark p-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-primary focus:border-primary"})]}),b.jsxs("label",{className:"flex flex-col",children:[b.jsx("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 mb-1",children:"Data Final"}),b.jsx("input",{type:"date",value:R,onChange:de=>_(de.target.value),className:"rounded-lg border border-border-light dark:border-border-dark p-2 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-primary focus:border-primary"})]})]}),b.jsx("div",{className:"overflow-hidden rounded-lg border border-border-light dark:border-border-dark bg-white dark:bg-surface-dark shadow-sm",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-border-light dark:divide-border-dark",children:[b.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800/50",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"ID"}),b.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Cliente"}),b.jsx("th",{scope:"col",className:"hidden sm:table-cell py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Data"}),b.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Status"}),b.jsx("th",{scope:"col",className:"py-3.5 px-3 text-left text-sm font-semibold text-slate-900 dark:text-slate-100",children:"Total"}),b.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4",children:b.jsx("span",{className:"sr-only",children:"Aes"})})]})}),b.jsxs("tbody",{className:"divide-y divide-border-light dark:divide-border-dark",children:[K.map(de=>b.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer",onClick:()=>D(de),children:[b.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-primary",children:de.id}),b.jsxs("td",{className:"whitespace-nowrap py-4 px-3 text-sm text-slate-900 dark:text-slate-100",children:[de.customer,b.jsx("div",{className:"text-xs text-text-secondary-light dark:text-text-secondary-dark sm:hidden",children:de.date})]}),b.jsx("td",{className:"hidden sm:table-cell whitespace-nowrap py-4 px-3 text-sm text-text-secondary-light dark:text-text-secondary-dark",children:de.date}),b.jsx("td",{className:"whitespace-nowrap py-4 px-3 text-sm",children:b.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${ee(de.status)}`,children:de.status})}),b.jsx("td",{className:"whitespace-nowrap py-4 px-3 text-sm font-medium text-slate-900 dark:text-slate-100",children:Hc(de.total)}),b.jsx("td",{className:"whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium",children:b.jsxs("div",{className:"flex items-center justify-end gap-2",children:[b.jsx("button",{onClick:pe=>{pe.stopPropagation();const me=` *Pedido #${de.id}*
 Cliente: ${de.customer}
 Total: ${Hc(de.total)}

 *Itens:*
`+(de.items?de.items.map(xe=>` ${xe.name} (${xe.quantity} x ${Hc(xe.price)})`).join(`
`):"")+`
Status: ${de.status}`,Re=`https://wa.me/?text=${encodeURIComponent(me)}`;window.open(Re,"_blank")},className:"text-green-600 hover:text-green-700 p-1 rounded-full hover:bg-green-50 dark:hover:bg-green-900/20",title:"Compartilhar no WhatsApp",children:b.jsx("span",{className:"material-symbols-outlined text-lg",children:"share"})}),b.jsx("button",{onClick:pe=>{pe.stopPropagation(),D(de)},className:"text-primary hover:text-blue-600 p-1 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"Editar",children:b.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),b.jsx("button",{onClick:pe=>be(pe,de.id),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20",title:"Excluir",children:b.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})})]},de.id)),K.length===0&&b.jsx("tr",{children:b.jsx("td",{colSpan:6,className:"py-8 text-center text-text-secondary-light dark:text-text-secondary-dark",children:"Nenhum pedido encontrado."})})]})]})})})]})}),b.jsx(El,{isOpen:U,onClose:()=>X(!1),title:"Excluir Pedido",footer:b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>X(!1),className:"px-4 py-2 text-sm font-medium text-slate-700 dark:text-slate-200 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:"Cancelar"}),b.jsx("button",{onClick:Q,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Excluir"})]}),children:b.jsx("p",{children:"Tem certeza que deseja excluir este pedido? Esta ao no pode ser desfeita."})}),b.jsx(El,{isOpen:J,onClose:()=>oe(!1),title:"Sucesso",footer:b.jsx("button",{onClick:()=>oe(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:b.jsxs("div",{className:"flex flex-col items-center text-center",children:[b.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:b.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-2xl",children:"check_circle"})}),b.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Pedido excludo com sucesso!"}),b.jsx("p",{hidden:!0,className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"As alteraes foram salvas com sucesso."})]})})]})},Hc=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d),cb=localStorage.getItem("apiProtocol")||"https",ub=localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443",fa=`${cb}://${ub}/api`,da=localStorage.getItem("dbName")||"VNETPedidos",ha="vnetapi7474";function Fc(d,h,g){if(d==="Usuarios")return{Id:h.Id,Nome:h.Nome,Email:h.Email,Telefone:h.Telefone||"",Bio:h.Bio||"",Avatar:h.Avatar||""};if(d==="Produtos")return{IDProduto:h.id??"",Nome:h.name??"",Descricao:h.description??"",Preco:h.price??0,Categoria:h.category??"",Status:h.status??"",Imagem:h.image??"",Estoque:h.stock??0};if(d==="Pedidos"){let y="";try{const E=new Date(h.date);isNaN(E.getTime())?y=new Date().toISOString().slice(0,19).replace("T"," "):y=E.toISOString().slice(0,19).replace("T"," ")}catch{y=new Date().toISOString().slice(0,19).replace("T"," ")}return{Cliente:h.customer,Data:y,formaPagamento:h.formaPagamento,id:h.id,ItensCount:h.itemsCount,pedidoId:h.pedidoId,status:h.status,total:h.total,IDUsuario:g.id,Usuario:g.Nome,Endereco:h.address,Cidade:h.city,Cep:h.cep}}return d==="PedidoItens"?{IDPedido:h.pedidoId,IDProduto:h.id,Descricao:h.name,Quantidade:h.quantity,PrecoUnitario:h.price,Total:(h.price??0)*(h.quantity??1)}:h}function fb({onBack:d,onSyncProdutos:h}){const[g,y]=Ne.useState({open:!1,message:"",title:""}),[E,w]=Ne.useState(!1),[N,R]=Ne.useState(!1),[_,C]=Ne.useState(!1),[k,M]=Ne.useState(!1);async function G(){M(!0);try{const X=encodeURIComponent(JSON.stringify([{campo:"Descricao",operador:"like",valor:"%"}])),j=await fetch(`${fa}/Estoque?db=${da}&campos=Codigo,Departamento,Obs,IDProduto,Foto,Descricao,Preco,Inativo,Quantidade&filtros=${X}&code=${ha}`);if(!j.ok)throw new Error(await j.text());const F=await j.json(),J=await pn("falcon_products_db"),oe=F.map(Q=>({id:Q.IDProduto,name:Q.Descricao,description:Q.Obs??"",price:Q.Preco,image:Q.Foto??"",category:Q.Departamento??"",stock:Q.Quantidade??0,status:Q.Inativo===1?"inativo":"ativo",Codigo:Q.Codigo})),be=[...J];oe.forEach(Q=>{const D=be.findIndex(ee=>ee.id===Q.id);D>=0?be[D]={...be[D],...Q}:be.push(Q)}),await so("falcon_products_db"),await Bx("falcon_products_db",be),h&&h(be),y({open:!0,message:`Produtos importados: ${oe.length}. Clique em OK para fechar.`,title:"Importao"})}catch(X){y({open:!0,message:`Erro ao importar produtos: ${X.message}`,title:"Erro"})}M(!1)}async function W(){w(!0);const X=await pn("falcon_users_db");let j=0,F=0,J=[],oe=`Usurios encontrados: ${X.length}
`;for(const be of X)try{const Q=Fc("Usuarios",be);let D=await fetch(`${fa}/Usuarios?db=${da}&code=${ha}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)});if(D.ok)j++;else{const ee=await D.text();if(ee.includes("duplicate key"))if(D=await fetch(`${fa}/Usuarios/${Q.Id}?db=${da}&code=${ha}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)}),D.ok)j++;else throw new Error(await D.text());else throw new Error(ee)}}catch(Q){F++,J.push(`Usuarios: ${Q.message}`)}w(!1),y({open:!0,message:`${oe}Usurios sincronizados: ${j}
Erros: ${F}
${J.join(`
`)}`,title:"Sincronizao"})}async function se(){R(!0);let X=await pn("falcon_products_db"),j=0,F=0,J=[],oe=X.filter(be=>be.syncStatus==="novo"||be.syncStatus==="alterado");for(const be of oe)try{const Q=Fc("Produtos",be);let D=await fetch(`${fa}/Produtos?db=${da}&code=${ha}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)});if(D.ok)j++,be.syncStatus="sincronizado";else{const ee=await D.text();if(ee.includes("duplicate key")||ee.includes("Violation of PRIMARY KEY"))if(D=await fetch(`${fa}/Produtos?db=${da}&campo=IDProduto&valor=${Q.IDProduto}&code=${ha}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)}),D.ok)j++,be.syncStatus="sincronizado";else throw new Error(await D.text());else throw new Error(ee)}}catch(Q){F++,J.push(`Produtos: ${Q.message}`)}localStorage.setItem("falcon_products_db",JSON.stringify(X)),await so("falcon_products_db"),await Promise.all(X.map(be=>Ar("falcon_products_db",be))),R(!1),y({open:!0,message:`Produtos sincronizados: ${j}
Erros: ${F}
${J.join(`
`)}`,title:"Sincronizao"})}async function U(){C(!0);let X=await pn("falcon_orders_db"),j=0,F=0,J=[];const oe=await pn("falcon_user_logged"),be=oe&&oe.length>0?oe[0]:null;let Q=X.filter(D=>D.syncStatus==="novo"||D.syncStatus==="alterado");for(const D of Q)try{const ee=Fc("Pedidos",D,be),K=[{campo:"PedidoId",valor:ee.pedidoId}],de=await fetch(`${fa}/Pedidos?db=${da}&filtros=${encodeURIComponent(JSON.stringify(K))}&code=${ha}`);let pe=!1;if(de.ok)try{const Re=await de.json();pe=Array.isArray(Re)?Re.length>0:!!Re}catch{}let me;if(pe?me=await fetch(`${fa}/Pedidos?db=${da}&filtros=${encodeURIComponent(JSON.stringify(K))}&code=${ha}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)}):me=await fetch(`${fa}/Pedidos?db=${da}&code=${ha}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)}),!me.ok)throw new Error(await me.text());for(const Re of D.items||[]){const xe=Fc("PedidoItens",Re),V=[{campo:"IDPedido",valor:xe.IDPedido},{campo:"IDProduto",valor:xe.IDProduto}],Z=await fetch(`${fa}/PedidoItens?db=${da}&filtros=${encodeURIComponent(JSON.stringify(V))}&code=${ha}`);let ae=!1;if(Z.ok)try{const Me=await Z.json();ae=Array.isArray(Me)?Me.length>0:!!Me}catch{}if(ae){let Me=await fetch(`${fa}/PedidoItens?db=${da}&filtros=${encodeURIComponent(JSON.stringify(V))}&code=${ha}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(xe)});if(!Me.ok)throw new Error(await Me.text())}else{let Me=await fetch(`${fa}/PedidoItens?db=${da}&code=${ha}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(xe)});if(!Me.ok)throw new Error(await Me.text())}}D.syncStatus="sincronizado",D.status="Sincronizado",j++}catch(ee){F++,J.push(`Pedido ${D.id}: ${ee.message}`)}localStorage.setItem("falcon_orders_db",JSON.stringify(X)),await so("falcon_orders_db"),await Promise.all(X.map(D=>Ar("falcon_orders_db",D))),C(!1),y({open:!0,message:`Pedidos sincronizados: ${j}
Erros: ${F}
${J.join(`
`)}`,title:"Sincronizao"})}return b.jsxs("div",{className:"flex flex-col min-h-screen bg-[#181C23] text-white dark:bg-[#181C23] bg-[#F5F6FA] dark:text-white text-[#181C23]",children:[b.jsxs("div",{className:"w-full flex items-center px-6 py-4 border-b border-[#232733] dark:border-border-dark",children:[b.jsx("button",{onClick:d,className:"text-[#181C23] dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-[#232733]/10 dark:hover:bg-white/10 rounded-full","aria-label":"Voltar",children:b.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),b.jsx("h1",{className:"flex-1 text-lg font-bold text-center",children:"Sincronizao de Dados"})]}),b.jsx("div",{className:"flex flex-1 items-center justify-center",children:b.jsxs("div",{className:"grid grid-cols-2 grid-rows-2 gap-6 w-full max-w-xl px-4",children:[b.jsxs("button",{onClick:W,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[b.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${E?" blinking-icon":""}`,children:"person"}),b.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Sincronizar Usurios"})]}),b.jsxs("button",{onClick:se,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[b.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${N?" blinking-icon":""}`,children:"inventory_2"}),b.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Sincronizar Produtos"})]}),b.jsxs("button",{onClick:U,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[b.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${_?" blinking-icon":""}`,children:"assignment"}),b.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Sincronizar Pedidos"})]}),b.jsxs("button",{onClick:G,className:"flex items-center rounded-xl px-6 py-4 w-full min-h-[64px] shadow-sm transition-colors bg-[#F5F6FA] text-[#181C23] dark:bg-[#181C23] dark:text-white hover:bg-[#e4e6ee] dark:hover:bg-[#232733]",children:[b.jsx("span",{className:`material-symbols-outlined text-3xl mr-3 dark:text-white text-[#181C23]${k?" blinking-icon":""}`,children:"cloud_download"}),b.jsx("span",{className:"text-base font-medium dark:text-white text-[#181C23]",children:"Importar Produtos do Servidor"})]})]})}),b.jsxs(El,{isOpen:g.open,onClose:()=>y({...g,open:!1}),title:g.title||"Sincronizao",children:[b.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:g.message}),b.jsx("div",{className:"flex justify-end mt-4",children:b.jsx("button",{className:"px-4 py-2 bg-primary text-white rounded",onClick:()=>y({...g,open:!1}),children:"OK"})})]})]})}const db="modulepreload",hb=function(d){return"/pedido/"+d},Rx={},Dx=function(h,g,y){let E=Promise.resolve();if(g&&g.length>0){let N=function(C){return Promise.all(C.map(k=>Promise.resolve(k).then(M=>({status:"fulfilled",value:M}),M=>({status:"rejected",reason:M}))))};document.getElementsByTagName("link");const R=document.querySelector("meta[property=csp-nonce]"),_=(R==null?void 0:R.nonce)||(R==null?void 0:R.getAttribute("nonce"));E=N(g.map(C=>{if(C=hb(C),C in Rx)return;Rx[C]=!0;const k=C.endsWith(".css"),M=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${M}`))return;const G=document.createElement("link");if(G.rel=k?"stylesheet":db,k||(G.as="script"),G.crossOrigin="",G.href=C,_&&G.setAttribute("nonce",_),document.head.appendChild(G),k)return new Promise((W,se)=>{G.addEventListener("load",W),G.addEventListener("error",()=>se(new Error(`Unable to preload CSS for ${C}`)))})}))}function w(N){const R=new Event("vite:preloadError",{cancelable:!0});if(R.payload=N,window.dispatchEvent(R),!R.defaultPrevented)throw N}return E.then(N=>{for(const R of N||[])R.status==="rejected"&&w(R.reason);return h().catch(w)})};function xb({onBack:d,setOrders:h}){const[g,y]=Ne.useState(localStorage.getItem("dbName")||"VNETPedidos"),[E,w]=Ne.useState(localStorage.getItem("apiProtocol")||"https"),[N,R]=Ne.useState(localStorage.getItem("apiDomain")||"www.vnetpb.com.br:443"),[_,C]=Ne.useState({open:!1,message:"",title:""});function k(j){y(j.target.value)}function M(){localStorage.setItem("dbName",g),C({open:!0,message:`Nome do banco salvo: ${g}`,title:"Configurao"})}function G(j){w(j.target.value),localStorage.setItem("apiProtocol",j.target.value),C({open:!0,message:`Protocolo salvo: ${j.target.value}`,title:"Configurao"})}function W(j){R(j.target.value)}function se(){localStorage.setItem("apiDomain",N),C({open:!0,message:`Domnio salvo: ${N}`,title:"Configurao"})}async function U(){await Dx(async()=>{const{clearStore:j}=await Promise.resolve().then(()=>Zh);return{clearStore:j}},void 0).then(({clearStore:j})=>j("falcon_orders_db")),C({open:!0,message:"Todos os pedidos locais foram excludos.",title:"Limpeza"}),h&&h([])}async function X(){await Dx(async()=>{const{clearStore:j}=await Promise.resolve().then(()=>Zh);return{clearStore:j}},void 0).then(({clearStore:j})=>j("falcon_products_db")),C({open:!0,message:"Todos os produtos locais foram excludos.",title:"Limpeza"})}return b.jsxs("div",{className:"flex flex-col min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-white",children:[b.jsxs("div",{className:"flex items-center gap-2 px-4 pt-6 pb-2",children:[d&&b.jsx("button",{onClick:d,className:"text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-center hover:bg-black/5 dark:hover:bg-white/10 rounded-full","aria-label":"Voltar",children:b.jsx("span",{className:"material-symbols-outlined text-3xl",children:"arrow_back_ios_new"})}),b.jsx("h1",{className:"flex-1 text-2xl font-bold text-center",children:"Configuraes do Sistema"})]}),b.jsx("div",{className:"flex flex-col items-center justify-center flex-1 px-4 pb-8",children:b.jsxs("div",{className:"w-full max-w-md bg-surface-light dark:bg-surface-dark rounded-xl shadow p-6 flex flex-col gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"font-semibold block mb-2",children:"Nome do banco de dados:"}),b.jsx("input",{type:"text",value:g,onChange:k,className:"rounded px-3 py-2 w-full text-black dark:text-white bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark"}),b.jsx("button",{onClick:M,className:"mt-4 w-full bg-primary rounded-lg py-2 px-6 font-semibold text-white hover:bg-blue-600",children:"Salvar Nome do Banco"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"font-semibold block mb-2",children:"Protocolo da API:"}),b.jsxs("select",{value:E,onChange:G,className:"rounded px-3 py-2 w-full text-black dark:text-white bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark",children:[b.jsx("option",{value:"https",children:"HTTPS"}),b.jsx("option",{value:"http",children:"HTTP"})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{className:"font-semibold block mb-2",children:"Domnio da API:"}),b.jsx("input",{type:"text",value:N,onChange:W,className:"rounded px-3 py-2 w-full text-black dark:text-white bg-white dark:bg-surface-dark border border-border-light dark:border-border-dark"}),b.jsx("button",{onClick:se,className:"mt-2 w-full bg-primary rounded-lg py-2 px-6 font-semibold text-white hover:bg-blue-600",children:"Salvar Domnio"})]}),b.jsx("hr",{className:"my-2 border-border-dark"}),b.jsx("button",{onClick:U,className:"w-full bg-red-600 rounded-lg py-2 px-6 font-semibold text-white hover:bg-red-800",children:"Excluir Todos os Pedidos Locais"}),b.jsx("button",{onClick:X,className:"w-full bg-red-600 rounded-lg py-2 px-6 font-semibold text-white hover:bg-red-800",children:"Excluir Todos os Produtos Locais"})]})}),_.open&&b.jsx(El,{isOpen:_.open,onClose:()=>{C({..._,open:!1}),_.message.includes("Pedidos locais foram excludos")&&d&&d()},title:_.title,footer:b.jsx("button",{onClick:()=>{C({..._,open:!1}),_.message.includes("Pedidos locais foram excludos")&&d&&d()},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:b.jsxs("div",{className:"flex flex-col items-center text-center",children:[b.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:b.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400 text-2xl",children:"delete"})}),b.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:_.message})]})})]})}const gb=()=>{const[d,h]=Ne.useState("login"),[g,y]=Ne.useState(!0),[E,w]=Ne.useState([]);Ne.useEffect(()=>{pn("falcon_products_db").then(w)},[]),Ne.useEffect(()=>{(async()=>{try{const V=await pn("falcon_user_logged");V&&V.length>0?h("productList"):h("login")}catch{h("login")}finally{y(!1)}})()},[]);const[N,R]=Ne.useState(!1),[_,C]=Ne.useState([]),[k,M]=Ne.useState([]),[G,W]=Ne.useState(!1),[se,U]=Ne.useState(!1),[X,j]=Ne.useState(localStorage.getItem("falcon_theme")||"light"),[F,J]=Ne.useState(null);Ne.useEffect(()=>{document.documentElement.classList.toggle("dark",X==="dark"),localStorage.setItem("falcon_theme",X)},[X]),Ne.useEffect(()=>{(async()=>{W(!0);try{const V=await pn("falcon_orders_db");M(V)}catch(V){console.error("Failed to load orders",V)}finally{W(!1)}})()},[]);const oe=Ne.useCallback(xe=>{C(V=>V.find(ae=>ae.id===xe.id)?V.map(ae=>ae.id===xe.id?{...ae,quantity:ae.quantity+1}:ae):[...V,{...xe,quantity:1}])},[]),be=Ne.useCallback((xe,V)=>{C(Z=>Z.map(ae=>{if(ae.id===xe){const Me=Math.max(0,ae.quantity+V);return{...ae,quantity:Me}}return ae}).filter(ae=>ae.quantity>0))},[]),Q=xe=>{J(xe),C(xe.items||[]),h("shop")},D=async xe=>{if(F){const V=_.reduce((ae,Me)=>ae+Me.price*Me.quantity,0),Z={...F,customer:xe.customer,address:xe.address,city:xe.city,cep:xe.cep,formaPagamento:xe.paymentMethod,items:_.map(ae=>({...ae,pedidoId:F.pedidoId||F.id,syncStatus:"alterado"})),total:V,itemsCount:_.reduce((ae,Me)=>ae+Me.quantity,0),status:"Pendente",syncStatus:"alterado"};await de(Z),J(null),C([]),h("orderList"),U(!0)}else{const V=await pn("falcon_orders_db"),Z=V.length>0?Math.max(...V.map(Se=>Number(Se.id)||0)):0,ae=String(Z+1),Me="PED-"+Date.now().toString(),qe=_.reduce((Se,De)=>Se+De.price*De.quantity,0),Ye=await pn("falcon_user_logged"),P=Ye&&Ye.length>0?Ye[0].id:1,ge={id:ae,pedidoId:Me,customer:xe.customer,address:xe.address,city:xe.city,cep:xe.cep,date:new Date().toLocaleDateString("pt-BR"),total:Number(qe),status:"Pendente",itemsCount:Number(_.reduce((Se,De)=>Se+De.quantity,0)),usuarioId:P?String(P):void 0,formaPagamento:xe.paymentMethod,items:_.map(Se=>({...Se,pedidoId:Me,syncStatus:"novo"})),syncStatus:"novo"};await ee(ge)}},ee=async xe=>{try{await Ar("falcon_orders_db",xe);const V=await pn("falcon_orders_db");M(V),C([]),h("orderList"),U(!0)}catch(V){console.error("Failed to save order",V)}},K=async xe=>{const V=[...k];M(Z=>Z.filter(ae=>ae.id!==xe));try{await Vc("falcon_orders_db",xe);const Z=await pn("falcon_orders_db");M(Z)}catch(Z){console.error("Failed to delete order",Z),M(V),alert("Erro ao excluir pedido.")}},de=async xe=>{const V={...xe,syncStatus:"alterado"};try{await Ar("falcon_orders_db",V);const Z=await pn("falcon_orders_db");M(Z)}catch(Z){console.error("Failed to update order",Z),alert("Erro ao atualizar pedido.")}},pe=Ne.useCallback(xe=>{xe==="login"&&pn("falcon_user_logged").then(V=>{V&&V.length>0&&V.forEach(Z=>Vc("falcon_user_logged",Z.id))}),xe==="orderList"&&(J(null),C([])),h(xe),R(!1),window.scrollTo(0,0)},[]),me={isSidebarOpen:N,setIsSidebarOpen:R,onNavigate:pe,currentScreen:d,theme:X,setTheme:j},Re=()=>{if(g)return b.jsx("div",{style:{color:"white",textAlign:"center",marginTop:40},children:"Carregando..."});switch(d){case"login":return b.jsx(Qh,{onNavigate:pe});case"register":return b.jsx(Gm,{onNavigate:pe});case"productList":return b.jsx(Oa,{...me,children:b.jsx(eb,{onOpenSidebar:()=>R(!0),onNavigate:pe,addToCart:oe,cartItemCount:_.reduce((xe,V)=>xe+V.quantity,0),products:E})});case"shop":return b.jsx(Oa,{...me,children:b.jsx(tb,{cart:_,updateQuantity:be,onNavigate:pe,onBack:()=>pe("productList"),onCancel:()=>pe("orderList"),editingOrder:F})});case"checkout":return b.jsx(Oa,{...me,children:b.jsx(nb,{cart:_,onBack:()=>pe("shop"),onComplete:D,editingOrder:F})});case"inbox":return b.jsx(Oa,{...me,showBottomNav:!1,children:b.jsx(ab,{onOpenSidebar:()=>R(!0)})});case"addProduct":return b.jsx(Oa,{...me,children:b.jsx(ib,{onBack:()=>pe("productList"),onProductAdded:xe=>w(V=>[xe,...V])})});case"profile":return b.jsx(Oa,{...me,children:b.jsx(lb,{onBack:()=>pe("productList")})});case"productTable":return b.jsx(Oa,{...me,children:b.jsx(sb,{onOpenSidebar:()=>R(!0),onNavigate:pe,products:E})});case"orderList":return b.jsx(Oa,{...me,children:b.jsx(ob,{onOpenSidebar:()=>R(!0),orders:k,onDeleteOrder:K,onUpdateOrder:de,onEditOrder:Q})});case"sync":return b.jsx(Oa,{...me,showBottomNav:!1,children:b.jsx(fb,{onBack:()=>{pn("falcon_orders_db").then(M),pe("productList")},onSyncProdutos:w})});case"config":return b.jsx(Oa,{...me,showBottomNav:!1,children:b.jsx(xb,{onBack:()=>pe("productList"),setOrders:M})});default:return b.jsx(Qh,{onNavigate:pe})}};return b.jsxs(b.Fragment,{children:[Re(),b.jsx(El,{isOpen:se,onClose:()=>U(!1),title:"Sucesso",footer:b.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"OK"}),children:b.jsxs("div",{className:"flex flex-col items-center text-center",children:[b.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:b.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400 text-2xl",children:"check_circle"})}),b.jsx("p",{className:"text-lg font-medium text-slate-900 dark:text-white",children:"Pedido realizado com sucesso!"}),b.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Seu pedido foi processado e logo ser enviado."})]})})]})},hg=document.getElementById("root");if(!hg)throw new Error("Could not find root element to mount to");const mb=Fm.createRoot(hg);mb.render(b.jsx(Le.StrictMode,{children:b.jsx(gb,{})}));
